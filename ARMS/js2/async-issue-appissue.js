try{window.performance.mark("async-issue-app~issue.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-issue-app~issue"],{"./src/packages/issue-table/src/model/fields/json-fields/custom-fields/types.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a}));var r="ONGOING",o="COMPLETED",i="PAUSED",s="com.atlassian.servicedesk:sd-sla-field",a="com.atlassian.jira.plugins.service-entity:service-entity-field-cftype"},"./src/packages/issue/epic-color/src/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return w}));var r,o,i=n("./node_modules/lodash/invert.js"),s=n.n(i),a=n("./node_modules/@atlaskit/theme/index.js"),c="PURPLE",u={PURPLE:c,DARK_PURPLE:"DARK_PURPLE",BLUE:"BLUE",DARK_BLUE:"DARK_BLUE",GREEN:"GREEN",DARK_GREEN:"DARK_GREEN",TEAL:"TEAL",DARK_TEAL:"DARK_TEAL",YELLOW:"YELLOW",DARK_YELLOW:"DARK_YELLOW",ORANGE:"ORANGE",DARK_ORANGE:"DARK_ORANGE",GREY:"GREY",DARK_GREY:"DARK_GREY"};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(l(r={},c,a.colors.P200),l(r,"BLUE",a.colors.B200),l(r,"GREEN",a.colors.G200),l(r,"TEAL",a.colors.T200),l(r,"YELLOW",a.colors.Y200),l(r,"ORANGE",a.colors.R200),l(r,"GREY",a.colors.N200),l(r,"DARK_PURPLE",a.colors.P400),l(r,"DARK_BLUE",a.colors.B400),l(r,"DARK_GREEN",a.colors.G400),l(r,"DARK_TEAL",a.colors.T400),l(r,"DARK_YELLOW",a.colors.Y400),l(r,"DARK_ORANGE",a.colors.R400),l(r,"DARK_GREY",a.colors.N700),r),d={purple:c,dark_purple:"DARK_PURPLE",blue:"BLUE",dark_blue:"DARK_BLUE",green:"GREEN",dark_green:"DARK_GREEN",teal:"TEAL",dark_teal:"DARK_TEAL",yellow:"YELLOW",dark_yellow:"DARK_YELLOW",orange:"ORANGE",dark_orange:"DARK_ORANGE",grey:"GREY",dark_grey:"DARK_GREY"},p={"ghx-label-1":"DARK_GREY","ghx-label-2":"DARK_YELLOW","ghx-label-3":"YELLOW","ghx-label-4":"DARK_BLUE","ghx-label-5":"DARK_TEAL","ghx-label-6":"GREEN","ghx-label-7":c,"ghx-label-8":"DARK_PURPLE","ghx-label-9":"ORANGE","ghx-label-10":"BLUE","ghx-label-11":"TEAL","ghx-label-12":"GREY","ghx-label-13":"DARK_GREEN","ghx-label-14":"DARK_ORANGE"},m=s()(d),y=s()(p),b=(l(o={},c,{primary:a.colors.P200,secondary:a.colors.P500,text:a.colors.P500,textBackground:a.colors.P50,border:a.colors.P400,line:a.colors.P300,primaryGradient:a.colors.P75,hasContrastSecondaryGradient:!0}),l(o,"BLUE",{primary:a.colors.B200,secondary:a.colors.B500,text:a.colors.B500,textBackground:a.colors.B50,border:a.colors.B400,line:a.colors.B300,primaryGradient:a.colors.B75,hasContrastSecondaryGradient:!0}),l(o,"GREEN",{primary:a.colors.G200,secondary:a.colors.G500,text:a.colors.G500,textBackground:a.colors.G50,border:a.colors.G400,line:a.colors.G300,primaryGradient:a.colors.G75,hasContrastSecondaryGradient:!0}),l(o,"TEAL",{primary:a.colors.T200,secondary:a.colors.T500,text:a.colors.T500,textBackground:a.colors.T50,border:a.colors.T400,line:a.colors.T300,primaryGradient:a.colors.T75,hasContrastSecondaryGradient:!0}),l(o,"YELLOW",{primary:a.colors.Y200,secondary:a.colors.Y500,text:a.colors.Y500,textBackground:a.colors.Y50,border:a.colors.Y400,line:a.colors.Y300,primaryGradient:a.colors.Y75,hasContrastSecondaryGradient:!0}),l(o,"ORANGE",{primary:a.colors.R200,secondary:a.colors.R500,text:a.colors.R500,textBackground:a.colors.R50,border:a.colors.R400,line:a.colors.R300,primaryGradient:a.colors.R75,hasContrastSecondaryGradient:!0}),l(o,"GREY",{primary:a.colors.N200,secondary:a.colors.N500,text:a.colors.N500,textBackground:a.colors.N30,border:a.colors.N700,line:a.colors.N500,primaryGradient:a.colors.N50,hasContrastSecondaryGradient:!0}),l(o,"DARK_PURPLE",{primary:a.colors.P400,secondary:a.colors.P200,text:a.colors.N0,textBackground:a.colors.P400,border:a.colors.P100,line:a.colors.P300,primaryGradient:a.colors.P100,hasContrastSecondaryGradient:!1}),l(o,"DARK_BLUE",{primary:a.colors.B400,secondary:a.colors.B200,text:a.colors.N0,textBackground:a.colors.B400,border:a.colors.B200,line:a.colors.B100,primaryGradient:a.colors.B100,hasContrastSecondaryGradient:!1}),l(o,"DARK_GREEN",{primary:a.colors.G400,secondary:a.colors.G200,text:a.colors.N0,textBackground:a.colors.G400,border:a.colors.G200,line:a.colors.G300,primaryGradient:a.colors.G200,hasContrastSecondaryGradient:!1}),l(o,"DARK_TEAL",{primary:a.colors.T400,secondary:a.colors.T200,text:a.colors.N0,textBackground:a.colors.T400,border:a.colors.T200,line:a.colors.T300,primaryGradient:a.colors.T100,hasContrastSecondaryGradient:!1}),l(o,"DARK_YELLOW",{primary:a.colors.Y400,secondary:a.colors.Y200,text:a.colors.N0,textBackground:a.colors.Y400,border:a.colors.Y200,line:a.colors.Y300,primaryGradient:a.colors.Y100,hasContrastSecondaryGradient:!1}),l(o,"DARK_ORANGE",{primary:a.colors.R400,secondary:a.colors.R200,text:a.colors.N0,textBackground:a.colors.R400,border:a.colors.R100,line:a.colors.R300,primaryGradient:a.colors.R100,hasContrastSecondaryGradient:!1}),l(o,"DARK_GREY",{primary:a.colors.N700,secondary:a.colors.N300,text:a.colors.N0,textBackground:a.colors.N500,border:a.colors.N100,line:a.colors.N500,primaryGradient:a.colors.N100,hasContrastSecondaryGradient:!1}),o);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e,t){var n=v(v({},b),t);return(t?Object.keys(t).concat(Object.keys(u)):Object.keys(u)).reduce((function(t,r){return v(v({},t),{},h({},r,e(n[r])))}),{})},j=function(e){return f[e]||f[c]},w=function(e){return s()(f)[e]||c},E=function(e){return""!==e&&null!=e&&d[e]?d[e]:c},k=function(e){return m[e]},S=function(e){return""!==e&&null!=e&&p[e]?p[e]:c},I=function(e){return y[e]}},"./src/packages/issue/fields/assignee/src/common/ui/assignee-avatar/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),s=function(e){var t=e.url,n=e.name;return t?o.a.createElement(i.a,{size:"small",src:t,name:n}):o.a.createElement(i.a,{size:"small",name:n})}},"./src/packages/issue/fields/classic-story-point/src/messages.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(r.defineMessages)({errorTitle:{id:"issue-field-classic-story-point.error-title",defaultMessage:"We couldn't set the story point value"},errorMessage:{id:"issue-field-classic-story-point.error-message",defaultMessage:"Check your connection, then give it another try."},negativeNumbersNotAllowed:{id:"issue-field-classic-story-point.negative-numbers-not-allowed",defaultMessage:"Time for some positivity. Story point estimates can't be negative."}})},"./src/packages/issue/fields/classic-story-point/src/services/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/lodash/get.js"),o=n.n(r),i=n("./node_modules/query-string/index.js"),s=n("./src/packages/platform/utils/fetch/src/index.js"),a=n("./src/packages/platform/utils/types/src/index.js"),c=n("./src/packages/issue/fields/field-base/src/services/field-config-service/main.js"),u=n("./src/packages/issue/fields/field-base/src/services/edit-field-service/main.js"),l=n("./src/packages/platform/utils/xsrf-token/src/index.js"),f=n("./src/packages/issue/fields/classic-story-point/src/messages.js");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var b=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){y(i,r,o,s,a,"next",e)}function a(e){y(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==r&&r<0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error(f.a.negativeNumbersNotAllowed.id)));case 2:return e.abrupt("return",Object(s.i)("".concat(o,"/secure/AjaxIssueAction.jspa?decorator=none"),{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(i.stringify)((a={},m(a,n,r),m(a,"issueId",t),m(a,"skipScreenCheck",!0),m(a,"atl_token",Object(l.a)()),m(a,"singleFieldEdit",!0),a))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),g=function(e){var t=e.issueKey,n=e.issueId,r=e.fieldKey,i=d(Object(c.a)(t,r),1)[0],s=o()(i,"schema.type","number"),l=d(Object(u.a)({fieldKey:r,issueKey:t,fieldType:s,initialValue:null,saveField:function(e,t,o,i){return b(Object(a.toIssueKey)(n.toString()),r,o,i)}}),2),f=l[0],p=f.value,m=f.error,y=l[1];return[{value:p,error:m,fieldConfig:i},{saveValue:y.saveValue,resetError:y.resetError}]}},"./src/packages/issue/fields/classic-story-point/src/ui/main.js":function(e,t,n){"use strict";n.r(t),n.d(t,"actionSubject",(function(){return S})),n.d(t,"ClassicStoryPointEditView",(function(){return I}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/get.js"),s=n.n(i),a=n("./src/packages/platform/utils/types/src/index.js"),c=n("./src/packages/issue/fields/components/error-flag/src/index.js"),u=n("./src/packages/issue/fields/components/inline-edit/src/index.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),f=n("./src/packages/issue/fields/classic-story-point/src/messages.js"),d=n("./src/packages/issue/fields/classic-story-point/src/services/index.js"),p=n("./node_modules/@atlaskit/field-text/FieldTextStateless.js"),m=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),b=m.default.div(["width:","px;cursor:auto;"],8.5*y.f);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=Object(r.memo)((function(e){var t=e.isInvalid,n=void 0!==t&&t,r=e.type,i=e.defaultValue,s=v(e,["isInvalid","type","defaultValue"]),a=null===i?"":i;return o.a.createElement(b,null,o.a.createElement(p.a,g({appearance:"subtle",autoFocus:!0,compact:!0,isLabelHidden:!0,isInvalid:n,shouldFitContainer:!0,type:r,value:a},s)))})),O=n("./src/packages/issue/fields/classic-story-point/src/ui/view/index.js");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var S="numberInlineEdit",I=Object(r.memo)((function(e){var t=e.fieldKey,n=e.issueKey,i=e.issueId,p=e.onCancel,m=e.onEdit,y=e.onEscape,b=e.onConfirm,g=e.onEnter,v=e.readView,E=e.editView,I=e.noValueText,C=k(e,["fieldKey","issueKey","issueId","onCancel","onEdit","onEscape","onConfirm","onEnter","readView","editView","noValueText"]),P=w(Object(d.a)({issueKey:Object(a.toIssueKey)(n),issueId:i&&Object(a.toIssueId)(i),fieldKey:t}),2),_=P[0],x=_.value,T=_.error,A=_.fieldConfig,D=P[1],R=D.saveValue,M=D.resetError,L=s()(A,"schema.type","number"),N=w(Object(r.useState)(!1),2),F=N[0],U=N[1],V=w(Object(r.useState)(x),2),K=V[0],B=V[1],W=!!A&&A.isEditable;Object(r.useEffect)((function(){T&&U(!0)}),[T]);var H=Object(r.useCallback)((function(e){K!==x&&R(K,null,e),U(!1),Object(l.u)(e)}),[R,K,x]),G=Object(r.useCallback)((function(e){M(),U(!1),B(x),Object(l.u)(e)}),[M,x]),q=Object(r.useCallback)((function(e){G(e),p&&p(e)}),[p,G]),z=Object(r.useCallback)((function(e){H(e),b&&b(e)}),[b,H]),Y=Object(r.useCallback)((function(e){U(!0),Object(l.u)(e),m&&m(e)}),[m]),Q=Object(r.useCallback)((function(e){G(e),y&&y(e)}),[y,G]),J=Object(r.useCallback)((function(e){H(e),g&&g(e)}),[g,H]),$=Object(r.useCallback)((function(e){M();var t=""===e.target.value?null:Number(e.target.value);B(t)}),[M,B]);return o.a.createElement(o.a.Fragment,null,T&&function(){if(!T)return null;var e=T.message===f.a.negativeNumbersNotAllowed.id?f.a.negativeNumbersNotAllowed:f.a.errorMessage;return(o.a.createElement(c.a,{error:T,title:f.a.errorTitle,description:e}))}(),o.a.createElement(u.a,j({actionSubject:S,isEditable:W,isEditing:F,readView:function(){return void 0!==v?v:o.a.createElement(O.a,{isEditable:W,value:x,noValueText:I})}(),editView:W?function(){return void 0!==E?E:o.a.createElement(h,{defaultValue:K,onChange:$,type:L,isInvalid:!!T})}():null,onCancel:q,onConfirm:z,onEdit:Y,onEscape:Q,onEnter:J},C)))}))},"./src/packages/issue/fields/classic-story-point/src/ui/view/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/badge--current/components/index.js"),s=n("./src/packages/issue/issue-view/src/common/styles/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./node_modules/@atlaskit/theme/index.js"),u=a.default.div(["cursor:pointer;&:hover > span{color:",";background-color:",";}"],c.colors.N800,c.colors.N90),l=function(e){var t=e.isEditable,n=e.noValueText,r=e.value,a={min:-1*Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER};if(null===r)return o.a.createElement(s.c,null,n);var c=o.a.createElement(i.a,a,r);return t?o.a.createElement(u,null,c):c}},"./src/packages/issue/fields/components/error-flag/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/utils/fetch/src/index.js"),s=n("./src/packages/platform/ui/flags/src/index.js"),a=function(e){var t=e.error,n=e.title,r=e.description;if(!t)return null;if(t instanceof i.b){var a=t.message||t.errors&&t.errors[0]&&t.errors[0].error||r;return(o.a.createElement(s.FlagRenderer,{flag:{type:"warning",title:n,description:a}}))}return(o.a.createElement(s.FlagRenderer,{flag:{type:"error",title:n,description:r}}))};a.displayName="ErrorFlag"},"./src/packages/issue/fields/components/field-heading/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=n("./src/packages/issue/issue-view/src/feature-flags.js"),a=33.33,c=Object(r.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),u=r.default.div(["display:flex;flex-wrap:wrap;margin-bottom:","px;"],1.5*i.f),l=Object(r.css)(["flex-grow:1;box-sizing:border-box;margin-top:","px;padding-right:","px;min-width:","px;width:","%;"],i.f,i.f,15*i.f,a),f=Object(r.css)(["margin-bottom:","px !important;display:flex;align-items:center;justify-content:space-between;"],.5*i.f),d=r.default.div(["",""],(function(){return Object(s.isSideBySideLabelsAndFieldsEnabled)()?l:f})),p=r.default.h2([""," ",";color:",";"],(function(){return Object(s.isSideBySideLabelsAndFieldsEnabled)()?"box-sizing: border-box;":"".concat(c)}),o.typography.h200(),o.colors.N800);i.f,i.f},"./src/packages/issue/fields/components/inline-edit/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/inline-edit--current/dist/esm/InlineEditStateless.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),a=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(a.a)("EnterEscapeHandler",{onEnter:"entered",onEscape:"escaped"})(s.a),f=function(e){var t=e.actionSubject,n=e.isEditable,s=e.isEditing,a=void 0!==s&&s,f=e.readView,d=void 0===f?null:f,p=e.editView,m=void 0===p?null:p,y=e.onEnter,b=e.onEscape,g=e.onConfirm,v=e.onCancel,h=e.onEdit,O=u(e,["actionSubject","isEditable","isEditing","readView","editView","onEnter","onEscape","onConfirm","onCancel","onEdit"]),j=Object(r.useCallback)((function(e,n){return e.update({action:n,actionSubject:t})}),[t]),w=Object(r.useCallback)((function(e,t){y&&y(j(t,"entered"))}),[y,j]),E=Object(r.useCallback)((function(e,t){b&&b(j(t,"escaped"))}),[b,j]),k=Object(r.useCallback)((function(e){h&&h(j(e,"focused"))}),[h,j]),S=Object(r.useCallback)((function(e){g&&g(j(e,"confirmed"))}),[g,j]),I=Object(r.useCallback)((function(e){v&&v(j(e,"canceled"))}),[v,j]);return o.a.createElement(l,{onEscape:E,onEnter:w},o.a.createElement(i.a,c({label:"",isEditing:a,readView:d,editView:n?m:null,onConfirm:S,onCancel:I,onEditRequested:k},O)))};f.displayName="FieldInlineEditStateLess",f.defaultProps={actionSubject:"fieldInlineEdit",disableEditViewFieldBase:!0,isEditable:!1,isEditing:!1,isConfirmOnBlurDisabled:!1,isCompact:!0,isLabelHidden:!0,shouldConfirmOnEnter:!0};var d=Object(r.memo)(f)},"./src/packages/issue/fields/components/user-picker/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/debounce.js"),s=n.n(i),a=n("./node_modules/lodash/noop.js"),c=n.n(a),u=n("./node_modules/@atlaskit/user-picker/components/UserPicker.js"),l=n("./src/packages/platform/ui/mocks-assets-collection/src/index.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=[{id:"wongben",name:"Ben Wong",avatarUrl:l.b.puppy1},{id:"bhaswell",name:"Blake Haswell",avatarUrl:l.b.puppy2,displayName:"The original one"},{id:"tian",name:"Tian Pu",avatarUrl:l.b.puppy3},{id:"dkerris",name:"Daniel Kerris",avatarUrl:l.b.puppy4},{id:"dtang",name:"David Tang",avatarUrl:l.b.buckleyCaffeinating},{id:"cfletcher",name:"Cameron Fletcher",avatarUrl:l.b.buckleyClassy},{id:"bhaswell2",name:"Blake Has-unwell",avatarUrl:l.b.buckleyCoding},{id:"bhaswell3",name:"Blake Hasnotwell",avatarUrl:l.b.buckleyListening},{id:"bhaswell4",name:"Blake Hamwell",avatarUrl:l.a.kitten1},{id:"bhaswell5",name:"Blake Hamsell",avatarUrl:l.a.kitten2},{id:"bhaswell6",name:"Blake HasAReallyLongLastNameWhichTakesALotOfSpace",avatarUrl:l.a.kitten3},{id:"bhaswell7",name:"BLAKE HAS CAPITAL LETTERS IN HIS NAME",avatarUrl:l.a.kitten4}],y=(d(d({},m[0]),{displayName:"Assign to me"}),n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js")),b=function(){return Object(y.b)("issue.details.smarts.userpicker-frontend-filter-enabled",!1)};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x={id:"USER_PICKER_EMPTY",name:""},T=function(e,t){return null!=e&&(null==t||""===t||e.toLowerCase().includes(t.toLowerCase()))},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,e);var t=C(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={suggestions:[],isDropdownVisible:!0,wasFocused:!1,isLoading:!1,wasCleared:!1,wasQueryCleared:!1,query:null},e.wasUnmounted=!1,e.onChange=function(t){if(t&&!Array.isArray(t)&&!e.isCurrentValue(t)){var n=t.id,r=e.props.initialOptions.find((function(e){return e.id===n}));r?e.props.onChange(r.id?r:null):"USER_PICKER_EMPTY"===n?e.props.onChange(null):e.props.onChange(t)}},e.onSuggestionSelect=function(t,n){e.setState({suggestions:[],wasFocused:!1,isLoading:!1,wasCleared:!1,wasQueryCleared:!1}),e.onChange(Array.isArray(t)?null:t),e.props.onSelection(n)},e.onBlur=function(){e.setState({suggestions:[],isDropdownVisible:!1,wasFocused:!1,isLoading:!1,wasQueryCleared:!1}),e.state.wasCleared?e.onSuggestionSelect(x):e.props.onCancel()},e.onFocus=function(t){e.setState({isDropdownVisible:!0,isLoading:!0,wasFocused:!0,wasCleared:!1}),e.requestSuggestions(t)},e.onQueryChange=function(t,n){e.setState({wasFocused:!1,isLoading:!0,query:t||"",wasQueryCleared:!t}),e.debouncedRequestSuggestion(n)},e.onClear=function(){e.setState({wasCleared:!0}),e.onChange(x)},e.getEmptyValue=function(){return e.props.emptyOption?w(w({},e.props.emptyOption),{},{id:"USER_PICKER_EMPTY"}):null},e.getInitialAndEmptyOptionSuggestions=function(){var t=e.props,n=t.initialOptions,r=t.emptyOption,o=e.state,i=o.wasFocused,s=o.wasQueryCleared,a=i&&n.length>0,c=r&&!a&&s,u=e.getEmptyValue(),l=c&&u?[u]:[];return[].concat(h(a?n:[]),l)},e.debouncedRequestSuggestion=s()((function(t){return e.requestSuggestions(t)}),300),e.requestSuggestions=function(t){var n=e.props,r=n.onDataRequest,o=n.fetchSuggestions,i=e.state.query;r(null===i);var s=i||"";return o(s,t).then((function(t){return e.handleSuggestions(t,s)})).catch((function(){return[]}))},e.isMatchingQuery=function(t){if(!b())return!0;var n=e.state,r=n.query,o=n.isLoading,i=t.displayName,s=t.name;return!o||T(i,r)||T(s,r)},e.getSuggestions=function(){var t=e.getInitialAndEmptyOptionSuggestions(),n=t.map((function(e){return e.id})),r=e.state.suggestions.filter((function(t){return!n.includes(t.id)&&e.isMatchingQuery(t)}));return[].concat(h(t),h(r)).map((function(e){var t=e.displayName,n=v(e,["displayName"]);return t?w(w({},n),{},{publicName:t}):n}))},e.handleSuggestions=function(t,n){var r=e.state,o=r.isDropdownVisible,i=r.query,s=n===(i||"");if(!e.wasUnmounted&&o&&s){var a=e.state.wasFocused?t.filter((function(t){return!e.isCurrentValue(t)})):t;e.setState({isLoading:!1,suggestions:a}),e.props.onDataLoaded(null===i,a.length)}},e}return function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"componentWillUnmount",value:function(){this.wasUnmounted=!0,this.debouncedRequestSuggestion.cancel()}},{key:"isCurrentValue",value:function(e){return e?this.props.value?e.id===this.props.value.id:"USER_PICKER_EMPTY"===e.id:null===this.props.value}},{key:"render",value:function(){var e=this.getSuggestions(),t=this.props.value||this.getEmptyValue();return o.a.createElement(u.a,{value:t,options:e,open:this.state.isDropdownVisible,fieldId:this.props.fieldId,menuMinWidth:this.props.menuMinWidth,menuPortalTarget:this.props.portalElement,width:this.props.width,appearance:"compact",isClearable:!!this.props.value,isDisabled:this.props.isDisabled,placeholder:this.props.placeholder,isLoading:this.state.isLoading&&this.state.isDropdownVisible,onBlur:this.onBlur,onClear:this.onClear,onFocus:this.onFocus,onInputChange:this.onQueryChange,onSelection:this.onSuggestionSelect})}}]),n}(r.Component);A.displayName="UserPickerView",A.defaultProps={isDisabled:!1,value:null,initialOptions:[],emptyOption:null,width:void 0,menuMinWidth:void 0,portalElement:void 0,fetchSuggestions:function(){return Promise.resolve([])},onChange:c.a,onCancel:c.a,onSelection:c.a,onDataRequest:c.a,onDataLoaded:c.a},A.displayName="UserPickerView"},"./src/packages/issue/fields/field-base/src/services/edit-field-service/main.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/lodash/noop.js"),i=n.n(o),s=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),c=n("./src/packages/platform/utils/fetch/src/utils.js"),u=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),l=n("./src/packages/platform/controllers/tenant-context/src/index.js"),f=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js"),d=n("./src/packages/platform/observability/browser-metrics/src/index.js"),p=n("./src/packages/platform/utils/fetch/src/index.js");function m(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){return{fields:y({},e,t)}},g=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){m(i,r,o,s,a,"next",e)}function a(e){m(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.j)("".concat(o,"/rest/api/3/issue/").concat(t,"/"),{body:JSON.stringify(b(n,r))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),v=function(e,t){var n=Object(d.b)(),r={key:"issue-field.save-value",reporters:[function(){return{fieldKey:e,fieldType:t}}]};return n.start(r),{stop:function(){return n.stop(r)},cancel:function(){return n.cancel(r.key)}}};function h(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=O(Object(l.p)(),1)[0].tenantContext.baseUrl||"",n=e.issueKey,o=e.fieldKey,d=e.fieldType,p=e.initialValue,m=e.saveField,y=void 0===m?g:m,b=e.onSubmit,j=void 0===b?i.a:b,w=e.onSuccess,E=void 0===w?i.a:w,k=e.onFailure,S=void 0===k?i.a:k,I=O(Object(f.c)({issueKey:n,fieldKey:o}),2),C=I[0],P=I[1].setFieldValue,_=void 0!==C?C:p,x=O(Object(r.useState)(null),2),T=x[0],A=x[1],D=O(Object(r.useState)(!1),2),R=D[0],M=D[1],L=Object(r.useCallback)((function(){return A(null)}),[A]),N=Object(r.useCallback)(function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){h(i,r,o,s,a,"next",e)}function a(e){h(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(r,i,l){var f,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={fieldKey:o,fieldType:d},p=v(Object(a.i)(o)(o),Object(a.i)(d)(d)),M(!0),A(null),e.prev=4,j(_,r,i,l),P(n,o,r),e.next=9,y(n,o,r,t);case 9:E(r),p.stop(),Object(u.t)(l,"field updated",f),Object(u.r)(l,"field updateSucceeded",f),e.next=24;break;case 15:e.prev=15,e.t0=e.catch(4),S(e.t0),P(n,o,_),A(e.t0),(m=e.t0 instanceof c.a)||a.h.safeError("issue-field.save-value","Failed to update field ".concat(o," of type ").concat(d),new s.a({event:e.t0,type:s.j,category:s.b,app:s.g,eventNameSuffix:s.f})),p.cancel(),Object(u.r)(l,"field updateFailed",{fieldKey:o,fieldType:d,isValidationError:m});case 24:M(!1);case 25:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[o,d,j,_,P,n,y,t,E,S]);return[{value:_,loading:R,error:T},{saveValue:N,resetError:L}]}},"./src/packages/issue/fields/field-base/src/services/field-config-service/context.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/react-sweet-state/lib/esm/index.js");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var a={update:function(e,t){return function(){var n=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,r.setState)(i({},e,t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setFieldConfig:function(e,t){return function(n){(0,n.setState)(i({},e,t))}}},c=Object(o.c)({name:"issue-field-config",initialState:{},actions:a}),u=Object(o.d)(c,{displayName:"FieldConfigActionsSubscriber",selector:null}),l=Object(r.createSelector)((function(e,t){return e[t.issueKey]}),(function(e,t){return t.fieldKey}),(function(e,t){return null==e?e:e[t]?e[t]:null})),f=Object(o.b)(c,{selector:l})},"./src/packages/issue/fields/field-base/src/services/field-config-service/main.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("./node_modules/react/index.js"),o=n("./src/packages/platform/utils/fetch/src/index.js"),i=n("./src/packages/platform/controllers/tenant-context/src/index.js"),s=n("./src/packages/issue/fields/field-base/src/services/field-config-service/context.js");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){d(i,r,o,s,a,"next",e)}function a(e){d(i,r,o,s,a,"throw",e)}s(void 0)}))}}var m=function(){return'\n  query fieldConfigurationQuery($issueKey: String) {\n    issue(issueIdOrKey: $issueKey, latestVersion: true, screen: "view") {\n      fields {\n        key\n        schema {\n          type\n          custom\n          customId\n          system\n          renderer\n        }\n        autoCompleteUrl\n        allowedValues\n        operations\n        required\n        editable\n        title\n      }\n    }\n  }'},y=function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.i)("".concat(n,"/rest/graphql/1/"),{body:JSON.stringify({query:m(),variables:{issueKey:t}})});case 2:if(!((r=e.sent)&&r.data&&r.data.issue&&r.data.issue.fields)){e.next=5;break}return e.abrupt("return",r.data.issue.fields.reduce((function(e,t){return l(l({},e),{},f({},t.key,{autoCompleteUrl:t.autoCompleteUrl,allowedValues:t.allowedValues,isEditable:t.editable,isRequired:t.required,schema:t.schema,title:t.title}))}),{}));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=new Set;return function(t,n){var o=a(Object(s.b)({issueKey:t,fieldKey:n}),2),c=o[0],u=o[1].update,l=a(Object(i.g)(),1)[0],f=Object(r.useCallback)(p(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.add(t),n.next=3,y(t,l);case 3:r=n.sent,u(t,r),e.delete(t);case 6:case"end":return n.stop()}}),n)}))),[l,t,u]);return Object(r.useEffect)((function(){void 0!==c||e.has(t)||f()}),[t,c,f]),[c]}}()},"./src/packages/issue/fields/field-base/src/services/field-value-service/main.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n("./node_modules/react-sweet-state/lib/esm/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={setFieldValue:function(e,t,n){return function(r){var o=r.setState,a=r.getState;o(s({},e,i(i({},a()[e]),{},s({},t,n))))}},setIssue:function(e,t){return function(n){(0,n.setState)(s({},e,t))}}},c=Object(r.c)({name:"issue-fields",initialState:{},actions:a}),u=Object(r.d)(c,{displayName:"FieldsValueActionsSubscriber",selector:null}),l=function(e,t){var n=t.issueKey,r=t.fieldKey;return e[n]&&e[n][r]},f=Object(r.b)(c,{selector:l}),d=Object(r.d)(c,{selector:l})},"./src/packages/issue/fields/number/src/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return i}));n("./src/packages/issue/fields/number/src/ui/view/index.js"),n("./src/packages/issue/fields/number/src/ui/main.js");var r=n("./src/packages/issue/fields/number/src/services/index.js"),o=n("./node_modules/react-async-component/commonjs/index.js"),i=Object(o.asyncComponent)({resolve:function(){return Promise.resolve().then(n.bind(null,"./src/packages/issue/fields/number/src/ui/main.js")).then((function(e){return e.NumberEditView}))},name:"AsyncNumberInlineEditView"})},"./src/packages/issue/fields/number/src/services/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/lodash/get.js"),o=n.n(r),i=n("./src/packages/issue/fields/field-base/src/services/field-config-service/main.js"),s=n("./src/packages/issue/fields/field-base/src/services/edit-field-service/main.js");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.issueKey,n=e.fieldKey,r=e.onSuccess,c=e.onFailure,u=a(Object(i.a)(t,n),1)[0],l=o()(u,"schema.type","number"),f=a(Object(s.a)({fieldKey:n,issueKey:t,fieldType:l,initialValue:null,onSuccess:r,onFailure:c}),2),d=f[0],p=d.value,m=d.error,y=f[1];return[{value:p,error:m,fieldConfig:u},{saveValue:y.saveValue,resetError:y.resetError}]}},"./src/packages/issue/fields/number/src/ui/main.js":function(e,t,n){"use strict";n.r(t),n.d(t,"actionSubject",(function(){return I})),n.d(t,"NumberEditView",(function(){return C}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/get.js"),s=n.n(i),a=n("./src/packages/platform/utils/types/src/index.js"),c=n("./src/packages/issue/fields/components/error-flag/src/index.js"),u=n("./src/packages/issue/fields/components/inline-edit/src/index.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),f=n("./src/packages/issue/fields/number/src/services/index.js"),d=n("./node_modules/@atlaskit/field-text/FieldTextStateless.js"),p=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),y=p.default.div(["width:","px;cursor:auto;"],8.5*m.f);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=Object(r.memo)((function(e){var t=e.isInvalid,n=void 0!==t&&t,r=e.type,i=e.defaultValue,s=g(e,["isInvalid","type","defaultValue"]),a=null===i?"":Number(i);return o.a.createElement(y,null,o.a.createElement(d.a,b({appearance:"subtle",autoFocus:!0,compact:!0,isLabelHidden:!0,isInvalid:n,shouldFitContainer:!0,type:r,value:a},s)))})),h=n("./node_modules/react-intl/lib/index.es.js"),O=Object(h.defineMessages)({errorTitle:{id:"issue-field-number.error-title",defaultMessage:"We couldn't set the story point value"},errorMessage:{id:"issue-field-number.error-message",defaultMessage:"Check your connection, then give it another try."}}),j=n("./src/packages/issue/fields/number/src/ui/view/index.js");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var I="numberInlineEdit",C=Object(r.memo)((function(e){var t=e.fieldKey,n=e.issueKey,i=e.onCancel,d=e.onEdit,p=e.onEscape,m=e.onConfirm,y=e.onEnter,b=e.readView,g=e.editView,h=(e.noValueText,S(e,["fieldKey","issueKey","onCancel","onEdit","onEscape","onConfirm","onEnter","readView","editView","noValueText"])),k=E(Object(r.useState)(!1),2),C=k[0],P=k[1],_=E(Object(f.a)({issueKey:Object(a.toIssueKey)(n),fieldKey:t,onSuccess:function(){return P(!1)}}),2),x=_[0],T=x.value,A=x.error,D=x.fieldConfig,R=_[1],M=R.saveValue,L=R.resetError,N=s()(D,"schema.type","number"),F=E(Object(r.useState)(T),2),U=F[0],V=F[1],K=!!D&&D.isEditable;Object(r.useEffect)((function(){A&&P(!0),C||V(T)}),[A,C,T]);var B=Object(r.useCallback)((function(e){U!==T?M(U,null,e):P(!1),Object(l.u)(e)}),[M,U,T]),W=Object(r.useCallback)((function(e){L(),P(!1),V(T),Object(l.u)(e)}),[L,T]),H=Object(r.useCallback)((function(e){W(e),i&&i(e)}),[i,W]),G=Object(r.useCallback)((function(e){B(e),m&&m(e)}),[m,B]),q=Object(r.useCallback)((function(e){P(!0),Object(l.u)(e),d&&d(e)}),[d]),z=Object(r.useCallback)((function(e){W(e),p&&p(e)}),[p,W]),Y=Object(r.useCallback)((function(e){B(e),y&&y(e)}),[y,B]),Q=Object(r.useCallback)((function(e){L();var t=""===e.target.value?null:parseFloat(Number(e.target.value).toFixed(3));V(t)}),[L,V]);return o.a.createElement(o.a.Fragment,null,A&&o.a.createElement(c.a,{error:A,title:O.errorTitle,description:O.errorMessage}),o.a.createElement(u.a,w({actionSubject:I,isEditable:K,isEditing:C,readView:function(){return void 0!==b?b:o.a.createElement(j.a,{isEditable:K,value:T})}(),editView:K?function(){return void 0!==g?g:o.a.createElement(v,{defaultValue:U,onChange:Q,type:N,isInvalid:!!A})}():null,onCancel:H,onConfirm:G,onEdit:q,onEscape:z,onEnter:Y},h)))}))},"./src/packages/issue/fields/number/src/ui/view/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/badge--current/components/index.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),a=n("./node_modules/@atlaskit/theme/index.js"),c=s.default.div(["cursor:pointer;&:hover > span{color:",";background-color:",";}"],a.colors.N800,a.colors.N90),u=function(e){var t=e.isEditable,n=e.value,r=null===n?"-":n.toString(),s=o.a.createElement(i.a,null,r);return t?o.a.createElement(c,null,s):s}},"./src/packages/issue/fields/security-level/src/common/ui/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=r.default.div(["display:flex;align-items:center;color:",";"],(function(e){return e.isActive?o.colors.N0:e.hasSecurityLevel?o.colors.R400:null}))},"./src/packages/issue/fields/status/src/common/ui/status-lozenge/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return P}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/lozenge/Lozenge/index.js"),s=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./node_modules/@atlaskit/button--current/components/Button.js"),u=n("./node_modules/@atlaskit/theme/index.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),f=n("./src/packages/issue/fields/status/src/feature-flags.js");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g={1:"default",2:"default",3:"success",4:"inprogress"},v={default:u.colors.N40,success:u.colors.G50,inprogress:u.colors.B50},h={default:u.colors.N500,success:u.colors.G500,inprogress:u.colors.B500},O={default:u.colors.N70,success:u.colors.G400,inprogress:u.colors.B400},j={default:u.colors.N800,success:u.colors.N0,inprogress:u.colors.N0},w=a.default.span(["> div > span{vertical-align:text-bottom;color:",";background-color:",";",";}"],(function(e){return h[g[e.statusCategoryId]]}),(function(e){return v[g[e.statusCategoryId]]}),(function(e){return e.hasHoverState?"&:hover {\n                        color: ".concat(j[g[e.statusCategoryId]],";\n                        background-color: ").concat(O[g[e.statusCategoryId]],";\n                    }"):""})),E=Object(s.a)((function(e){e.focused;var t=b(e,["focused"]);return(o.a.createElement(c.b,t))}),{target:"e1dqx2ri0"})("margin:2px 0;width:100%;height:36px;padding:0 4px;border:2px solid ",(function(e){return e.error?u.colors.R300:"transparent"}),";cursor:",(function(e){return e.isDisabled?"auto":void 0}),";background-color:transparent;&:not(:disabled):hover{background-color:",u.colors.N30,";}",(function(e){return e.focused?"box-shadow: 0 0 0 2px ".concat("rgba(38, 132, 255, 0.6)"):""}),";"),k=function(e){return function(t,n){var r=t(n),o=r.buttonStyles;return m(m({},b(r,["buttonStyles"])),{},{buttonStyles:m(m(m({},o),{},{margin:"2px 0",width:"100%",height:"36px",padding:"0 4px",border:"2px solid ".concat(e.error?u.colors.R300:"transparent")},e.isDisabled?{cursor:"auto"}:{}),{},{boxShadow:e.focused?"0 0 0 2px ".concat("rgba(38, 132, 255, 0.6)"):"",backgroundColor:"transparent","&:not(:disabled):hover":{backgroundColor:"".concat(u.colors.N30)}})})}},S=function(e){return o.a.createElement(c.b,d({},e,{theme:k(e)}))};S.displayName="StyledButtonStyled";var I=Object(l.a)(f.a,S,E),C=function(e){return o.a.createElement(w,{hasHoverState:e.hasHoverState,statusCategoryId:e.status.statusCategory.id},o.a.createElement("div",{ref:e.targetRef,"data-test-id":"issue.fields.status.common.ui.status-lozenge.".concat(e.status.statusCategory.id)},o.a.createElement(i.a,null,e.status.name)))};C.displayName="StatusLozenge";var P=function(e){return o.a.createElement(I,{appearance:"subtle",error:e.error,isDisabled:!e.isEditable,focused:e.focused},o.a.createElement(C,e))};P.displayName="WrappedStatusLozenge"},"./src/packages/issue/fields/status/src/feature-flags.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),o=function(){return Object(r.b)("workflow-editor-for-jsw",!1)},i=function(){return Object(r.b)("jfp.remove-emotion-from-issue",!1)},s=function(){return Object(r.b)("issue.details.capability.transition-sla-frontend",!1)}},"./src/packages/issue/fields/status/src/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StatusView",(function(){return Le})),n.d(t,"StatusField",(function(){return Jr})),n.d(t,"StatusLozenge",(function(){return $r.a})),n.d(t,"getStatusTransitionsUrl",(function(){return Lt}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/lodash/noop.js"),a=n.n(s),c=n("./node_modules/@atlaskit/select--current/PopupSelect/Select.js"),u=n("./src/packages/platform/observability/browser-metrics/src/index.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/blanket/index.js"),f=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),d=n("./src/packages/issue/fields/status/src/common/ui/status-lozenge/index.js"),p={TIME_TO_RENDER_OPTIONS:"jira.fe.issue.fields.status.time-to.render-options",TIME_TO_APPLY_SELECTED_OPTION:"jira.fe.issue.fields.status.time-to.reflect-selected",TIME_TO_CANCEL_DROPDOWN:"jira.fe.issue.fields.status.time-to.cancel-dropdown",TIME_TO_OPEN_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.open-transition-screen",TIME_TO_CONFIRM_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.confirm-transition-screen",TIME_TO_CANCEL_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.cancel-transition-screen",TIME_TO_ERROR_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.error-transition-screen"},m=Object(i.defineMessages)({noPermission:{id:"issue-field-status.status-view.no-permission",defaultMessage:"You don't have permission to transition this issue"},cannotLoadTransitions:{id:"issue-field-status.status-view.cannot-load-transitions",defaultMessage:"We couldn't load the statuses and transitions"}}),y=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),b=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),g=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),v=b.default.div(["padding:","px;text-align:center;"],g.f),h=function(){return o.a.createElement(v,null,o.a.createElement(y.a,null))};h.displayName="LoadingSpinner";var O=n("./node_modules/@atlaskit/icon--current/glyph/chevron-down.js"),j=n.n(O),w=n("./node_modules/@atlaskit/theme/index.js"),E=Object(b.keyframes)(["to{box-shadow:0 0 0 10px rgba(0,0,0,0);}"]),k=b.default.div(["display:inline-flex;border-radius:3px;box-shadow:0 0 0 0 ",";animation:",";"],w.colors.G400,(function(e){return e.shouldShow?"".concat(E," 1.45s cubic-bezier(0.5, 0, 0, 1)"):"none"}));function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,e);var t=_(n);function n(){var e;I(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldShow:!1},e}return function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(n,[{key:"componentDidUpdate",value:function(e){e.status.statusCategory.id!==this.props.status.statusCategory.id&&this.setState({shouldShow:3===this.props.status.statusCategory.id})}},{key:"render",value:function(){return o.a.createElement(k,{shouldShow:this.state.shouldShow},this.props.children)}}]),n}(r.Component);A.displayName="Pulse";var D=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),R=n("./node_modules/@atlaskit/button--current/components/Button.js"),M=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),L=n("./src/packages/issue/fields/status/src/feature-flags.js");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var B=function(e){return"\n    &:not(:active), &:disabled {\n        background: ".concat(e.background," !important;\n        color: ").concat(e.color," !important;\n    }\n    \n    &:hover:not(:active) {\n        background: ").concat(e.backgroundHover," !important;\n        color: ").concat(e.color," !important;\n    }\n")},W=function(e){return{"&:not(:active), &:disabled":{background:"".concat(e.background," !important"),color:"".concat(e.color," !important")},"&:hover:not(:active)":{background:"".concat(e.backgroundHover," !important"),color:"".concat(e.color," !important")}}},H={default:{background:w.colors.N20A,backgroundHover:w.colors.N30A,color:w.colors.N400},todo:{background:w.colors.N40,backgroundHover:w.colors.N50,color:w.colors.N800},inProgress:{background:w.colors.B400,backgroundHover:w.colors.B500,color:w.colors.N0},done:{background:w.colors.G400,backgroundHover:w.colors.G500,color:w.colors.N0}},G=Object(D.a)(R.b,{target:"elro8wh0"})("font-weight:600;",(function(e){return!e.isSelected&&B(H.default)}),";"),q=Object(D.a)(R.b,{target:"elro8wh1"})("font-weight:600;",(function(e){return!e.isSelected&&B(H.todo)}),";"),z=Object(D.a)(R.b,{target:"elro8wh2"})("font-weight:600;",(function(e){return!e.isSelected&&B(H.inProgress)}),";"),Y=Object(D.a)(R.b,{target:"elro8wh3"})("font-weight:600;",(function(e){return!e.isSelected&&B(H.done)}),";"),Q=function(e){return function(t,n){var r=t(n),o=r.buttonStyles;return U(U({},K(r,["buttonStyles"])),{},{buttonStyles:U(U({},o),e)})}},J=function(e){return o.a.createElement(R.b,N({},e,{theme:Q(U({fontWeight:"600"},e.isSelected?{}:W(H.default)))}))};J.displayName="DefaultButtonStyled";var $=function(e){return o.a.createElement(R.b,N({},e,{theme:Q(U({fontWeight:"600"},e.isSelected?{}:W(H.todo)))}))};$.displayName="ToDoButtonStyled";var Z=function(e){return o.a.createElement(R.b,N({},e,{theme:Q(U({fontWeight:"600"},e.isSelected?{}:W(H.inProgress)))}))};Z.displayName="InProgressButtonStyled";var X=function(e){return o.a.createElement(R.b,N({},e,{theme:Q(U({fontWeight:"600"},e.isSelected?{}:W(H.done)))}))};X.displayName="DoneButtonStyled";var ee=Object(M.a)(L.a,J,G),te=Object(M.a)(L.a,$,q),ne=Object(M.a)(L.a,Z,z),re=Object(M.a)(L.a,X,Y),oe=function(e){var t=function(e){switch(e){case 2:return te;case 3:return re;case 4:return ne;default:return ee}}(e.status.statusCategory.id);return(o.a.createElement("div",{ref:e.targetRef},o.a.createElement(A,{status:e.status},o.a.createElement(t,{isDisabled:!e.isEditable,iconAfter:o.a.createElement(j.a,null)},e.status.name))))};oe.displayName="StatusButton";var ie=n("./node_modules/@atlaskit/icon--current/glyph/arrow-right.js"),se=n.n(ie),ae=Object(i.defineMessages)({globalTransition:{id:"issue-field-status.status-view.transition.with-label.global-transition",defaultMessage:"Transition to"}}),ce=b.default.div(["display:flex;"]),ue=b.default.span(["flex-grow:1;"]),le=b.default.span(["flex-shrink:0;display:flex;"]),fe=b.default.div(["display:inline-flex;align-items:center;"]),de=function(e){return o.a.createElement(ce,null,o.a.createElement(ue,null,function(e,t){return e.isGlobal?t.formatMessage(ae.globalTransition):e.name}(e.transition,e.intl)),o.a.createElement(le,null,o.a.createElement(fe,null,o.a.createElement(se.a,{label:"",size:"small"})),o.a.createElement(d.a,{status:e.transition.to})))};de.displayName="TransitionWithLabel";var pe=Object(i.injectIntl)(de),me=function(e){return o.a.createElement(d.a,{status:e.transition.to})};me.displayName="TransitionWithoutLabel";var ye,be=function(e){return e.hasLabel?o.a.createElement(pe,{transition:e.transition}):o.a.createElement(me,{transition:e.transition})},ge=n("./node_modules/memoize-one/dist/memoize-one.esm.js");function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=[{id:"1",statusCategoryName:"UNDEFINED"},{id:"2",statusCategoryName:"TODO"},{id:"4",statusCategoryName:"IN_PROGRESS"},{id:"3",statusCategoryName:"DONE"}],Oe=(ve(ye={},"TODO",1),ve(ye,"IN_PROGRESS",2),ve(ye,"DONE",3),ve(ye,"UNDEFINED",4),ye),je=function(e){var t=he.find((function(t){return t.id===String(e)}));return t?t.statusCategoryName:"UNDEFINED"},we=function(e,t){return function(e,t){return Oe[je(e.to.statusCategory.id)]-Oe[je(t.to.statusCategory.id)]}(e,t)||function(e,t){return(e.to.name||"").toLowerCase().localeCompare((t.to.name||"").toLowerCase())}(e,t)},Ee=Object(ge.a)((function(e,t){return e.filter((function(e){return!function(e,t){return e.isGlobal&&e.to.id===t}(e,t)}))})),ke=function(e,t){return function(e){return e.sort(we)}(function(e,t){return Ee(e,t)}(e||[],t))},Se=Object(ge.a)((function(e){return e.map((function(e){return{label:e.to.name,value:e.id,transition:e}}))})),Ie=function(e){return Se(e)};function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=Object(f.a)("statusField",{onOpen:"openDropdown",onChange:"transitionSelected"})(c.a),Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(n,e);var t=Te(n);function n(){var e;Pe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1},e.onChildWrapperRefUpdate=function(t){e.childWrapperRef=t},e.wasChanged=!1,e.onChange=function(t,n,r){var o=t.transition.hasScreen;e.wasChanged=!0,Object(u.c)().markStartOfInteraction({key:p.TIME_TO_APPLY_SELECTED_OPTION,cancelExisting:!0}),o&&Object(u.c)().markStartOfInteraction({key:p.TIME_TO_OPEN_TRANSITION_SCREEN,cancelExisting:!0}),Object(f.u)(r,"transitionSelectedStatusField",{hasScreen:o}),e.props.onChange(t.transition,r)},e.onOpen=function(t){Object(u.c)().markStartOfInteraction({key:p.TIME_TO_RENDER_OPTIONS,cancelExisting:!0}),Object(f.u)(t,"openDropdownStatusField"),e.props.onOpen(t),e.setState({isOpen:!0})},e.onClose=function(){e.wasChanged||Object(u.c)().markStartOfInteraction({key:p.TIME_TO_CANCEL_DROPDOWN,cancelExisting:!0}),e.wasChanged=!1,e.props.onClose(),e.setState({isOpen:!1})},e.childWrapperRef=void 0,e}return function(e,t,n){t&&_e(e.prototype,t),n&&_e(e,n)}(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.transitions,o=n.isSaving,i=this.state.isOpen;!0===e.isSaving&&!1===o&&this.childWrapperRef&&this.childWrapperRef.children.length>0&&this.childWrapperRef.children[0].focus();var s=!t.isOpen&&i,a=null===e.transitions&&r;s&&!r&&Object(u.c)().markTimeToFeedback({key:p.TIME_TO_RENDER_OPTIONS}),(s&&r||i&&a)&&setTimeout((function(){Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_RENDER_OPTIONS})})),t.isOpen&&!i&&setTimeout((function(){Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_APPLY_SELECTED_OPTION}),Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_CANCEL_DROPDOWN})}))}},{key:"componentWillUnmount",value:function(){Object.keys(p).forEach((function(e){Object(u.c)().cancel({key:p[e]},!0)}))}},{key:"renderLozenge",value:function(e){var t=e.isEditable,n=e.isSaving,r=e.error,i=e.targetRef,s=this.props.value;return n?o.a.createElement(l.a,{border:!1},o.a.createElement(d.b,{targetRef:i,status:s,error:r})):o.a.createElement(d.b,{status:s,error:r,isEditable:t,hasHoverState:!0,focused:this.state.isOpen,targetRef:i})}},{key:"renderButton",value:function(e){var t=e.isEditable,n=e.isSaving,r=e.targetRef,i=this.props.value,s=o.a.createElement(oe,{targetRef:r,isEditable:t,status:i});return n?o.a.createElement(l.a,null,s):s}},{key:"renderWithFocusWrapper",value:function(e){return o.a.createElement("div",{ref:this.onChildWrapperRefUpdate},e)}},{key:"renderTarget",value:function(e){var t=e.isEditable,n=e.isSaving,r=e.error,i=e.targetRef,s=this.props,a=s.appearance;if(s.value){if("lozenge"===a)return this.renderWithFocusWrapper(this.renderLozenge({isEditable:t,isSaving:n,error:r,targetRef:i}));if("button"===a)return this.renderWithFocusWrapper(this.renderButton({isEditable:t,isSaving:n,targetRef:i}))}return(o.a.createElement("div",null))}},{key:"render",value:function(){var e=this,t=this.props,n=t.footer,r=t.isLoading,i=t.isEditable,s=t.isSaving,a=t.error,c=t.value,u=t.intl.formatMessage,l=t.transitions,f=null!=l,d=ke(l,c.id),p=function(e){return e.every((function(e){return e.isGlobal}))}(d||[]);return s||!i?this.renderTarget({isSaving:s,isEditable:i,error:a}):o.a.createElement(Re,{noOptionsMessage:function(){return u(f?m.noPermission:m.cannotLoadTransitions)},formatOptionLabel:function(e){return o.a.createElement(be,{transition:e.transition,hasLabel:!p})},options:Ie(d||[]),target:function(t){var n=t.ref;return e.renderTarget({isEditable:i,isSaving:s,error:a,targetRef:n})},isLoading:r,isDisabled:!i,searchThreshold:99999,onChange:this.onChange,onOpen:this.onOpen,onClose:this.onClose,closeMenuOnSelect:!1,components:{LoadingMessage:function(){return o.a.createElement(h,null)}},popperProps:{modifiers:{offset:{offset:"0, 8"},preventOverflow:{boundariesElement:"viewport"}},positionFixed:!0},footer:n})}}]),n}(r.Component);Me.defaultProps={isEditable:!0,isSaving:!1,onChange:a.a,onOpen:a.a,onClose:a.a},Me.displayName="StatusView";var Le=Object(i.injectIntl)(Me),Ne=n("./src/packages/platform/ui/error-boundary/src/main.js"),Fe=n("./src/packages/platform/ui/error-boundary/src/index.js"),Ue=n("./src/packages/platform/utils/types/src/index.js"),Ve=n("./src/packages/navigation-next/src/baskets/navigation/index.js"),Ke=n("./src/packages/platform/controllers/tenant-context/src/index.js"),Be=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),We=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/transition-screen-legacy-dialog/index.js"),He=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/common/services/send-experience-analytics/index.js"),Ge=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),qe=n("./src/packages/platform/utils/fetch/src/index.js"),ze=n("./src/packages/platform/ui/flags/src/index.js"),Ye=n("./src/packages/issue/issue-view/src/common/legacy/aui-dialog-event.js"),Qe=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e,t,n,r,o){var i=null,s=null;if(null!==r){var a=Object(Qe.f)().appEditions;i=Object(Ue.getApplicationForProject)(r),s=Object(Ue.getEdition)(i,a)}return{experience:"transitionIssue",wasExperienceSuccesful:e,analyticsSource:n,application:i,edition:s,additionalAttributes:$e({method:t},null!=o?{errorMessage:o}:{})}},et=Object(i.defineMessages)({title:{id:"issue-field-status.services.flags.transition-failed-error.main.title",defaultMessage:"We couldn't update the status"},description:{id:"issue-field-status.services.flags.transition-failed-error.main.description",defaultMessage:"Check your network connection, then try reloading the issue."}}),tt=function(){return{type:"error",title:et.title,description:et.description,isAutoDismiss:!0}},nt=Object(i.defineMessages)({title:{id:"issue-field-status.services.flags.validation-error.main.title",defaultMessage:"Transition failed"}}),rt=function(e){return{type:"warning",title:nt.title,description:{id:"issue-field.status.services.flags.validation-error.main.description",defaultMessage:e},isAutoDismiss:!0}};function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),e}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yt=Object(u.b)(),bt=function(e,t,n){var r=document.querySelector(e);r&&r.removeEventListener(t,n)},gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(n,e);var t=dt(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).componentDidUpdate=function(e){r.props.initialValue&&e.initialValue&&e.initialValue.id!==r.props.initialValue.id&&r.props.initialValue.id!==r.state.value.id&&r.setState({loading:!1,value:r.props.initialValue})},r.isDialogOpened=!1,r.isDialogConfirmPressed=!1,r.onDialogContentReady=function(){setTimeout((function(){r.isDialogOpened?Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_ERROR_TRANSITION_SCREEN}):Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_OPEN_TRANSITION_SCREEN}),r.bindDialogFormHandlers(),r.isDialogOpened=!0,r.isDialogConfirmPressed=!1}))},r.bindDialogFormHandlers=function(){!function(e,t,n){bt(e,t,n);var r=document.querySelector(e);r&&r.addEventListener(t,n)}("#issue-workflow-transition-submit","click",r.onClickDialogConfirm)},r.unbindDialogFormHandlers=function(){bt("#issue-workflow-transition-submit","click",r.onClickDialogConfirm)},r.handleBeforeDialogHide=function(){r.isDialogOpened&&!r.isDialogConfirmPressed&&(r.cancelScreenBrowserMetricsEvents(),Object(u.c)().markStartOfInteraction({key:p.TIME_TO_CANCEL_TRANSITION_SCREEN}),setTimeout((function(){Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_CANCEL_TRANSITION_SCREEN})}))),r.unbindDialogFormHandlers(),r.isDialogOpened=!1,r.isDialogConfirmPressed=!1},r.cancelScreenBrowserMetricsEvents=function(){[p.TIME_TO_ERROR_TRANSITION_SCREEN,p.TIME_TO_CONFIRM_TRANSITION_SCREEN,p.TIME_TO_OPEN_TRANSITION_SCREEN].forEach((function(e){Object(u.c)().cancel({key:e},!0)}))},r.onClickDialogConfirm=function(){Object(u.c)().markStartOfInteraction({key:p.TIME_TO_CONFIRM_TRANSITION_SCREEN,cancelExisting:!0}),Object(u.c)().markStartOfInteraction({key:p.TIME_TO_ERROR_TRANSITION_SCREEN,cancelExisting:!0}),r.isDialogConfirmPressed=!0},r.resetError=function(){return r.setState({error:null})},r.submit=function(e,t){var n=r.state.value,o=e.to;r.setState({loading:!0,value:o}),r.props.onSubmit(n,o,{transition:e},t)},r.success=function(e){var t=e.status,n=e.event,o=e.viaDialog,i=void 0!==o&&o;r.setState({loading:!1,lastSavedValue:t}),r.props.onSuccess(t,i,n),Object(f.t)(n,"statusField transitioned","statusField"),Object(L.b)()&&Object(He.a)(Xe(!0,"POST","Issue View Status Service",r.props.projectType)),i&&Object(u.c)().markTimeToFinishTask({key:p.TIME_TO_CONFIRM_TRANSITION_SCREEN})},r.failure=function(e,t){r.setState({error:e,loading:!1,value:r.state.lastSavedValue||r.props.value||r.props.initialValue}),r.props.onFailure();var n=e instanceof qe.b;n?r.props.flagService.showFlag(rt(e.message)):r.props.flagService.showFlag(tt()),Object(f.r)(t,"statusField postTransitionFailed",{validationError:n,message:e.message}),Object(L.b)()&&Object(He.a)(Xe(!1,"POST","Issue View Status Service",r.props.projectType,e.message))},r.cancel=function(){r.setState({loading:!1,value:r.props.value||r.props.initialValue}),r.props.onEditCancel()},r.transitionStatus=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ct(i,r,o,s,a,"next",e)}function a(e){ct(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var o,i,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.props,i=o.issueKey,s=o.baseUrl,a=t.to,r.submit(t,n),e.prev=3,!t.hasScreen){e.next=8;break}new We.a(s,null,t.id,i).onDialogSuccess((function(){return r.success({status:a,event:n,viaDialog:!0})})).onDialogCancel((function(){return r.cancel()})).show(),e.next=13;break;case 8:return yt.start({key:"issue-field.status.post-transition"}),e.next=11,Object(qe.i)("".concat(s,"/rest/api/2/issue/").concat(i,"/transitions"),{body:JSON.stringify({transition:t})});case 11:yt.stop({key:"issue-field.status.post-transition"}),r.success({status:a,event:n});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),yt.cancel("issue-field.status.post-transition"),Ge.a.safeError("issue-field.status.post-transition",e.t0),r.failure(e.t0,n);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n){return e.apply(this,arguments)}}(),r.api={transitionStatus:r.transitionStatus,resetError:r.resetError};var o=e.value||e.initialValue;if(null==o)throw new Error("Either value or initialValue prop is required.");return r.state={value:o,lastSavedValue:o,loading:!1,error:null},r}return lt(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.loading||!e.value?null:{value:e.value}}}]),lt(n,[{key:"componentDidMount",value:function(){var e=this;Object(Be.a)({name:"jira/util/events"}).then((function(t){var n=t.bind;n("dialogContentReady",e.onDialogContentReady),n("Dialog.beforeHide",e.handleBeforeDialogHide)})).catch(a.a),Object(Ye.a)("dialogContentReady",this.onDialogContentReady),Object(Ye.a)("Dialog.beforeHide",this.handleBeforeDialogHide)}},{key:"componentWillUnmount",value:function(){var e=this;Object(Be.a)({name:"jira/util/events"}).then((function(t){var n=t.unbind;n("dialogContentReady",e.onDialogContentReady),n("Dialog.beforeHide",e.handleBeforeDialogHide)})).catch(a.a),Object(Ye.b)("dialogContentReady",this.onDialogContentReady),Object(Ye.b)("Dialog.beforeHide",this.handleBeforeDialogHide),this.unbindDialogFormHandlers(),this.isDialogOpened=!1}},{key:"render",value:function(){return this.props.children(st(st({},this.state),this.api))}}]),n}(r.Component);gt.defaultProps={onSubmit:a.a,onSuccess:a.a,onFailure:a.a,onEditStart:a.a,onEditCancel:a.a},gt.displayName="StatusService";var vt=Object(ze.withFlagService)(gt),ht=n("./node_modules/lodash/isEqual.js"),Ot=n.n(ht),jt=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),wt=n("./src/packages/issue/issue-view/src/common/util/errors/index.js");function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ct(i,r,o,s,a,"next",e)}function a(e){Ct(i,r,o,s,a,"throw",e)}s(void 0)}))}}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=Object(u.b)(),Lt=function(e,t){return"".concat(e,"/rest/api/2/issue/").concat(t,"/transitions")},Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(n,e);var t=At(n);function n(){var e;_t(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1,data:null,error:null},e.fetch=function(){var t=Pt(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setStateIfMounted({loading:!0}),r=[],t.prev=2,Mt.start({key:"issue-field.status.fetch-transitions"}),t.next=6,Object(qe.c)(Lt(e.props.baseUrl,e.props.issueKey));case 6:o=t.sent,r=o.transitions,Mt.stop({key:"issue-field.status.fetch-transitions"}),Object(f.t)(n,"statusField transitionsFetched","statusField",{count:r.length}),Object(L.b)()&&Object(He.a)(Xe(!0,"GET","Issue View BaseTransitionsQuery",e.props.projectType)),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(2),Mt.cancel("issue-field.status.fetch-transitions"),Object(wt.a)("issue-field.status.fetch-transitions",t.t0.toString(),t.t0,{}),Object(L.b)()&&Object(He.a)(Xe(!1,"GET","Issue View BaseTransitionsQuery",e.props.projectType,t.t0.message)),r=null;case 19:r=Ot()(e.state.data,r)?e.state.data:r,e.setStateIfMounted({data:r,loading:!1});case 21:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),e.api={fetch:e.fetch},e.componentIsMounted=!1,e.setStateIfMounted=function(t){e.componentIsMounted&&e.setState(St({},t))},e}return function(e,t,n){t&&xt(e.prototype,t),n&&xt(e,n)}(n,[{key:"componentDidMount",value:function(){this.componentIsMounted=!0,this.props.preFetch&&this.props.createAnalyticsEvent&&this.fetch(this.props.createAnalyticsEvent({}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.issueKey!==e.issueKey;(this.props.status!==e.status||t)&&this.setStateIfMounted({data:null}),e.isSaving&&!this.props.isSaving&&this.props.preFetch&&this.props.createAnalyticsEvent&&this.fetch(this.props.createAnalyticsEvent({}))}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1}},{key:"render",value:function(){return this.props.children(St(St({},this.state),this.api))}}]),n}(r.Component);Nt.defaultProps={preFetch:!1,projectType:null},Nt.displayName="BaseTransitionsQuery";var Ft=Object(jt.q)()(Nt),Ut=(n("./src/packages/platform/utils/fetch/src/utils.js"),n("./src/packages/issue/issue-view/src/common/util/entry/get-project-key.js")),Vt=n("./src/packages/platform/utils/constants/src/project-types.js"),Kt=function(e){var t=e.isSimplified,n=e.projectType;return void 0!==t&&(!t||function(e){return e===Vt.l||Object(L.c)()&&e===Vt.n}(n))},Bt=function(e){var t=e.key,n=e.havePermission;return"VIEW_READONLY_WORKFLOW"===t&&n||"ADMINISTER"===t&&n},Wt=function(e){var t=e.key,n=e.havePermission;return"VIEW_READONLY_WORKFLOW"===t&&n};function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Yt(i,r,o,s,a,"next",e)}function a(e){Yt(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=en(e);if(t){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(e,t){return'\n    query nextGenViewWorkflowQuery {\n        permissions(issueKey:"'.concat(e,'", keys:["').concat("VIEW_READONLY_WORKFLOW",'", "').concat("ADMINISTER",'"]) {\n            key\n            havePermission\n        }\n        viewIssue(issueKey: "').concat(e,'") {\n            fields {\n                ... on IssueTypeField {\n                    fieldKey\n                    id\n                }\n            }\n        }\n        ').concat(t?'project(projectKey: "'.concat(t,'") {\n            projectId\n            simplified\n            type\n        }'):"","\n    }\n")},nn=function(e,t,n,r){return Object(qe.c)(function(e){return"".concat(e,"/rest/gira/latest/")}(e),{method:"POST",body:JSON.stringify({query:tn(t,n)})}).then((function(e){return function(e,t){var n=e.data;if(n&&n.permissions&&n.viewIssue){var r=n.permissions,o=n.project,i=n.viewIssue,s=o&&o.simplified||t?Bt:Wt,a=i.fields.find((function(e){return"issuetype"===e.fieldKey})),c={hasPermission:r.some(s),issueTypeId:Object(Ue.toIssueTypeId)(a?a.id:"")};return o&&(c.projectId=Object(Ue.toProjectId)(String(o.projectId)),c.projectType=Object(Vt.p)(o.type),c.isSimplified=o.simplified),c}}(e,r)}))},rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(n,e);var t=Zt(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).fetch=Qt(regeneratorRuntime.mark((function e(){var t,n,o,i,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.baseUrl,o=t.projectKey,i=t.issueKey,s=t.isSimplified,r.request(),e.prev=2,e.next=5,nn(n,i,o,s);case 5:a=e.sent,r.success(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),Ge.a.safeError("issue-field.status.fetch-view-workflow",e.t0),r.failure(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),r.request=function(){r.setState({error:void 0,loading:!0,data:void 0})},r.success=function(e){r.setState({loading:!1,data:e})},r.failure=function(e){r.setState({error:e,loading:!1})},r.state={data:void 0,loading:!1,error:void 0},r}return function(e,t,n){t&&Jt(e.prototype,t),n&&Jt(e,n)}(n,[{key:"render",value:function(){return this.props.children(qt(qt({},this.state),{},{fetch:this.fetch}))}}]),n}(r.Component);function on(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rn.displayName="ViewWorkflowService";var un={data:void 0,loading:!1,error:void 0,fetch:function(){return Promise.resolve()}},ln=function(e){var t=e.ViewWorkflowService,n=e.ContainerContextSubscriber,r=e.baseUrl,i=e.issueKey,s=e.children,a=i?Object(Ut.a)(i):null;return i&&a?o.a.createElement(n,null,(function(e){var n=function(e,t){if(e&&e.project){var n=e.project;if(n.key===t)return{projectId:Object(Ue.toProjectId)(n.id.toString()),projectType:n.type,isSimplified:n.isSimplified}}}(e.data,a);return n&&!Kt(n)?s(an({},un)):o.a.createElement(t,{baseUrl:r,issueKey:i,projectKey:n?void 0:a,isSimplified:n&&n.isSimplified},(function(e){var t=e.data,r=on(e,["data"]),o=n||t?an(an({},n),t):void 0;return s(an({data:o},r))}))})):s(an({},un))};ln.displayName="ViewWorkflowContextService",ln.defaultProps={ViewWorkflowService:rn};var fn=ln,dn=Object(i.defineMessages)({errorMessage:{id:"issue-field-status.common.view-workflow.error.error-message",defaultMessage:"Couldn\u2019t find the workflow."},tryAgain:{id:"issue-field-status.common.view-workflow.error.try-again",defaultMessage:"Try again"}}),pn=b.default.div(["height:","px;border-top:2px solid ",";display:flex;align-items:center;padding:0 ","px;justify-content:center;"],6*g.f,w.colors.N40,1.5*g.f),mn=b.default.div(["display:flex;flex-grow:1;height:100%;"]),yn=b.default.div(["margin-right:","px;"],g.f);function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jn(this,n)}}function jn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(n,e);var t=On(n);function n(){var e;gn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onRetry=function(t,n){Object(f.u)(n,"retryViewWorkflowButton"),e.props.onRetry(t)},e}return function(e,t,n){t&&vn(e.prototype,t),n&&vn(e,n)}(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage;return(o.a.createElement(f.b,{sourceName:"viewWorkflowError",sourceType:f.m},o.a.createElement(pn,null,o.a.createElement(yn,null,e(dn.errorMessage)),o.a.createElement(mn,null,o.a.createElement(R.b,{appearance:"link",spacing:"none",onClick:this.onRetry},e(dn.tryAgain))),o.a.createElement(f.f,null))))}}]),n}(r.Component);En.displayName="Error";var kn=Object(i.injectIntl)(En),Sn=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/create-event.js"),In=n("./src/packages/wrm/src/index.js"),Cn=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),Pn=Object(i.defineMessages)({viewWorkflow:{id:"issue-field-status.common.view-workflow.button.view-workflow",defaultMessage:"View workflow"}}),_n=b.default.div(["height:","px;border-top:2px solid ",";"],6*g.f,w.colors.N40),xn=b.default.div(["display:flex;flex-grow:1;height:100%;"]),Tn="".concat(1.5*g.f,"px"),An=b.default.div(["color:",";text-align:left;padding:0 ",";"],(function(e){return e.isDisabledColor?w.colors.N70:w.colors.N900}),Tn),Dn=function(e){var t=e.content,n=e.children;return t?o.a.createElement(Cn.a,{tag:"span",content:t},n):n},Rn=function(e){var t=e.isDisabled,n=e.isLoading,r=e.isInitialLoading,i=e.onClick,s=e.onMount,a=e.tooltipContent,c=e.intl;return(o.a.createElement(_n,null,o.a.createElement(f.k,{onMount:s}),o.a.createElement(Dn,{content:a},o.a.createElement(xn,null,o.a.createElement(R.b,{"data-test-id":"issue-field-status.common.ui.view-workflow.button.view-workflow",shouldFitContainer:!0,appearance:"subtle",spacing:"none",isDisabled:t,isLoading:n,onClick:i},o.a.createElement(An,{isDisabledColor:t&&!r},c.formatMessage(Pn.viewWorkflow)))))))};Rn.displayName="ViewWorkflowButton";var Mn=Object(i.injectIntl)(Rn),Ln=Object(i.defineMessages)({noPermission:{id:"issue-field-status.common.view-workflow.no-permission",defaultMessage:"You don't have permission to view this workflow."},loading:{id:"issue-field-status.common.view-workflow.loading",defaultMessage:"Looks like your connection is slow. We\u2019re still finding this workflow."}}),Nn=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),Fn=function(e){if(e.data&&e.data.viewIssue&&e.data.viewIssue.workflow)return{workflowName:e.data.viewIssue.workflow.name,currentStepId:e.data.viewIssue.workflow.step.id};throw new Error("TransformError")},Un=function(e,t){return Object(qe.i)("".concat(e,"/rest/gira/1/"),{body:JSON.stringify({query:"\nquery classicViewWorkflowQuery($issueKey: String!) {\n    viewIssue(issueKey: $issueKey) {\n        workflow {\n            name\n            step {\n                id\n            }\n        }\n    }\n}\n",variables:{issueKey:t}})}).then(Fn)};function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Hn(i,r,o,s,a,"next",e)}function a(e){Hn(i,r,o,s,a,"throw",e)}s(void 0)}))}}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(n,e);var t=Qn(n);function n(){var e;qn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={data:void 0,error:void 0,loading:!1},e.load=Gn(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onLoading(),n=e.props,r=n.baseUrl,o=n.issueKey,t.prev=2,e.fireAnalytics(),t.next=6,Un(r,o);case 6:i=t.sent,e.onLoadSucceeded(i),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),Ge.a.safeError("issue-field.status.classic-view-workflow-service.fetch","Failed to fetch classic view workflow data.",{errorReason:t.t0.message&&"TransformError"===t.t0.message?"transform":"fetch"}),e.onLoadFailed(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])}))),e}return function(e,t,n){t&&zn(e.prototype,t),n&&zn(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.shouldLoadOnMount&&this.load()}},{key:"onLoading",value:function(){this.setState({data:void 0,error:void 0,loading:!0})}},{key:"onLoadSucceeded",value:function(e){this.setState({data:e,error:void 0,loading:!1})}},{key:"onLoadFailed",value:function(e){this.setState({data:void 0,error:e,loading:!1})}},{key:"fireAnalytics",value:function(){var e=this.props.createAnalyticsEvent({action:"requested"});Object(f.r)(e,"classicViewWorkflowData requested")}},{key:"render",value:function(){return this.props.children(Bn(Bn({},this.state),{},{retry:this.load}))}}]),n}(r.Component);Zn.defaultProps={shouldLoadOnMount:!0},Zn.displayName="ClassicViewWorkflowService";var Xn=Object(Nn.a)()(Zn),er=Object(i.defineMessages)({title:{id:"issue-field-status.view-workflow.classic.flags.errors.load-modal-error.title",defaultMessage:"We couldn't load the workflow"},description:{id:"issue-field-status.view-workflow.classic.flags.errors.load-modal-error.description",defaultMessage:"Check your connection, then try reloading the page."}}),tr=function(){return{type:"error",title:er.title,description:er.description}};function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cr(e);if(t){var o=cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ar(this,n)}}function ar(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(n,e);var t=sr(n);function n(){var e;rr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isLoadingModal:!1,isRefetching:!1,isModalMounted:!1},e.modalApi=void 0,e.onClick=function(t,n,r,o){Object(f.u)(t,"viewWorkflowTrigger",{isSimplifiedProject:!1}),e.modalApi&&r&&o&&(e.setState({isLoadingModal:!0,isRefetching:!1}),e.modalApi.then((function(t){t.showDialog(r,o),window.dispatchEvent(Object(Sn.a)("resize")),e.setState({isModalMounted:!0})})).catch((function(){n&&n(tr()),e.setState({isLoadingModal:!1})})))},e.onRetry=function(t,n){return t.stopPropagation(),e.setState({isRefetching:!0}),n().then((function(){return e.setState({isRefetching:!1})}))},e.onMount=function(t){var n=e.props.hasPermission;Object(f.r)(t,"viewWorkflowTrigger mounted",{hasViewWorkflowPermission:n,isSimplifiedProject:!1})},e}return function(e,t,n){t&&or(e.prototype,t),n&&or(e,n)}(n,[{key:"componentDidMount",value:function(){var e="workflow-designer/view-classic-project-workflow";this.modalApi=Object(Be.a)({name:e,tentatives:0,shouldLogError:!1}).catch((function(){return Object(In.c)(["wr!com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer"]),Object(Be.a)({name:e})}))}},{key:"getTooltipMessage",value:function(e){var t=this.props,n=t.isServiceRefetching,r=t.intl,o=t.hasPermission;return n||e?r.formatMessage(Ln.loading):o?"":r.formatMessage(Ln.noPermission)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isServiceLoading,r=t.isServiceRefetching,i=t.issueKey,s=t.baseUrl,a=t.hasPermission,c=t.FlagServiceSubscriber,u=t.ClassicViewWorkflowService,l=this.state,f=l.isLoadingModal,d=l.isModalMounted,p=l.isRefetching,m=f&&!d,y=!a||m,b=m||r||p;return o.a.createElement(c,null,(function(t){var r=t.showFlag;return(o.a.createElement(u,{issueKey:i,baseUrl:s,shouldLoadOnMount:a},(function(t){var i=t.data,s=t.error,a=t.loading,c=t.retry;if(s)return o.a.createElement(kn,{onRetry:function(t){e.onRetry(t,c)}});var u=i?i.workflowName:null,l=i?i.currentStepId:null;return o.a.createElement(Mn,{onMount:e.onMount,tooltipContent:e.getTooltipMessage(n||a),isDisabled:y||a,isLoading:b,isInitialLoading:n||a,onClick:function(t,n){return e.onClick(n,r,u,l)}})})))}))}}]),n}(r.Component);ur.defaultProps={ClassicViewWorkflowService:Xn,FlagServiceSubscriber:ze.FlagServiceSubscriber},ur.displayName="ViewWorkflowClassic";var lr=Object(i.injectIntl)(ur);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gr(e);if(t){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return br(this,n)}}function br(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(n,e);var t=yr(n);function n(){var e;dr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isLoadingModal:!1},e.onMount=function(t){var n=e.props.hasPermission;Object(f.r)(t,"viewWorkflowTrigger mounted",{hasViewWorkflowPermission:n,isSimplifiedProject:!0})},e.onClick=function(t,n){Object(f.u)(n,"viewWorkflowTrigger",{isSimplifiedProject:!0}),e.setState({isLoadingModal:!0});var r=e.props,o=r.issueTypeId,i=void 0===o?Object(Ue.toIssueTypeId)(""):o,s=r.projectId,a=void 0===s?Object(Ue.toProjectId)(""):s;(0,r.onOpenModal)(i,a)},e}return function(e,t,n){t&&pr(e.prototype,t),n&&pr(e,n)}(n,[{key:"getTooltipMessage",value:function(){var e=this.props,t=e.isServiceLoading,n=e.isServiceRefetching,r=e.hasPermission,o=e.intl;return t||n?o.formatMessage(Ln.loading):r?"":o.formatMessage(Ln.noPermission)}},{key:"render",value:function(){var e=this.props,t=e.isServiceLoading,n=e.isServiceRefetching,r=e.hasPermission,i=e.isModalMounted,s=this.state.isLoadingModal&&!i,a=!r||s,c=n||s,u=this.getTooltipMessage();return o.a.createElement(Mn,{onMount:this.onMount,tooltipContent:u,isDisabled:a,isLoading:c,isInitialLoading:t,onClick:this.onClick})}}]),n}(r.Component);vr.defaultProps={hasPermission:!1},vr.displayName="ViewWorkflowSimplified";var hr=Object(i.injectIntl)(vr);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){jr(i,r,o,s,a,"next",e)}function a(e){jr(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pr(e);if(t){var o=Pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cr(this,n)}}function Cr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(n,e);var t=Ir(n);function n(){var e;Er(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isWorkflowServiceRefetching:!1},e.onWorkflowServiceRefetch=function(){var t=wr(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),e.setState({isWorkflowServiceRefetching:!0}),t.next=4,r();case 4:e.setState({isWorkflowServiceRefetching:!1});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return function(e,t,n){t&&kr(e.prototype,t),n&&kr(e,n)}(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.baseUrl,r=t.issueKey,i=t.isModalMounted,s=t.onOpenModal,a=t.workflowServiceApi,c=this.state.isWorkflowServiceRefetching,u=a.data,l=a.loading,f=a.error,d=a.fetch;if(f)return o.a.createElement(kn,{onRetry:function(t){e.onWorkflowServiceRefetch(t,d)}});if(!u||!Kt(u))return null;var p=u.isSimplified,m=u.projectId,y=u.issueTypeId,b=u.hasPermission;return p?o.a.createElement(hr,{projectId:m,issueTypeId:y,isModalMounted:i,hasPermission:b,isServiceLoading:l,isServiceRefetching:c,onOpenModal:s}):o.a.createElement(lr,{baseUrl:n,issueKey:r,hasPermission:b,isServiceLoading:l,isServiceRefetching:c})}}]),n}(r.Component);_r.displayName="ViewWorkflow";var xr=n("./node_modules/react-async-component/commonjs/index.js"),Tr=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),Ar=n("./src/packages/issue/workflow-readonly-modal/src/common/constants.js"),Dr=Object(xr.asyncComponent)({resolve:function(){return n.e("async-workflow-readonly-modal").then(n.bind(null,"./src/packages/issue/workflow-readonly-modal/src/index.js"))},LoadingComponent:function(){return o.a.createElement(Tr.PerformanceMark,{metricKey:Ar.d})}});function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ur(this,n)}}function Ur(e,t){return!t||"object"!==Rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(n,e);var t=Fr(n);function n(){var e;Mr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldMountWorkflow:!1},e}return function(e,t,n){t&&Lr(e.prototype,t),n&&Lr(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.issueKey,n=e.issueTypeId,r=e.baseUrl,i=e.locale,s=e.cloudId,a=e.projectId,c=e.isOpen,u=e.onModalMounted,l=e.onClose;return this.state.shouldMountWorkflow&&o.a.createElement(Dr,{onMounted:u,issueKey:t,issueTypeId:n,baseUrl:r,locale:i,isOpen:c,cloudId:s,projectId:a,onClose:l})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{shouldMountWorkflow:t.shouldMountWorkflow||e.isOpen}}}]),n}(r.Component);Kr.displayName="WorkflowModal";var Br=Kr;function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qr(e);if(t){var o=Qr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(n,e);var t=zr(n);function n(){var e;Hr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isWorkflowModalOpen:!1,isWorkflowModalMounted:!1,issueTypeId:Object(Ue.toIssueTypeId)(""),projectId:Object(Ue.toProjectId)("")},e.onOpenModal=function(t,n){e.setState({isWorkflowModalOpen:!0,issueTypeId:t,projectId:n})},e.onCloseModal=function(){e.setState({isWorkflowModalOpen:!1})},e.onModalMounted=function(){e.setState({isWorkflowModalMounted:!0})},e}return function(e,t,n){t&&Gr(e.prototype,t),n&&Gr(e,n)}(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.issueKey,r=t.projectType,i=t.isEditable,s=t.isOptimistic,a=t.initialValue,c=t.appearance,u=t.onSubmit,l=t.onSuccess,f=t.onFailure,d=t.onEditStart,p=t.onEditCancel,m=t.value,y=t.TenantContextSubscriber,b=t.ContainerContextSubscriber,g=t.preFetchTransitions,v=t.ViewWorkflowContextService;return o.a.createElement(y,null,(function(t){var y=t.tenantContext;return y?o.a.createElement(vt,{value:m,projectType:r,initialValue:a,issueKey:n,baseUrl:y.baseUrl,onSubmit:u,onSuccess:l,onFailure:f,onEditStart:d,onEditCancel:p},(function(t){var a=t.value,u=t.loading,l=t.transitionStatus,f=t.error,m=t.resetError;return(o.a.createElement(Ft,{issueKey:n,baseUrl:y.baseUrl,status:a,isSaving:u,preFetch:g,projectType:r},(function(t){var r=t.data,g=t.loading,h=t.fetch;return(o.a.createElement(v,{ContainerContextSubscriber:b,baseUrl:y.baseUrl,issueKey:n},(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{value:a,isEditable:i,isLoading:g,isSaving:!s&&u,appearance:c,transitions:r,onOpen:function(e){d(),h(e),t.data&&void 0!==t.data.hasPermission||t.fetch(),m()},onClose:p,onChange:l,error:f,footer:o.a.createElement(Ne.a,{id:"issue-field-view-workflow"},o.a.createElement(_r,{baseUrl:y.baseUrl,issueKey:n,workflowServiceApi:t,onOpenModal:e.onOpenModal,isModalMounted:e.state.isWorkflowModalMounted}))}),o.a.createElement(Fe.b,null,o.a.createElement(Br,{onModalMounted:e.onModalMounted,issueKey:n,issueTypeId:e.state.issueTypeId,baseUrl:y.baseUrl,locale:y.locale,cloudId:y.cloudId,projectId:e.state.projectId,isOpen:e.state.isWorkflowModalOpen,onClose:e.onCloseModal})))})))})))})):null}))}}]),n}(r.Component);Jr.defaultProps={isOptimistic:!0,TenantContextSubscriber:Ke.d,ContainerContextSubscriber:Ve.b,ViewWorkflowContextService:fn,preFetchTransitions:!1,projectType:null,onEditStart:a.a,onEditCancel:a.a,onSubmit:a.a,onSuccess:a.a,onFailure:a.a},Jr.displayName="StatusField";var $r=n("./src/packages/issue/fields/status/src/ui/status-lozenge/index.js")},"./src/packages/issue/fields/status/src/ui/status-lozenge/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/fields/status/src/common/ui/status-lozenge/index.js"),s=function(e){var t=e.value||e.initialValue;return t?o.a.createElement(i.b,{status:t,isEditable:!1,hasHoverState:!1,focused:!1}):null};s.displayName="StatusLozenge"},"./src/packages/issue/issue-actions/activity-feed-no-analytics/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),s=n("./src/packages/issue/issue-view/src/views/common/with-container-width/index.js"),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/actions/activity-feed-actions.js"),f=n("./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js"),d=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),p=n("./src/packages/issue/issue-view/src/common/skeleton/activity-feed-view.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),y=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),b=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),g=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),v=n("./src/packages/issue/issue-view/src/selectors/activity-feed-selector.js"),h=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),O=n("./src/packages/platform/utils/permalinks/src/index.js"),j=Object(a.defineMessages)({comments:{id:"issue-activity-feed.comments",defaultMessage:"Comments"},history:{id:"issue-activity-feed.history",defaultMessage:"History"},worklog:{id:"issue-activity-feed.worklog",defaultMessage:"Work log"},activity:{id:"issue-activity-feed.activity",defaultMessage:"Activity"},filterBy:{id:"issue-activity-feed.filter-by",defaultMessage:"Show:"}}),w=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),E=n("./node_modules/@atlaskit/theme/index.js"),k=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _=Object(w.default)(f.c)(["margin-top:","px;"],k.f/2);_.displayName="ActivityItemHeading";var x=w.default.div(["display:flex;"]),T=function(e){return function(t,n){var r=t(n),o=r.buttonStyles;return I(I({},P(r,["buttonStyles"])),{},{buttonStyles:I(I({},o),{},{padding:"0 ".concat(k.f/2,"px 0 ").concat(k.f/2,"px"),margin:"0 ".concat(k.f/2,"px 0 ").concat(k.f/2,"px"),backgroundColor:e?E.colors.N400:E.colors.N20,"&:hover":{backgroundColor:e?E.colors.N400:E.colors.N30},"&:active":{backgroundColor:e?E.colors.N400:E.colors.B50}})})}},A=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenuStateless.js"),D=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),R=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),M=n("./src/packages/issue/issue-view/src/common/styles/index.js"),L=w.default.span(["max-width:","px;display:inline-block;line-height:normal;vertical-align:text-bottom;",";"],20*k.f,M.g);L.displayName="DropdownTrigger";var N=Object(w.default)(R.a)(["min-width:","px;"],16*k.f);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}N.displayName="DropdownItem";var V=function(e){var t=e.items,n=e.selectedItem,i=e.onSelectActivityItem,s=F(Object(r.useState)(!1),2),a=s[0],c=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{isOpen:a,onOpenChange:function(e){var t=e.isOpen;return c(t)},trigger:o.a.createElement(L,null,n.name),triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",theme:T(a)},position:"bottom left"},o.a.createElement(D.a,null,t.filter((function(e){return e.key!==n.key})).map((function(e){return o.a.createElement(N,{key:e.key,onClick:function(){return i(e)}},e.name)})))))},K=n("./node_modules/@atlaskit/button--current/components/Button.js"),B=function(e){var t=e.items,n=e.selectedItem,r=e.onSelectActivityItem;return(o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(K.b,{key:e.key,appearance:"subtle",spacing:"compact",isSelected:n.key===e.key,onClick:function(){return r(e)},theme:T(n.key===e.key)},e.name)}))))},W=n("./src/packages/platform/utils/types/src/index.js"),H=n("./src/packages/issue/issue-actions/issue-history/src/index.js"),G=n("./src/packages/issue/issue-view/src/activity/comments-view.js"),q=n("./src/packages/issue/issue-view/src/activity/comments-view-old.js"),z=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view.js"),Y=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view-old.js"),Q=n("./src/packages/issue/issue-view/src/activity/worklog/index.js"),J=n("./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js"),$=n("./src/packages/issue/issue-view/src/common/state/selectors/timestamp-display-setting-selector.js"),Z=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-module-view/index.js"),X=Object(i.a)([Object(c.connect)((function(e){return{baseUrl:Object(m.f)(e),issueKey:Object(m.B)(e),timeZone:Object(y.y)(e),timestampDisplaySetting:Object($.a)(e)}}),{onSwitchTimestampDisplaySetting:J.b})])((function(e){var t=e.selectedItem,n=e.baseUrl,r=e.issueKey,i=e.timeZone,s=e.timestampDisplaySetting,a=e.onSwitchTimestampDisplaySetting;if(!t)return null;switch(t.type){case d.d:return Object(u.a)()?o.a.createElement(z.a,null):o.a.createElement(Y.a,null);case d.a:return Object(u.a)()?o.a.createElement(G.a,null):o.a.createElement(q.a,null);case d.b:return o.a.createElement(Z.b,{appKey:t.appKey,moduleKey:t.moduleKey,options:t.options,appName:t.name});case d.c:return o.a.createElement(H.a,{baseUrl:Object(W.toBaseUrl)(n),issueKey:Object(W.toIssueKey)(r),timeZone:i,timestampDisplaySetting:s,onSwitchTimestampDisplaySetting:a});case d.e:return o.a.createElement(Q.a,{timeZone:i,timestampDisplaySetting:s,onSwitchTimestampDisplaySetting:a});default:return null}}));function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(n,e);var t=se(n);function n(){var e;re(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getEcosystemActivity=function(){return e.props.ecosystemModules.map((function(e){return{key:"".concat(e.moduleKey).concat(e.appKey),type:d.b,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,options:e.options}}))},e.getJSDCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:d.d,type:d.d,name:o.formatMessage(j.comments)}]:[]},e.getCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:d.a,type:d.a,name:o.formatMessage(j.comments)}]:[]},e.getHistoryActivity=function(){return[{key:d.c,type:d.c,name:e.props.intl.formatMessage(j.history)}]},e.getWorklogActivity=function(){return e.props.shouldShowWorklog?[{key:d.e,type:d.e,name:e.props.intl.formatMessage(j.worklog)}]:[]},e.getActivityItems=function(){var t=e.props.isServiceDesk;return[].concat(te(t?e.getJSDCommentActivity():e.getCommentActivity()),te(e.getHistoryActivity()),te(e.getWorklogActivity()),te(e.getEcosystemActivity()))},e.getSelectedItemOld=function(t){return e.props.selectedItem||t&&t[0]},e.getSelectedItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.props.selectedItem)return e.props.selectedItem;var n=Object(O.d)();if(n){var r=n.permalinkType,o=t.find((function(e){return e.type===r}));if(o)return o}return t[0]},e}return function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(n,[{key:"render",value:function(){if(this.props.isPreview)return o.a.createElement(p.a,null);var e=this.getActivityItems(),t=Object(u.a)()?this.getSelectedItem(e):this.getSelectedItemOld(e);if(!e.length||!t)return null;var n=this.props,r=n.intl.formatMessage,i=n.setActivityItemsRef,s=n.shouldDisplayDropdown,a=n.onSwitchSelectedActivityItem;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(f.c,{leftAlign:!0},o.a.createElement(f.e,{"data-test-id":"issue-activity-feed.heading"},e.length>1?r(j.activity):t.name)),e.length>1?o.a.createElement(_,{leftAlign:!0},o.a.createElement(x,{innerRef:i},o.a.createElement(f.b,null,r(j.filterBy)),o.a.createElement(f.d,{leftAlign:!0},s?o.a.createElement(V,{items:e,selectedItem:t,onSelectActivityItem:a}):o.a.createElement(B,{items:e,selectedItem:t,onSelectActivityItem:a})))):null,o.a.createElement(X,{selectedItem:t})))}}]),n}(r.Component);ue.defaultProps={isServiceDesk:!1,shouldDisplayDropdown:!1,canAddComments:!1,selectedItem:null,ecosystemModules:[]},ue.displayName="FeedDisplay",ue.displayName="FeedDisplay";var le=Object(i.a)([a.injectIntl,Object(c.connect)((function(e){return{canAddComments:Object(h.b)(e),commentIds:Object(h.L)(e),ecosystemModules:Object(g.a)(e),isPreview:Object(y.s)(e),shouldShowWorklog:Object(b.e)(e),selectedItem:Object(v.a)(e),isServiceDesk:Object(m.v)(e)}}),{onSwitchSelectedActivityItem:l.b})])(ue);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(n,e);var t=ye(n);function n(){var e;de(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldDisplayDropdown:!1},e.componentDidMount=function(){e.setShouldDisplayDropdown()},e.componentDidUpdate=function(){e.setShouldDisplayDropdown()},e.setActivityItemsRef=function(t){e.activityItemsRef=t},e.setShouldDisplayDropdown=function(){var t=e.props.containerWidth,n=e.updateAndGetTotalWidth();if(0!==t&&0!==n){var r=t<=n+15;e.state.shouldDisplayDropdown!==r&&e.setState({shouldDisplayDropdown:r})}},e.getActivityItemsRefWidth=function(){return e.activityItemsRef?e.activityItemsRef.clientWidth:0},e.updateAndGetTotalWidth=function(){var t=e.getActivityItemsRefWidth();return e.totalExpandedWidth<t&&(e.totalExpandedWidth=t),e.totalExpandedWidth},e.totalExpandedWidth=0,e.activityItemsRef=void 0,e}return function(e,t,n){t&&pe(e.prototype,t),n&&pe(e,n)}(n,[{key:"render",value:function(){var e=this.state.shouldDisplayDropdown;return(o.a.createElement(le,{shouldDisplayDropdown:e,setActivityItemsRef:this.setActivityItemsRef}))}}]),n}(r.Component);ve.defaultProps={containerWidth:0},ve.displayName="ActivityFeed";t.a=Object(i.a)([s.a])(ve)},"./src/packages/issue/issue-actions/activity-feed/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),s=n("./src/packages/issue/issue-view/src/views/common/with-container-width/index.js"),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/actions/activity-feed-actions.js"),f=n("./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js"),d=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),p=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),m=n("./src/packages/issue/issue-view/src/common/skeleton/activity-feed-view.js"),y=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),b=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),g=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),v=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),h=n("./src/packages/issue/issue-view/src/selectors/activity-feed-selector.js"),O=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),j=n("./src/packages/platform/utils/permalinks/src/index.js"),w=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),E=Object(a.defineMessages)({comments:{id:"issue-activity-feed.comments",defaultMessage:"Comments"},history:{id:"issue-activity-feed.history",defaultMessage:"History"},worklog:{id:"issue-activity-feed.worklog",defaultMessage:"Work log"},activity:{id:"issue-activity-feed.activity",defaultMessage:"Activity"},filterBy:{id:"issue-activity-feed.filter-by",defaultMessage:"Show:"}}),k=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),S=n("./node_modules/@atlaskit/theme/index.js"),I=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var T=Object(k.default)(f.c)(["margin-top:","px;"],I.f/2);T.displayName="ActivityItemHeading";var A=k.default.div(["display:flex;"]),D=function(e){return function(t,n){var r=t(n),o=r.buttonStyles;return P(P({},x(r,["buttonStyles"])),{},{buttonStyles:P(P({},o),{},{padding:"0 ".concat(I.f/2,"px 0 ").concat(I.f/2,"px"),margin:"0 ".concat(I.f/2,"px 0 ").concat(I.f/2,"px"),backgroundColor:e?S.colors.N400:S.colors.N20,"&:hover":{backgroundColor:e?S.colors.N400:S.colors.N30},"&:active":{backgroundColor:e?S.colors.N400:S.colors.B50}})})}},R=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenuStateless.js"),M=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),L=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),N=n("./src/packages/issue/issue-view/src/common/styles/index.js"),F=k.default.span(["max-width:","px;display:inline-block;line-height:normal;vertical-align:text-bottom;",";"],20*I.f,N.g);F.displayName="DropdownTrigger";var U=Object(k.default)(L.a)(["min-width:","px;"],16*I.f);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}U.displayName="DropdownItem";var B=function(e){var t=e.items,n=e.selectedItem,i=e.onSelectActivityItem,s=V(Object(r.useState)(!1),2),a=s[0],c=s[1];return o.a.createElement(w.b,{sourceType:w.d,sourceName:"activityFeed"},o.a.createElement(w.k,{onMount:w.s}),o.a.createElement(R.a,{isOpen:a,onOpenChange:function(e,t){var n=e.isOpen;c(n),Object(w.u)(t,{isOpen:n})},trigger:o.a.createElement(F,null,n.name),triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",theme:D(a)},position:"bottom left"},o.a.createElement(M.a,null,t.filter((function(e){return e.key!==n.key})).map((function(e){return o.a.createElement(W,{key:e.key,onClick:function(t,n){return i(e,n,"dropdownItemSelected")}},e.name)})))))};B.displayName="ActivityFeedDropdown";var W=Object(w.a)("dropdownItem",{onClick:"clicked"})(U),H=n("./node_modules/@atlaskit/button--current/components/Button.js"),G=function(e){var t=e.items,n=e.selectedItem,r=e.onSelectActivityItem;return(o.a.createElement(w.b,{sourceType:w.m,sourceName:"activityFeedButtons"},o.a.createElement(w.k,{onMount:w.s}),t.map((function(e){return o.a.createElement(H.b,{key:e.key,appearance:"subtle",spacing:"compact",isSelected:n.key===e.key,onClick:function(t,n){return r(e,n,"buttonItemSelected")},theme:D(n.key===e.key)},e.name)}))))};G.displayName="ActivityFeedButtons";var q=n("./src/packages/platform/utils/types/src/index.js"),z=n("./src/packages/issue/issue-actions/issue-history/src/index.js"),Y=n("./src/packages/issue/issue-view/src/activity/comments-view.js"),Q=n("./src/packages/issue/issue-view/src/activity/comments-view-old.js"),J=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view.js"),$=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view-old.js"),Z=n("./src/packages/issue/issue-view/src/activity/worklog/index.js"),X=n("./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js"),ee=n("./src/packages/issue/issue-view/src/common/state/selectors/timestamp-display-setting-selector.js"),te=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-module-view/index.js"),ne=Object(i.a)([Object(c.connect)((function(e){return{baseUrl:Object(y.f)(e),issueKey:Object(y.B)(e),timeZone:Object(b.y)(e),timestampDisplaySetting:Object(ee.a)(e)}}),(function(e){return{onSwitchTimestampDisplaySetting:function(t){e(Object(X.b)(t))}}}))])((function(e){var t=e.selectedItem,n=e.baseUrl,r=e.issueKey,i=e.timeZone,s=e.timestampDisplaySetting,a=e.onSwitchTimestampDisplaySetting;if(!t)return null;switch(t.type){case d.d:return Object(u.a)()?o.a.createElement(J.a,null):o.a.createElement($.a,null);case d.a:return Object(u.a)()?o.a.createElement(Y.a,null):o.a.createElement(Q.a,null);case d.b:return o.a.createElement(te.b,{appKey:t.appKey,moduleKey:t.moduleKey,options:t.options,appName:t.name});case d.c:return o.a.createElement(z.a,{baseUrl:Object(q.toBaseUrl)(n),issueKey:Object(q.toIssueKey)(r),timeZone:i,timestampDisplaySetting:s,onSwitchTimestampDisplaySetting:a});case d.e:return o.a.createElement(Z.a,{timeZone:i,timestampDisplaySetting:s,onSwitchTimestampDisplaySetting:a});default:return null}}));function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(n,e);var t=ue(n);function n(){var e;se(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).getEcosystemActivity=function(){return e.props.ecosystemModules.map((function(e){return{key:"".concat(e.moduleKey).concat(e.appKey),type:d.b,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,options:e.options}}))},e.getJSDCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:d.d,type:d.d,name:o.formatMessage(E.comments)}]:[]},e.getCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:d.a,type:d.a,name:o.formatMessage(E.comments)}]:[]},e.getHistoryActivity=function(){return[{key:d.c,type:d.c,name:e.props.intl.formatMessage(E.history)}]},e.getWorklogActivity=function(){return e.props.shouldShowWorklog?[{key:d.e,type:d.e,name:e.props.intl.formatMessage(E.worklog)}]:[]},e.getActivityItems=function(){var t=e.props.isServiceDesk;return[].concat(oe(t?e.getJSDCommentActivity():e.getCommentActivity()),oe(e.getHistoryActivity()),oe(e.getWorklogActivity()),oe(e.getEcosystemActivity()))},e.getSelectedItemOld=function(t){return e.props.selectedItem||t&&t[0]},e.getSelectedItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.props.selectedItem)return e.props.selectedItem;var n=Object(j.d)();if(n){var r=n.permalinkType,o=t.find((function(e){return e.type===r}));if(o)return o}return t[0]},e.selectActivityItem=function(t,n,r){Object(w.u)(n,r,t.type===d.b?Object(p.a)(t.appKey,t.moduleKey):{}),e.props.onSwitchSelectedActivityItem(t)},e.renderChangeboardingMount=function(){if(!Object(u.a)())return null;var e=(Object(j.d)()||{}).permalinkType;return e===d.a||e===d.e?o.a.createElement(w.k,{onMount:function(t){Object(w.r)(t,e===d.a?"permalinkWithChangeboardingModalComments mounted":"permalinkWithChangeboardingModalWorklog mounted")}}):null},e}return function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(n,[{key:"render",value:function(){if(this.props.isPreview)return o.a.createElement(m.a,null);var e=this.getActivityItems(),t=Object(u.a)()?this.getSelectedItem(e):this.getSelectedItemOld(e);if(!e.length||!t)return null;var n=this.props,r=n.intl.formatMessage,i=n.setActivityItemsRef,s=n.shouldDisplayDropdown;return(o.a.createElement(w.b,{sourceType:w.m,sourceName:"activityFeed"},this.renderChangeboardingMount(),o.a.createElement(f.c,{leftAlign:!0},o.a.createElement(f.e,{"data-test-id":"issue-activity-feed.heading"},e.length>1?r(E.activity):t.name)),e.length>1?o.a.createElement(T,{leftAlign:!0},o.a.createElement(A,{innerRef:i},o.a.createElement(f.b,null,r(E.filterBy)),o.a.createElement(f.d,{leftAlign:!0},s?o.a.createElement(B,{items:e,selectedItem:t,onSelectActivityItem:this.selectActivityItem}):o.a.createElement(G,{items:e,selectedItem:t,onSelectActivityItem:this.selectActivityItem})))):null,o.a.createElement(ne,{selectedItem:t})))}}]),n}(r.Component);de.defaultProps={isServiceDesk:!1,shouldDisplayDropdown:!1,canAddComments:!1,selectedItem:null,ecosystemModules:[]},de.displayName="FeedDisplay",de.displayName="FeedDisplay";var pe=Object(i.a)([a.injectIntl,Object(c.connect)((function(e){return{isPreview:Object(b.s)(e),isServiceDesk:Object(y.v)(e),shouldShowWorklog:Object(g.e)(e),canAddComments:Object(O.b)(e),commentIds:Object(O.L)(e),ecosystemModules:Object(v.a)(e),selectedItem:Object(h.a)(e)}}),(function(e){return{onSwitchSelectedActivityItem:function(t){e(Object(l.b)(t))}}}))])(de);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(n,e);var t=ve(n);function n(){var e;ye(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldDisplayDropdown:!1},e.componentDidMount=function(){e.setShouldDisplayDropdown()},e.componentDidUpdate=function(){e.setShouldDisplayDropdown()},e.setActivityItemsRef=function(t){e.activityItemsRef=t},e.setShouldDisplayDropdown=function(){var t=e.props.containerWidth,n=e.updateAndGetTotalWidth();if(0!==t&&0!==n){var r=t<=n+15;e.state.shouldDisplayDropdown!==r&&e.setState({shouldDisplayDropdown:r})}},e.getActivityItemsRefWidth=function(){return e.activityItemsRef?e.activityItemsRef.clientWidth:0},e.updateAndGetTotalWidth=function(){var t=e.getActivityItemsRefWidth();return e.totalExpandedWidth<t&&(e.totalExpandedWidth=t),e.totalExpandedWidth},e.totalExpandedWidth=0,e.activityItemsRef=void 0,e}return function(e,t,n){t&&be(e.prototype,t),n&&be(e,n)}(n,[{key:"render",value:function(){var e=this.state.shouldDisplayDropdown;return(o.a.createElement(pe,{shouldDisplayDropdown:e,setActivityItemsRef:this.setActivityItemsRef}))}}]),n}(r.Component);je.defaultProps={containerWidth:0},je.displayName="ActivityFeed";t.a=Object(i.a)([s.a])(je)},"./src/packages/issue/issue-actions/issue-history/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/ui/error-boundary/src/index.js"),s=n("./src/packages/issue/issue-view/src/activity/common/context/timestamp-display-settings/index.js"),a=n("./src/packages/issue/issue-view/src/activity/common/component/feed-skeleton/index.js"),c=n("./src/packages/issue/issue-view/src/activity/common/styles/index.js"),u=n("./node_modules/date-fns/parse/index.js"),l=n.n(u),f=n("./src/packages/platform/utils/constants/src/status-categories.js"),d=n("./src/packages/platform/utils/fetch/src/index.js");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){return e?{avatarUrl:e.avatarUrls["48x48"],displayName:e.displayName,accountId:e.accountId}:null},w=function(e){var t=e.fieldType,n=e.fieldSchema,r=e.fieldId,o=e.fieldDisplayName,i=e.timestamp,s=e.actor,a=e.from,c=e.to;a=a||{},c=c||{};var u=j(s),d=l()(i);return"jira"===t&&"assignee"===r?{type:"ASSIGNEE_CHANGED",actor:u,timestamp:d,fromUser:a.displayValue?{displayName:a.displayValue,avatarUrl:a.avatarUrl,accountId:a.accountId}:null,toUser:c.displayValue?{displayName:c.displayValue,avatarUrl:c.avatarUrl,accountId:c.accountId}:null}:"jira"===t&&"status"===r?{type:"STATUS_CHANGED",actor:u,timestamp:d,fromStatus:a.displayValue?{name:a.displayValue,statusCategory:Object(f.statusCategoryForId)(a.categoryId)}:null,toStatus:c.displayValue?{name:c.displayValue,statusCategory:Object(f.statusCategoryForId)(c.categoryId)}:null}:"jira"===t&&"comment"===r?{type:"COMMENT_CHANGED",actor:u,timestamp:d}:"jira"===t&&"attachment"===r?{type:"ATTACHMENT_CHANGED",actor:u,timestamp:d,filename:a.displayValue||c.displayValue||"",action:a.displayValue?"ATTACHMENT_DELETED":"ATTACHMENT_UPLOADED"}:"jira"===t&&"priority"===r?{type:"PRIORITY_CHANGED",actor:u,timestamp:d,fromPriority:{iconUrl:a.iconUrl||"",name:a.displayValue||""},toPriority:{iconUrl:c.iconUrl||"",name:c.displayValue||""}}:"jira"===t&&"WorklogId"===o&&c.worklog?{type:"WORK_LOGGED",actor:u,timestamp:d,comment:c.worklog.comment,timeSpent:c.worklog.timeSpent}:"jira"===t&&"IssueParentAssociation"===o?{type:"PARENT_ISSUE_CHANGED",actor:u,timestamp:d,fromValue:a.displayValue,toValue:c.displayValue}:"jira"!==t||"timespent"!==r&&"timeestimate"!==r&&"timeoriginalestimate"!==r?"custom"===t&&n&&"com.atlassian.jira.plugin.system.customfieldtypes:float"===n.customFieldType?{type:"NUMERIC_FIELD_CHANGED",actor:u,timestamp:d,field:e.fieldDisplayName,fromValue:a.displayValue?Number(a.displayValue):null,toValue:c.displayValue?Number(c.displayValue):null}:("jira"===t||"custom"===t)&&n&&"date"===n.type||"custom"===t&&n&&"datetime"===n.type?{type:"DATE_ISSUE_CHANGED",actor:u,timestamp:d,field:e.fieldDisplayName,fromDate:a.value,toDate:c.value,fieldSchema:n.type}:{type:"FIELD_CHANGED",actor:u,timestamp:d,field:e.fieldDisplayName,fromValue:a.displayValue,toValue:c.displayValue}:{type:"TIME_CHANGED",actor:u,field:e.fieldDisplayName,timestamp:d,timeTrackingConfig:e.timeTrackingConfig?e.timeTrackingConfig:null,fromTime:parseInt(a.value,10),toTime:parseInt(c.value,10)}},E=function(e){var t=e.items;return{nextPageStartIndex:e.nextPageStartAt,isLastPage:e.isLast,history:t.map(w)}},k=function(e){var t=e.fields,n=t.created,r=t.creator;return{type:"ISSUE_CREATED",actor:j(r),timestamp:l()(n)}},S=function(e,t){return h(h({},e),{},{history:[h({},t)].concat(y(e.history))})},I=function(e,t,n){return Object(d.g)(function(e,t,n){return"".concat(e,"/rest/internal/2/issue/").concat(t,"/activityfeed?startAt=").concat(n)}(e,t,n)).then(E)},C=function(e,t){return Object(d.g)(function(e,t){return"".concat(e,"/rest/api/3/issue/").concat(t,"?fields=creator,created")}(e,t)).then(k)},P=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){m(i,r,o,s,a,"next",e)}function a(e){m(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r){var o,i,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=8;break}return e.next=3,Promise.all([I(t,n,r),C(t,n)]);case 3:return o=e.sent,i=p(o,2),s=i[0],a=i[1],e.abrupt("return",S(s,a));case 8:return e.abrupt("return",I(t,n,r));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function _(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e,t){switch(t.type){case"FETCH_PAGE_SUCCESS":return t.issueKey!==e.issueKey?e:M(M({},e),{},{status:"IDLE",nextPageStartIndex:t.response.isLastPage?null:t.response.nextPageStartIndex,historyItems:[].concat(T(e.historyItems),T(t.response.history))});case"FETCH_PAGE_FAILURE":return t.issueKey!==e.issueKey?e:M(M({},e),{},{status:"ERROR"});case"NEXT_PAGE_REQUESTED":return M(M({},e),{},{status:"LOADING_SUBSEQUENT_PAGE"});case"CHANGE_ISSUE_REQUESTED":return{issueKey:t.issueKey,status:"LOADING_FIRST_PAGE",historyItems:[],nextPageStartIndex:0};default:throw t.type,new Error("Unknown action type in issue history reducer: ".concat(t.type))}},F=function(e,t){var n=x(Object(r.useReducer)(N,function(e){return{status:"IDLE",issueKey:e,historyItems:[],nextPageStartIndex:0}}(t)),2),o=n[0],i=n[1],s=Object(r.useCallback)(function(){var n=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){_(i,r,o,s,a,"next",e)}function a(e){_(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P(e,t,r);case 3:o=n.sent,i({type:"FETCH_PAGE_SUCCESS",response:o,issueKey:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),i({type:"FETCH_PAGE_FAILURE",issueKey:t});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),[e,t]);Object(r.useEffect)((function(){i({type:"CHANGE_ISSUE_REQUESTED",issueKey:t}),s(0)}),[s,t]);var a=o.status,c=o.historyItems;return{loading:"LOADING_FIRST_PAGE"===a,loadingMore:"LOADING_SUBSEQUENT_PAGE"===a,error:"ERROR"===a,hasMore:null!==o.nextPageStartIndex,data:c,loadMore:function(){var e=o.status,t=o.nextPageStartIndex;"IDLE"===e&&null!==t&&(i({type:"NEXT_PAGE_REQUESTED"}),s(t))}}},U=function(e){var t=e.baseUrl,n=e.issueKey;return(0,e.children)(F(t,n))},V=n("./node_modules/react-intl/lib/index.es.js"),K=n("./src/packages/issue/issue-view/src/common/component/button/index.js"),B=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),W=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),H=n("./node_modules/@atlaskit/theme/index.js"),G=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),q=W.default.div(["display:flex;align-items:center;margin-top:","px;color:",";"],G.f,H.colors.N500);q.displayName="Container";var z=W.default.span(["color:",";"],H.colors.N90);z.displayName="Subtle";var Y=W.default.div(["margin:0 ","px;&::before{display:block;content:'\u2192';}"],G.f);Y.displayName="Arrow";var Q=W.default.div(["max-width:50%;"]),J=Object(V.defineMessages)({none:{id:"issue-history.common.change.none",defaultMessage:"None"}}),$=function(e){var t=e.value,n=e.intl;return(o.a.createElement(Q,null,t||o.a.createElement(z,null,n.formatMessage(J.none))))};$.displayName="Value";var Z=Object(V.injectIntl)((function(e){var t=e.from,n=e.to,r=e.intl;return(t||n)&&o.a.createElement(q,null,o.a.createElement($,{value:t,intl:r}),o.a.createElement(Y,null),o.a.createElement($,{value:n,intl:r}))})),X=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),ee=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),te=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),ne=n("./src/packages/issue/issue-view/src/common/component/timestamp/index.js"),re=n("./src/packages/issue/issue-view/src/views/common/with-profilecard-next/index.js"),oe=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),ie=Object(V.defineMessages)({anonymousUser:{id:"issue-history.common.history-item.anonymous-user",defaultMessage:"Anonymous user"}}),se=W.default.div(["margin:","px 0;display:flex;"],3*G.f);se.displayName="Container";var ae=W.default.div(["height:36px;margin-right:","px;width:36px;display:flex;align-items:center;justify-content:center;"],G.f);ae.displayName="Avatar";var ce=W.default.div(["flex-grow:1;align-self:center;width:calc(95% - 30px);"]);ce.displayName="Content";var ue=W.default.div([""]);ue.displayName="Summary";var le=W.default.span(["margin-left:","px;"],G.f);le.displayName="TimestampContainer";var fe=Object(X.a)("div",{target:"e12j7rwc0"})({name:"1lv1yo7",styles:"display:inline-flex"}),de=W.default.div(["display:inline-flex;"]),pe=Object(te.a)((function(){return Object(oe.b)("jfp.remove-emotion-from-issue",!1)}),de,fe),me=function(e,t){return null===e?t.formatMessage(ie.anonymousUser):o.a.createElement(pe,null,o.a.createElement(re.a,{userAccount:e,analyticsData:{trigger:"history-item-actor-name"}},o.a.createElement(c.d,null,e.displayName)))};me.displayName="renderActorNameWithProfileCard";var ye=function(e){var t=e.action,n=e.change,r=e.actor,i=e.timestamp,a=e.testId,u=e.intl;return(o.a.createElement(se,{"data-test-id":a},o.a.createElement(re.a,{userAccount:r,analyticsData:{trigger:"history-item-actor-avatar"}},o.a.createElement(ae,null,o.a.createElement(ee.a,{size:"medium",src:r?r.avatarUrl:void 0}))),o.a.createElement(ce,null,o.a.createElement(ue,null,me(r,u)," ",t,o.a.createElement(le,null,o.a.createElement(s.a,null,(function(e){var t=e.timestampDisplaySetting,n=e.onSwitchTimestampDisplaySetting,r=e.timeZone;return(o.a.createElement(ne.a,{value:i,displaySetting:t,onSwitchDisplaySetting:n,extraStyles:c.a,timeZone:r,tooltipPosition:"top"}))})))),n)))};ye.displayName="HistoryItem";var be=Object(V.injectIntl)(ye),ge=Object(V.defineMessages)({unassigned:{id:"issue-history.history-items.assignee-history-item.assignee.unassigned",defaultMessage:"Unassigned"}}),ve=W.default.div(["display:flex;align-items:center;"]),he=W.default.div(["height:36px;margin-right:8px;"]),Oe=W.default.div([""]),je=Object(V.injectIntl)((function(e){var t=e.user,n=e.intl;return t?o.a.createElement(ve,null,o.a.createElement(he,null,o.a.createElement(ee.a,{src:t.avatarUrl})),o.a.createElement(Oe,null,t.displayName)):o.a.createElement(z,null,n.formatMessage(ge.unassigned))})),we=Object(V.defineMessages)({changed:{id:"issue-history.history-items.assignee-history-item.changed",defaultMessage:"changed the {assignee}"},assignee:{id:"issue-history.history-items.assignee-history-item.assignee",defaultMessage:"Assignee"}});function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke=function(e){var t=e.historyItem,n=e.Assignee,r=t.actor,i=t.timestamp,s=t.fromUser,a=t.toUser;return o.a.createElement(V.FormattedMessage,Ee({},we.changed,{values:{assignee:o.a.createElement(c.d,{key:"assignee"},o.a.createElement(V.FormattedMessage,we.assignee))}}),(function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.assignee-history-item.history-item",actor:r,action:t,timestamp:i,change:o.a.createElement(Z,{from:o.a.createElement(n,{user:s}),to:o.a.createElement(n,{user:a})})}))}))};ke.displayName="AssigneeHistoryItem",ke.defaultProps={Assignee:je};var Se=ke,Ie=Object(V.defineMessages)({uploaded:{id:"issue-history.history-items.attachment-history-item.uploaded",defaultMessage:"added an {attachment}"},deleted:{id:"issue-history.history-items.attachment-history-item.deleted",defaultMessage:"deleted an {attachment}"},attachment:{id:"issue-history.history-items.attachment-history-item.attachment",defaultMessage:"Attachment"}});function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pe=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.filename,s=t.action,a="ATTACHMENT_UPLOADED"===s?Ie.uploaded:Ie.deleted;return o.a.createElement(V.FormattedMessage,Ce({},a,{values:{attachment:o.a.createElement(c.d,{key:"attachment"},o.a.createElement(V.FormattedMessage,Ie.attachment))}}),(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.attachment-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:"ATTACHMENT_DELETED"===s?i:null,to:"ATTACHMENT_UPLOADED"===s?i:null})}))}))};Pe.displayName="AttachmentHistoryItem";var _e=Pe,xe=Object(V.defineMessages)({deleted:{id:"issue-history.history-items.comment-history-item.deleted",defaultMessage:"deleted a {comment}"},comment:{id:"issue-history.history-items.comment-history-item.comment",defaultMessage:"Comment"}});function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ae=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp;return o.a.createElement(V.FormattedMessage,Te({},xe.deleted,{values:{comment:o.a.createElement(c.d,{key:"comment"},o.a.createElement(V.FormattedMessage,xe.comment))}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.comment-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:null,to:null})}))}))};Ae.displayName="CommentHistoryItem";var De=Ae,Re=n("./node_modules/moment-timezone/index.js"),Me=n.n(Re),Le=Object(V.defineMessages)({updatedField:{id:"issue-history.common.updated-field",defaultMessage:"updated the {field}"}});function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fe=function(e,t,n){if(null===e||0===e.length)return null;var r=n?"YYYY/MM/DD h:mm A":"YYYY/MM/DD";return Me()(new Date(e)).tz(t).format(r)},Ue=function(e){var t=e.historyItem,n=t.actor,r=t.field,i=t.timestamp,a=t.fromDate,u=t.toDate,l=t.fieldSchema;return o.a.createElement(V.FormattedMessage,Ne({},Le.updatedField,{values:{field:o.a.createElement(c.d,{key:"field"},r)}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o.a.createElement(s.a,null,(function(e){var r=e.timeZone;return(o.a.createElement(be,{testId:"issue-history.ui.history-items.date-history-item.history-item",actor:n,action:t,timestamp:i,change:o.a.createElement(Z,{from:Fe(a,r,"datetime"===l),to:Fe(u,r,"datetime"===l)})}))})))}))};Ue.displayName="DateChangedHistoryItemView";var Ve=Ue,Ke=Object(V.defineMessages)({added:{id:"issue-history.history-items.flag-history-item.added",defaultMessage:"added a {flag}"},removed:{id:"issue-history.history-items.flag-history-item.removed",defaultMessage:"removed a {flag}"},flag:{id:"issue-history.history-items.flag-history-item.flag",defaultMessage:"Flag"}});function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var We=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i="FLAG_ADDED"===t.action?Ke.added:Ke.removed;return o.a.createElement(V.FormattedMessage,Be({},i,{values:{flag:o.a.createElement(c.d,{key:"flag"},o.a.createElement(V.FormattedMessage,Ke.flag))}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.flag-history-item.history-item",actor:n,action:t,timestamp:r,change:null}))}))};We.displayName="FlagHistoryItem";var He=We,Ge=W.default.span(["overflow-x:auto;"]);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Ge.displayName="Value";var ze=function(e){var t=e.historyItem,n=t.actor,r=t.field,i=t.timestamp,s=t.fromValue,a=t.toValue;return o.a.createElement(V.FormattedMessage,qe({},Le.updatedField,{values:{field:o.a.createElement(c.d,{key:"field"},r)}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.generic-history-item.history-item",actor:n,action:t,timestamp:i,change:o.a.createElement(Z,{from:s?o.a.createElement(Ge,null,s):null,to:a?o.a.createElement(Ge,null,a):null})}))}))};ze.displayName="GenericHistoryItem";var Ye=ze,Qe=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp;return o.a.createElement(V.FormattedMessage,{id:"issue.history.created-issue-type",defaultMessage:"created the {issue}",values:{issue:o.a.createElement(c.d,{key:"issueType"},o.a.createElement(V.FormattedMessage,{id:"issue.history.created-issue-type.issue",defaultMessage:"Issue"}))}},(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.issue-created-history-item.history-item",actor:n,action:t,timestamp:r,change:null}))}))};Qe.displayName="IssueCreatedHistoryItem";var Je=Qe,$e=Object(V.defineMessages)({loadMore:{id:"issue-history.history-items.load-more",defaultMessage:"Load more"}}),Ze=n("./node_modules/@atlaskit/badge--current/components/index.js");function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var et=function(e){var t=e.historyItem,n=t.field,r=t.actor,i=t.timestamp,s=t.fromValue,a=t.toValue,u=o.a.createElement(Z,{from:null!==s?o.a.createElement(Ze.a,{max:1/0,value:s}):null,to:null!==a?o.a.createElement(Ze.a,{max:1/0,value:a}):null});return o.a.createElement(V.FormattedMessage,Xe({},Le.updatedField,{values:{field:o.a.createElement(c.d,{key:"field"},n)}}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.numeric-value-history-item.history-item",actor:r,action:t,timestamp:i,change:u}))}))};et.displayName="NumericValueHistoryItem";var tt=et,nt=Object(V.defineMessages)({changed:{id:"issue-history.history-items.parent-issue-history-item.changed",defaultMessage:"changed the {parent}"},parent:{id:"issue-history.history-items.parent-issue-history-item.parent",defaultMessage:"Parent"}});function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ot=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.fromValue,s=t.toValue;return o.a.createElement(V.FormattedMessage,rt({},nt.changed,{values:{parent:o.a.createElement(c.d,{key:"parent"},o.a.createElement(V.FormattedMessage,nt.parent))}}),(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.parent-issue-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:i,to:s})}))}))};ot.displayName="ParentIssueHistoryItem";var it=ot,st=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/text-with-icon/index.js"),at=Object(V.defineMessages)({changed:{id:"issue-history.history-items.priority-history-item.changed",defaultMessage:"changed the {priority}"},priority:{id:"issue-history.history-items.priority-history-item.priority",defaultMessage:"Priority"}});function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ut=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.fromPriority,s=t.toPriority;return o.a.createElement(V.FormattedMessage,ct({},at.changed,{values:{priority:o.a.createElement(c.d,{key:"priority"},o.a.createElement(V.FormattedMessage,at.priority))}}),(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.priority-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:o.a.createElement(st.a,{iconUrl:i.iconUrl},i.name),to:o.a.createElement(st.a,{iconUrl:s.iconUrl},s.name)})}))}))};ut.displayName="PriorityHistoryItem";var lt=ut,ft=n("./node_modules/@atlaskit/lozenge/Lozenge/index.js"),dt=n("./src/packages/issue/issue-view/src/common/util/time-string/index.js");function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mt=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.fromTime,s=t.toTime,a=t.timeTrackingConfig,u=t.field,l=i,f=s;if(a){var d=a.hoursPerDay,p=a.daysPerWeek;l=i&&Object(dt.c)(p,d)(i),f=s&&Object(dt.c)(p,d)(s)}return(o.a.createElement(V.FormattedMessage,pt({},Le.updatedField,{values:{field:o.a.createElement(c.d,{key:"field"},u)}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.time-changed-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:l&&o.a.createElement(ft.a,null,l),to:f&&o.a.createElement(ft.a,null,f)})}))})))};mt.displayName="TimeChangedHistoryItemView";var yt=mt,bt=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/status-lozenge/index.js"),gt=Object(V.defineMessages)({changed:{id:"issue-history.history-items.transition-history-item.changed",defaultMessage:"changed the {status}"},status:{id:"issue-history.history-items.transition-history-item.status",defaultMessage:"Status"}});function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ht=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.fromStatus,s=t.toStatus;return o.a.createElement(V.FormattedMessage,vt({},gt.changed,{values:{status:o.a.createElement(c.d,{key:"status"},o.a.createElement(V.FormattedMessage,gt.status))}}),(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.transition-history-item.history-item",actor:n,action:t,timestamp:r,change:o.a.createElement(Z,{from:i&&o.a.createElement(bt.a,{category:i.statusCategory,name:i.name}),to:s&&o.a.createElement(bt.a,{category:s.statusCategory,name:s.name})})}))}))};ht.displayName="TransitionHistoryItem";var Ot=ht,jt=Object(V.defineMessages)({loggedWork:{id:"issue-history.history-items.worklog-history-item.logged-work",defaultMessage:"logged {time}"}});function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Et=function(e){var t=e.historyItem,n=t.actor,r=t.timestamp,i=t.comment,s=t.timeSpent;return o.a.createElement(V.FormattedMessage,wt({},jt.loggedWork,{values:{time:o.a.createElement(c.d,{key:"priority"},s)}}),(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(o.a.createElement(be,{testId:"issue-history.ui.history-items.worklog-history-item.history-item",actor:n,action:t,timestamp:r,change:i}))}))};Et.displayName="WorklogHistoryItem";var kt=Et,St=function(e){var t=e.history,n=e.intl,r=e.isLoadingMore,i=e.onLoadMore,s=e.hasMore;return(o.a.createElement(B.b,{sourceName:"historyItems",sourceType:B.m},t.map((function(e,t){switch(e.type){case"ASSIGNEE_CHANGED":return o.a.createElement(Se,{key:t,historyItem:e});case"STATUS_CHANGED":return o.a.createElement(Ot,{key:t,historyItem:e});case"COMMENT_CHANGED":return o.a.createElement(De,{key:t,historyItem:e});case"ATTACHMENT_CHANGED":return o.a.createElement(_e,{key:t,historyItem:e});case"PRIORITY_CHANGED":return o.a.createElement(lt,{key:t,historyItem:e});case"FLAG_CHANGED":return o.a.createElement(He,{key:t,historyItem:e});case"ISSUE_CREATED":return o.a.createElement(Je,{key:t,historyItem:e});case"FIELD_CHANGED":return o.a.createElement(Ye,{key:t,historyItem:e});case"NUMERIC_FIELD_CHANGED":return o.a.createElement(tt,{key:t,historyItem:e});case"TIME_CHANGED":return o.a.createElement(yt,{key:t,historyItem:e});case"WORK_LOGGED":return o.a.createElement(kt,{key:t,historyItem:e});case"PARENT_ISSUE_CHANGED":return o.a.createElement(it,{key:t,historyItem:e});case"DATE_ISSUE_CHANGED":return o.a.createElement(Ve,{key:t,historyItem:e});default:return null}})),s&&o.a.createElement("div",{"data-test-id":"issue-history.ui.history-items.load-more-button"},o.a.createElement(K.a,{shouldFitContainer:!0,isDisabled:r,isLoading:r,onClick:i},n.formatMessage($e.loadMore))),o.a.createElement(B.f,null)))};St.displayName="HistoryItems";var It=Object(V.injectIntl)(St),Ct=function(e){var t=e.baseUrl,n=e.issueKey,r=e.HistoryItems,i=e.IssueHistoryService;return(o.a.createElement(c.e,null,o.a.createElement(i,{baseUrl:t,issueKey:n},(function(e){var t=e.loading,n=e.loadingMore,i=e.hasMore,s=e.loadMore,c=e.error,u=e.data;return t?o.a.createElement(a.a,null):c?null:o.a.createElement(r,{history:u,hasMore:i,isLoadingMore:n,onLoadMore:s})}))))};Ct.displayName="IssueHistory",Ct.defaultProps={HistoryItems:It,IssueHistoryService:U};var Pt=Ct,_t=function(e){var t=e.TimestampDisplaySettingsProvider,n=e.IssueHistory,r=e.baseUrl,s=e.issueKey,a=e.timestampDisplaySetting,c=e.timeZone,u=e.onSwitchTimestampDisplaySetting;return(o.a.createElement(i.b,{id:"issue-history"},o.a.createElement(t,{value:{timestampDisplaySetting:a,timeZone:c,onSwitchTimestampDisplaySetting:u}},o.a.createElement(n,{baseUrl:r,issueKey:s}))))};_t.displayName="IssueHistoryContainer",_t.defaultProps={TimestampDisplaySettingsProvider:s.b,IssueHistory:Pt};t.a=_t},"./src/packages/issue/issue-fetch-services/src/common/utils/token-browser-utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),o=Math.pow(2,16),i=function(){return Object(r.d)()?1893:o}},"./src/packages/issue/issue-fetch-services/src/index.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"n",(function(){return v.a})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return A})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return H})),n.d(t,"h",(function(){return q})),n.d(t,"m",(function(){return E}));n("./node_modules/rxjs/Rx.js");var r=n("./src/packages/platform/utils/fetch/src/index.js"),o=n("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js"),i=n("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=function(){return Object(s.b)("issue.details.comment-worklog-permalinks",!1)},c=function(){return Object(s.b)("bento-expand-view-experience-failure-tracker-properties",!1)},u=function(e,t,n){return"".concat(e,"/rest/api/2/attachment/read/issue/").concat(t,"/credentials?maxTokenLength=").concat(n)},l=function(e,t,n,s){return Object(r.d)(u(e,t,n),{perf:o.i,headersProcessor:s&&s(o.i.key)}).catch((function(e){throw c()?new i.a(e,u("{baseUrl}","{issueKey}","{maxTokenLength}")):e}))},f=function(e,t,n,i){return Object(r.c)(u(e,t,n),{perf:o.i,headersProcessor:i&&i(o.i.key)})},d=function(e,t){return"".concat(e,"/rest/api/2/attachment/upload/issue/").concat(t,"/credentials")},p=function(e,t){return Object(r.d)(d(e,t)).catch((function(e){throw c()?new i.a(e,d("{baseUrl}","{issueKey}")):e}))},m=function(e,t){return Object(r.c)(d(e,t))},y=function(e){return"".concat(e,"/rest/internal/2/media/user/credentials")},b=function(e){return Object(r.d)(y(e)).catch((function(e){throw c()?new i.a(e,y("{baseUrl}")):e}))},g=function(e){return Object(r.c)(y(e))},v=(n("./src/packages/issue/issue-fetch-services/src/services/issue-media-user-auth/types.js"),n("./src/packages/issue/issue-fetch-services/src/services/issue-media-upload-permissions/types.js"),n("./src/packages/issue/issue-fetch-services/src/common/utils/token-browser-utils.js")),h=n("./src/packages/platform/utils/types/src/index.js"),O=function(e){return Object(h.toProjectKey)(e.split("-")[0])},j=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),w=null,E=function(e){return w||(w=function(e){return{query:function(t){var n=t.query,o=t.variables;return Object(r.c)("".concat(e,"/rest/gira/1/"),{method:"POST",body:JSON.stringify({query:n,variables:o})})}}}(e)),w},k=n("./src/packages/platform/utils/permalinks/src/index.js"),S=function(e,t,n){return"\n    comments (first: ".concat(t,", maxResults: ").concat(e,', orderBy: "').concat(n,'", ').concat(function(){var e=Object(k.c)(k.a),t=e.hasPermalink,n=e.permalinkId;return a()&&t?"commentId: ".concat(n):""}(),") {\n        nodes {\n            id\n            author {\n                accountId\n                displayName\n                avatarUrl\n            }\n            updateAuthor {\n                accountId\n                displayName\n                avatarUrl\n            }\n            visibility {\n                type\n                value\n            }\n            created\n            updated\n            renderedBody\n            jsdPublic\n            bodyAdf\n        }\n        totalCount\n        ").concat(a()?"startIndex":"","\n    }\n")},I=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),C=function(e,t,n){return Object(k.c)(I.e).hasPermalink?"\n        worklogs (startAt: ".concat(t,", maxResults: ").concat(e,', orderBy: "').concat(n,'", ').concat(function(){var e=Object(k.c)(I.e),t=e.hasPermalink,n=e.permalinkId;return Object(j.a)()&&t?"worklogId: ".concat(n):""}(),") {\n            nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                created\n                started\n                updated\n                comment\n                timeSpent\n                timeSpentSeconds\n            }\n            totalCount\n            ").concat(Object(j.a)()?"startIndex":"","\n        }\n    "):""},P=n("./src/packages/platform/services/issue/src/feature-flags.js");function _(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var x="issueViewInteractiveQuery",T=function(){return"\nquery ".concat(x,"($issueKey: String!, $projectKey: String)  {\n        viewIssue(issueKey: $issueKey) {\n            ").concat(S(5,0,"-created"),"\n            ").concat(Object(j.a)()?C(5,0,"-started"):"","  \n            ").concat(function(){return"\n    ecosystem {\n      operations {\n        name\n        url: href\n        icon {\n          url\n        }\n        tooltip\n        styleClass\n      }\n      contentPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        icon {\n          url\n        }\n        tooltip\n        type\n        showByDefault\n        manuallyAddedToIssue\n      }\n      activityPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n      }\n      backgroundScripts {\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        shouldReloadOnRefresh\n      }\n      ecoSystemOnDate\n      contentPanelsCustomised \n    }\n"}(),"\n            fields {\n                ").concat(function(){return"\n__typename \n  ... on AttachmentsField {\n    fieldKey\n    value {\n      id\n      mediaApiFileId\n      createdDate\n      accountId\n      mimetype\n      filename\n    }\n  }\n"}(),"\n                ").concat(function(){return"\n      ... on GlancesField {\n        fieldKey\n        value {\n          name\n          status\n          iframe {\n            addonKey\n            moduleKey\n            options\n          }\n          icon {\n            url\n          }\n          content\n          type\n        }\n      }\n"}(),"\n            }\n            ").concat(function(){return"\n    layoutItems {\n        location\n        category\n        items {\n        itemId\n        type\n        }\n    }\n"}(),"\n        }\n        ").concat(function(){return"\n    licensedProducts {\n        name\n        status\n    }\n"}(),"\n        ").concat(function(){return"\n    jiraSettings {\n      ".concat(function(){return"\n      timeTracking {\n        isTimeTrackingEnabled\n        hoursPerDay\n        daysPerWeek\n        defaultUnit\n      }\n"}(),"\n      ").concat(function(){return"\n      subtasks {\n        enabled\n      }\n"}(),"\n      issueLinkTypes {\n        id\n        name\n        inward\n        outward\n      }\n    }\n")}(),"\n        ").concat(function(){return'\n    permissions(issueKey:$issueKey, keys:["'.concat(function(){return["ADMINISTER","ADMINISTER_PROJECTS","ASSIGN_ISSUES","EDIT_ISSUES","SCHEDULE_ISSUES","ADD_COMMENTS","DELETE_ALL_COMMENTS","DELETE_OWN_COMMENTS","EDIT_ALL_COMMENTS","EDIT_OWN_COMMENTS","CREATE_ISSUES","DELETE_ISSUES","MOVE_ISSUES","CREATE_ATTACHMENTS","DELETE_ALL_ATTACHMENTS","DELETE_OWN_ATTACHMENTS","WORK_ON_ISSUES","ASSIGNABLE_USER","LINK_ISSUES","VIEW_VOTERS_AND_WATCHERS","MANAGE_WATCHERS","EDIT_ALL_WORKLOGS","EDIT_OWN_WORKLOGS","DELETE_ALL_WORKLOGS","DELETE_OWN_WORKLOGS","USER_PICKER","VIEW_DEV_TOOLS","SERVICEDESK_AGENT"]}().join('","'),'"]) {\n        key\n        havePermission\n    }\n')}(),"\n        ").concat(function(){return'\n    myPreferences(keys: ["jira.user.issue.changeboarding.lastinteracted", "jira.user.issue.clickthrough-banner.lastinteracted"])\n'}(),"\n        ").concat(function(){return"\n    project(projectKey: $projectKey) {\n        id\n        ".concat(Object(P.b)()?"newIssueViewLockedIn":"","\n        issueTypes {\n            id\n            name\n            iconUrl\n            subtask\n        }\n    }\n")}(),"\n    }\n")},A=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){_(i,r,o,s,a,"next",e)}function a(e){_(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={issueKey:n,projectKey:O(n)},e.next=3,E(t).query({query:T(),variables:r});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=n("./src/packages/forge/forge-ui/src/constants.js"),R=n("./src/packages/forge/forge-ui/src/utils/fetch-modules/index.js");function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var F=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){N(i,r,o,s,a,"next",e)}function a(e){N(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r){var o,i,s,a,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[D.g,D.h,D.i,D.a],i=Object(R.a)(t,n,r,o),e.next=4,i;case 4:return s=e.sent,a=M(s,4),c=a[0],u=a[1],l=a[2],f=a[3],e.abrupt("return",{issueAction:c,issueGlance:u,issuePanel:l,customField:f});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(e){return"".concat(e,"/rest/graphql/1/")},V=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/graphql-tags.js"),K=n("./src/packages/issue/issue-view/src/feature-flags.js");function B(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['query {\n        issue(issueIdOrKey: "','", latestVersion: true, screen: "view") {\n            id\n            fields {\n                key\n                title\n                editable\n                required\n                autoCompleteUrl\n                allowedValues\n                content\n                renderedContent\n                schema {\n                    custom\n                    system\n                    ',"\n                    type\n                    renderer\n                }\n            }\n            expandAssigneeInSubtasks\n            expandAssigneeInIssuelinks\n            systemFields {\n                descriptionAdf {\n                    value\n                }\n                ","\n            }\n            customFields {\n                textareaAdf {\n                    key\n                    value\n                }\n            }            \n            ","\n            ","\n            ",'\n        }\n        project(projectIdOrKey: "','") {\n            id\n            name\n            key\n            projectTypeKey\n            simplified\n            avatarUrls {\n                key\n                value\n            }\n            issueTypeHierarchy {\n                baseLevelId\n                levels {\n                    id\n                    aboveLevelId\n                    belowLevelId\n                }\n            }\n        }\n    }']);return B=function(){return e},e}var W=function(e,t){return Object(V.a)(B(),e,Object(K.isForgeUiCustomFieldIntegrationEnabled)()?function(){return"configuration {\n        key\n        value\n    }\n    "}():"",function(){return"environmentAdf {\n        value\n    }"}(),function(){return"tabs {\n        id\n        name\n        items {\n            id\n            type\n        }\n    }"}(),function(){return"\n    isHybridAgilityProject\n    "}(),function(){return"\n    agile {\n        epic {\n          key\n        },\n    }"}(),t)},H=function(e,t,n){return Object(r.c)(U(e),function(e,t){return{method:"POST",body:JSON.stringify({query:W(e,t)})}}(t,n))};function G(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['query {\n            issue(issueIdOrKey: "','", latestVersion: true, screen: "view") {\n                id\n                viewScreenId\n            }\n        }']);return G=function(){return e},e}var q=function(e,t){return Object(r.d)(U(e),function(e){return{method:"POST",body:JSON.stringify({query:Object(V.a)(G(),e)})}}(t))}},"./src/packages/issue/issue-fetch-services/src/services/issue-media-upload-permissions/types.js":function(e,t){},"./src/packages/issue/issue-fetch-services/src/services/issue-media-user-auth/types.js":function(e,t){},"./src/packages/issue/issue-glance/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/icon--current/glyph/arrow-right.js"),s=n.n(i),a=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/animations/mount-animator.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),l=n("./src/packages/issue/fields/components/field-heading/src/index.js"),f=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),d=n("./node_modules/@atlaskit/theme/index.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),m=f.default.div(["display:flex;flex-direction:column;margin-bottom:","px;"],3*p.f),y=f.default.div(["position:relative;overflow:hidden;display:flex;border-radius:5px;margin:0 0 0 -","px;&:hover{background:",";cursor:pointer;}&:focus{box-shadow:0 0 0 2px ",";outline:0;background:",";}"],p.f,d.colors.N20,d.colors.B100,d.colors.N20),b=f.default.div(["overflow:hidden;margin:","px 0 ","px ","px;height:","px;width:","px;align-items:center;"],p.f,p.f,p.f,3*p.f,3*p.f),g=f.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;line-height:","px;padding-left:","px;"],5*p.f,p.f),v=f.default.div(["position:absolute;right:0;width:","px;height:","px;background-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,"," 25%);"],7*p.f,5*p.f,d.colors.N20),h=f.default.div(["position:absolute;right:0;margin:6px ","px ","px;height:26px;width:26px;background:",";color:",";border-radius:50%;align-items:center;padding:2px 0 0 2px;"],p.f,p.f/2,d.colors.N30,d.colors.N60),O=Object(f.keyframes)(["0%{right:-28px;}100%{right:0;}"]),j=f.default.div(["position:absolute;animation:"," 0.15s ease-in-out;"],O);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e);var t=x(n);function n(){var e;C(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isHovering:!1},e.handleOpenGlancePanel=function(){var t=e.props,n=t.onClickPayload,r=t.title;(0,t.onOpenPanel)(S(S({},n),{},{title:r}))},e.eventHandlers={onClick:e.handleOpenGlancePanel,onMouseEnter:function(){return e.setState({isHovering:!0})},onMouseLeave:function(){return e.setState({isHovering:!1})},onFocus:function(){return e.setState({isHovering:!0})},onBlur:function(){return e.setState({isHovering:!1})}},e}return function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.Icon,r=e.content,i=r.length<=170?r:"".concat(r.substring(0,170).trim(),"\u2026");return o.a.createElement(m,null,t&&o.a.createElement(l.a,null,o.a.createElement(l.b,null,t)),o.a.createElement(a.a,{content:i},o.a.createElement(u.a,{onEnter:this.handleOpenGlancePanel},o.a.createElement(y,E({tabIndex:"0"},this.eventHandlers),n&&o.a.createElement(b,null,o.a.createElement(n,null)),o.a.createElement(g,null,r),this.state.isHovering&&o.a.createElement(c.a,{mountAnimation:j},o.a.createElement(v,null,o.a.createElement(h,null,o.a.createElement(s.a,{size:"medium",label:""}))))))))}}]),n}(r.Component);D.displayName="Glance",D.defaultProps={Icon:null},D.displayName="Glance"},"./src/packages/issue/issue-view/src/actions/activity-feed-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="SELECT_ACTIVITY_ITEM",o=function(e){return{type:r,payload:e}}},"./src/packages/issue/issue-view/src/actions/applink-authentication-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var r="APPLINK_AUTHENTICATION_REQUEST",o=function(e){return{type:r,payload:e}},i="APPLINK_AUTHENTICATION_SUCCESS",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/approval-action/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return f}));var r=n("./src/packages/issue/issue-view/src/common/constants/index.js"),o="UPDATE_APPROVAL_LINKED_USER_PICKER_FIELD",i=function(e,t){return{type:o,payload:{linkedUserPickerFieldId:e,newApproverList:t}}},s=function(){return{type:r.Q}},a=function(){return{type:r.R}},c=function(){return{type:r.a}},u=function(){return{type:r.L}},l="ZERO_APPROVAL_REQUIRED",f=function(){return{type:l}}},"./src/packages/issue/issue-view/src/actions/assign-issue-parent-modal-actions.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"q",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"p",(function(){return h})),n.d(t,"i",(function(){return O})),n.d(t,"s",(function(){return j}));var r="SHOW_ASSIGN_ISSUE_PARENT_MODAL",o=function(){return{type:r}},i="HIDE_ASSIGN_ISSUE_PARENT_MODAL",s=function(){return{type:i}},a="FETCH_ISSUE_PARENTS_REQUEST",c=function(){return{type:a}},u="FETCH_ISSUE_PARENTS_SUCCESS",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:u,payload:e}},f=function(){return{type:"FETCH_ISSUE_PARENTS_FAILURE"}},d="SET_PARENT_REQUEST",p=function(e,t){return{type:d,payload:{issues:e,parentId:t}}},m="SET_PARENT_OPTIMISTIC",y=function(e,t,n){return{type:m,payload:{issues:e,parentIssue:t,requestPromise:n}}},b="UNSET_PARENT_REQUEST",g=function(e){return{type:b,payload:{issues:e}}},v="SET_PARENT_SUCCESS",h=function(e,t){return{type:v,payload:{parentIssue:e,oldParentIdsByIssueIds:t}}},O="UNSET_PARENT_SUCCESS",j=function(e){return{type:O,payload:{oldParentIdsByIssueIds:e}}}},"./src/packages/issue/issue-view/src/actions/attachment-delete-actions.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d}));var r="SHOW_DELETE_ATTACHMENT_MODAL",o=function(e){return{type:r,payload:{attachmentId:e}}},i="DELETE_ATTACHMENT_REQUEST",s=function(e){return{type:i,payload:{attachmentId:e}}},a="DELETE_ATTACHMENT_CANCEL",c=function(e){return{type:a,payload:{attachmentId:e}}},u="DELETE_ATTACHMENT_SUCCESS",l=function(e){return{type:u,payload:{attachmentId:e}}},f="DELETE_ATTACHMENT_FAILURE",d=function(e){return{type:f,payload:{attachmentId:e}}}},"./src/packages/issue/issue-view/src/actions/attachment-modal-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="SHOW_ATTACHMENT_MODAL",o=function(){return{type:r}},i="HIDE_ATTACHMENT_MODAL",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/attachment-panel-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c}));var r="ATTACHMENT_PANEL_DRAG_ENTER",o=function(e){return{type:r,payload:e}},i="ATTACHMENT_PANEL_DRAG_LEAVE",s=function(){return{type:i}},a="ATTACHMENT_PANEL_DROP",c=function(){return{type:a}}},"./src/packages/issue/issue-view/src/actions/attachment-picker-actions.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"n",(function(){return b}));var r="ATTACHMENT_PICKER_OPEN",o=function(){return{type:r}},i="ATTACHMENT_MEDIA_SERVICES_UPLOAD_BEGIN",s=function(e){return{type:i,payload:e}},a="ATTACHMENT_MEDIA_SERVICES_UPLOAD_END",c=function(e){return{type:a,payload:e}},u="ATTACHMENT_MEDIA_SERVICES_UPLOAD_ERROR",l=function(e){return{type:u,payload:e}},f="ATTACHMENT_JIRA_CREATE_SUCCESS",d=function(e){return{type:f,payload:e}},p="ATTACHMENT_JIRA_CREATE_FAILURE",m=function(e,t){return{type:p,payload:{attachment:e,statusCode:t}}},y="MEDIA_PICKER_ERROR",b=function(e){return{type:y,payload:e}}},"./src/packages/issue/issue-view/src/actions/attachment-popup-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="ATTACHMENT_PICKER_POPUP_OPEN_SUCCESS",o=function(){return{type:r}},i="ATTACHMENT_PICKER_POPUP_CLOSE_SUCCESS",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/attachment-viewer-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="OPEN_ATTACHMENT_VIEWER",o=function(e){return{type:r,payload:e}},i="CLOSE_ATTACHMENT_VIEWER",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/card-cover-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l}));var r="CARD_COVER_FETCH_SUCCESS",o=function(e){return{type:r,payload:{cardCover:e}}},i=function(){return{type:"CARD_COVER_FETCH_FAILURE"}},s="CARD_COVER_UPDATE_REQUEST",a=function(e,t){return{type:s,payload:{currentAttachmentId:e,attachmentId:t}}},c=function(){return{type:"CARD_COVER_UPDATE_SUCCESS"}},u="CARD_COVER_UPDATE_FAILURE",l=function(e){return{type:u,payload:{attachmentId:e}}}},"./src/packages/issue/issue-view/src/actions/change-issue-type-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"k",(function(){return b}));var r=n("./src/packages/issue/issue-view/src/configurations.js"),o="PROJECT_ISSUE_TYPES_REQUEST",i=function(e){return{type:o,payload:e}},s="PROJECT_ISSUE_TYPES_REQUEST_SUCCESS",a=function(e){return{type:s,payload:e}},c=function(e){return{type:"PROJECT_ISSUE_TYPES_REQUEST_FAILURE",payload:e}},u="SIMPLE_CHANGE_ISSUE_TYPE_REQUEST",l=function(e,t,n,r,o){return{type:u,payload:{issueKey:e,issueId:t,currentType:n,targetType:r,analyticsEvent:o}}},f="SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS",d=function(e,t){return{type:f,payload:{issueKey:e,targetTypeName:t,fieldId:r.p}}},p="SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_FAILURE",m=function(e){return{type:p,payload:e}},y="SIMPLE_CHANGE_ISSUE_TYPE_NOT_ALLOWED",b=function(e,t,n){return{type:y,payload:{issueId:e,currentType:t,targetType:n}}}},"./src/packages/issue/issue-view/src/actions/changeboarding-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l}));var r="CHANGEBOARDING_TOUR_BEGIN",o=function(e){return{type:r,payload:e}},i="CHANGEBOARDING_TOUR_END",s=function(){return{type:i}},a="CHANGEBOARDING_BANNER_DISMISS",c=function(e){return{type:a,payload:e}},u="CHANGEBOARDING_BANNER_SEEN",l=function(e,t){return{type:u,payload:{currentSeenTimes:e,firstSeenTimestamp:t}}}},"./src/packages/issue/issue-view/src/actions/child-panel-actions.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"n",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"i",(function(){return b}));var r="SUBTASK_QUICK_ADD_CLICKED",o=function(){return{type:r}},i="ISSUE_IN_EPIC_QUICK_ADD_CLICKED",s=function(){return{type:i}},a="CHILD_ISSUE_QUICK_ADD_CLICKED",c=function(){return{type:a}},u="CHILD_ISSUE_ADD_SUCCESS",l=function(e){return{type:u,payload:{childIssue:e}}},f="SUBTASK_ADD_SUCCESS",d=function(e){return{type:f,payload:{subtask:e}}},p="ISSUE_CHILDREN_ORDER_CHANGE_SUCCESS",m=function(e){var t=e.issueIds,n=e.rankId,r=e.isRankAfter;return{type:p,payload:{issueIds:t,rankId:n,isRankAfter:r}}},y="CHILD_ISSUE_PANEL_ADD_CLICKED",b=function(){return{type:y}}},"./src/packages/issue/issue-view/src/actions/clickthrough-banner-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="CLICKTHROUGH_BANNER_DISMISS",o=function(e){return{type:r,payload:e}}},"./src/packages/issue/issue-view/src/actions/comment-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"H",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"G",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"F",(function(){return u})),n.d(t,"z",(function(){return l})),n.d(t,"fb",(function(){return f})),n.d(t,"w",(function(){return d})),n.d(t,"cb",(function(){return p})),n.d(t,"B",(function(){return m})),n.d(t,"hb",(function(){return y})),n.d(t,"y",(function(){return b})),n.d(t,"eb",(function(){return g})),n.d(t,"A",(function(){return v})),n.d(t,"gb",(function(){return h})),n.d(t,"x",(function(){return O})),n.d(t,"db",(function(){return j})),n.d(t,"v",(function(){return w})),n.d(t,"bb",(function(){return E})),n.d(t,"q",(function(){return k})),n.d(t,"t",(function(){return S})),n.d(t,"s",(function(){return I})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return P})),n.d(t,"W",(function(){return _})),n.d(t,"Z",(function(){return x})),n.d(t,"Y",(function(){return T})),n.d(t,"T",(function(){return A})),n.d(t,"U",(function(){return D})),n.d(t,"S",(function(){return R})),n.d(t,"r",(function(){return M})),n.d(t,"X",(function(){return L})),n.d(t,"p",(function(){return N})),n.d(t,"V",(function(){return F})),n.d(t,"d",(function(){return U})),n.d(t,"I",(function(){return V})),n.d(t,"i",(function(){return K})),n.d(t,"N",(function(){return B})),n.d(t,"k",(function(){return W})),n.d(t,"P",(function(){return H})),n.d(t,"j",(function(){return G})),n.d(t,"O",(function(){return q})),n.d(t,"l",(function(){return z})),n.d(t,"Q",(function(){return Y})),n.d(t,"m",(function(){return Q})),n.d(t,"R",(function(){return J})),n.d(t,"g",(function(){return $})),n.d(t,"L",(function(){return Z})),n.d(t,"h",(function(){return X})),n.d(t,"M",(function(){return ee})),n.d(t,"f",(function(){return te})),n.d(t,"K",(function(){return ne})),n.d(t,"E",(function(){return re})),n.d(t,"kb",(function(){return oe})),n.d(t,"e",(function(){return ie})),n.d(t,"J",(function(){return se})),n.d(t,"u",(function(){return ae})),n.d(t,"ab",(function(){return ce})),n.d(t,"C",(function(){return ue})),n.d(t,"ib",(function(){return le})),n.d(t,"D",(function(){return fe})),n.d(t,"jb",(function(){return de}));n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js");var r=n("./src/packages/issue/issue-view/src/configurations.js"),o="ADD_COMMENT_FORM_EXPAND",i=function(){return{type:o}},s="ADD_COMMENT_FORM_COLLAPSE",a=function(){return{type:s}},c="ADD_COMMENT_FORM_CANCEL",u=function(){return{type:c}},l="SAVE_COMMENT_RETRY",f=function(e,t,n){return{type:l,payload:{optimisticId:e,createdDate:t,isNewComment:n}}},d="SAVE_COMMENT_EDIT",p=function(e){return{type:d,payload:{optimisticId:e}}},m="SAVE_COMMENT_SUCCESS_WITH_PASTED_CONTENT",y=function(e,t){return{type:m,payload:{comment:e,pastedContent:t}}},b="SAVE_COMMENT_REQUEST",g=function(e,t){return{type:b,payload:{comment:e,analyticsEvent:t,updatedField:r.f}}},v="SAVE_COMMENT_SUCCESS",h=function(e,t,n,o){return{type:v,payload:{fieldId:r.f,comment:e,optimisticId:t,isNewComment:n,analyticsEvent:o}}},O="SAVE_COMMENT_FAILURE",j=function(e){return{type:O,payload:e}},w="SAVE_COMMENT_CANCEL",E=function(e){return{type:w,payload:{optimisticId:e}}},k="FETCH_MORE_COMMENTS_REQUEST",S="FETCH_OLDER_COMMENTS_REQUEST",I="FETCH_NEWER_COMMENTS_REQUEST",C="FETCH_LATEST_COMMENTS_REQUEST",P="FETCH_LATEST_COMMENTS_SUCCESS",_=function(){return{type:k}},x=function(){return{type:S}},T=function(){return{type:I}},A=function(){return{type:C}},D=function(e){return{type:P,payload:e}},R=function(){return{type:"FETCH_LATEST_COMMENTS_FAILURE"}},M="FETCH_MORE_COMMENTS_SUCCESS",L=function(e){return{type:M,payload:e}},N="FETCH_MORE_COMMENTS_FAILURE",F=function(){return{type:N}},U="CHANGE_COMMENT_VISIBILITY",V=function(e,t){return{type:U,payload:{id:e,isInternal:t}}},K="EDIT_COMMENT_BEGIN",B=function(e,t){return{type:K,payload:{id:e,isInternal:t}}},W="EDIT_COMMENT_COLLAPSE",H=function(e){return{type:W,payload:{id:e,fieldId:r.f}}},G="EDIT_COMMENT_CANCEL",q=function(e){return{type:G,payload:{id:e,fieldId:r.f}}},z="EDIT_COMMENT_UPDATE",Y=function(e,t){return{type:z,payload:{id:e,value:t,fieldId:r.f}}},Q="EDIT_COMMENT_VISIBILITY",J=function(e,t){return{type:Q,payload:{id:e,visibility:t}}},$="DELETE_COMMENT_REQUEST",Z=function(e,t){return{type:$,payload:{id:e,analyticsEvent:t,updatedField:r.f}}},X="DELETE_COMMENT_SUCCESS",ee=function(e){return{type:X,payload:{id:e,fieldId:r.f}}},te="DELETE_COMMENT_FAILURE",ne=function(e){return{type:te,payload:e}},re="SHOW_DELETE_COMMENT_MODAL",oe=function(e){return{type:re,payload:e}},ie="DELETE_COMMENT_CANCEL",se=function(){return{type:ie}},ae="PASTED_INTO_COMMENT_FORM",ce=function(e,t){return{type:ae,payload:{id:e,pastedContent:t}}},ue="SET_COMMENT_ATTACHMENT_IN_PROGRESS",le=function(e){return{type:ue,payload:{isInProgress:e}}},fe="SET_COMMENT_SCROLL_STATUS",de=function(e){return{type:fe,payload:{status:e}}}},"./src/packages/issue/issue-view/src/actions/confluence-pages-actions.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"p",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"q",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"l",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"m",(function(){return h}));var r="LINK_CONFLUENCE_PAGE_CLICKED",o=function(){return{type:r}},i="LINK_CONFLUENCE_PAGE_CLOSED",s=function(){return{type:i}},a="CREATE_CONFLUENCE_PAGE_LINK_MODIFIED",c=function(){return{type:a}},u="CREATE_CONFLUENCE_PAGE_LINK_REQUEST",l=function(e,t){return{type:u,payload:{pageHref:e},meta:{analyticsEvent:t}}},f="CREATE_CONFLUENCE_PAGE_LINK_SUCCESS",d=function(e){return{type:f,payload:{confluencePageLink:e}}},p="CREATE_CONFLUENCE_PAGE_LINK_FAILED",m=function(e){return{type:p,payload:{errorMessage:e}}},y="DELETE_CONFLUENCE_PAGE_LINK_REQUEST",b=function(e){return{type:y,payload:{globalId:e}}},g=function(){return{type:"DELETE_CONFLUENCE_PAGE_LINK_SUCCESS"}},v="DELETE_CONFLUENCE_PAGE_LINK_FAILED",h=function(){return{type:v}}},"./src/packages/issue/issue-view/src/actions/confluence-pages-xflow-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="LINK_CONFLUENCE_PAGE_XFLOW_CLICKED",o=function(e){return{type:r,payload:e}}},"./src/packages/issue/issue-view/src/actions/context-item-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="CONTEXT_PANEL_SHOW",o=function(e){return{type:r,payload:e}},i="CONTEXT_PANEL_HIDE",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/context-items-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="EXPAND_SHOW_MORE",o=function(){return{type:r}},i="COLLAPSE_SHOW_MORE",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/ecosystem-content-panel-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"p",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"q",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"m",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"n",(function(){return h}));var r="ADD_CONTENT_PANEL_REQUEST",o=function(e){return{type:r,payload:e}},i="ADD_CONTENT_PANEL_SUCCESS",s=function(e){return{type:i,payload:e}},a=function(e){return{type:"ADD_CONTENT_PANEL_FAILURE",payload:e}},c="REMOVE_CONTENT_PANEL_REQUEST",u=function(e){return{type:c,payload:e}},l="REMOVE_CONTENT_PANEL_SUCCESS",f=function(e){return{type:l,payload:e}},d=function(e){return{type:"REMOVE_CONTENT_PANEL_FAILURE",payload:e}},p="CONTENT_PANEL_SELECTED",m=function(e){return{type:p,payload:e}},y="CONTENT_PANEL_UNSELECT",b=function(e){return{type:y,payload:e}},g="CONTENT_PANELS_CUSTOMISED_REQUEST",v="CONTENT_PANELS_CUSTOMISED_SUCCESS",h=function(){return{type:v}}},"./src/packages/issue/issue-view/src/actions/ecosystem-glance-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="ECOSYSTEM_SHOW_GLANCE",o=function(e,t){return{type:r,payload:{appKey:e,moduleKey:t}}},i="ECOSYSTEM_HIDE_GLANCE",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/editor-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c}));var r="EDITOR_CHANGE_FAILURE",o=function(){return{type:r}},i="EDITOR_EXPANDED_FAILURE",s=function(){return{type:i}},a="EDITOR_SAVE_FAILURE",c=function(){return{type:a}}},"./src/packages/issue/issue-view/src/actions/external-actions.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return u}));var r=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),o=function(e){return{type:"EDIT_FIELD",payload:{fieldId:e}}},i=function(){return{type:"ADD_COMMENT"}},s=function(){return{type:"ASSIGN_TO_ME"}},a="FIELD_EDIT_REQUEST_EXTERNAL",c="ASSIGN_TO_ME_EXTERNAL",u=function(e){switch(e.type){case"ADD_COMMENT":return Object(r.H)();case"ASSIGN_TO_ME":return function(){return{type:c}}();case"EDIT_FIELD":return function(e){return{type:a,payload:{fieldId:e}}}(e.payload.fieldId);default:throw new Error("Unhandled external action type: ".concat(e.type))}}},"./src/packages/issue/issue-view/src/actions/fetch-confluence-app-links-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a}));var r="FETCH_CONFLUENCE_APP_LINKS_REQUEST",o=function(){return{type:r}},i="FETCH_CONFLUENCE_APP_LINKS_SUCCESS",s=function(e){return{type:i,payload:e.applicationLinks}},a=function(){return{type:"FETCH_CONFLUENCE_APP_LINKS_FAILED"}}},"./src/packages/issue/issue-view/src/actions/fetch-recently-visited-confluence-pages-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a}));var r="FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_REQUEST",o=function(){return{type:r}},i="FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_SUCCESS",s=function(e){return{type:i,payload:e}},a=function(){return{type:"FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_FAILED"}}},"./src/packages/issue/issue-view/src/actions/flag-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="DISMISS_FLAG",o=function(e){return{type:r,payload:e}}},"./src/packages/issue/issue-view/src/actions/forge-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l}));var r="FETCH_FORGE_SUCCESS",o=function(e){return{type:r,payload:e}},i="FORGE_ISSUE_ACTION_EXEC",s=function(e){return{type:i,payload:e}},a="FORGE_ISSUE_ACTION_RENDERED",c=function(){return{type:a}},u="FORGE_ISSUE_ACTION_CLOSE",l=function(){return{type:u}}},"./src/packages/issue/issue-view/src/actions/issue-delete-actions.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d}));var r="OPEN_DELETE_ISSUE_MODAL",o=function(){return{type:r}},i="CLOSE_DELETE_ISSUE_MODAL",s=function(){return{type:i}},a="DELETE_ISSUE_REQUEST",c=function(e,t){return{type:a,payload:{issueKey:e,analyticsEvent:t}}},u="DELETE_ISSUE_SUCCESS",l=function(e){return{type:u,payload:e}},f="DELETE_ISSUE_FAILURE",d=function(e,t){return{type:f,payload:{issueKey:e,error:t}}}},"./src/packages/issue/issue-view/src/actions/issue-links-actions.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"B",(function(){return i})),n.d(t,"A",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"v",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"w",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"u",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"E",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"G",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"D",(function(){return v})),n.d(t,"o",(function(){return h})),n.d(t,"F",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"C",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"z",(function(){return k})),n.d(t,"h",(function(){return S})),n.d(t,"y",(function(){return I})),n.d(t,"a",(function(){return C})),n.d(t,"r",(function(){return P})),n.d(t,"b",(function(){return _})),n.d(t,"s",(function(){return x})),n.d(t,"g",(function(){return T})),n.d(t,"x",(function(){return A})),n.d(t,"q",(function(){return D})),n.d(t,"H",(function(){return R})),n.d(t,"c",(function(){return M})),n.d(t,"t",(function(){return L}));var r="FETCH_LINKED_ISSUES_REQUEST",o="FETCH_LINKED_ISSUES_SUCCESS",i=function(e){return{type:o,payload:e}},s=function(e){return{type:"FETCH_LINKED_ISSUES_FAILURE",payload:e}},a="DELETE_LINKED_ISSUE_REQUEST",c=function(e,t){return{type:a,payload:{linkedIssueId:e,analyticsEvent:t}}},u="DELETE_LINKED_ISSUE_SUCCESS",l=function(e,t){return{type:u,payload:e,meta:t}},f="DELETE_LINKED_ISSUE_FAILURE",d=function(e){return{type:f,payload:e}},p="SAVE_LINKED_ISSUE_REQUEST",m=function(e,t){return{type:p,payload:{newIssueLinks:e,analyticsEvent:t}}},y="SAVE_LINKED_ISSUE_SUCCESS",b=function(e){return{type:y,payload:e}},g="SAVE_LINKED_ISSUE_FAILURE",v=function(e,t){return{type:g,payload:{optimisticId:e,error:t}}},h="SAVE_LINKED_ISSUE_RETRY",O=function(e){return{type:h,payload:e}},j="SAVE_LINKED_ISSUE_CANCEL",w=function(e){return{type:j,payload:e}},E="FETCH_LINKED_ISSUES_DATA_SUCCESS",k=function(e,t,n,r){return{type:E,payload:{issueLinks:e,linkedIssues:t,optimisticIds:n,optimisticLinks:r}}},S="FETCH_LINKED_ISSUES_DATA_FAILURE",I=function(e,t){return{type:S,payload:{optimisticIds:e,error:t}}},C="ADD_ISSUE_LINK_CLICKED",P=function(){return{type:C}},_="ADD_ISSUE_LINK_CLOSED",x=function(){return{type:_}},T="FETCH_CREATE_LINKED_ISSUE_PERMISSION_REQUEST",A=function(){return{type:T}},D="SET_CREATE_LINKED_ISSUE_PERMISSION",R=function(e){return{type:D,payload:{canCreateLinkedIssue:e}}},M="CREATE_LINKED_ISSUE_SUCCESS",L=function(e){return{type:M,payload:{newIssueLinks:e}}}},"./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l}));var r="NAVIGATE_TO_NEW_ISSUE",o=function(e){var t=e.fromIssueKey,n=e.toIssueKey;return{type:r,payload:{fromIssueKey:t,toIssueKey:n}}},i="NAVIGATE_TO_PROJECT",s=function(e){return{type:i,payload:{projectUrl:e}}},a="NAVIGATE_TO_SPRINT",c=function(e){return{type:a,payload:{sprintId:e}}},u="LOAD_NEW_ISSUE",l=function(e){return{type:u,payload:{issueKey:e}}}},"./src/packages/issue/issue-view/src/actions/issue-preview-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c}));var r="UPDATE_PREVIEW_REQUEST",o=function(e){return{type:r,payload:e}},i="REFRESH_DATA_PROVIDER_ISSUE",s=function(e,t){return{type:i,payload:{issueKey:e,fieldData:t}}},a="ISSUE_PREVIEW_FAILURE",c=function(e){return{type:a,payload:{error:e}}}},"./src/packages/issue/issue-view/src/actions/issue-types-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c}));var r="SET_ISSUE_TYPES",o=function(e){return{type:r,payload:e}},i="FETCHING_ISSUE_TYPES",s=function(){return{type:i}},a="FETCH_ISSUE_TYPES_FAILED",c=function(){return{type:a}}},"./src/packages/issue/issue-view/src/actions/link-incident-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l}));var r="LINK_INCIDENT_CLICKED",o=function(){return{type:r}},i="LINK_INCIDENT_PANEL_CLOSED",s=function(){return{type:i}},a="CREATE_MAJOR_INCIDENT_CLICKED",c=function(){return{type:a}},u="CREATE_MAJOR_INCIDENT_MODAL_CLOSED",l=function(){return{type:u}}},"./src/packages/issue/issue-view/src/actions/login-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var r="LOGIN",o=function(){return{type:r}},i="LOGIN_SUCCESSFUL",s=function(e){return{type:i,payload:e}}},"./src/packages/issue/issue-view/src/actions/request-panel-metadata-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n("./src/packages/issue/issue-view/src/common/model/request-channel-type.js"),o="FETCH_REQUEST_PANEL_METADATA",i=function(){return{type:o}},s="REQUEST_PANEL_METADATA_FETCH_SUCCESS",a=function(e){switch(e){case"portal":return r.f;case"email":return r.d;case"api":return r.b;case"jira":return r.e;case"deployment":return r.c;case"anonymousportal":return r.a;default:return r.g}},c=function(e){return{type:s,payload:{channel:a(e.channel),requestUrl:e.requestUrl,csatComment:e.csatComment}}},u=function(){return{type:"REQUEST_PANEL_METADATA_FETCH_FAILURE"}}},"./src/packages/issue/issue-view/src/actions/share-as-comment-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var r="SHARE_AS_COMMENT",o=function(e){return{type:r,payload:{value:e}}},i="CLEAR_SHARED_AS_COMMENT_VALUES",s=function(){return{type:i}}},"./src/packages/issue/issue-view/src/actions/upsell-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c}));var r="UPSELL_JSD_ISSUE_PASTE_TRIGGER",o=function(){return{type:r}},i="UPSELL_JSD_ISSUE_KEYWORD_TRIGGER",s=function(){return{type:i}},a="SHOW_XFLOW_JSD",c=function(e){return{type:a,payload:{trigger:e}}}},"./src/packages/issue/issue-view/src/actions/view-mount-status-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="ISSUE_VIEW_MOUNTED",o=function(){return{type:r}}},"./src/packages/issue/issue-view/src/actions/web-links-actions.js":function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"v",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"u",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"p",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"o",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"s",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"t",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"l",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"q",(function(){return S}));var r=n("./src/packages/platform/utils/types/src/index.js"),o="SHOW_CREATE_WEB_LINK_FORM",i=function(){return{type:o}},s="HIDE_CREATE_WEB_LINK_FORM",a=function(){return{type:s}},c="CREATE_WEB_LINK_REQUEST",u=function(e,t,n){return{type:c,payload:{optimisticId:Object(r.toWebLinkId)("optimistic-web-link-".concat(Date.now())),href:e,linkText:t,iconUrl:n}}},l="CREATE_WEB_LINK_SUCCESS",f=function(e,t){return{type:l,payload:{optimisticId:e,webLink:t}}},d="CREATE_WEB_LINK_FAILED",p=function(e){return{type:d,payload:{optimisticId:e}}},m="CREATE_WEB_LINK_RETRY",y=function(e){return{type:m,payload:{optimisticId:e}}},b="DELETE_WEB_LINK_REQUEST",g=function(e){return{type:b,payload:{id:e}}},v="DELETE_WEB_LINK_SUCCESS",h=function(e){return{type:v,payload:{id:e}}},O="DELETE_WEB_LINK_FAILED",j=function(e){return{type:O,payload:{id:e}}},w="CANCEL_FAILED_WEB_LINK_DELETION",E=function(e){return{type:w,payload:{id:e}}},k="DELETE_OPTIMISTIC_WEB_LINK",S=function(e){return{type:k,payload:{id:e}}}},"./src/packages/issue/issue-view/src/activity/activity-feed-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./node_modules/lodash/noop.js"),u=n.n(c),l=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),f=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenuStateless.js"),d=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),p=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),b=n("./src/packages/platform/utils/types/src/index.js"),g=n("./src/packages/issue/issue-actions/issue-history/src/index.js"),v=n("./src/packages/platform/utils/permalinks/src/index.js"),h=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),O=n("./src/packages/issue/issue-view/src/actions/activity-feed-actions.js"),j=n("./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js"),w=n("./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js"),E=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),k=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),S=n("./src/packages/issue/issue-view/src/common/skeleton/activity-feed-view.js"),I=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),C=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),P=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),_=n("./src/packages/issue/issue-view/src/common/state/selectors/timestamp-display-setting-selector.js"),x=n("./src/packages/issue/issue-view/src/common/styles/index.js"),T=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),A=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),D=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-module-view/index.js"),R=n("./src/packages/issue/issue-view/src/selectors/activity-feed-selector.js"),M=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),L=n("./src/packages/issue/issue-view/src/activity/comments-view.js"),N=n("./src/packages/issue/issue-view/src/activity/comments-view-old.js"),F=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view.js"),U=n("./src/packages/issue/issue-view/src/activity/servicedesk/comments-view-old.js"),V=n("./src/packages/issue/issue-view/src/activity/worklog/index.js");function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=a.default.span(["max-width:","px;display:inline-block;line-height:normal;vertical-align:text-bottom;",";"],20*y.f,x.g),X=Object(a.default)(l.a)(["min-width:","px;"],16*y.f);X.displayName="DropdownItem";var ee=Object(i.defineMessages)({comments:{id:"issue.activity-feed.comments",defaultMessage:"Comments"},history:{id:"issue.actvity-feed.history",defaultMessage:"History"},worklog:{id:"issue.actvity-feed.worklog",defaultMessage:"Work log"},activity:{id:"issue.actvity-feed.acvitity",defaultMessage:"Activity"}}),te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(n,e);var t=Q(n);function n(){var e;q(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isDropdownOpen:!1},e.getEcosystemActivity=function(){return e.props.ecosystemModules.map((function(e){return{key:"".concat(e.moduleKey).concat(e.appKey),type:E.b,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,options:e.options}}))},e.getJSDCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:E.d,type:E.d,name:o.formatMessage(ee.comments)}]:[]},e.getCommentActivity=function(){var t=e.props,n=t.commentIds,r=t.canAddComments,o=t.intl;return n.length||r?[{key:E.a,type:E.a,name:o.formatMessage(ee.comments)}]:[]},e.getHistoryActivity=function(){return[{key:E.c,type:E.c,name:e.props.intl.formatMessage(ee.history)}]},e.getWorklogActivity=function(){return e.props.shouldShowWorklog?[{key:E.e,type:E.e,name:e.props.intl.formatMessage(ee.worklog)}]:[]},e.getActivityItems=function(){var t=e.props.isServiceDesk;return[].concat(H(t?e.getJSDCommentActivity():e.getCommentActivity()),H(e.getHistoryActivity()),H(e.getWorklogActivity()),H(e.getEcosystemActivity()))},e.getSelectedItemOld=function(t){return e.props.selectedItem||t&&t[0]},e.getSelectedItem=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.props.selectedItem)return e.props.selectedItem;var n=Object(v.d)();if(n){var r=n.permalinkType,o=t.find((function(e){return e.type===r}));if(o)return o}return t[0]},e.handleOpenChange=function(t){var n=t.isOpen;n&&e.props.onDropdownOpened(),e.setState({isDropdownOpen:n})},e.renderDropdownActivityItems=function(t,n){return t.filter((function(e){return e.key!==n.key})).map((function(t){return o.a.createElement(X,{key:t.key,onClick:function(){e.props.onDropdownItemClicked(t.key),e.props.onSwitchSelectedActivityItem(t)}},t.name)}))},e.renderSelectedActivityItemComponent=function(t){switch(t.type){case E.d:return Object(m.a)()?o.a.createElement(F.a,null):o.a.createElement(U.a,null);case E.a:return Object(m.a)()?o.a.createElement(L.a,null):o.a.createElement(N.a,null);case E.b:return e.props.onActivityComponentSelected(Object(k.a)(t.appKey,t.moduleKey)),o.a.createElement(D.b,{appKey:t.appKey,moduleKey:t.moduleKey,options:t.options,appName:t.name});case E.c:return o.a.createElement(g.a,{baseUrl:Object(b.toBaseUrl)(e.props.baseUrl),issueKey:Object(b.toIssueKey)(e.props.issueKey),timeZone:e.props.timeZone,timestampDisplaySetting:e.props.timestampDisplaySetting,onSwitchTimestampDisplaySetting:e.props.onSwitchTimestampDisplaySetting});case E.e:return o.a.createElement(V.a,{timeZone:e.props.timeZone,timestampDisplaySetting:e.props.timestampDisplaySetting,onSwitchTimestampDisplaySetting:e.props.onSwitchTimestampDisplaySetting});default:return null}},e.renderSkeleton=function(){return o.a.createElement(S.a,null)},e.renderChangeboardingMount=function(){if(!Object(m.a)())return null;var e=(Object(v.d)()||{}).permalinkType;return e===E.a||e===E.e?o.a.createElement(h.k,{onMount:function(t){Object(h.r)(t,e===E.a?"permalinkWithChangeboardingModalComments mounted":"permalinkWithChangeboardingModalWorklog mounted")}}):null},e}return function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(n,[{key:"render",value:function(){if(this.props.isPreview)return this.renderSkeleton();var e=this.getActivityItems(),t=this.state.isDropdownOpen,n=Object(m.a)()?this.getSelectedItem(e):this.getSelectedItemOld(e);return e.length&&n?o.a.createElement("span",null,this.renderChangeboardingMount(),o.a.createElement(w.c,{leftAlign:!0},o.a.createElement(w.e,{"data-test-id":"issue-activity-feed.heading"},e.length>1?o.a.createElement(i.FormattedMessage,ee.activity):n.name),e.length>1?o.a.createElement(w.d,{leftAlign:!0},o.a.createElement(f.a,{isOpen:t,onOpenChange:this.handleOpenChange,trigger:o.a.createElement(Z,null,n.name),triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact"},position:"bottom right"},this.renderDropdownActivityItems(e,n))):null),this.renderSelectedActivityItemComponent(n)):null}}]),n}(r.Component);te.defaultProps={isServiceDesk:!1,canAddComments:!1,ecosystemModules:[],selectedItem:null,onActivityComponentSelected:u.a},te.displayName="ActivityFeedOld",te.displayName="ActivityFeedOld",t.a=Object(T.a)([i.injectIntl,Object(p.f)("dropdown",{onDropdownOpened:"opened"}),Object(p.f)("dropdownItem",{onDropdownItemClicked:"clicked"}),Object(p.r)({onDropdownOpened:"activityFeed",onDropdownItemClicked:function(e){return{name:"activityFeed",menuItem:e}}}),Object(d.a)((function(e){return{onActivityComponentSelected:function(t){return e("activityComponentSelected",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}}})),Object(s.connect)((function(e){return{canAddComments:Object(M.b)(e),commentIds:Object(M.L)(e),ecosystemModules:Object(A.a)(e),isPreview:Object(C.s)(e),baseUrl:Object(I.f)(e),issueKey:Object(I.B)(e),locale:Object(I.D)(e),timeZone:Object(C.y)(e),timestampDisplaySetting:Object(_.a)(e),shouldShowWorklog:Object(P.e)(e),selectedItem:Object(R.a)(e),isServiceDesk:Object(I.v)(e)}}),(function(e){return{onSwitchSelectedActivityItem:function(t){e(Object(O.b)(t))},onSwitchTimestampDisplaySetting:function(t){e(Object(j.b)(t))}}}))])(te)},"./src/packages/issue/issue-view/src/activity/comment/comment-add/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),c=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),u=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),l=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),y=n("./src/packages/issue/issue-view/src/drafts/draft-utils.js"),b=n("./src/packages/issue/issue-view/src/selectors/comment-constants.js"),g=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),v=n("./src/packages/issue/issue-view/src/selectors/drafts/selectors.js"),h=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/index.js"),O=n("./node_modules/lodash/noop.js"),j=n.n(O),w=n("./node_modules/lodash/throttle.js"),E=n.n(w),k=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),S=n("./node_modules/@atlaskit/lozenge/Lozenge/index.js"),I=n("./src/packages/platform/observability/browser-metrics/src/index.js"),C=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),P=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),_=n("./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js"),x=n("./src/packages/issue/issue-view/src/common/constants/index.js"),T=n("./src/packages/issue/issue-view/src/common/util/scroll/index.js"),A=n("./src/packages/issue/issue-view/src/views/constants.js"),D=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/content/styled.js"),R=n("./src/packages/issue/issue-view/src/activity/comment/servicedesk-comment-editor-container/index.js"),M=n("./node_modules/react-async-component/commonjs/index.js"),L=n("./src/packages/issue/issue-view/src/common/component/loading-component-wrapper/index.js"),N=n("./src/packages/issue/issue-view/src/activity/comment/comment-editor/index.js"),F=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),U=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),V=n("./node_modules/@atlaskit/theme/index.js"),K=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),B=U.default.button(["text-align:left;color:grey;font:inherit;background:white;width:100%;height:40px;padding-left:","px;padding-right:","px;padding-top:","px;padding-bottom:","px;border:1px solid ",";border-radius:","px;box-sizing:border-box;"],2.5*K.f,2.5*K.f,1.5*K.f,1.5*K.f,V.colors.N40,K.a),W=U.default.div(["display:flex;justify-content:space-between;align-items:center;height:14px;padding-top:1px;letter-spacing:-0.005em;"]),H=U.default.span(["padding-top:","px;"],K.f/2),G=U.default.div(["text-align:center;"]);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(n,e);var t=J(n);function n(){var e;z(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={changed:!1},e.onClick=function(){e.props.onExpanded(),e.setState({changed:!0})},e}return function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(n,[{key:"getGeneralFallbackEditor",value:function(){return o.a.createElement(B,{onClick:this.onClick},o.a.createElement(W,null,this.props.placeholder,this.state.changed&&o.a.createElement(H,null,o.a.createElement(F.a,{size:"small"}))))}},{key:"render",value:function(){return this.props.isServiceDesk?n.getServiceDeskFallbackEditor():this.getGeneralFallbackEditor()}}],[{key:"getServiceDeskFallbackEditor",value:function(){return o.a.createElement(G,null,o.a.createElement(F.a,{size:"medium"}))}}]),n}(r.Component);X.defaultProps={placeholder:"",onExpanded:j.a},X.displayName="FallbackAddCommentEditor";var ee=Object(m.a)([Object(s.connect)((function(e){return{isServiceDesk:Object(f.v)(e)}}),{})])(X),te=Object(M.asyncComponent)({resolve:function(){return _.a.then((function(){return N.a}))},LoadingComponent:function(e){return Object(L.a)(o.a.createElement(ee,e),"add-comment-editor")}}),ne=Object(i.defineMessages)({placeholder:{id:"issue.placeholder-for-empty-comment-editor",defaultMessage:"Add a comment\u2026"},draftPlaceholder:{id:"issue.draft-placeholder-for-empty-comment-editor",defaultMessage:"You have an unsaved comment"},commentShortcutHintHeading:{id:"issue.comment.shortcut-hint-pro-tip-text",defaultMessage:"Pro tip:"},commentShortcutHintMessage:{id:"issue.comment.shortcut-hint-message-with-pro-tip-text",defaultMessage:"{proTipText} press {shortcutKey} to comment"}}),re=n("./node_modules/@atlaskit/modal-dialog--current/styled/Content.js"),oe=n("./src/packages/issue/issue-view/src/feature-flags.js"),ie=n("./src/packages/issue/issue-view/src/activity/common/constants.js"),se=U.default.small(["color:",";display:block;margin-top:","px;white-space:nowrap;font-size:12px;line-height:1.33333333333333;"],V.colors.N200,K.f),ae=Object(U.css)(["@supports (position:sticky) or (position:-webkit-sticky){position:sticky;z-index:10;transition:transform 0.3s cubic-bezier(0.86,0,0.07,1) 0.1s;transform:translate(0,",");bottom:-1px;background:white;padding-left:","px;margin-left:-","px;"," &{bottom:-2px;}","}"],(function(e){return e.isHidden?"".concat(100,"px"):"0"}),K.f,K.f,re.c.toString(),(function(e){return e.isHidden?function(){return Object(C.c)()?"":"display: contents"}():""})),ce=Object(U.css)(["@supports (position:sticky) or (position:-webkit-sticky){box-shadow:inset 0 2px 0 0 ",";margin-top:",";}"],V.colors.N30,ie.a),ue=Object(U.css)(["@supports (position:sticky) or (position:-webkit-sticky){box-shadow:inset 0 2px 0 0 ",";}"],V.colors.N30),le=U.default.div(["",";"],(function(e){return e.isSticky&&ae})),fe=U.default.div(["display:flex;padding-top:","px;padding-bottom:","px;background:white;",""],2*K.f,2*K.f,(function(e){return e.isSticky?Object(oe.isResponsiveActivityFeedEnabled)()?ce:ue:""})),de=U.default.div(["margin-right:","px;margin-top:","px;"],1.5*K.f,K.f/4);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=["avatarUrl","hasDraft","isExpanded","isServiceDesk","isEditorFocused","isLoading"],Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(n,e);var t=Oe(n);function n(){var e;ge(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isSticky:!1,shouldHide:!1},e.onSave=function(t){Object(I.c)().markStartOfInteraction({key:A.c.COMMENTS.TIME_TO_RENDER_SAVED_COMMENT,cancelExisting:!0}),Object(P.c)(t)||(e.props.onSave(t),e.props.onCancel())},e.setAddCommentContainerRef=function(t){e.addCommentContainer=t},e.setEditorContainerRef=function(t){e.editorContainer=t},e.setContainerRef=function(t){e.container=t},e.getScrollParent=function(t){return t&&t.className!==x.X?"auto"===window.getComputedStyle(t).overflowY||"scroll"===window.getComputedStyle(t).overflowY?t:e.getScrollParent(t.parentElement):null},e.setOverflowNode=function(){e.overflowNode||(e.overflowNode=e.getScrollParent(e.container)),e.setSticky()},e.setSticky=function(){var t=we(e).container;if(e.overflowNode&&t){var n=e.overflowNode.getBoundingClientRect(),r=t.getBoundingClientRect(),o=Math.min(n.bottom,window.innerHeight),i=!e.props.isExpanded&&r.bottom>=o;i!==e.state.isSticky&&e.setState({isSticky:i})}},e.addCommentContainer=void 0,e.editorContainer=void 0,e.container=void 0,e.editorEndElement=void 0,e.overflowNode=void 0,e.observer=void 0,e.onEditorExpandedWithAnalytics=function(){Object(I.c)().markStartOfInteraction({key:A.c.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0}),e.props.onEditorExpandedWithAnalytics()},e.onExpand=function(){Object(I.c)().markStartOfInteraction({key:A.c.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0}),e.props.onExpand()},e}return function(e,t,n){t&&ve(e.prototype,t),n&&ve(e,n)}(n,[{key:"componentDidMount",value:function(){this.overflowNode=this.getScrollParent(this.container),Object(C.d)()||(window.addEventListener("resize",this.setOverflowNode),this.overflowNode&&(this.overflowNode.addEventListener("scroll",E()(this.setSticky,100)),this.setSticky())),this.props.isExpanded&&this.scrollEditorIntoView(),this.setupStickyObserver(),this.props.isEditorFocused&&this.setupStickyHidingObserver()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,r=!ke.every((function(t){return n.props[t]===e[t]})),o=!Object.entries(this.state).every((function(e){var n=ye(e,2),r=n[0];return n[1]===t[r]}));return r||o}},{key:"componentDidUpdate",value:function(e){!e.isExpanded&&this.props.isExpanded&&(Object(I.c)().markTimeToFinishTask({key:A.c.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR}),this.scrollEditorIntoView()),e.isEditorFocused!==this.props.isEditorFocused&&(this.props.isEditorFocused?this.setupStickyHidingObserver():this.removeStickyHidingObserver())}},{key:"componentWillUnmount",value:function(){Object(C.d)()||(window.removeEventListener("resize",this.setOverflowNode),this.overflowNode&&this.overflowNode.removeEventListener("scroll",this.setSticky)),this.observer&&this.container&&this.observer.unobserve(this.container),this.observer&&this.editorEndElement&&this.observer.unobserve(this.editorEndElement)}},{key:"setupStickyObserver",value:function(){var e=this;if(window.IntersectionObserver&&this.container){var t={root:this.overflowNode,rootMargin:"0px",threshold:0};this.observer=new IntersectionObserver((function(t){t.forEach((function(t){var n=!e.props.isExpanded&&!t.isIntersecting;switch(t.target){case e.container:e.state.isSticky!==n&&e.setState({isSticky:n});break;case e.editorEndElement:var r=!t.isIntersecting&&t.boundingClientRect.y>=0&&t.boundingClientRect.y>=t.rootBounds.y;e.state.shouldHide!==r&&e.setState({shouldHide:r})}}))}),t),this.observer.observe(this.container)}}},{key:"setupStickyHidingObserver",value:function(){var e=this;window.IntersectionObserver&&this.observer&&_.a.then((function(){return setTimeout((function(){e.editorEndElement=document.getElementsByClassName(x.v)[0],e.editorEndElement&&e.observer&&e.observer.observe(e.editorEndElement)}))}))}},{key:"removeStickyHidingObserver",value:function(){window.IntersectionObserver&&this.observer&&this.editorEndElement&&this.observer.unobserve(this.editorEndElement)}},{key:"scrollEditorIntoView",value:function(){var e=this;setTimeout((function(){Object(T.b)(e.addCommentContainer,{scrollMode:"if-needed",behavior:"auto",block:"end"})}))}},{key:"renderAddCommentEditor",value:function(){var e=this.props,t=e.hasDraft,n=e.newCommentDraft,r=e.isExpanded,i=e.intl,s=e.onEdit,a=e.onCancel,c=e.onPaste,u=e.onBlur,l=e.isServiceDesk,f=e.isLoading,d=e.editorSecondaryToolbarComponents,p=o.a.createElement(te,{externalId:"issue.comment.add-form",defaultValue:n,isExpanded:r,shouldFocus:!0,placeholder:t&&!Object(P.c)(n)?"\u2022 ".concat(i.formatMessage(ne.draftPlaceholder)):i.formatMessage(ne.placeholder),onExpanded:this.onEditorExpandedWithAnalytics,onChange:s,onSave:this.onSave,onPaste:c,onBlur:u,onCancel:a,isLoading:f,secondaryToolbarComponents:d});return l?o.a.createElement(R.a,{isExpanded:r,onExpanded:this.onExpand,commentId:b.a},p):p}},{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.isEditorFocused,r=e.avatarUrl,s=n&&this.state.shouldHide&&!t,a=o.a.createElement(S.a,null,"M"),c=o.a.createElement("strong",null,o.a.createElement(i.FormattedMessage,ne.commentShortcutHintHeading)),u=function(){return!t&&o.a.createElement(se,null,o.a.createElement(i.FormattedMessage,me({},ne.commentShortcutHintMessage,{values:{shortcutKey:a,proTipText:c}})))};return o.a.createElement("span",{ref:this.setAddCommentContainerRef},o.a.createElement(le,{isSticky:this.state.isSticky,isHidden:s},o.a.createElement(fe,{isSticky:this.state.isSticky},o.a.createElement(de,null,o.a.createElement(k.a,{size:"medium",src:r})),o.a.createElement(D.a,{innerRef:this.setEditorContainerRef,"data-test-id":"issue.activity.comment"},this.renderAddCommentEditor(),o.a.createElement(u,null)))),o.a.createElement("span",{ref:this.setContainerRef}))}}]),n}(r.Component);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Se.displayName="AddCommentForm",Se.defaultProps={isServiceDesk:!1,isLoading:!1,hasDraft:!1,avatarUrl:void 0,newCommentDraft:null,onExpand:j.a,onSave:j.a,onEdit:j.a,onPaste:j.a,onBlur:j.a,onCancel:j.a},Se.displayName="AddCommentForm";t.a=Object(m.a)([i.injectIntl,Object(a.f)("issueFields",{onSave:"created",onEditorExpandedWithAnalytics:"commentExpanded"}),Object(s.connect)((function(e){return{authorId:Object(f.a)(e),avatarUrl:Object(p.w)(e),newCommentDraft:Object(g.j)(b.a)(e),hasDraft:Object(v.a)(Object(y.a)(b.a))(e),isExpanded:Object(g.w)(e)||null!=Object(g.i)(b.a)(e),isServiceDesk:Object(f.v)(e),isEditorFocused:Object(d.E)(e)||Object(g.A)(e),isLoading:Object(f.v)(e)&&Object(g.x)(e),shouldShowCommentVisibilitySelect:Object(g.z)(e),visibility:Object(g.l)(b.a)(e)||l.a}}),(function(e){return{onExpand:function(){return e(Object(u.H)())},onEdit:function(t){return e(Object(u.Q)(b.a,t))},onVisibilityChange:function(t){return e(Object(u.R)(b.a,t))},onPaste:function(t){return e(Object(u.ab)(b.a,t))},onBlur:function(){return e(Object(u.G)())},onCancel:function(){return e(Object(u.F)())},getOnSave:function(t,n){return e(Object(u.eb)(Ce({id:"".concat(b.a,"_").concat((new Date).getTime()),createdDate:(new Date).toISOString(),isNewComment:!0},t),n))}}}),(function(e,t,n){return Ce(Ce(Ce(Ce({},n),e),t),{},{editorSecondaryToolbarComponents:e.shouldShowCommentVisibilitySelect?[o.a.createElement(h.a,{initialValue:e.visibility,onChange:t.onVisibilityChange})]:void 0,onSave:function(n,r){e.shouldShowCommentVisibilitySelect&&r.update({isCommentRestricted:e.visibility.type!==l.c}),t.getOnSave({authorId:e.authorId,bodyAdf:n,bodyHtml:void 0,richContent:void 0,visibility:e.visibility},r)},onEditorExpandedWithAnalytics:function(n){t.onExpand(),Object(c.r)(n,"addCommentEditor expanded",{hasDraft:e.hasDraft})}})}))])(Se)},"./src/packages/issue/issue-view/src/activity/comment/comment-editor/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./src/packages/issue/issue-view/src/actions/editor-actions.js"),s=n("./src/packages/issue/issue-view/src/actions/share-as-comment-actions.js"),a=n("./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js"),c=n("./src/packages/issue/issue-view/src/common/service/mentions/index.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/activity-provider-selector.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/comments-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),p=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),m=n("./node_modules/reselect/lib/index.js"),y=function(e){return e.shareAsComment},b=Object(m.createSelector)(y,(function(e){return e.value})),g=Object(m.createSelector)(y,(function(e){return e.timestamp}));t.a=Object(p.a)([r.injectIntl,Object(o.connect)((function(e,t){var n=Object(f.f)(e);return{contextIdentifier:Object(l.a)(e,t),baseUrl:n,mentionProvider:Object(c.b)(e),mentionEncoder:Object(c.a)(n),activityProvider:Object(u.a)(e),mediaContext:Object(d.a)(e),sharedAtTimestamp:g(e),sharedValue:b(e)}}),(function(e){return{onExpandedFailure:function(){return e(Object(i.e)())},onSaveFailure:function(){return e(Object(i.f)())},clearSharedValues:function(){e(Object(s.c)())}}}))])(a.b)},"./src/packages/issue/issue-view/src/activity/comment/comment-view/content/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js").default.div(["flex:1 1 100%;min-width:0;input{font:inherit;}"])},"./src/packages/issue/issue-view/src/activity/comment/comment-view/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),u=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),l=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/reactions-selector.js"),p=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),m=n("./src/packages/issue/issue-view/src/drafts/draft-utils.js"),y=n("./node_modules/reselect/lib/index.js"),b=n("./src/packages/issue/issue-view/src/selectors/issue-remote-data-selector.js"),g=Object(y.createSelector)(b.a,(function(e){return e})),v=n("./src/packages/issue/issue-view/src/selectors/comment-constants.js"),h=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),O=n("./src/packages/issue/issue-view/src/selectors/drafts/selectors.js"),j=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/index.js"),w=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/view/utils.js"),E=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),k=n("./node_modules/@atlaskit/comment--current/components/ActionItem.js"),S=n("./node_modules/@atlaskit/comment--current/components/Edited.js"),I=n("./node_modules/@atlaskit/comment--current/components/Comment.js"),C=n("./node_modules/@atlaskit/comment--current/components/Author.js"),P=n("./node_modules/@atlaskit/theme/index.js"),_=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),x=n("./src/packages/platform/observability/browser-metrics/src/index.js"),T=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/confirmation-modal/index.js"),A=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),D=n("./src/packages/issue/issue-view/src/common/component/permalink-button/index.js"),R=n("./src/packages/issue/issue-view/src/common/component/timestamp/index.js"),M=n("./src/packages/issue/issue-view/src/common/messages/drafts.js"),L=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),N=n("./src/packages/issue/issue-view/src/common/util/scroll/index.js"),F=n("./src/packages/issue/issue-view/src/views/common/with-profilecard-next/index.js"),U=n("./src/packages/issue/issue-view/src/views/constants.js"),V=n("./src/packages/issue/issue-view/src/activity/common/messages.js"),K=n("./src/packages/issue/issue-view/src/activity/common/styles/index.js"),B=n("./node_modules/react-async-component/commonjs/index.js"),W=n("./src/packages/issue/issue-view/src/common/component/loading-component-wrapper/index.js"),H=n.e("async-comment-reactions").then(n.bind(null,"./src/packages/issue/issue-view/src/activity/comment/comment-reactions/index.js")),G=Object(B.asyncComponent)({resolve:function(){return H},LoadingComponent:function(){return Object(W.a)(null,"comment-reactions")}}),q=n("./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js"),z=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),Y=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/html-view/html-view.js"),Q=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/content/styled.js"),J=function(e){var t=e.isEditing,n=e.bodyHtml;return(o.a.createElement(Q.a,null,t?null:o.a.createElement(Y.a,{html:n})))};J.displayName="PreviewCommentContent";var $=Object(z.a)()(Object(i.injectIntl)(J)),Z=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),X=n("./node_modules/lodash/noop.js"),ee=n.n(X),te=n("./src/packages/issue/issue-view/src/activity/comment/comment-editor/index.js"),ne=n("./src/packages/issue/issue-view/src/activity/comment/servicedesk-comment-editor-container/index.js"),re=n("./src/packages/issue/issue-view/src/actions/attachment-viewer-actions.js"),oe=n("./src/packages/issue/issue-view/src/common/component/renderer/index.js"),ie=n("./src/packages/issue/issue-view/src/common/service/mentions/index.js"),se=(n("./src/packages/issue/issue-view/src/common/service/mentions/issue-mention-provider.js"),n("./src/packages/issue/issue-view/src/common/state/selectors/comments-selector.js")),ae=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=Object(p.a)([Object(s.connect)((function(e,t){var n=Object(Z.f)(e),r=Object(ie.a)(n);return function(e){return{baseUrl:n,mentionEncoder:r,mentionProvider:Object(ie.b)(e),contextIdentifier:Object(se.a)(e,t),mediaContext:Object(ae.a)(e)}}}),(function(e){return{onMediaFileClick:function(t){e(Object(re.d)(ue(ue({},t),{},{location:"comment"})))}}}))])(oe.a);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(n,e);var t=be(n);function n(){var e;pe(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).getEditValue=function(){return e.props.draftValue||e.props.bodyAdf},e.renderEditor=function(){var t=o.a.createElement(te.a,{isExpanded:!0,isExpandedByDefault:!0,shouldFocus:!0,defaultValue:e.getEditValue(),secondaryToolbarComponents:e.props.secondaryToolbarComponents,onBlur:e.props.onBlur,onSave:e.props.onSave,onCancel:e.props.onCancel,onChange:e.props.onChange,onPaste:e.props.onPaste});return e.props.isServiceDesk?o.a.createElement(ne.a,{isExpanded:!0,commentId:e.props.commentId},t):t},e}return function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(n,[{key:"render",value:function(){return o.a.createElement(Q.a,null,this.props.isEditing?this.renderEditor():o.a.createElement(fe,{adf:this.props.bodyAdf}))}}]),n}(r.PureComponent);he.displayName="CommentContent",he.defaultProps={isServiceDesk:!1,onBlur:ee.a,onSave:ee.a,onCancel:ee.a,onChange:ee.a,onPaste:ee.a},he.displayName="CommentContent";var Oe=Object(p.a)([Object(s.connect)((function(e){return{isServiceDesk:Object(Z.v)(e)}}),{})])(he),je=Object(B.asyncComponent)({resolve:function(){return Promise.all([q.a]).then((function(){return Oe}))},LoadingComponent:function(e){return Object(W.a)(o.a.createElement($,{bodyHtml:e.bodyHtml,isEditing:e.isEditing}),"comment-view-content")}}),we=Object(i.defineMessages)({edit:{id:"issue.text-for-edit-comment-action",defaultMessage:"Edit"},delete:{id:"issue.text-for-delete-comment-action",defaultMessage:"Delete"},edited:{id:"issue.text-for-edited-comment-flag",defaultMessage:"Edited"},retrySave:{id:"issue.text-for-retry-save-comment-action",defaultMessage:"Retry"},cancelSave:{id:"issue.text-for-cancel-save-comment-action",defaultMessage:"Cancel"},saving:{id:"issue.text-for-save-comment-sending",defaultMessage:"Saving..."},confirmationHeader:{id:"issue.confirm-delete-comment-modal-header",defaultMessage:"Delete this comment?"},confirmationContent:{id:"issue.confirm-delete-comment-modal-text",defaultMessage:"Once you delete, it's gone for good."},confirmationActionText:{id:"issue.confirm-delete-comment-action-text",defaultMessage:"Delete"},internalNote:{id:"issue.internal-comment-distinguishing-text",defaultMessage:"Internal note"},copy:{id:"issue.activity.comment.comment-items.comment-item.copy",defaultMessage:"Copy the link to this comment"}}),Ee=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),ke=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),Se={inner:{paddingTop:ke.f,paddingBottom:ke.f/2,paddingLeft:ke.f},outer:{paddingTop:28}},Ie=Ee.default.div(["border-radius:","px;padding:","px 0 ","px ","px;margin:","px 0 -","px -","px;",";"],ke.f/2,Se.inner.paddingTop,Se.inner.paddingBottom,Se.inner.paddingLeft,Se.outer.paddingTop-Se.inner.paddingTop,Se.inner.paddingBottom,Se.inner.paddingLeft,(function(e){return e.isEditing?"":"background-color: ".concat(P.colors.Y50,";")})),Ce=Ee.default.div(["border-radius:","px;padding:","px 0 ","px ","px;margin:","px 0 -","px -","px;",";"],ke.f/2,Se.inner.paddingTop,Se.inner.paddingBottom,Se.inner.paddingLeft,Se.outer.paddingTop-Se.inner.paddingTop,Se.inner.paddingBottom,Se.inner.paddingLeft,(function(e){return e.isEditing?"":"background-color: ".concat(e.highlightColor,";")})),Pe=Ee.default.div(["height:","px;margin-left:-7px;",""],2.5*ke.f,(function(e){return e.isBentoPermalinksEnabled?"margin-bottom: 4px;":""})),_e=Ee.default.div(["padding-top:","px;&:first-child,&:first-of-type{padding:0;}"],3.5*ke.f);ke.f;function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(n,e);var t=Me(n);function n(){var e;Ae(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onEditSave=function(t){Object(A.c)(t)||e.props.onEditSave(t)},e.getAuthorDisplayName=function(t){return t?t.displayName:e.props.intl.formatMessage(V.a.anonymous)},e.getCommentReactions=function(){return o.a.createElement(Pe,{isBentoPermalinksEnabled:Object(c.a)()},o.a.createElement(G,{commentId:e.props.commentId}))},e.getCommentActions=function(){return[e.props.canEdit&&o.a.createElement(k.a,{onClick:e.props.onEditClick},e.props.intl.formatMessage(we.edit),e.props.hasDraft?" (".concat(e.props.intl.formatMessage(M.a.draftIndicator),")"):""),e.props.canDelete&&o.a.createElement(k.a,{onClick:e.props.onDeleteClick},e.props.intl.formatMessage(we.delete)),e.props.showReactions&&e.getCommentReactions()].filter((function(e){return!!e}))},e.getCommentSaveFailedActions=function(){return[o.a.createElement(k.a,{onClick:e.props.onSaveRetry},e.props.intl.formatMessage(we.retrySave)),o.a.createElement(k.a,{onClick:e.props.onSaveEdit},e.props.intl.formatMessage(we.edit)),o.a.createElement(k.a,{onClick:e.props.onSaveCancel},e.props.intl.formatMessage(we.cancelSave))].filter((function(e){return!!e}))},e.getCommentContent=function(){var t=e.props,n=t.bodyAdf,r=t.bodyHtml,i=t.commentId,s=t.isOptimistic,a=t.isEditing,c=t.secondaryToolbarComponents,u=t.onEditCancel,l=t.onEditUpdate,f=t.onEditPaste,d=t.onBlur,p={bodyHtml:r,commentId:i,isEditing:a,secondaryToolbarComponents:c,onCancel:u,onChange:l,onSave:e.onEditSave,onPaste:f,onBlur:d,isLoading:s};return o.a.createElement(je,Te({},p,{bodyAdf:n}))},e.getCommentTime=function(){return o.a.createElement(R.b,{value:e.props.createdDate,timeZone:e.props.timeZone,tooltipPosition:"top",extraStyles:K.a})},e.getCommentEditedToolTip=function(){var t=e.props.intl,n=o.a.createElement(i.FormattedMessage,Te({},V.a.editedBy,{values:{author:e.getAuthorDisplayName(e.props.updateAuthor),timestamp:o.a.createElement(R.b,{value:e.props.updatedDate,timeZone:e.props.timeZone})}}));return o.a.createElement(_.a,{content:n,position:"top"},o.a.createElement(S.a,null,t.formatMessage(we.edited)))},e.getFormattedGridContainer=function(e,t){return o.a.createElement(K.g,null,o.a.createElement(K.f,null,e),t?o.a.createElement(K.f,null,t):null)},e.getPermalinkIcon=function(t){var n=e.props,r=n.commentId,i=n.fullIssueUrl,s=n.onCopyClick,a=n.intl.formatMessage;return(o.a.createElement(D.b,{id:r,fullIssueUrl:"".concat(i,"?focusedCommentId=").concat(r),label:a(we.copy),onCopyClick:s,isVisible:t.isVisible}))},e.renderEditedOld=function(){return e.props.edited?e.getCommentEditedToolTip():null},e.getEditingAndRestrictedTo=function(t,n){var r=e.props,o=r.isEditing,i=r.hasSaveFailed,s=r.isOptimistic,a=e.getPermalinkIcon(n),c=t.length>0;if(s&&!i)return{restrictedTo:null,edited:null};var u=c?e.getFormattedGridContainer(t,a):null,l=c?null:a,f=e.getCommentEditedToolTip();return o?{restrictedTo:null,edited:e.props.edited?f:null}:e.props.edited?{restrictedTo:u,edited:e.getFormattedGridContainer(f,l)}:{restrictedTo:u,edited:l}},e.renderComment=function(t){var n=e.props,r=n.author,i=n.isOptimistic,s=n.hasSaveFailed,a=n.hasDeleteModal,u=n.onDeleteConfirm,l=n.onDeleteCancel,f=n.isEditing,d=n.isHighlighted,p=n.isInternal;return(o.a.createElement(D.a,null,(function(n){var m=Object(c.a)()&&!i,y=m?e.getEditingAndRestrictedTo(t,n):{},b=y.restrictedTo,g=y.edited,v=o.a.createElement(I.a,{avatar:o.a.createElement(F.a,{userAccount:r,analyticsData:{trigger:"comment-avatar"}},o.a.createElement(E.a,{borderColor:"transparent",src:r&&r.avatarUrl,size:"medium"})),author:o.a.createElement(F.a,{userAccount:r,analyticsData:{trigger:"comment-author"}},o.a.createElement(C.a,null,e.getAuthorDisplayName(r))),time:e.getCommentTime(),edited:m?g:e.renderEditedOld(),content:o.a.createElement("div",null,e.getCommentContent(),a&&o.a.createElement(T.b,{appearance:"danger",headerMessage:e.props.intl.formatMessage(we.confirmationHeader),contentMessage:e.props.intl.formatMessage(we.confirmationContent),confirmActionText:e.props.intl.formatMessage(we.confirmationActionText),onConfirm:function(e){return u(e)},onCancel:l,externalId:"issue.comment.delete"})),restrictedTo:m?b:t,actions:i||f?[]:e.getCommentActions(),isError:s&&!f,errorActions:e.getCommentSaveFailedActions(),isSaving:i&&!s,savingText:e.props.intl.formatMessage(we.saving),highlighted:!p&&!f&&d});return m?o.a.createElement(_e,{onMouseEnter:n.show,onMouseLeave:n.hide,onFocus:n.show,onBlur:n.hide},o.a.createElement("span",{ref:e.setCommentPermalinkContainer},v)):v})))},e.renderInternalComment=function(){var t=e.props,n=t.visibility,r=t.intl,i=t.isEditing,s=t.isHighlighted?P.colors.Y75:P.colors.Y50,a=n.type===L.c?"".concat(r.formatMessage(we.internalNote)):"".concat(n.value," \u2022 ").concat(r.formatMessage(we.internalNote));return Object(c.a)()?o.a.createElement(Ce,{isEditing:i,highlightColor:s},e.renderComment(a)):o.a.createElement(Ie,{isEditing:e.props.isEditing},e.renderComment(a))},e.setCommentPermalinkContainer=function(t){e.commentPermalinkContainer=t},e.commentPermalinkContainer=void 0,e.scrollCommentIntoView=function(){e.props.isHighlighted&&!e.props.hasScrolledPermalink&&e.props.hasLoadedAllAsyncComponents&&(Object(N.b)(e.commentPermalinkContainer,{scrollMode:"always",behavior:"smooth"}),e.props.setScrollStatus(!0),e.props.onScrolledToPermalink())},e}return function(e,t,n){t&&De(e.prototype,t),n&&De(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.isOptimistic?Object(x.c)().markTimeToFeedback({key:U.c.COMMENTS.TIME_TO_RENDER_SAVED_COMMENT}):Object(x.c)().markTimeToFinishTask({key:U.c.COMMENTS.TIME_TO_RENDER_SAVED_COMMENT}),Object(c.a)()&&this.scrollCommentIntoView()}},{key:"componentDidUpdate",value:function(){Object(c.a)()&&this.scrollCommentIntoView()}},{key:"render",value:function(){var e=this.props,t=e.visibility;return e.isInternal?this.renderInternalComment():this.renderComment(t.value)}}]),n}(r.Component);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fe.displayName="Comment",Fe.defaultProps={isEditing:!1,visibility:L.a,updatedDate:null,edited:!1},Fe.displayName="Comment";t.a=Object(p.a)([i.injectIntl,Object(a.f)("issueFields",{onEditSave:"updated",onDeleteConfirm:"deleted",onScrolledToPermalink:"scrolled"}),Object(a.r)({onCopyClick:"copyCommentUrl"}),Object(s.connect)((function(e,t){var n=t.commentId;return function(e){return Ve({bodyAdf:Object(h.j)(n)(e),bodyHtml:Object(h.f)(n)(e),hasDraft:Object(O.a)(Object(m.a)(n))(e),author:Object(h.e)(n)(e),updateAuthor:Object(h.q)(n)(e),createdDate:Object(h.g)(n)(e),updatedDate:Object(h.r)(n)(e),edited:Object(h.h)(n)(e),isOptimistic:Object(h.o)(n)(e),hasSaveFailed:Object(h.p)(n)(e),canEdit:Object(h.d)(n)(e),isEditing:Object(h.B)(n)(e),canDelete:Object(h.c)(n)(e),hasDeleteModal:Object(h.m)(n)(e),visibility:Object(h.s)(n)(e),visibilityEdited:Object(h.k)(n)(e),isInternal:Object(h.D)(n)(e),showReactions:Object(d.b)(e),timeZone:Object(f.y)(e),shouldShowCommentVisibility:Object(h.z)(e),hasLoadedAllAsyncComponents:!!Object(c.a)()&&g(e),hasScrolledPermalink:!!c.a&&Object(h.v)(e)},Object(c.a)()?{onScrolledToPermalink:function(e){return Object(u.u)(e,"permalink comment",{name:"comment"})}}:null)}}),(function(e,t){var n=t.commentId;return{getOnEditClick:function(t){return e(Object(l.N)(n,t))},onEditCancel:function(){return e(Object(l.O)(n))},onEditUpdate:function(t){return e(Object(l.Q)(n,t))},onEditPaste:function(t){return e(Object(l.ab)(n,t))},onBlur:function(){return e(Object(l.P)(n))},getOnEditSave:function(t,r){return e(Object(l.eb)(Ve({id:n},t),r))},onCommentVisibilityChange:function(t){e(Object(l.R)(n,t))},onDeleteClick:function(){return e(Object(l.kb)(n))},getOnDeleteConfirm:function(t){return e(Object(l.L)(n,t))},onDeleteCancel:function(){return e(Object(l.J)())},onSaveRetry:function(){return e(Object(l.fb)(n,(new Date).toISOString(),function(e){return e.includes(v.a)}(n)))},onSaveEdit:function(){return e(Object(l.cb)(n))},onSaveCancel:function(){return e(Object(l.bb)(n))},setScrollStatus:function(t){return e(Object(l.jb)(t))}}}),(function(e,t,n){var r=e.shouldShowCommentVisibility,i=e.author,s=e.visibility,a=e.visibilityEdited,c=e.createdDate,l=e.bodyHtml,f=e.hasDraft,d=e.isInternal;return Ve(Ve(Ve(Ve({},n),e),t),{},{secondaryToolbarComponents:r?[o.a.createElement(j.a,{initialValue:a,onChange:t.onCommentVisibilityChange})]:void 0,onEditSave:function(e,o){var u=i&&i.id;return r&&o.update({isVisibilityUpdated:!Object(w.a)(s,a)}),t.getOnEditSave({authorId:u,createdDate:c,bodyAdf:e,bodyHtml:l,richContent:void 0,isNewComment:n.commentId.includes(v.a),visibility:a},o)},onDeleteConfirm:function(e,n){return t.getOnDeleteConfirm(n)},onEditClick:function(e,n){t.getOnEditClick(d),Object(u.r)(n,"editCommentEditor expanded",{hasDraft:f})}})}))])(Fe)},"./src/packages/issue/issue-view/src/activity/comment/comment-visibility/assets/Error.svg":function(e,t,n){e.exports=n.p+"assets/Error.be0d40cfbcd6c064b92b9530fd4cf3ce.8.svg"},"./src/packages/issue/issue-view/src/activity/comment/comment-visibility/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),s=(n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/store.js"),n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/components/index.js")),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),u=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),l=n("./node_modules/lodash/countBy.js"),f=n.n(l),d=n("./node_modules/lodash/isEmpty.js"),p=n.n(d),m=n("./node_modules/@atlaskit/icon--current/glyph/check.js"),y=n.n(m),b=n("./node_modules/@atlaskit/icon--current/glyph/lock-filled.js"),g=n.n(b),v=n("./node_modules/@atlaskit/icon--current/glyph/unlock.js"),h=n.n(v),O=n("./node_modules/@atlaskit/select--current/PopupSelect/Select.js"),j=n("./node_modules/react-select/dist/react-select.esm.js"),w=n("./node_modules/@atlaskit/theme/index.js"),E=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),k=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),S=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),I=n("./node_modules/@atlaskit/button--current/components/Button.js"),C=Object(a.defineMessages)({publicTooltip:{id:"comment-visibility.button.public-tooltip",defaultMessage:"Visible to all users"},optionsTooltip:{id:"comment-visibility.button.options-tooltip",defaultMessage:"Only visible to {value}"}}),P=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),_=P.default.div(["display:flex;align-items:center;",";"],(function(e){return e.removeIconMargin?"margin: 0 ".concat(-k.f/2,"px;"):null})),x=P.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px;"]);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var L=function(e,t){var n=e(t),r=n.buttonStyles,o=M(n,["buttonStyles"]);return D({buttonStyles:D(D({},r),{},{maxWidth:"".concat(300,"px")})},o)},N=function(e){var t=e.selectedOption,n=e.isSelected,r=t.type===S.c,i=r?h.a:g.a,s=r?o.a.createElement(a.FormattedMessage,C.publicTooltip):o.a.createElement(a.FormattedMessage,T({},C.optionsTooltip,{values:{value:t.value}}));return o.a.createElement(E.a,{content:s,position:"left"},o.a.createElement(I.b,{spacing:"default",theme:L,isSelected:n,shouldFitContainer:!0,iconBefore:o.a.createElement(_,{removeIconMargin:!r},o.a.createElement(i,{label:""}))},!r&&o.a.createElement(x,null,t.value)))};N.displayName="TargetButton";var F=N,U=Object(a.defineMessages)({errorMessage:{id:"issue.activity.comment.comment-visibility.error-image.messages.errorMessage",defaultMessage:"We couldn't load the visibility options"}}),V=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/assets/Error.svg"),K=n.n(V),B=P.default.div(["width:","px;"],25*k.f),W=P.default.div(["width:","px;height:","px;margin:12px 0;background:center no-repeat url(",");"],10*k.f,10*k.f,K.a),H=P.default.div(["display:flex;flex-direction:column;align-items:center;"]),G=P.default.p(["color:",";text-align:center;"],w.colors.N200),q=function(e){var t=e.intl;return(o.a.createElement(B,null,o.a.createElement(H,null,o.a.createElement(W,null),o.a.createElement(G,null,t.formatMessage(U.errorMessage)))))};q.displayName="ErrorImage";var z=Object(a.injectIntl)(q),Y=Object(a.defineMessages)({visibleToAllUsers:{id:"comment-visibility.visible-to-all-users",defaultMessage:"Visible to all users"},projectRolesLabel:{id:"comment-visibility.project-roles-label",defaultMessage:"Project roles"},groupsLabel:{id:"comment-visibility.groups-label",defaultMessage:"Groups"}}),Q=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/view/utils.js");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e,t,n){return e.filter((function(e){return e.type===n})).map((function(e){return $($({},e),{},{selected:!!e&&Object(Q.a)(e,t)})}))},ee=function(e){return{label:"",options:[$($({},S.a),{},{selected:e.type===S.c})]}},te=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),ne=P.default.div(["display:flex;justify-content:center;align-items:center;height:","px;"],18*k.f),re=function(){return o.a.createElement(ne,null,o.a.createElement(te.a,null))};re.displayName="LoadingSpinner";var oe=P.default.div(["display:flex;justify-content:left;align-items:center;"]),ie=P.default.span(["padding:0 5px 0 0;flex-shrink:0;max-height:","px;"],3*k.f),se=P.default.span(["margin-left:","px;max-height:","px;"],k.f/2,3*k.f),ae=P.default.div(["font-size:11px;font-weight:initial;padding-top:4px;"]),ce=P.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),ue=P.default.div(["display:flex;justify-content:center;padding:","px;"],2*k.f),le=P.default.div(["min-width:","px;margin-left:","px;"],4.5*k.f,k.f/2);function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){var t=e.label;return t&&o.a.createElement(ae,null,t)},ge={container:function(e){return me(me({},e),{},{paddingBottom:"0",paddingTop:"0"})},group:function(e){return me(me({},e),{},{paddingBottom:"4px",paddingTop:"0"})},option:function(e,t){var n=t.data.selected,r=t.isFocused?w.colors.N20:e.backgroundColor,o=n?w.colors.B50:r;return me(me({},e),{},{backgroundColor:o})}},ve={placement:"bottom-end",modifiers:{offset:{offset:"0, ".concat(k.f,"px")},preventOverflow:{escapeWithReference:!0},setZIndex:{enabled:!0,order:890,fn:function(e){return me(me({},e),{},{styles:me(me({},e.styles),{},{zIndex:k.g.modal})})}}}},he=Object(c.a)("commentVisibilitySelect",{onOpen:"opened",onChange:"changed"})(O.a),Oe=function(e){var t=e.value,n=e.selected,r=e.isPublic?h.a:g.a;return o.a.createElement(E.a,{content:t,delay:2e3},o.a.createElement(oe,null,o.a.createElement(ie,null,o.a.createElement(r,{label:""})),o.a.createElement(ce,null,t),o.a.createElement(se,null,n?o.a.createElement(y.a,{primaryColor:w.colors.B500,label:""}):null)))};Oe.displayName="OptionLabel";var je=function(e){var t=e.isLoading,n=e.options,i=e.initialValue,s=e.onChange,a=e.error,u=e.intl.formatMessage,l=t||a,d=fe(Object(r.useState)(i),2),m=d[0],y=d[1],b=function(e){s(e),y(e)},g=fe(Object(r.useState)(!1),2),v=g[0],h=g[1],O=Object(r.useCallback)((function(){return h(!0)}),[]),w=Object(r.useCallback)((function(){return h(!1)}),[]),E=i.type===S.c;if((l||p()(n))&&E)return null;var k=l||null==n?function(e,t,n){var r=[ee(t)];if(e){var o=e.type===t.type&&e.value===t.value;r.push({label:e.type===S.b?n(Y.groupsLabel):n(Y.projectRolesLabel),options:[$($({},e),{},{selected:o})]})}return r}(i,m,u):function(e,t,n){return[ee(n),{label:t(Y.projectRolesLabel),options:X(e,n,S.d)},{label:t(Y.groupsLabel),options:X(e,n,S.b)}]}(n,u,m),I=l?{MenuList:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.d.MenuList,e,e.children),o.a.createElement(ue,null,a?o.a.createElement(z,null):o.a.createElement(re,null)))}}:void 0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.k,{onMount:function(e){return Object(c.r)(e,"commentVisibilitySelect rendered")}}),o.a.createElement(le,null,o.a.createElement(he,{onClose:w,onOpen:function(e){O();var t=f()(n,"type");Object(c.u)(e,"commentVisibilityView",{roleCount:t[S.d]||0,groupCount:t[S.b]||0,totalCount:null==n?1:n.length+1})},maxMenuWidth:300,minMenuWidth:175,maxMenuHeight:340,formatOptionLabel:function(e){var t=e.type,n=e.value,r=e.selected,i=t===S.c;return o.a.createElement(Oe,{isPublic:i,selected:r,value:i?u(Y.visibleToAllUsers):n})},popperProps:ve,components:I,styles:ge,formatGroupLabel:be,options:k,target:function(e){var t=e.ref;return(o.a.createElement("div",{ref:t},o.a.createElement(F,{selectedOption:m,isSelected:v})))},isLoading:t,error:a,onChange:function(e,t,n){b(function(e){return{type:e.type,value:e.value}}(e)),Object(c.u)(n,"commentVisibilityView")},isSearchable:null!=n&&n.length+1>30,searchThreshold:30})))},we=Object(u.a)([a.injectIntl])((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.k,{onMount:function(t){Object(c.r)(t,"commentVisibilitySelect mounted",{isLoading:e.isLoading})}}),o.a.createElement(je,e))})),Ee=function(e){var t=e.initialValue,n=e.onChange;return(o.a.createElement(s.a,null,(function(e){var r=e.loading,i=e.error,s=e.data;return(o.a.createElement(we,{initialValue:t,onChange:n,isLoading:r,error:i,options:s?s.commentVisibilities:null}))})))};Ee.displayName="CommentVisibilitySelect";t.a=Object(i.a)()(Ee)},"./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/components/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-sweet-state/lib/esm/index.js"),s=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/store.js"),a=Object(i.a)(s.a,{displayName:"CommentVisibilitiesContainer"}),c=Object(i.d)(s.a,{displayName:"CommentVisibilitiesSubscriber"});function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){return function(t){var n=t.baseUrl,r=t.issueKey,i=t.shouldFetchCommentVisibilities,s=t.createAnalyticsEvent;return(o.a.createElement(a,{baseUrl:n,issueKey:r,createAnalyticsEvent:s},o.a.createElement(c,null,(function(n,r){var s=r.fetch;return(o.a.createElement(e,u({},t,{fetchCommentVisibilities:i?s:void 0})))}))))}}},"./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/store.js":function(e,t,n){"use strict";var r=n("./node_modules/react-sweet-state/lib/esm/index.js"),o=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),i=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),s=n("./src/packages/issue/issue-view/src/common/util/errors/index.js"),a=n("./src/packages/issue/issue-fetch-services/src/index.js"),c=n("./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js");function u(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var l=function(e){return e.map(c.d)},f=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){u(i,r,o,s,a,"next",e)}function a(e){u(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.m)(t).query({query:"\nquery CommentVisibilitiesQuery($issueKey: String!) {\n    viewIssue(issueKey: $issueKey) {\n        commentVisibilities {\n            type\n            value\n        }\n    }\n}\n",variables:{issueKey:n}});case 2:if(r=e.sent,o=r.errors,i=r.data,!o){e.next=7;break}throw new Error("GraphqlErrorResponse");case 7:if(!(i&&i.viewIssue&&i.viewIssue.commentVisibilities)){e.next=10;break}return s=l(i.viewIssue.commentVisibilities),e.abrupt("return",s);case 10:throw new Error("GraphqlNullData");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function d(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var p=function(e){var t="GraphqlErrorResponse"===e.message||"GraphqlNullData"===e.message?e.message:"other";Object(s.a)("issue.fetch.comment-visibilities","An error occurred attempting to fetch comment visibilities from gira",e,{errorReason:t})},m=function(e,t){var n=e({action:"fetched"}),r={totalCount:t.length,roleCount:t.filter((function(e){return e.type===i.d})).length,groupCount:t.filter((function(e){return e.type===i.b})).length};Object(o.r)(n,"commentVisibilities fetched",r)},y={fetch:function(){return function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){d(i,r,o,s,a,"next",e)}function a(e){d(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,o,i,s,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,o=t.setState,i=n.issueKey,s=n.baseUrl,a=n.createAnalyticsEvent,!((c=r()).loading||c.error||c.data)){e.next=5;break}return e.abrupt("return");case 5:return o({loading:!0,error:null,data:null}),e.prev=6,e.next=9,f(s,i);case 9:u=e.sent,o({loading:!1,error:null,data:{commentVisibilities:u}}),m(a,u),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),p(e.t0),o({loading:!1,error:e.t0,data:null});case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()}};t.a=Object(r.c)({name:"issue-view-comment-visibilities",initialState:{data:null,loading:!1,error:null},actions:y})},"./src/packages/issue/issue-view/src/activity/comment/comment-visibility/view/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e.value===t.value&&e.type===t.type}},"./src/packages/issue/issue-view/src/activity/comment/servicedesk-comment-editor-container/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),s=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),a=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),c=n("./node_modules/react/index.js"),u=n.n(c),l=n("./node_modules/react-intl/lib/index.es.js"),f=n("./node_modules/lodash/noop.js"),d=n.n(f),p=n("./node_modules/@atlaskit/tabs/components/Tabs.js"),m=(n("./src/packages/issue/issue-view/src/activity/comment/comment-editor/index.js"),n("./src/packages/platform/observability/analytics-web-react/src/index.js")),y=n("./node_modules/@atlaskit/button--current/components/Button.js"),b=Object(l.defineMessages)({replyToCustomer:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.reply-to-customer-button",defaultMessage:"Reply to customer"},addInternalNote:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.add-internal-note-button",defaultMessage:"Add internal note"},loadingAttachments:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.loading-attachments",defaultMessage:"Loading attachments\u2026"}}),g=n("./src/packages/issue/issue-view/src/actions/attachment-picker-actions.js"),v=n("./src/packages/issue/issue-view/src/actions/attachment-popup-actions.js"),h=n("./src/packages/issue/issue-view/src/feature-flags.js"),O=n("./node_modules/@atlaskit/icon--current/glyph/attachment.js"),j=n.n(O),w=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),E=Object(l.defineMessages)({addAttachmentLabel:{id:"issue.label-for-add-attachment-button",defaultMessage:"Add attachment"}}),k=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),S=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),I=k.default.span(["padding:","px;"],S.f/2),C=k.default.div(["margin-left:auto;margin-right:","px;"],S.f),P=function(e){var t=e.intl.formatMessage,n=e.onClick,r=e.isCommentAttachmentInProgress;return(u.a.createElement(C,null,u.a.createElement(w.a,{content:t(E.addAttachmentLabel),position:"bottom"},u.a.createElement(y.b,{spacing:"none",appearance:"subtle-link",isLoading:r,iconBefore:u.a.createElement(I,null,u.a.createElement(j.a,{size:"medium",label:t(E.addAttachmentLabel)})),externalId:"attachment",onClick:n}))))};P.displayName="AttachmentPicker";var _=Object(l.injectIntl)(P),x=Object(s.a)([Object(r.connect)((function(e){return{isCommentAttachmentInProgress:Object(a.x)(e)}}),(function(e){return{onClick:function(){Object(h.isMediaPickerUseIsOpenEnabled)()?e(Object(v.d)()):e(Object(g.j)())}}}))])(_),T=n("./node_modules/@atlaskit/theme/index.js"),A=k.default.div(["white-space:nowrap;border:1px solid ",";height:","px;box-sizing:border-box;padding:","px 0;border-radius:","px;display:flex;align-items:center;"],T.colors.N40,5*S.f,S.f/2,S.a),D=k.default.div(["padding:0 ","px;"],S.f);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,e);var t=F(n);function n(){return M(this,n),t.apply(this,arguments)}return function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(n,[{key:"renderReplyToCustomer",value:function(){var e=this.props,t=e.onReplyToCustomer,n=e.intl.formatMessage;return(u.a.createElement(u.a.Fragment,null," / ",u.a.createElement(y.b,{appearance:"link",onClick:t},n(b.replyToCustomer))))}},{key:"render",value:function(){var e=this.props,t=e.onAddInternalNote,n=e.isCommentAttachmentInProgress,r=e.intl.formatMessage,o=e.isPublicCommentAllowed;return(u.a.createElement(A,null,n?u.a.createElement(D,null,r(b.loadingAttachments)):u.a.createElement(u.a.Fragment,null,u.a.createElement(y.b,{appearance:"link",onClick:t},r(b.addInternalNote)),o&&this.renderReplyToCustomer()),u.a.createElement(x,null)))}}]),n}(c.Component);K.displayName="CollapsedEditorView";var B=Object(l.injectIntl)(K),W=Object(s.a)([Object(m.r)({onReplyToCustomer:"onReplyToCustomer",onAddInternalNote:"onAddInternalNote"}),Object(r.connect)((function(e){return{isCommentAttachmentInProgress:Object(a.x)(e)}}),{})])(B),H=k.default.div(["margin:0 -","px ","px;"],S.f,2*S.f);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z={public:{id:"public",label:u.a.createElement(l.FormattedMessage,b.replyToCustomer),content:u.a.createElement("div",null)},internal:{id:"internal",label:u.a.createElement(l.FormattedMessage,b.addInternalNote),content:u.a.createElement("div",null)}},X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(n,e);var t=Q(n);function n(){var e;q(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onReplyToCustomer=function(){e.props.onCommentVisibilityChange(!1),e.expandEditor()},e.onAddInternalNote=function(){e.props.onCommentVisibilityChange(!0),e.expandEditor()},e.onTabSelect=function(t){e.props.onCommentVisibilityChange("internal"===t.id)},e.expandEditor=function(){var t=e.props,n=t.isExpanded,r=t.onExpanded;n||r&&r()},e}return function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(n,[{key:"getExpandedView",value:function(){var e=this.props,t=e.isInternal,n=e.isPublicCommentAllowed,r=e.children,o=n&&!t?Z.public:Z.internal,i=n?[Z.internal,Z.public]:[Z.internal];return u.a.createElement(u.a.Fragment,null,u.a.createElement(H,null,u.a.createElement(p.a,{tabs:i,selected:o,onSelect:this.onTabSelect})),r)}},{key:"getCollapsedView",value:function(){return u.a.createElement(W,{onReplyToCustomer:this.onReplyToCustomer,onAddInternalNote:this.onAddInternalNote,isPublicCommentAllowed:this.props.isPublicCommentAllowed})}},{key:"render",value:function(){return this.props.isExpanded?this.getExpandedView():this.getCollapsedView()}}]),n}(c.Component);X.defaultProps={isExpanded:!1,isInternal:!1,isPublicCommentAllowed:!1,onExpanded:d.a,onCommentVisibilityChange:d.a},X.displayName="ServiceDeskCommentEditorContainer";var ee=Object(l.injectIntl)(X);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=Object(s.a)([Object(r.connect)((function(e,t){return{isInternal:Object(a.C)(t.commentId)(e),isPublicCommentAllowed:Object(i.f)(e)}}),(function(e,t){return{onCommentVisibilityChange:function(n){e(Object(o.I)(t.commentId,n))}}}),(function(e,t,n){n.commentId;return ne(ne(ne({},oe(n,["commentId"])),e),t)}))])(ee)},"./src/packages/issue/issue-view/src/activity/comments-view-old.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),f=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),d=n("./src/packages/issue/issue-view/src/common/component/button/index.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),y=n("./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),v=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),h=n("./src/packages/issue/issue-view/src/activity/comment/comment-add/index.js"),O=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/index.js"),j=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/components/index.js"),w=n("./src/packages/issue/issue-view/src/activity/common/constants.js");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=a.default.div(["margin:","px 0;"],2*l.f),T=a.default.div(["margin:"," 0 ","px 0;"],w.a,1.5*l.f),A=a.default.div(["margin:","px 0 ","px 0;"],2*l.f,1.5*l.f),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,e);var t=C(n);function n(){return k(this,n),t.apply(this,arguments)}return function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props.fetchCommentVisibilities;e&&e()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&e.fetchMoreComments()}},{key:"render",value:function(){var e=this.props,t=e.commentIds,n=e.canAddComments,r=e.fetchMoreComments,s=e.totalComments,a=e.loadedComments,c=e.isLoadingMoreComments,u=e.fullIssueUrl;if(!t.length&&!n)return null;var l=o.a.createElement(x,null,o.a.createElement(d.a,{onClick:r,isDisabled:c,isLoading:c,shouldFitContainer:!0},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-older-comments-text",defaultMessage:"View {numComments, plural, one {1 older comment} other {{numComments} older comments}}",values:{numComments:Object(y.a)(s,a)}}))),f=Object(b.isResponsiveActivityFeedEnabled)()?T:A;return o.a.createElement("span",null,s>a?l:null,t.length?o.a.createElement(f,{"data-test-id":"issue.activity.comments-list"},t.map((function(e){return o.a.createElement(O.a,{key:e,commentId:e,fullIssueUrl:u})}))):null,n?o.a.createElement(h.a,null):null)}}]),n}(r.Component);D.displayName="Comments",D.defaultProps={canAddComments:!1},D.displayName="Comments",t.a=Object(m.a)([Object(c.e)("comment"),j.b,Object(c.q)(),Object(s.connect)((function(e){return{commentIds:Object(v.L)(e),canAddComments:Object(v.b)(e),totalComments:Object(v.K)(e),loadedComments:Object(v.F)(e),isLoadingMoreComments:Object(v.E)(e),baseUrl:Object(p.f)(e),issueKey:Object(p.B)(e),shouldFetchCommentVisibilities:Object(v.z)(e),fullIssueUrl:Object(u.a)()?Object(g.a)(e):null}}),(function(e){return{fetchMoreComments:function(){return e(Object(f.W)())}}}))])(D)},"./src/packages/issue/issue-view/src/activity/comments-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),f=n("./src/packages/platform/utils/permalinks/src/index.js"),d=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),p=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),y=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),b=n("./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js"),g=n("./src/packages/issue/issue-view/src/feature-flags.js"),v=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),h=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),O=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/index.js"),j=n("./src/packages/issue/issue-view/src/activity/comment/comment-visibility/state/components/index.js"),w=n("./src/packages/issue/issue-view/src/activity/common/component/comment-list-item/index.js"),E=n("./src/packages/issue/issue-view/src/activity/common/component/load-more-button/index.js"),k=n("./src/packages/issue/issue-view/src/activity/common/constants.js");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=a.default.div(["margin:"," 0 ","px 0;"],k.a,1.5*l.f),D=a.default.div(["margin:","px 0 ","px 0;"],2*l.f,1.5*l.f),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,e);var t=_(n);function n(){return I(this,n),t.apply(this,arguments)}return function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props.fetchCommentVisibilities;e&&e()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&(0===e.startIndex?e.fetchMoreOlderComments():e.fetchMoreNewerComments())}},{key:"render",value:function(){var e=this.props,t=e.commentIds,n=e.canAddComments,r=e.fetchMoreNewerComments,s=e.fetchMoreOlderComments,a=e.totalComments,c=e.loadedComments,u=e.fullIssueUrl,l=e.isLoadingMoreComments,d=e.startIndex,m=e.loadingStage;if(!t.length&&!n)return null;var y=Object(b.b)(a,c,d),v=y.numNewerCommentsToLoad,h=y.numOlderCommentsToLoad,j=Object(f.c)(p.a),k=j.hasPermalink,S=j.permalinkId,I=Object(g.isResponsiveActivityFeedEnabled)()?A:D,C=t.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{onClick:s,numberToLoad:h,isDisabled:l,isLoading:l},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-older-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 older comment} other {{numberToLoad} older comments}}",values:{numberToLoad:h}})),o.a.createElement(I,{"data-test-id":"issue.activity.comments-list"},t.map((function(e){return o.a.createElement(O.a,{key:e,commentId:e,fullIssueUrl:u,isHighlighted:k&&e===S})}))),o.a.createElement(E.a,{onClick:r,numberToLoad:v,isDisabled:l,isLoading:l},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-newer-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 newer comment} other {{numberToLoad} newer comments}}",values:{numberToLoad:v}}))):null;return o.a.createElement(w.a,{loadingStage:m,canAddComments:n,list:C,numNewerCommentsToLoad:v})}}]),n}(r.Component);R.displayName=p.a,R.defaultProps={canAddComments:!1},R.displayName="Comments",t.a=Object(y.a)([Object(c.e)("comment"),j.b,Object(c.q)(),Object(s.connect)((function(e){return{commentIds:Object(h.L)(e),canAddComments:Object(h.b)(e),totalComments:Object(h.K)(e),startIndex:Object(h.J)(e),loadedComments:Object(h.F)(e),isLoadingMoreComments:Object(h.E)(e),baseUrl:Object(m.f)(e),issueKey:Object(m.B)(e),shouldFetchCommentVisibilities:Object(h.z)(e),fullIssueUrl:Object(u.a)()?Object(v.a)(e):null,loadingStage:Object(h.G)(e)}}),(function(e){return{fetchMoreOlderComments:function(){e(Object(d.Z)())},fetchMoreNewerComments:function(){e(Object(d.Y)())}}}))])(R)},"./src/packages/issue/issue-view/src/activity/common/component/comment-list-item/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),s=n("./src/packages/issue/issue-view/src/activity/comment/comment-add/index.js"),a=n("./src/packages/issue/issue-view/src/activity/common/styles/index.js"),c=n("./src/packages/issue/issue-view/src/activity/common/component/feed-skeleton/index.js"),u=function(e){var t=e.list,n=e.loadingStage,r=e.canAddComments,u=e.numNewerCommentsToLoad>0;return n===i.f&&u?o.a.createElement(a.e,null,o.a.createElement(c.a,null)):o.a.createElement("span",null,t,r&&o.a.createElement(s.a,null))}},"./src/packages/issue/issue-view/src/activity/common/component/feed-skeleton/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js"),s=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js"),a=n("./src/packages/issue/issue-view/src/common/skeleton/text-line-mask-view.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),l=n("./src/packages/issue/issue-view/src/common/skeleton/avatar-view.js"),f=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js"),d=Object(c.default)(f.a)(["flex-direction:column;width:100%;"]),p=Object(c.default)(i.a)(["display:flex;"]),m=Object(c.default)(s.a)(["width:9px;flex-shrink:0;"]),y=Object(c.default)(s.a)(["height:22px;"]),b=Object(c.default)(l.a)(["background-position:-2px -2px;border-bottom:","px solid white;flex-shrink:0;"],4*u.f),g=o.a.createElement(o.a.Fragment,null,o.a.createElement(b,null),o.a.createElement(m,null),o.a.createElement(i.a,null,o.a.createElement(i.a,{paddingTop:1,paddingBottom:5},o.a.createElement(a.a,{fontSize:14,lineHeight:16,intrusion:250})),o.a.createElement(i.a,{paddingTop:4,paddingBottom:0},o.a.createElement(a.a,{fontSize:24,lineHeight:24,intrusion:0})),o.a.createElement(y,null))),v=function(){return o.a.createElement(d,null,o.a.createElement(s.b,null),o.a.createElement(p,{paddingTop:0,paddingBottom:0},g),o.a.createElement(p,{paddingTop:0,paddingBottom:0},g))}},"./src/packages/issue/issue-view/src/activity/common/component/load-more-button/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/button--current/components/Button.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),c=s.default.div(["margin:","px 0;"],2*a.f),u=function(e){var t=e.onClick,n=e.isDisabled,r=e.isLoading,s=e.numberToLoad,a=e.children;return s<=0?null:o.a.createElement(c,null,o.a.createElement(i.b,{onClick:t,isDisabled:n,isLoading:r,shouldFitContainer:!0},a))};u.displayName="LoadMoreButton";var l=u;t.a=l},"./src/packages/issue/issue-view/src/activity/common/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),o="".concat(3*r.f,"px")},"./src/packages/issue/issue-view/src/activity/common/context/timestamp-display-settings/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/lodash/noop.js"),i=n.n(o),s=n("./src/packages/issue/issue-view/src/common/model/timestamp-display-setting-type.js"),a=Object(r.createContext)({timestampDisplaySetting:s.b,onSwitchTimestampDisplaySetting:i.a,timeZone:"Australia/Sydney"}),c=a.Consumer,u=a.Provider},"./src/packages/issue/issue-view/src/activity/common/messages.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(r.defineMessages)({editedBy:{id:"issue.common.messages.activity.edited-by",defaultMessage:"{timestamp} by {author}"},anonymous:{id:"issue.common.messages.activity.anonymous",defaultMessage:"Anonymous"}})},"./src/packages/issue/issue-view/src/activity/common/styles/index.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=r.default.span(["font-weight:500;"]);s.displayName="Emphasise";var a=r.default.span(["grid-row:1;margin-left:","px;white-space:nowrap;"],.5*i.f);a.displayName="GridContainer";var c=r.default.div(["margin:","px 0;"],3*i.f),u=r.default.span(["margin-left:","px;"],i.f);u.displayName="TimestampContainer";var l=r.default.span(["margin-left:-","px;"],i.f/2),f=r.default.span(["margin-left:-","px;display:grid;"],i.f/2),d=r.default.span(["display:grid;"]);d.displayName="GridContentContainer";var p={always:Object(r.css)(["color:",";"],o.colors.N500),whenDisplaySettingSwitchable:Object(r.css)([":hover{color:inherit;}"])}},"./src/packages/issue/issue-view/src/activity/servicedesk/approval-decision-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/logo/dist/esm/JiraServiceDeskLogo/Icon.js"),s=n("./src/packages/servicedesk/approval-decision/src/ui/index.js"),a=function(e){var t=e.approval;if(t){var n=t.completedDate||t.createdDate||{},r=new Date(n.epochMillis).toJSON();return o.a.createElement(s.a,{icon:o.a.createElement(i.a,{size:"small",label:"Jira Servicedesk Icon"}),finalDecision:t.finalDecision,status:t.status,time:r,approvers:t.approvers,timeZone:e.timeZone})}return null};a.defaultProps={timeZone:void 0},t.a=a},"./src/packages/issue/issue-view/src/activity/servicedesk/comments-view-old.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),f=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),d=n("./src/packages/issue/issue-view/src/common/component/button/index.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),y=n("./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=n("./src/packages/issue/issue-view/src/selectors/approval-selector/index.js"),v=n("./src/packages/issue/issue-view/src/selectors/approval-selector/utils/types.js"),h=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),O=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),j=n("./src/packages/issue/issue-view/src/activity/comment/comment-add/index.js"),w=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/index.js"),E=n("./src/packages/issue/issue-view/src/activity/common/constants.js"),k=n("./src/packages/issue/issue-view/src/activity/servicedesk/approval-decision-view.js");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=a.default.div(["margin:","px 0;"],2*l.f),A=a.default.div(["margin:"," 0 ","px 0;"],E.a,1.5*l.f),D=a.default.div(["margin:","px 0 ","px 0;"],2*l.f,1.5*l.f),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=P(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).renderJsdActivityItems=function(e){var t=r.props,n=t.timeZone,i=t.fullIssueUrl,s=Object(b.isResponsiveActivityFeedEnabled)()?A:D;return o.a.createElement(s,{"data-test-id":"issue.issue-view.activity.servicedesk.jsd-activity-items-list"},e.map((function(e){switch(e.type){case v.b:return e.comment&&o.a.createElement(w.a,{key:e.comment.id,commentId:e.comment.id,fullIssueUrl:i});case v.a:return e.approval&&o.a.createElement(k.a,{key:e.approval.id,approval:e.approval,timeZone:n});default:return null}})))},r.state={numberOfActivityItemsShown:5,totalActivityItems:e.totalComments+e.totalApprovalDecisions},r}return function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=0,n=0;e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&e.fetchMoreComments();var r=Object.keys(e.optimisticComments).length-Object.keys(this.props.optimisticComments).length;r>0&&0===this.props.editingCommentIds.length&&(t+=r,n+=r);var o=e.totalApprovalDecisions-this.props.totalApprovalDecisions;o>0&&(t+=o,n+=o);var i=e.deletedCommentIds.length-this.props.deletedCommentIds.length;i>0&&(t-=i,n-=i),0===t&&0===n||this.setState({numberOfActivityItemsShown:this.state.numberOfActivityItemsShown+t,totalActivityItems:this.state.totalActivityItems+n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.canAddComments,r=t.fetchMoreComments,s=t.isLoadingMoreComments,a=t.jsdActivityItems;if(!a.length&&!n)return null;var c=o.a.createElement(T,{"data-test-id":"issue.issue-view.activity.servicedesk.comments-view.view-older-comments-button"},o.a.createElement(d.a,{onClick:function(){var t=Object(y.a)(e.state.totalActivityItems,e.state.numberOfActivityItemsShown);r(),e.setState({numberOfActivityItemsShown:t+e.state.numberOfActivityItemsShown})},isDisabled:s,isLoading:s,shouldFitContainer:!0},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-older-comments-text",defaultMessage:"View {numComments, plural, one {1 older comment} other {{numComments} older comments}}",values:{numComments:Object(y.a)(this.state.totalActivityItems,this.state.numberOfActivityItemsShown)}})));return o.a.createElement("span",null,this.state.totalActivityItems>this.state.numberOfActivityItemsShown?c:null,a.length?this.renderJsdActivityItems(a.slice(Math.max(a.length-this.state.numberOfActivityItemsShown,0))):null,n?o.a.createElement(j.a,null):null)}}]),n}(r.Component);R.displayName="ServicedeskComments",R.defaultProps={canAddComments:!1},R.displayName="ServicedeskComments",t.a=Object(m.a)([Object(c.e)("ServicedeskComments"),Object(s.connect)((function(e){return{canAddComments:Object(O.b)(e),totalComments:Object(O.K)(e),loadedComments:Object(O.F)(e),isLoadingMoreComments:Object(O.E)(e),timeZone:Object(p.y)(e),jsdActivityItems:Object(g.c)(e),totalApprovalDecisions:Object(g.f)(e),optimisticComments:Object(O.I)(e),deletedCommentIds:Object(O.t)(e),editingCommentIds:Object(O.u)(e),fullIssueUrl:Object(u.a)()?Object(h.a)(e):null}}),(function(e){return{fetchMoreComments:function(){return e(Object(f.W)())}}}))])(R)},"./src/packages/issue/issue-view/src/activity/servicedesk/comments-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),l=n("./src/packages/platform/utils/permalinks/src/index.js"),f=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),d=n("./src/packages/issue/issue-view/src/common/constants/activity-items.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),y=n("./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=n("./src/packages/issue/issue-view/src/selectors/approval-selector/index.js"),v=n("./src/packages/issue/issue-view/src/selectors/approval-selector/utils/types.js"),h=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),O=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),j=n("./src/packages/issue/issue-view/src/activity/comment/comment-view/index.js"),w=n("./src/packages/issue/issue-view/src/activity/common/component/comment-list-item/index.js"),E=n("./src/packages/issue/issue-view/src/activity/common/component/load-more-button/index.js"),k=n("./src/packages/issue/issue-view/src/activity/common/constants.js"),S=n("./src/packages/issue/issue-view/src/activity/servicedesk/approval-decision-view.js");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=a.default.div(["margin:"," 0 ","px 0;"],k.a,1.5*u.f),R=a.default.div(["margin:","px 0 ","px 0;"],2*u.f,1.5*u.f),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e);var t=x(n);function n(){var e;C(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderJsdActivityItems=function(t){var n=e.props,r=n.timeZone,i=n.fullIssueUrl,s=Object(l.c)(d.a),a=s.hasPermalink,c=s.permalinkId,u=Object(b.isResponsiveActivityFeedEnabled)()?D:R;return o.a.createElement(u,{"data-test-id":"issue.issue-view.activity.servicedesk.jsd-activity-items-list"},t.map((function(e){switch(e.type){case v.b:return e.comment&&o.a.createElement(j.a,{key:e.comment.id,commentId:e.comment.id,fullIssueUrl:i,isHighlighted:a&&e.comment.id===c});case v.a:return e.approval&&o.a.createElement(S.a,{key:e.approval.id,approval:e.approval,timeZone:r});default:return null}})))},e}return function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&(0===e.startIndex?e.fetchMoreOlderComments():e.fetchMoreNewerComments())}},{key:"render",value:function(){var e=this.props,t=e.canAddComments,n=e.fetchMoreOlderComments,r=e.fetchMoreNewerComments,s=e.isLoadingMoreComments,a=e.jsdActivityItems,c=e.startIndex,u=e.totalComments,l=e.loadedComments,f=e.totalApprovalDecisionsItems,d=e.loadingStage;if(!a.length&&!t)return null;var p=Object(y.c)(u,l,c,a,f),m=p.numNewerActivityItemsToLoad,b=p.numOlderActivityItemsToLoad,g=a.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{onClick:function(){n()},numberToLoad:b,isDisabled:s,isLoading:s},o.a.createElement("div",{"data-test-id":"issue.issue-view.activity.servicedesk.comments-view.view-older-comments-button"},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-older-comments-text",defaultMessage:"View {numComments, plural, one {1 older comment} other {{numComments} older comments}}",values:{numComments:b}}))),this.renderJsdActivityItems(a),o.a.createElement(E.a,{onClick:function(){r()},numberToLoad:m,isDisabled:s,isLoading:s},o.a.createElement(i.FormattedMessage,{id:"issue.comments-view-newer-comments-text",defaultMessage:"View {numComments, plural, one {1 newer comment} other {{numComments} newer comments}}",values:{numComments:m}}))):null;return o.a.createElement(w.a,{loadingStage:d,canAddComments:t,list:g,numNewerCommentsToLoad:m})}}]),n}(r.Component);M.displayName="ServicedeskComments",M.defaultProps={canAddComments:!1},M.displayName="ServicedeskComments",t.a=Object(m.a)([Object(c.e)("ServicedeskComments"),Object(s.connect)((function(e){return{canAddComments:Object(O.b)(e),totalComments:Object(O.K)(e),startIndex:Object(O.J)(e),loadedComments:Object(O.F)(e),isLoadingMoreComments:Object(O.E)(e),timeZone:Object(p.y)(e),jsdActivityItems:Object(g.c)(e),totalApprovalDecisionsItems:Object(g.a)(e),fullIssueUrl:Object(h.a)(e),loadingStage:Object(O.G)(e)}}),(function(e){return{fetchMoreOlderComments:function(){e(Object(f.Z)())},fetchMoreNewerComments:function(){e(Object(f.Y)())}}}))])(M)},"./src/packages/issue/issue-view/src/activity/worklog/index.js":function(e,t,n){"use strict";var r,o=n("./node_modules/react/index.js"),i=n.n(o),s=n("./node_modules/react-intl/lib/index.es.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),f=n("./src/packages/issue/issue-view/src/common/service/issue/activity-feed-constants.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),m=n("./src/packages/issue/issue-view/src/activity/common/component/load-more-button/index.js"),y=n("./src/packages/issue/issue-view/src/activity/common/context/timestamp-display-settings/index.js"),b=n("./src/packages/issue/issue-view/src/activity/worklog/state/index.js"),g=n("./src/packages/issue/issue-view/src/activity/common/component/feed-skeleton/index.js"),v=n("./src/packages/issue/issue-view/src/activity/common/styles/index.js"),h=n("./node_modules/@atlaskit/button--current/components/Button.js"),O=n("./node_modules/@atlaskit/empty-state/EmptyState/index.js"),j=n("./src/packages/issue/issue-view/src/activity/worklog/view/worklog-error/assets/generic-error.svg"),w=n.n(j),E=Object(s.defineMessages)({heading:{id:"issue.activity.worklog.worklog-error.heading",defaultMessage:"We couldn't load the worklog"},retry:{id:"issue.activity.worklog.worklog-error.retry",defaultMessage:"Reload work log"}});function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=Object(c.d)("worklogError",c.h.SCREEN)(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(n,[{key:"renderButton",value:function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return(i.a.createElement(h.b,{appearance:"link",onClick:t},n(E.retry)))}},{key:"render",value:function(){var e=this.props.intl.formatMessage;return(i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,{description:e(E.heading),imageUrl:w.a,primaryAction:this.renderButton()}),i.a.createElement(c.i,null)))}}]),n}(o.Component))||r,A=Object(s.injectIntl)(T),D=n("./node_modules/reselect/lib/index.js"),R=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),M=Object(D.createSelector)(R.h,(function(e){return{canLogWork:e.canLogWork,canEditAllWorklogs:e.canEditAllWorklogs,canEditOwnWorklogs:e.canEditOwnWorklogs,canDeleteAllWorklogs:e.canDeleteAllWorklogs,canDeleteOwnWorklogs:e.canDeleteOwnWorklogs}})),L=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),N=n("./node_modules/lodash/flow.js"),F=n.n(N),U=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),V=n("./node_modules/lodash/noop.js"),K=n.n(V),B=n("./src/packages/issue/issue-view/src/common/messages/time.js"),W=n("./src/packages/issue/issue-view/src/activity/worklog/view/worklog-items/empty-state/assets/stopwatch.svg"),H=n.n(W),G=Object(s.defineMessages)({noWorkLogged:{id:"issue.activity.worklog.worklog-items.empty-state.no-work-logged",defaultMessage:"No work has been logged for this issue yet. Logging work lets you track and report on the time spent on issues."}});function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(n,e);var t=J(n);function n(){return z(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.canLogWork,n=e.onLogWork,r=e.intl.formatMessage;return(i.a.createElement(O.a,{description:r(G.noWorkLogged),imageUrl:H.a,size:"narrow",primaryAction:t?i.a.createElement(h.b,{appearance:"link",onClick:n},r(B.a.logWork)):void 0}))}}]),n}(o.Component);X.defaultProps={canLogWork:!1,onLogWork:K.a},X.displayName="EmptyState";var ee,te=F()(Object(c.r)({onLogWork:"logWork"}),s.injectIntl,Object(a.connect)((function(e){return{canLogWork:Object(p.b)(e)}}),(function(e){return{onLogWork:function(){e(Object(U.bb)(l.a,null))}}})))(X),ne=n("./src/packages/platform/utils/permalinks/src/index.js");function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=Object(c.d)("worklogItems",c.h.SCREEN)(ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(n,e);var t=ae(n);function n(){return oe(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ie(e.prototype,t),n&&ie(e,n)}(n,[{key:"canModifyWorklog",value:function(e){var t=this.props,n=t.permissions,r=n.canLogWork,o=n.canDeleteAllWorklogs,i=n.canDeleteOwnWorklogs,s=n.canEditAllWorklogs,a=n.canEditOwnWorklogs,c=t.loggedInAccountId;if(!r)return{canEditWorklog:!1,canDeleteWorklog:!1};var u=!!e.author&&e.author.accountId===c;return{canEditWorklog:s||a&&u,canDeleteWorklog:o||i&&u}}},{key:"render",value:function(){var e=this,t=this.props,n=t.worklogs,r=t.WorklogItem,o=t.EmptyState,s=t.isEmpty,a=t.fullIssueUrl,l=t.newAddedWorklogId,f=Object(ne.c)(ne.b).permalinkId,d=Object(u.a)()?s:!n.length;return i.a.createElement(i.a.Fragment,null,d?i.a.createElement(o,null):n.map((function(t){var n=e.canModifyWorklog(t),o=n.canEditWorklog,s=n.canDeleteWorklog,c=null==l?t.id===f:t.id===l;return i.a.createElement(r,{key:t.id,worklog:t,canEditWorklog:o,canDeleteWorklog:s,fullIssueUrl:a,worklogId:t.id,isHighlighted:c})})),i.a.createElement(c.i,null))}}]),n}(o.Component))||ee,fe=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),de=n("./src/packages/issue/issue-view/src/actions/attachment-viewer-actions.js"),pe=n("./src/packages/issue/issue-view/src/common/service/mentions/index.js"),me=n("./src/packages/issue/issue-view/src/common/state/selectors/comments-selector.js"),ye=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),be=n("./src/packages/issue/issue-view/src/selectors/issue-remote-data-selector.js"),ge=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),ve=Object(D.createSelector)(ge.H,(function(e){var t=e.worklog.permalinkStatus;return!!t&&t.hasScrolledPermalink})),he=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),Oe=n("./node_modules/@atlaskit/comment--current/components/Author.js"),je=n("./node_modules/@atlaskit/comment--current/components/ActionItem.js"),we=n("./node_modules/@atlaskit/comment--current/components/Edited.js"),Ee=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),ke=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),Se=n("./src/packages/issue/issue-view/src/common/component/permalink-button/index.js"),Ie=n("./src/packages/issue/issue-view/src/common/component/renderer/index.js"),Ce=n("./src/packages/issue/issue-view/src/common/component/timestamp/index.js"),Pe=n("./src/packages/issue/issue-view/src/common/util/scroll/index.js"),_e=n("./src/packages/issue/issue-view/src/views/common/with-profilecard-next/index.js"),xe=n("./node_modules/@atlaskit/comment--current/components/Comment.js");function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(n,e);var t=Ne(n);function n(){return Re(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Me(e.prototype,t),n&&Me(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.additionalHeaderContent,n=e.editedHeaderText,r=e.bodyContent,o=De(e,["additionalHeaderContent","editedHeaderText","bodyContent"]);return(i.a.createElement(xe.a,Ae({time:t,edited:n,content:r},o)))}}]),n}(o.Component);Ve.defaultProps={bodyContent:void 0,actions:void 0,editedHeaderText:void 0,highlighted:!1},Ve.displayName="ActivityItem";var Ke=n("./src/packages/issue/issue-view/src/activity/common/messages.js"),Be=Object(s.defineMessages)({logged:{id:"issue.activity.worklog.worklog-items.worklog-item.logged",defaultMessage:"logged"},edited:{id:"issue.activity.worklog.worklog-items.worklog-item.edited",defaultMessage:"Edited"},edit:{id:"issue.activity.worklog.worklog-items.worklog-item.edit",defaultMessage:"Edit"},delete:{id:"issue.activity.worklog.worklog-items.worklog-item.delete",defaultMessage:"Delete"},copy:{id:"issue.activity.worklog.worklog-items.worklog-item.copy",defaultMessage:"Copy the link to this worklog"}}),We=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),He=n("./node_modules/react-scroll-into-view-if-needed/dist/es/index.js"),Ge=n("./node_modules/@atlaskit/comment--current/styled/LayoutStyles.js"),qe=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),ze=We.default.div(["margin-top:","px;"],qe.f),Ye=(qe.f,Object(We.default)(Ge.b)(["display:flex;flex-grow:0;overflow:visible;width:100%;"])),Qe=We.default.span(["width:100%;"]);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(n,e);var t=tt(n);function n(){var e;Ze(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).worklogPermalinkContainer=void 0,e.onSetWorklogPermalinkContainer=function(t){e.worklogPermalinkContainer=t},e.onEdit=function(){e.props.onEdit(e.props.worklog.id)},e.onDelete=function(){e.props.onDelete(e.props.worklog.id)},e}return function(e,t,n){t&&Xe(e.prototype,t),n&&Xe(e,n)}(n,[{key:"componentDidMount",value:function(){Object(u.a)()&&this.scrollWorklogIntoView()}},{key:"componentDidUpdate",value:function(){Object(u.a)()&&this.scrollWorklogIntoView()}},{key:"scrollWorklogIntoView",value:function(){this.props.hasLoadedAllAsyncComponents&&this.props.isHighlighted&&!this.props.hasScrolledPermalink&&(Object(Pe.b)(this.worklogPermalinkContainer,{scrollMode:"always",behavior:"smooth"}),this.props.setScrollStatus(!0),this.props.onScrolledToPermalink())}},{key:"renderAvatar",value:function(){var e=this.props.worklog.author;return(i.a.createElement(_e.a,{userAccount:e,analyticsData:{trigger:"worklog-avatar"}},i.a.createElement(he.a,{src:e&&e.avatarUrl||void 0})))}},{key:"renderAuthorName",value:function(){var e=this.props,t=e.worklog.author,n=e.intl.formatMessage;return t&&t.displayName?i.a.createElement(_e.a,{userAccount:t,analyticsData:{trigger:"worklog-author"}},i.a.createElement(Oe.a,null,t.displayName)):n(Ke.a.anonymous)}},{key:"renderDateLoggedFor",value:function(){var e=this.props.worklog.started;return(i.a.createElement(y.a,null,(function(t){var n=t.timestampDisplaySetting,r=t.onSwitchTimestampDisplaySetting,o=t.timeZone;return(i.a.createElement(Ce.a,{value:e,displaySetting:n,onSwitchDisplaySetting:r,extraStyles:v.a,timeZone:o,tooltipPosition:"top"}))})))}},{key:"renderActions",value:function(){var e=this.props,t=e.canEditWorklog,n=e.canDeleteWorklog,r=e.intl.formatMessage,o=[];return t&&o.push(i.a.createElement(je.a,{onClick:this.onEdit},r(Be.edit))),n&&o.push(i.a.createElement(je.a,{onClick:this.onDelete},r(Be.delete))),o}},{key:"getEditedTooltipContent",value:function(){var e=this.props,t=e.worklog,n=t.updated,r=t.updateAuthor,o=e.intl.formatMessage;return(i.a.createElement(s.FormattedMessage,$e({},Ke.a.editedBy,{values:{timestamp:i.a.createElement(y.a,null,(function(e){var t=e.timestampDisplaySetting,r=e.onSwitchTimestampDisplaySetting,o=e.timeZone;return(i.a.createElement(Ce.a,{value:n,displaySetting:t,onSwitchDisplaySetting:r,timeZone:o,tooltipPosition:"top"}))})),author:r?r.displayName:o(Ke.a.anonymous)}})))}},{key:"renderEditedTextOld",value:function(){var e=this.props,t=e.worklog.updated,n=e.intl.formatMessage;return t?i.a.createElement(Ee.a,{content:this.getEditedTooltipContent(),position:"top"},i.a.createElement(we.a,null,n(Be.edited))):null}},{key:"renderEditedText",value:function(e){var t=this.props,n=t.worklog.updated,r=t.intl.formatMessage,o=t.fullIssueUrl,s=t.worklogId,a=t.onCopyClick,c=e&&i.a.createElement(Se.b,{id:s,fullIssueUrl:"".concat(o,"?focusedWorklogId=").concat(s),label:r(Be.copy),onCopyClick:a,isVisible:e.isVisible});return n?i.a.createElement(v.g,null,i.a.createElement(v.f,null,i.a.createElement(Ee.a,{content:this.getEditedTooltipContent(),position:"top"},i.a.createElement(we.a,null,i.a.createElement(v.f,null,r(Be.edited))))),i.a.createElement(v.f,null,c)):c}},{key:"renderComment",value:function(){var e=this.props,t=e.worklog.comment,n=e.mediaContext,r=e.mentionEncoder,o=e.mentionProvider,s=e.onMediaFileClick,a=e.contextIdentifier;return null===t||"string"==typeof t?null:i.a.createElement(ze,null,i.a.createElement(Ie.a,{adf:Object(ke.e)(t),mediaContext:n,mentionEncoder:r,mentionProvider:o,contextIdentifier:a,onMediaFileClick:s}))}},{key:"renderAdditionalHeaderContent",value:function(){var e=this.props,t=e.worklog.timeSpent,n=e.intl.formatMessage;return Object(u.a)()?i.a.createElement(v.c,null,i.a.createElement(v.f,null,n(Be.logged)),i.a.createElement(v.f,null,i.a.createElement(v.d,null,t)),i.a.createElement(v.f,null,this.renderDateLoggedFor())):i.a.createElement(v.b,null,n(Be.logged)," ",i.a.createElement(v.d,null,t),i.a.createElement(v.h,null,this.renderDateLoggedFor()))}},{key:"renderActivityItems",value:function(e){var t=this.props.isHighlighted;return(i.a.createElement(Ve,{avatar:this.renderAvatar(),author:this.renderAuthorName(),actions:this.renderActions(),additionalHeaderContent:this.renderAdditionalHeaderContent(),editedHeaderText:Object(u.a)()?this.renderEditedText(e):this.renderEditedTextOld(),bodyContent:this.renderComment(),highlighted:t}))}},{key:"render",value:function(){var e=this;return Object(u.a)()?i.a.createElement(Se.a,null,(function(t){return i.a.createElement(Ye,{onMouseEnter:t.show,onMouseLeave:t.hide,onFocus:t.show,onBlur:t.hide},i.a.createElement(Qe,{innerRef:e.onSetWorklogPermalinkContainer},e.renderActivityItems(t)))})):this.renderActivityItems()}}]),n}(o.Component);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ot.defaultProps={mentionProvider:null,mentionEncoder:null,contextIdentifier:null},ot.displayName="WorklogItem";var ct=F()(Object(c.f)("worklog",{onDelete:"clicked",onEdit:"clicked",onScrolledToPermalink:"scrolled"}),Object(c.r)({onEdit:"editWorklog",onDelete:"deleteWorklog",onCopyClick:"copyWorklogUrl"}),s.injectIntl,Object(a.connect)((function(e,t){return st({mediaContext:Object(ye.a)(e),mentionEncoder:Object(pe.a)(Object(d.f)(e)),mentionProvider:Object(pe.b)(e),contextIdentifier:Object(me.a)(e,t)},Object(u.a)()?{hasLoadedAllAsyncComponents:Object(be.a)(e),hasScrolledPermalink:ve(e),onScrolledToPermalink:function(e){return Object(fe.u)(e,"permalink worklog",{name:"worklog"})}}:{isHighlighted:Object(b.P)(e)===t.worklog.id})}),(function(e){return{onEdit:function(t){e(Object(b.R)(b.f,t))},onDelete:function(t){e(Object(b.R)(b.c,t))},onMediaFileClick:function(t){return e(Object(de.d)(st(st({},t),{},{location:"worklog"})))},setScrollStatus:function(t){return e(Object(U.cb)(t))}}})))(ot),ut=Object(a.connect)((function(e){return{worklogs:Object(p.f)(e),permissions:M(e),loggedInAccountId:Object(d.a)(e),fullIssueUrl:Object(u.a)()?Object(L.a)(e):"",isEmpty:Object(p.i)(e)<=0,newAddedWorklogId:Object(u.a)()?Object(b.P)(e):null,WorklogItem:ct,EmptyState:te}}),{})(le);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(n,e);var t=mt(n);function n(){return ft(this,n),t.apply(this,arguments)}return function(e,t,n){t&&dt(e.prototype,t),n&&dt(e,n)}(n,[{key:"renderLoadingStage",value:function(){var e=this.props,t=e.loadingStage,n=e.onRetry;switch(t){case b.p:return i.a.createElement(g.a,null);case b.h:return i.a.createElement(A,{onRetry:n});case b.b:case b.i:default:return i.a.createElement(ut,null)}}},{key:"render",value:function(){return i.a.createElement(v.e,null,this.renderLoadingStage())}}]),n}(o.Component);gt.displayName="Worklog";var vt=Object(a.connect)((function(e){return{loadingStage:Object(b.Q)(e)}}),{})(gt);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var It=Object(s.defineMessages)({viewOlderWorklogs:{id:"issue.activity.worklog.view-older-worklogs",defaultMessage:"View {worklogsToLoad, plural, one {1 older worklog} other {{worklogsToLoad} older worklogs}}"},viewNewerWorklogs:{id:"issue.activity.worklog.view-newer-worklogs",defaultMessage:"View {worklogsToLoad, plural, one {1 older worklog} other {{worklogsToLoad} newer worklogs}}"}}),Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(n,e);var t=Et(n);function n(){var e;Ot(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onRetryClick=function(){var t=e.props,n=t.issueKey,r=t.baseUrl;return(0,t.onRetryFetchWorklog)(r,n)},e.onShowOlderClick=function(){var t=e.props,n=t.baseUrl,r=t.issueKey;return(0,t.onFetchOlderWorklogs)(n,r)},e.onShowNewerClick=function(){var t=e.props,n=t.baseUrl,r=t.issueKey;return(0,t.onFetchNewerWorklogs)(n,r)},e}return function(e,t,n){t&&jt(e.prototype,t),n&&jt(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.baseUrl,n=e.issueKey,r=e.onFetchWorklogs,o=e.onFetchWorklogsInitial;0===e.loadedWorklogs&&(Object(u.a)()?o(t,n):r(t,n))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.baseUrl===this.props.baseUrl&&e.issueKey===this.props.issueKey||e.onFetchWorklogsInitial(e.baseUrl,e.issueKey)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"renderShowMoreOlderButton",value:function(){var e=this.props,t=e.isLoadingAllWorklogs,n=e.isLoadingOlderWorklogs,r=e.totalWorklogs,o=e.loadedWorklogs,s=e.startIndex,a=e.intl.formatMessage;if(!Object(u.a)())return null;var c=r-o-s,l=Math.min(c,f.b);return t?null:i.a.createElement(m.a,{onClick:this.onShowOlderClick,isDisabled:n,isLoading:n,numberToLoad:l},a(It.viewOlderWorklogs,{worklogsToLoad:l}))}},{key:"renderShowMoreNewerButton",value:function(){var e=this.props,t=e.isLoadingAllWorklogs,n=e.isLoadingNewerWorklogs,r=e.startIndex,o=e.intl.formatMessage;if(!Object(u.a)()||r<=0)return null;var s=Math.min(r,f.b);return t?null:i.a.createElement(m.a,{onClick:this.onShowNewerClick,isDisabled:n,isLoading:n,numberToLoad:s},o(It.viewNewerWorklogs,{worklogsToLoad:s}))}},{key:"render",value:function(){var e=this.props,t=e.timestampDisplaySetting,n=e.onSwitchTimestampDisplaySetting,r=e.timeZone;return(i.a.createElement(y.b,{value:{timestampDisplaySetting:t,onSwitchTimestampDisplaySetting:n,timeZone:r}},this.renderShowMoreOlderButton(),i.a.createElement(vt,{onRetry:this.onRetryClick}),this.renderShowMoreNewerButton()))}}]),n}(o.Component);Ct.displayName="Worklog";var Pt=Object(c.f)("worklogs",{onFetchWorklog:"fetched",onRetryFetchWorklog:"fetched",onFetchNewerWorklogs:"fetchedNewer",onFetchOlderWorklogs:"fetchedOlder"})(Ct),_t=Object(a.connect)((function(e){return{issueKey:Object(d.B)(e),baseUrl:Object(d.f)(e),totalWorklogs:Object(p.i)(e),isLoadingAllWorklogs:Object(p.j)(e)===l.g,isLoadingNewerWorklogs:!!Object(u.a)()&&Object(p.j)(e)===l.h,isLoadingOlderWorklogs:!!Object(u.a)()&&Object(p.j)(e)===l.i,loadedWorklogs:Object(p.f)(e).length,startIndex:Object(p.l)(e)}}),(function(e){return{onFetchWorklogs:function(t,n,r){e(Object(b.L)(t,n,r))},onFetchOlderWorklogs:function(t,n,r){e(Object(b.F)(t,n,r))},onFetchNewerWorklogs:function(t,n,r){e(Object(b.D)(t,n,r))},onFetchWorklogsInitial:function(t,n,r){e(Object(b.M)(t,n,r))},onRetryFetchWorklog:function(t,n,r){e(Object(b.N)(t,n,r))},onUnmount:function(){e(Object(b.y)())}}}))(Pt);t.a=Object(s.injectIntl)(_t)},"./src/packages/issue/issue-view/src/activity/worklog/state/index.js":function(e,t,n){"use strict";n.d(t,"m",(function(){return r.t})),n.d(t,"L",(function(){return r.X})),n.d(t,"n",(function(){return r.u})),n.d(t,"M",(function(){return r.Y})),n.d(t,"t",(function(){return r.F})),n.d(t,"O",(function(){return r.ab})),n.d(t,"K",(function(){return r.W})),n.d(t,"a",(function(){return r.b})),n.d(t,"q",(function(){return r.A})),n.d(t,"U",(function(){return r.fb})),n.d(t,"T",(function(){return r.db})),n.d(t,"s",(function(){return r.E})),n.d(t,"r",(function(){return r.C})),n.d(t,"o",(function(){return r.v})),n.d(t,"N",(function(){return r.Z})),n.d(t,"R",(function(){return r.bb})),n.d(t,"u",(function(){return r.G})),n.d(t,"g",(function(){return r.j})),n.d(t,"A",(function(){return r.M})),n.d(t,"B",(function(){return r.N})),n.d(t,"C",(function(){return r.O})),n.d(t,"z",(function(){return r.L})),n.d(t,"d",(function(){return r.f})),n.d(t,"w",(function(){return r.I})),n.d(t,"e",(function(){return r.g})),n.d(t,"x",(function(){return r.J})),n.d(t,"v",(function(){return r.H})),n.d(t,"y",(function(){return r.K})),n.d(t,"j",(function(){return r.l})),n.d(t,"D",(function(){return r.P})),n.d(t,"E",(function(){return r.Q})),n.d(t,"k",(function(){return r.n})),n.d(t,"F",(function(){return r.R})),n.d(t,"G",(function(){return r.S})),n.d(t,"l",(function(){return r.p})),n.d(t,"H",(function(){return r.T})),n.d(t,"J",(function(){return r.V})),n.d(t,"I",(function(){return r.U})),n.d(t,"p",(function(){return o.g})),n.d(t,"h",(function(){return o.e})),n.d(t,"i",(function(){return o.f})),n.d(t,"b",(function(){return o.b})),n.d(t,"f",(function(){return o.d})),n.d(t,"c",(function(){return o.c})),n.d(t,"S",(function(){return u})),n.d(t,"Q",(function(){return l})),n.d(t,"P",(function(){return f}));var r=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),o=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),c=Object(i.createSelector)(s.H,(function(e){return e.worklog})),u=Object(i.createSelector)(a.h,(function(e){return e.remainingEstimateSeconds||0})),l=Object(i.createSelector)(c,(function(e){return e.loadingStage})),f=Object(i.createSelector)(c,(function(e){return e.highlightedWorklogId}))},"./src/packages/issue/issue-view/src/activity/worklog/view/worklog-error/assets/generic-error.svg":function(e,t,n){e.exports=n.p+"assets/generic-error.0e9503ed3b498e5fd6f800cd2090df4c.8.svg"},"./src/packages/issue/issue-view/src/activity/worklog/view/worklog-items/empty-state/assets/stopwatch.svg":function(e,t,n){e.exports=n.p+"assets/stopwatch.f33e6f30d2f3a88bbcf3096adc7cb05f.8.svg"},"./src/packages/issue/issue-view/src/aui-modal-stack-index/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/lodash/noop.js"),i=n.n(o),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),a=n("./src/packages/issue/issue-view/src/common/legacy/aui-dialog-event.js");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t=d(n);function n(){var e;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={stackIndex:0},e.incrementStackIndex=function(){e.setState({stackIndex:e.state.stackIndex+1})},e.decrementStackIndex=function(){e.setState({stackIndex:e.state.stackIndex-1})},e}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;Object(s.a)({name:"jira/util/events"}).then((function(t){var n=t.bind;n("beforeShow",e.incrementStackIndex),n("Dialog.hide",e.decrementStackIndex)})).catch(i.a),Object(a.a)("show",this.incrementStackIndex),Object(a.a)("hide",this.decrementStackIndex)}},{key:"componentWillUnmount",value:function(){var e=this;Object(s.a)({name:"jira/util/events"}).then((function(t){var n=t.unbind;n("beforeShow",e.incrementStackIndex),n("Dialog.hide",e.decrementStackIndex)})).catch(i.a),Object(a.b)("show",this.incrementStackIndex),Object(a.b)("hide",this.decrementStackIndex)}},{key:"render",value:function(){return this.props.children(this.state.stackIndex)}}]),n}(r.Component);y.displayName="AuiModalStackIndex"},"./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return f}));var r={key:"FETCH_FIELD_DATA",prefix:"ISSUE_DETAILS"},o={key:"FETCH_INITIAL_COMMENTS",prefix:"ISSUE_DETAILS"},i={key:"FETCH_ISSUE_LINK_TYPES",prefix:"ISSUE_DETAILS"},s={key:"FETCH_SUBTASK_TYPES",prefix:"ISSUE_DETAILS"},a={key:"FETCH_LOAD_CONTEXT",prefix:"ISSUE_DETAILS"},c={key:"FETCH_USER_AUTH",prefix:"ISSUE_DETAILS"},u={key:"FETCH_VIEW_CONTEXT",prefix:"ISSUE_DETAILS"},l={key:"FETCH_ECOSYSTEM_EXTENSIONS",prefix:"ISSUE_DETAILS"},f={key:"FETCH_ISSUE_PROPERTIES",prefix:"ISSUE_DETAILS"}},"./src/packages/issue/issue-view/src/browser-metrics/fetch-issue-network-times.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),o=n("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,u=[o.g,o.a,o.e,o.d,o.i,o.f,o.c,o.b,o.h],l=function(){u.forEach((function(e){var t="BEGIN_".concat(e.prefix,"_").concat(e.key),n="END_".concat(e.prefix,"_").concat(e.key);r.default.clearMarks&&(r.default.clearMarks(t),r.default.clearMarks(n))})),c=null},f=function(){return c||(c=function(){return u.reduce((function(e,t){var n="BEGIN_".concat(t.prefix,"_").concat(t.key),o="END_".concat(t.prefix,"_").concat(t.key),i=Object(r.timeBetweenMarks)(n,o);if(null!=i&&i>0){var c=s(s({},e),{},a({},"".concat(t.key,"_NETWORK"),i));return r.default.clearMarks&&(r.default.clearMarks(n),r.default.clearMarks(o)),c}return e}),{})}()),c}},"./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"n",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return v}));var r="FETCH_ISSUE_REQUEST",o=function(){return{type:r}},i="FETCH_ISSUE_SUCCESS",s=function(e){return{type:i,payload:e}},a="FETCH_ISSUE_FAILURE",c=function(e){return{type:a,payload:e}},u="REFRESH_ISSUE_REQUEST",l=function(){return{type:u}},f="REFRESH_ISSUE_SUCCESS",d=function(e){return{type:f,payload:e}},p="REFRESH_ECOSYSTEM_REQUEST",m=function(){return{type:p}},y="REFRESH_ECOSYSTEM_SUCCESS",b=function(e){return{type:y,payload:e}},g="FETCH_FORGE_REQUEST",v=function(){return{type:g}}},"./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="SET_TIMESTAMP_DISPLAY_SETTING",o=function(e){return{type:r,payload:e}}},"./src/packages/issue/issue-view/src/common/actions/worklog-actions.js":function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"X",(function(){return o})),n.d(t,"u",(function(){return i})),n.d(t,"Y",(function(){return s})),n.d(t,"w",(function(){return a})),n.d(t,"ab",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"W",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"D",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"F",(function(){return m})),n.d(t,"E",(function(){return y})),n.d(t,"p",(function(){return b})),n.d(t,"T",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"V",(function(){return h})),n.d(t,"q",(function(){return O})),n.d(t,"U",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"C",(function(){return E})),n.d(t,"A",(function(){return k})),n.d(t,"eb",(function(){return S})),n.d(t,"B",(function(){return I})),n.d(t,"fb",(function(){return C})),n.d(t,"z",(function(){return P})),n.d(t,"db",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"Z",(function(){return T})),n.d(t,"x",(function(){return A})),n.d(t,"bb",(function(){return D})),n.d(t,"d",(function(){return R})),n.d(t,"G",(function(){return M})),n.d(t,"j",(function(){return L})),n.d(t,"M",(function(){return N})),n.d(t,"k",(function(){return F})),n.d(t,"O",(function(){return U})),n.d(t,"N",(function(){return V})),n.d(t,"i",(function(){return K})),n.d(t,"L",(function(){return B})),n.d(t,"f",(function(){return W})),n.d(t,"I",(function(){return H})),n.d(t,"g",(function(){return G})),n.d(t,"J",(function(){return q})),n.d(t,"e",(function(){return z})),n.d(t,"H",(function(){return Y})),n.d(t,"h",(function(){return Q})),n.d(t,"K",(function(){return J})),n.d(t,"l",(function(){return $})),n.d(t,"P",(function(){return Z})),n.d(t,"m",(function(){return X})),n.d(t,"Q",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"R",(function(){return ne})),n.d(t,"o",(function(){return re})),n.d(t,"S",(function(){return oe})),n.d(t,"y",(function(){return ie})),n.d(t,"cb",(function(){return se}));var r="state.FETCH_WORKLOGS_REQUEST",o=function(e,t,n){return{type:r,payload:{baseUrl:e,issueKey:t},meta:{analyticsEvent:n}}},i="state.FETCH_WORKLOGS_REQUEST_INITIAL",s=function(e,t,n){return{type:i,payload:{baseUrl:e,issueKey:t},meta:{analyticsEvent:n}}},a="state.FETCH_WORKLOGS_SUCCESS",c=function(e,t,n){return{type:a,payload:{sortedWorklogIds:e,worklogs:t,totalWorklogs:n}}},u="state.FETCH_WORKLOGS_FAILURE",l=function(){return{type:u}},f="state.ADD_WORKLOG_REQUEST",d=function(e,t){return{type:f,payload:{values:e},meta:{analyticsEvent:t}}},p="state.ADD_WORKLOG_SUCCESS",m=function(e,t,n,r){return{type:p,payload:{sortedWorklogIds:e,worklogs:t,worklogId:n,timeTracking:r}}},y=function(e,t){return{type:p,payload:{worklogId:e,timeTracking:t}}},b="state.FETCH_SURROUNDING_WORKLOGS_BY_ID",g=function(e){return{type:b,payload:{worklogId:e}}},v="state.FETCH_WORKLOGS_BY_ID_SUCCESS",h=function(e,t,n,r){return{type:v,payload:{sortedWorklogIds:e,worklogs:t,startIndex:n,totalWorklogs:r}}},O="state.FETCH_WORKLOGS_BY_ID_FAILURE",j=function(){return{type:O}},w="state.ADD_WORKLOG_FAILURE",E=function(){return{type:w}},k="state.UPDATE_TIME_REMAINING_REQUEST",S=function(e,t){return{type:k,payload:{timeRemaining:e},meta:{analyticsEvent:t}}},I="state.UPDATE_TIME_REMAINING_SUCCESS",C=function(e){return{type:I,payload:{timeRemaining:e}}},P="state.UPDATE_TIME_REMAINING_FAILURE",_=function(){return{type:P}},x="state.FETCH_WORKLOGS_RETRY",T=function(e,t,n){return{type:x,payload:{baseUrl:e,issueKey:t},meta:{analyticsEvent:n}}},A="state.OPEN_MODAL",D=function(e,t){return{type:A,payload:{modalType:e,worklogId:t}}},R="state.CLOSE_MODAL",M=function(){return{type:R}},L="state.EDIT_WORKLOG_REQUEST",N=function(e,t,n){return{type:L,payload:{worklogId:e,values:t},meta:{analyticsEvent:n}}},F="state.EDIT_WORKLOG_SUCCESS",U=function(e,t,n,r){return{type:F,payload:{sortedWorklogIds:e,worklogs:t,worklogId:n,timeTrackingDeltas:r}}},V=function(e,t,n){return{type:F,payload:{worklogs:e,worklogId:t,timeTrackingDeltas:n,sortedWorklogIds:[]}}},K="state.EDIT_WORKLOG_FAILURE",B=function(){return{type:K}},W="state.DELETE_WORKLOG_REQUEST",H=function(e,t,n,r){return{type:W,payload:{worklogId:e,timeRemaining:t,isAdjustTimeRemainingChecked:n},meta:{analyticsEvent:r}}},G="state.DELETE_WORKLOG_SUCCESS",q=function(e,t){return{type:G,payload:{worklogId:e,timeTrackingDeltas:t}}},z="state.DELETE_WORKLOG_FAILURE",Y=function(){return{type:z}},Q="state.DISPOSE_WORKLOG_APP",J=function(){return{type:Q}},$="state.FETCH_NEWER_WORKLOGS_REQUEST",Z=function(e,t,n){return{type:$,payload:{baseUrl:e,issueKey:t,analyticsEvent:n}}},X="state.FETCH_NEWER_WORKLOGS_SUCCESS",ee=function(e,t,n){return{type:X,payload:{sortedWorklogIds:e,worklogs:t,totalWorklogs:n}}},te="state.FETCH_OLDER_WORKLOGS_REQUEST",ne=function(e,t,n){return{type:te,payload:{baseUrl:e,issueKey:t,analyticsEvent:n}}},re="state.FETCH_OLDER_WORKLOGS_SUCCESS",oe=function(e,t,n){return{type:re,payload:{sortedWorklogIds:e,worklogs:t,totalWorklogs:n}}},ie="SET_WORKLOG_SCROLL_STATUS",se=function(e){return{type:ie,payload:{status:e}}}},"./src/packages/issue/issue-view/src/common/component/button/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/button--current/components/Button.js"),s=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),a=function(e){var t=e.children,n=e.isDisabled,r=e.isLoading,a=e.onClick,c=e.shouldFitContainer;return(o.a.createElement(i.b,{onClick:a,isDisabled:n,iconAfter:r?o.a.createElement(s.a,{size:"small"}):null,shouldFitContainer:c},r?null:t))};a.displayName="Button",t.a=a},"./src/packages/issue/issue-view/src/common/component/date-time/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/lodash/isNaN.js"),a=n.n(s),c=n("./node_modules/@atlaskit/datetime-picker--current/dist/esm/components/DateTimePicker.js"),u=n("./src/packages/platform/utils/constants/src/datetimepicker-available-times.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/date/date-messages.js"),f=n("./src/packages/compatibility/src/index.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-feature-flag-value.js"),p=function(){return Object(d.b)("kitkat.change-iso-date-formatting-utility",!1)};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,e);var t=v(n);function n(){var e;y(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){var n=p()?Object(f.a)(t):t.replace(/(am|pm)?([+-][0-9]{2})([0-9]{2})$/,"$2:$3");e.props.onChange(a()(Date.parse(n))?null:n)},e.parseValue=function(t,n,r){return e.props.parseValue(t,n,r,e.props.timeZone)},e}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,n=e.isDisabled,r=e.value,i=e.timeZone,s=e.intl.formatMessage;return(o.a.createElement(c.a,{autoFocus:t,isDisabled:n,value:r||"",onChange:this.onChange,timeIsEditable:!0,parseValue:i?this.parseValue:void 0,datePickerSelectProps:{placeholder:s(l.a.placeholderDate)},timePickerSelectProps:{formatCreateLabel:function(e){return e},filterOption:function(e,t){return!t||e.value===t||e.label===t}},times:u.a}))}}]),n}(r.Component);j.defaultProps={isDisabled:!1,value:void 0,autoFocus:!1},j.displayName="DateTimeFieldView";var w=Object(i.injectIntl)(j)},"./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react-async-component/commonjs/index.js"),o=n("./src/packages/issue/issue-view/src/common/metrics/index.js"),i=n.e("async-editor-view").then(n.bind(null,"./src/packages/issue/issue-view/src/common/component/editor/editor-view.js"));t.b=Object(r.asyncComponent)({resolve:function(){return i.then((function(e){return Object(o.j)(),Promise.resolve(e)}))}})},"./src/packages/issue/issue-view/src/common/component/inline-edit/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./node_modules/@atlaskit/inline-edit--current/dist/esm/InlineEditStateless.js"),a=i.default.div([""," margin-bottom:24px;"],(function(e){return e.isEditing?"":"\n        & > div > div > div > div > div {\n            min-height: 32px !important;\n        }\n        & > div > div > div > div > div > div {\n            padding: 0 6px;\n        }\n    "})),c=function(e){return o.a.createElement(a,{isEditing:e.isEditing},o.a.createElement(s.a,e))};c.displayName="CompactInlineEditStateless",t.a=c},"./src/packages/issue/issue-view/src/common/component/loading-component-wrapper/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/isFunction.js"),s=n.n(i),a=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.a=function(e,t,n){var i=s()(e)?e:function(){return e||null},u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,e);var t=m(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).startTime=void 0,n.mountTime=void 0,n.startTime=c.default.now(),n}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(r,[{key:"componentDidMount",value:function(){this.mountTime=c.default.now()}},{key:"componentWillUnmount",value:function(){var e=c.default.now(),t=e-this.startTime,r=this.mountTime-this.startTime,o=e-this.mountTime;t>0&&this.props.onWillUnmount(t,r,o,n)}},{key:"render",value:function(){return i()}}]),r}(r.Component);u.defaultProps={onWillUnmount:function(){}},u.displayName="LoadingWrapper";var y=Object(a.a)((function(e){return{onWillUnmount:function(t,n,r,o){return e("loading-component",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({duration:t,initializationTime:n,mountingTime:r},o||{}))}}}))(u);return(o.a.createElement(y,{externalId:t}))}},"./src/packages/issue/issue-view/src/common/component/log-time-modal/modal/utils/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/lodash/clamp.js");var r={minute:"m",hour:"h",day:"d",week:"w"},o=function(e){return r[e]||r.minute}},"./src/packages/issue/issue-view/src/common/component/logged-time/assets/stopwatch-glyph.svg":function(e,t,n){e.exports=n.p+"assets/stopwatch-glyph.abbc4afde0b6bdac7465517877d67af5.8.svg"},"./src/packages/issue/issue-view/src/common/component/logged-time/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/@atlaskit/icon--current/index.js"),a=n("./src/packages/issue/issue-view/src/common/util/time-string/index.js"),c=n("./node_modules/@atlaskit/theme/index.js"),u=Object(i.defineMessages)({underOriginalEstimate:{id:"issue.log-time.under-original-estimated-time-tooltip",defaultMessage:"{time} under original estimate"},overOriginalEstimate:{id:"issue.log-time.over-original-estimated-time-tooltip",defaultMessage:"{time} over original estimate"}}),l=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),f=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),p=f.default.div(["background-color:",";flex-shrink:0;width:",";transition:width 0.3s ease;&:first-child{border-top-left-radius:","px;border-bottom-left-radius:","px;}&:last-child{border-top-right-radius:","px;border-bottom-right-radius:","px;}"],(function(e){return e.color}),(function(e){return e.width}),d.f/2,d.f/2,d.f/2,d.f/2);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,e);var t=v(n);function n(){return y(this,n),t.apply(this,arguments)}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.proportion,r=n>0?"".concat(100*n,"%"):"0";return o.a.createElement(p,{color:t,width:r})}}]),n}(r.Component);j.defaultProps={color:c.colors.B400,proportion:0},j.displayName="ProgressBarSegment";var w=f.default.div(["background-color:",";border-radius:","px;display:flex;height:","px;overflow:hidden;width:100%;",";"],c.colors.N40,d.f/2,(function(e){return e.isCompact?d.f/2:d.f}),(function(e){return e.hasPointerCursor?"cursor: pointer;":""}));function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,e);var t=C(n);function n(){return k(this,n),t.apply(this,arguments)}return function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"renderProgressBar",value:function(){return o.a.createElement(w,{isCompact:this.props.isCompact,hasPointerCursor:!!this.props.tooltip},this.props.children)}},{key:"render",value:function(){return this.props.tooltip?o.a.createElement(l.a,{content:this.props.tooltip},this.renderProgressBar()):this.renderProgressBar()}}]),n}(r.Component);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}x.defaultProps={isCompact:!0,children:null,tooltip:null},x.displayName="ProgressBar";var F=function(e,t){var n=e.loggedTime,r=e.remainingTime;return n&&void 0!==t?n+(r||0)-t:0},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=M(n);function n(){var e;A(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).secondsToTimeString=function(t){var n=e.props.config,r=n.daysPerWeek,o=n.hoursPerDay;return Object(a.c)(r,o)(t)},e}return function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(n,[{key:"getTooltip",value:function(){var e=this.props,t=e.value,n=e.estimatedTime,r=F(t,n);return 0===r?null:r>0?this.props.intl.formatMessage(u.overOriginalEstimate,{time:this.secondsToTimeString(r)}):this.props.intl.formatMessage(u.underOriginalEstimate,{time:this.secondsToTimeString(-r)})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.estimatedTime,r=t.loggedTime,i=void 0===r?0:r,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.loggedTime,r=void 0===n?0:n,o=e.remainingTime,i=void 0===o?0:o;return Math.max(t,r+i)}(t,n),a=Math.max(F(t,n),0),u=s?(i-a)/s:0,l=s?a/s:0;return o.a.createElement(x,{tooltip:this.getTooltip(),isCompact:this.props.isCompact},o.a.createElement(j,{color:this.props.isDone?c.colors.G300:c.colors.B400,proportion:u}),o.a.createElement(j,{color:c.colors.Y300,proportion:l}))}}]),n}(r.Component);U.defaultProps={isCompact:!0,isDone:!1,value:{loggedTime:0}},U.displayName="ProgressTracker";var V=Object(i.injectIntl)(U),K=n("./src/packages/issue/issue-view/src/common/component/logged-time/assets/stopwatch-glyph.svg"),B=n.n(K),W=f.default.div(["width:100%;display:flex;"]),H=f.default.div(["margin-right:","px;"],d.f),G=f.default.div(["flex-grow:1;margin-top:","px;"],d.f/2),q=f.default.small(["color:",";display:flex;justify-content:space-between;margin-top:0;font-size:","px;flex-wrap:wrap;"],c.colors.N500,d.e),z=f.default.span(["margin-right:","px;"],d.f/2),Y=f.default.span(["cursor:pointer;"]),Q=f.default.span(["font-weight:normal;"]);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(){return o.a.createElement("object",{data:B.a,width:"24",height:"24",type:"image/svg+xml"})};re.displayName="StopWatchGlyphObjectImage";var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(n,e);var t=ee(n);function n(){var e;$(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getTimeRemainingText=function(){if(!e.props.value.remainingTime)return null;var t=e.secondsToTimeString(e.props.value.remainingTime);return(o.a.createElement(Y,null,o.a.createElement(i.FormattedMessage,{id:"issue.log-time.remaining-time",defaultMessage:"{time} remaining",values:{time:o.a.createElement(Q,null,t)}})))},e.secondsToTimeString=function(t){var n=e.props.config,r=n.daysPerWeek,o=n.hoursPerDay;return Object(a.c)(r,o)(t)},e}return function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(n,[{key:"getTimeLoggedText",value:function(){if(this.props.value&&this.props.value.loggedTime){var e=this.secondsToTimeString(this.props.value.loggedTime);return(o.a.createElement(i.FormattedMessage,{id:"issue.log-time.time-logged",defaultMessage:"{time} logged",values:{time:o.a.createElement(Q,null,e)}}))}return(o.a.createElement(i.FormattedMessage,{id:"issue.log-time.no-time-logged",defaultMessage:"No time logged"}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.isDone,r=e.isCompact,i=e.value,a=e.estimatedTime;return(o.a.createElement(W,null,o.a.createElement(H,null,o.a.createElement(s.a,{glyph:re,size:"medium",label:""})),o.a.createElement(G,null,o.a.createElement(V,{value:i,estimatedTime:a,config:t,isDone:n,isCompact:r}),o.a.createElement(q,null,o.a.createElement(z,null,this.getTimeLoggedText()),this.getTimeRemainingText()))))}}]),n}(r.Component);oe.defaultProps={isCompact:!0,isDone:!1},oe.displayName="LoggedTime"},"./src/packages/issue/issue-view/src/common/component/permalink-button/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return P}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/button--current/components/Button.js"),s=n("./node_modules/@atlaskit/icon--current/glyph/check-circle.js"),a=n.n(s),c=n("./node_modules/@atlaskit/icon--current/glyph/copy.js"),u=n.n(c),l=n("./node_modules/@atlaskit/theme/index.js"),f=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/field-copy-text/index.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),m=d.default.div(["padding-top:","px;opacity:0;transition:opacity 0.2s ease,transform 0.2s ease;transform:translate(","px,0);padding-left:","px;display:flex;align-items:flex-end;",";&:focus{opacity:1;transform:translate(0,0);}"],p.f/4,-p.f,p.f/2,(function(e){return e.isVisible&&"\n        opacity: 1;\n        transform: translate(0, 0);\n    "}));function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,e);var t=h(n);function n(){var e;b(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isCopied:!1},e.onCopySuccess=function(t){e.setState({isCopied:t})},e.onCopyReset=function(){e.setState({isCopied:!1})},e}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.label,s=t.fullIssueUrl,c=t.isVisible,d=t.onCopyClick,p=this.state.isCopied;return o.a.createElement(m,{isVisible:c},o.a.createElement(f.a,{id:n,label:r,tooltipDelay:0,tooltipLabel:r,tooltipLabelPosition:"top",shouldFitContainer:!0,value:s,hideFieldText:!0,remountOnChange:!0,onCopyClick:d,onClickChange:function(t){return e.onCopySuccess(t)},onCopyReset:this.onCopyReset},o.a.createElement(i.b,{appearance:"subtle-link",iconBefore:p?o.a.createElement(a.a,{label:"",primaryColor:l.colors.G500,size:"small"}):o.a.createElement(u.a,{size:"small",label:r}),spacing:"none"})))}}]),n}(r.Component);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}w.displayName="PermalinkButton";function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=S(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=E(t,2),o=n[0],i=n[1],s=function(){i(!0)},a=function(){i(!1)};return[o,s,a]}(e.defaultIsVisible),3),n=t[0],o=t[1],i=t[2];return e.children({isVisible:n,show:o,hide:i})};C.defaultProps={defaultIsVisible:!1};var P=C},"./src/packages/issue/issue-view/src/common/component/renderer/index.js":function(e,t,n){"use strict";var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/with-link-actions/index.js"),o=n("./src/packages/issue/issue-view/src/common/media/components/with-media-provider/with-media-provider.js"),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/lodash/isNil.js"),c=n.n(a),u=n("./node_modules/lodash/noop.js"),l=n.n(u),f=n("./node_modules/@atlaskit/editor-common/dist/esm/provider-factory/provider-factory.js"),d=n("./node_modules/@atlaskit/renderer/dist/esm/ui/Renderer/index.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/html-view/check-for-href.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/iframe-redirect/index.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/services/emoji.js"),b=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),g=n("./src/packages/issue/issue-view/src/feature-flags.js"),v=n("./src/packages/issue/issue-view/src/common/styles/index.js"),h=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t=I(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onInlineCardClicked=function(e,t){var n=r.props.linkActions,o=e||window.event;o.preventDefault();var i=o.metaKey||0!==o.button;Object(m.a)(t,i,n.push)},r.onMediaItemClicked=function(e){var t=e.mediaItemDetails;if(e.event.stopPropagation(),t&&!c()(t.id)&&!c()(t.mimeType)&&!c()(t.name)){var n={mediaApiFileId:t.id,type:t.mimeType,title:t.name};r.props.onMediaFileClick(n)}},r.onMentionClicked=function(e,t,n){var o=r.props,i=o.linkActions;if(o.mentionEncoder){n.stopPropagation();var s=n,a=s.metaKey||0!==s.button;Object(m.a)(r.props.mentionEncoder(e),a,i.push)}},r.onContentSelected=function(e){e.target instanceof window.Element&&!Object(p.a)(e.target,e.currentTarget)&&!r.checkForMedia(e.target,e.currentTarget)||e.stopPropagation()},r.checkForMedia=function(e,t){return!(!e||e===t)&&(!(!e.className.includes("media-single")&&!e.className.includes("MediaGroup")&&"media-viewer-popup"!==e.getAttribute("data-testid"))||r.checkForMedia(e.parentElement,t))},r.dataProviders=void 0,r.eventHandlers=void 0,r.isEmpty=function(){return r.isAdfValueEmpty()},r.isAdfValueEmpty=function(){var e=r.props.adf;return!e||Object(b.c)(e)};var o=r.props,i=o.mediaProvider,s=o.mentionProvider,a=o.contextIdentifier;r.dataProviders=new f.a,r.dataProviders.setProvider("mediaProvider",i),r.dataProviders.setProvider("mentionProvider",Promise.resolve(s)),r.dataProviders.setProvider("emojiProvider",Object(y.a)()),a&&Object(g.isContextIdentifierInRendererEnabled)()&&r.dataProviders.setProvider("contextIdentifierProvider",Promise.resolve(a));var u=function(){return Object(h.b)("ms-2369-disable-jira-media-viewer",!1)}()?{}:{media:{onClick:r.onMediaItemClicked}};return r.eventHandlers=w(w({mention:{onClick:r.onMentionClicked}},u),{},{smartCard:{onClick:r.onInlineCardClicked}}),r}return function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(n,[{key:"render",value:function(){var e=this.props.adf;return this.isEmpty()?s.a.createElement(v.c,null,this.props.placeholder):s.a.createElement("div",{onClick:this.onContentSelected,onKeyPress:this.onContentSelected,role:"presentation"},s.a.createElement(d.a,{document:Object(b.d)(e),dataProviders:this.dataProviders,eventHandlers:this.eventHandlers}))}}]),n}(i.PureComponent);_.displayName="Renderer",_.defaultProps={adf:void 0,placeholder:void 0,mediaProvider:void 0,mentionEncoder:function(){return""},onMediaFileClick:l.a},_.displayName="Renderer";t.a=Object(o.a)(Object(r.a)(_))},"./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=r.default.div(["display:flex;align-items:baseline;flex-wrap:nowrap;justify-content:",";"],(function(e){return e.leftAlign?"normal":"space-between"})),a=r.default.div(["display:flex;justify-content:flex-start;align-items:baseline;max-width:100%;"]),c=r.default.h2(["",";line-height:","px;color:",";overflow-wrap:break-word;min-width:0;"],o.typography.h400(),3*i.f,o.colors.heading),u=r.default.div(["display:flex;align-items:center;",";"],(function(e){return e.leftAlign?"margin-left: ".concat(i.f,"px"):""})),l=r.default.div(["",";margin-left:","px;margin-top:0;flex-shrink:0;"],o.typography.h100(),i.f)},"./src/packages/issue/issue-view/src/common/component/smart-card/jira-smart-card-provider.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/smart-card/dist/esm/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/match-jira-url/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-meta.js"),u=n("./src/packages/platform/services/issue/src/index.js"),l=n("./src/packages/issue/issue-view/src/feature-flags.js"),f=n("./src/packages/platform/utils/constants/src/status-categories.js"),d=function(e,t){var n=e.fields.get(t);return n&&n.value},p=function(e){return e&&e.statusCategory&&e.statusCategory.id?function(e){switch(e){case f.IN_PROGRESS:return"inprogress";case f.DONE:return"success";default:return"default"}}(Object(f.statusCategoryForId)(e.statusCategory.id)):"default"};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){h(n,e);var t=j(n);function n(e,r){var o;return y(this,n),(o=t.call(this,Object(c.a)("environment"))).baseUrl=void 0,o.dataProvider=void 0,o.baseUrl=e,o.dataProvider=r,o}return g(n,[{key:"fetchData",value:function(e){var t=this,r=Object(s.b)(e,window.location.host,this.baseUrl);return r?this.dataProvider.getIssue$(r).toPromise().then((function(t){var n=t.issue,r=t.error;if(n)return function(e,t){var n=t.key,r=d(t,"summary")||"",o="".concat(n).concat(r?": ".concat(r):""),i=d(t,"status")||{},s=i&&i.name,a=d(t,"issuetype")||{},c=a.name||"",u=a.iconUrl||"";return{meta:{visibility:"restricted",access:"granted",auth:[],definitionId:"jira-native-resolve"},data:{"@context":{"@vocab":"https://www.w3.org/ns/activitystreams#",atlassian:"https://schema.atlassian.com/ns/vocabulary#",schema:"http://schema.org/"},"@type":["atlassian:Task","Object"],name:o,tag:{name:s,appearance:p(i)},url:e,taskType:{"@type":["Object","atlassian:TaskType"],"@id":"https://www.atlassian.com/#JiraCustomTaskType",name:c},icon:{"@type":"Image",url:u},generator:{"@type":"Application","@id":"https://www.atlassian.com/#Jira",name:"Jira"}}}}(e,n);throw new Error(r)})).catch((function(){return v(E(n.prototype),"fetchData",t).call(t,e)})):v(E(n.prototype),"fetchData",this).call(this,e)}}]),n}(i.b),S=function(e){h(n,e);var t=j(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).cardClient=void 0,r.cardClient=new k(e.baseUrl,e.dataProvider),r}return g(n,[{key:"render",value:function(){return o.a.createElement(i.e,{client:this.cardClient},this.props.children)}}]),n}(r.Component);S.displayName="JiraSmartCardClientOld";var I=function(e){h(n,e);var t=j(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"render",value:function(){return o.a.createElement(i.e,null,this.props.children)}}]),n}(r.Component);I.displayName="JiraSmartCardClientNew";t.a=Object(a.a)(l.isSmartLinkBlockCardsEnabled,I,Object(u.cb)(S))},"./src/packages/issue/issue-view/src/common/component/timestamp/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("./node_modules/react-intl/lib/index.es.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/lodash/flow.js"),s=n.n(i),a=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),c=n("./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/timestamp-display-setting-selector.js"),l=n("./node_modules/react/index.js"),f=n.n(l),d=n("./node_modules/lodash/noop.js"),p=n.n(d),m=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),y=n("./src/packages/issue/issue-view/src/common/model/timestamp-display-setting-type.js"),b=function(e){return function(e){return(Date.now()-new Date(e))/864e5}(e)<8?y.b:y.a},g=n("./node_modules/styled-components/dist/styled-components.browser.es.js").default.span(["cursor:",";",";",";"],(function(e){return e.canSwitchDisplaySetting?"pointer":"default"}),(function(e){return e.extraStyles.always}),(function(e){var t=e.canSwitchDisplaySetting,n=e.extraStyles.whenDisplaySettingSwitchable;return t?n:""}));function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}g.displayName="TimestampWrapper";var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=w(n);function n(){var e;h(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).onAbsoluteClick=function(t){e.props.onSwitchDisplaySetting(y.b),e.props.onAbsoluteTimestampClick(t)},e.onRelativeClick=function(t){e.props.onSwitchDisplaySetting(y.a),e.props.onRelativeTimestampClick(t)},e.formatAbsoluteTimestamp=function(){var t=e.props,n=t.intl,r=t.value,o=t.timeZone;return n.formatDate(r,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:o})},e.renderAbsolute=function(t){return f.a.createElement(g,{canSwitchDisplaySetting:t,onClick:t?e.onAbsoluteClick:p.a,extraStyles:e.props.extraStyles},e.formatAbsoluteTimestamp())},e.renderRelative=function(){return f.a.createElement(g,{canSwitchDisplaySetting:!0,onClick:e.onRelativeClick,extraStyles:e.props.extraStyles},f.a.createElement(m.a,{content:e.formatAbsoluteTimestamp(),position:e.props.tooltipPosition,tag:"span"},f.a.createElement(r.FormattedRelative,{value:e.props.value})))},e}return function(e,t,n){t&&O(e.prototype,t),n&&O(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.displaySetting,r=b(t)===y.b;return r&&n===y.b?this.renderRelative():this.renderAbsolute(r)}}]),n}(l.Component);S.defaultProps={extraStyles:{},tooltipPosition:"top"},S.displayName="TimestampView";var I=s()(r.injectIntl,Object(a.f)("button",{onRelativeTimestampClick:"clicked",onAbsoluteTimestampClick:"clicked"}),Object(a.r)({onRelativeTimestampClick:"relativeTime",onAbsoluteTimestampClick:"absoluteTime"}))(S);t.b=Object(o.connect)((function(e){return{displaySetting:Object(u.a)(e)}}),{onSwitchDisplaySetting:c.b})(I)},"./src/packages/issue/issue-view/src/common/constants/activity-items.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a}));var r="JSDComments",o="Comments",i="Ecosystem",s="History",a="Worklog"},"./src/packages/issue/issue-view/src/common/constants/confluence-page-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="blogpost",o="page"},"./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="atlassian-wiki-renderer",o="jira-text-renderer"},"./src/packages/issue/issue-view/src/common/constants/remote-link-error-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r="APPLINK_MISSING",o="APPLINK_REQ_AUTH",i="REMOTE_SERVER"},"./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return O}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=e.reduce((function(e,t){e[t.appKey]||(e[t.appKey]={total:0,status:{}});var n=e[t.appKey];if(n.total+=1,t.status&&t.status.type){var r=n.status[t.status.type];n.status[t.status.type]=r>0?r+1:1}else{var o=n.status["N/A"];n.status["N/A"]=o>0?o+1:1}return e}),{}),n=JSON.stringify(t);return{total:e.length,data:Object(r.i)(n)(n)}},c=function(e,t,n){var o=n?n.type:"",i=Object(r.i)(e,t,o);return{appKey:i(e),moduleKey:i(t),statusType:i(o)}},u=function(e,t){var n=0,o=e.reduce((function(e,r){e[r.appKey]||(e[r.appKey]={total:0,totalOnPage:0});var o=e[r.appKey];o.total+=1;var i="".concat(r.appKey,"_").concat(r.moduleKey);return t.includes(i)&&(o.totalOnPage+=1,n+=1),e}),{}),i=JSON.stringify(o);return{totalOnPage:n,total:e.length,data:Object(r.i)(i)(i)}},l=function(e,t){var n=Object(r.i)(e,t);return{appKey:n(e),moduleKey:n(t)}},f=function(e,t){return l(e,t)},d=function(e,t,n){return i(i({},l(e,t)),{},{event:Object(r.i)(n)(n)})},p=function(e,t){return l(e,t)},m=function(e){return e.map((function(e){return{appKey:e.appKey,moduleKey:e.moduleKey,name:e.name}}))},y=function(e){return e.map((function(e){return{appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,type:e.type}}))},b=function(e){return e.map((function(e){return{appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,type:e.type,showByDefault:e.showByDefault}}))},g=function(e){return e.map((function(e){return{name:e.name}}))},v=function(e){return"WEB_PANEL"===e.type},h=function(e){return"ISSUE_MODULE"===e.type},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s={glances:y(e),contentPanels:b(t),activityPanels:m(n),operations:g(o)},a=Object.keys(s).reduce((function(e,t){return s[t]&&s[t].length?e+s[t].length:e}),0),c=JSON.stringify(s);return{totalGlances:e.filter(h).length,totalLegacyGlances:e.filter(v).length,totalContentPanels:t.filter(h).length,totalLegacyContentPanels:t.filter(v).length,totalActivityPanels:n.length,totalOperations:o.length,totalCustomIssueFields:i,totalModules:a,data:Object(r.i)(c)(c)}}},"./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.lastIndexOf("-"),r=e.substr(n+1);return/^\d+$/.test(r)&&r.length>=t?e.substr(0,n):e}},"./src/packages/issue/issue-view/src/common/legacy/aui-dialog-event.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/lodash/noop.js"),o=n.n(r),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/deferred-globals.js"),s=function(){return window.AJS&&window.AJS.dialog2},a=function(e,t){Object(i.b)().then((function(){return function(e,t){s()&&window.AJS.dialog2.on(e,t)}(e,t)})).catch(o.a)},c=function(e,t){Object(i.b)().then((function(){return function(e,t){s()&&window.AJS.dialog2.off(e,t)}(e,t)})).catch(o.a)}},"./src/packages/issue/issue-view/src/common/media/components/create-auth-provider.js":function(e,t,n){"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t,n){return function(){var r=o(regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=t,r.next=3,e(o?o.collectionName:void 0);case 3:return r.t1=r.sent,r.t2=n,r.abrupt("return",{clientId:r.t0,token:r.t1,baseUrl:r.t2});case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},s=function(e){return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))}},"./src/packages/issue/issue-view/src/common/media/components/with-media-provider/with-media-provider.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/media/components/with-token-provider/with-token-provider.js"),s=n("./src/packages/issue/issue-fetch-services/src/index.js"),a=n("./src/packages/issue/issue-view/src/common/media/view-context/view-context-transformer.js"),c=n("./src/packages/issue/issue-view/src/common/media/components/create-auth-provider.js");function u(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t,n){var r=e.viewContext,o=e.uploadContext,i=e.userAuth;if(!r)throw new TypeError("mediaContext.viewContext was null. Check that the server response has been processed.");var l={viewMediaClientConfig:{authProvider:Object(c.a)(t,r.clientId,r.serviceHost)}};return o&&(l=f(f({},l),{},{uploadParams:{collection:o.collection},uploadMediaClientConfig:{authProvider:Object(c.a)(t,o.clientId,o.serviceHost),userAuthProvider:i?Object(c.b)(f(f({},i),{},{baseUrl:o.serviceHost})):null,getAuthFromContext:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){u(i,r,o,s,a,"next",e)}function a(e){u(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 65536,e.next=3,Object(s.g)(n,t,65536).map(a.a).toPromise();case 3:return r=e.sent,e.abrupt("return",{baseUrl:r.serviceHost,clientId:r.clientId,token:r.token||""});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})),l};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,t);var n=O(r);function r(){var e;g(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).setDropzoneRef=function(t){e.dropzoneRef=t},e.resolve=void 0,e.mediaProviderPromise=new Promise((function(t){e.resolve=t})),e.resolved=!1,e.dropzoneRef=null,e}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(r,[{key:"componentDidMount",value:function(){this.resolveMediaProviderPromise()}},{key:"componentDidUpdate",value:function(){this.resolveMediaProviderPromise()}},{key:"resolveMediaProviderPromise",value:function(){var e=this.props,t=e.mediaContext,n=e.tokenProvider,r=e.baseUrl;if(!this.resolved&&this.dropzoneRef&&t.viewContext){this.resolved=!0;var o=p(t,n,r);this.resolve(o)}}},{key:"render",value:function(){var t=this.props,n=(t.mediaContext,t.tokenProvider,b(t,["mediaContext","tokenProvider"]));return(o.a.createElement("div",{ref:this.setDropzoneRef},o.a.createElement(e,y({mediaProvider:this.mediaProviderPromise},n))))}}]),r}(r.Component),t.displayName="WithMediaProvider(".concat(e.displayName||e.name,")"),n};t.a=function(e){return Object(i.a)(E(e))}},"./src/packages/issue/issue-view/src/common/media/components/with-token-provider/with-token-provider.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/promise-provider/index.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.a=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,t);var n=f(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).viewTokenPromiseProvider=void 0,t.updateViewTokenPromise=function(e){var n=e.viewContext;n&&n.areTokenPermissionsUpToDate&&n.token?t.viewTokenPromiseProvider.resolve(n.token):t.viewTokenPromiseProvider.resetIfSettled()},t.tokenProvider=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){c(i,r,o,s,a,"next",e)}function a(e){c(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",t.viewTokenPromiseProvider.get());case 2:if(!(r=t.props.mediaContext.uploadContext)){e.next=5;break}return e.abrupt("return",r.token);case 5:throw new Error("Upload token not available");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.viewTokenPromiseProvider=new i.a,t.updateViewTokenPromise(e.mediaContext),t}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.updateViewTokenPromise(e.mediaContext)}},{key:"render",value:function(){return o.a.createElement(e,a({tokenProvider:this.tokenProvider},this.props))}}]),r}(r.Component),t.displayName="WithTokenProvider(".concat(e.displayName||e.name,")"),n}},"./src/packages/issue/issue-view/src/common/media/upload-context/upload-context-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c}));var r="FETCH_UPLOAD_CONTEXT_REQUEST",o=function(){return{type:r}},i="FETCH_UPLOAD_CONTEXT_SUCCESS",s=function(e){return{type:i,payload:e}},a="FETCH_UPLOAD_CONTEXT_FAILURE",c=function(e){return{type:a,payload:{error:e}}}},"./src/packages/issue/issue-view/src/common/media/user-auth/user-auth-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c}));var r="FETCH_USER_AUTH_REQUEST",o=function(){return{type:r}},i="FETCH_USER_AUTH_SUCCESS",s=function(e){return{type:i,payload:e}},a="FETCH_USER_AUTH_FAILURE",c=function(e){return{type:a,payload:{statusCode:e}}}},"./src/packages/issue/issue-view/src/common/media/view-context/view-context-transformer.js":function(e,t,n){"use strict";var r=function(e){return e.length>0?e[0].token:null};t.a=function(e){return{clientId:e.clientId,serviceHost:e.endpointUrl,token:r(e.tokensWithFiles),areTokenPermissionsUpToDate:!0,tokenLifespanInMs:1e3*e.tokenLifespanInSeconds,collection:e.collection||null}}},"./src/packages/issue/issue-view/src/common/messages/drafts.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(r.defineMessages)({draftIndicator:{id:"issue.draft-indicator-for-multiline-field",defaultMessage:"Unsaved changes"}})},"./src/packages/issue/issue-view/src/common/messages/time.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(i.defineMessages)({logWork:{id:"issue.common.messages.time.log-work",defaultMessage:"Log work"},timeInputPlaceholder:{id:"issue.common.messages.time.time-input-placeholder",defaultMessage:"e.g. 2w 4d 6h 45m"},exampleFormat:{id:"issue.common.messages.time.time-input-format-tooltip.example",defaultMessage:"Use the format: {formatExample}"},weeks:{id:"issue.common.messages.time.time-input-format-tooltip.weeks",defaultMessage:"{w} = weeks"},days:{id:"issue.common.messages.time.time-input-format-tooltip.days",defaultMessage:"{d} = days"},hours:{id:"issue.common.messages.time.time-input-format-tooltip.hours",defaultMessage:"{h} = hours"},minutes:{id:"issue.common.messages.time.time-input-format-tooltip.minutes",defaultMessage:"{m} = minutes"}});var s=o.a.createElement(i.FormattedMessage,{id:"issue.common.messages.time.time-invalid-message",defaultMessage:"You need to log time in the format {timeString}.",values:{timeString:o.a.createElement("b",null,"2w 4d 6h 45m")}}),a="2w 4d 6h 45m"},"./src/packages/issue/issue-view/src/common/metrics/context/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d}));var r=n("./node_modules/react/index.js"),o=n("./src/packages/issue/issue-view/src/common/metrics/index.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){return function(t){e&&e.onReadyForUser&&e.onReadyForUser(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t).isInitialRender&&Object(o.h)(!0),Object(o.e)()}},c=function(e){return function(){e&&e.onInteractive&&e.onInteractive(),Object(o.d)()}},u=function(e){return{onPreviewRendered:a(e),onInteractive:c(e)}},l=null,f=function(e){return l=Object(r.createContext)(u(e))},d=function(){return l||Object(r.createContext)(u())}},"./src/packages/issue/issue-view/src/common/metrics/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return Ce})),n.d(t,"a",(function(){return Pe})),n.d(t,"g",(function(){return _e})),n.d(t,"f",(function(){return xe})),n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return Re})),n.d(t,"e",(function(){return Me})),n.d(t,"i",(function(){return Le})),n.d(t,"j",(function(){return Ne})),n.d(t,"k",(function(){return Fe})),n.d(t,"h",(function(){return Ue}));var r=n("./node_modules/uuid/index.js"),o=n.n(r),i=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),s=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/safe-string.js"),a=n("./src/packages/platform/observability/browser-metrics/src/index.js"),c=n("./src/packages/platform/utils/constants/src/analytics-marks.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),f=n("./src/packages/issue/issue-view/src/browser-metrics/fetch-issue-network-times.js"),d=n("./src/packages/issue/issue-view/src/common/constants/index.js"),p=n("./node_modules/reselect/lib/index.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),y=Object(p.createSelector)((function(e){return e.timing}),m.r,(function(e,t){return t?void 0:e.server})),b=n("./node_modules/lodash/get.js"),g=n.n(b),v=n("./src/packages/platform/utils/constants/src/analytics-sources.js"),h=function(){return window.SPA_STATE?g()(window,["SPA_STATE","ssr/metrics","data"],{}):window.ISSUE_VIEW_STATE?g()(window,["ISSUE_VIEW_STATE","ssr/metrics","data"],{}):{}};function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isFullIssue=!1,this.isLoadedWithPage=!1,this.isSPA=!1,this.dataProvider=void 0,this.analyticsSource=void 0,this.correlationId=void 0,this.hasLoadedRenderer=!1,this.hasLoadedEditor=!1,this.startTime=Date.now(),this.previewEnd=void 0,this.interactiveEnd=void 0,this.LazyMetricsProps=void 0}return function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(e,[{key:"initialiseLazyMetricsPropsGetter",value:function(e){this.LazyMetricsProps=e}},{key:"lazyMetricsProps",value:function(){return this.LazyMetricsProps}},{key:"setDataProvider",value:function(e){this.dataProvider=e}},{key:"getDataProvider",value:function(){return this.dataProvider}},{key:"setIsFullIssue",value:function(e){this.isFullIssue=e}},{key:"getIsFullIssue",value:function(){return this.isFullIssue}},{key:"setIsLoadedWithPage",value:function(e){this.isLoadedWithPage=e}},{key:"getIsLoadedWithPage",value:function(){return this.isLoadedWithPage}},{key:"setIsSPA",value:function(e){this.isSPA=e}},{key:"getIsSPA",value:function(){return this.isSPA}},{key:"setAnalyticsSource",value:function(e){this.analyticsSource=e}},{key:"getAnalyticsSource",value:function(){return l.i.apply(void 0,O(v.b))(this.analyticsSource)}},{key:"setCorrelationId",value:function(e){this.correlationId=e}},{key:"getCorrelationId",value:function(){return this.correlationId}},{key:"setHasLoadedEditor",value:function(){this.hasLoadedEditor=!0}},{key:"getHasLoadedEditor",value:function(){return this.hasLoadedEditor}},{key:"getIsInitial",value:function(){return this.getIsFullIssue()&&!this.getIsSPA()}}],[{key:"shouldClearPerformanceMarks",value:function(){return this.performanceCalcCount+=1,2===this.performanceCalcCount&&(this.performanceCalcCount=0,!0)}}]),e}();function k(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}E.performanceCalcCount=0;var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.immutableState=void 0,this.isLoadedWithPage=void 0,this.hasLoadedEditor=!1,this.startTime=Math.floor(performance.now()),this.previewEnd=void 0,this.interactiveEnd=void 0,this.immutableState=t,this.isLoadedWithPage=t.isLoadedWithPage}return function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(e,[{key:"lazyMetricsProps",value:function(){return this.immutableState.lazyMetricsProps}},{key:"getDataProvider",value:function(){return this.immutableState.dataProvider}},{key:"getIsFullIssue",value:function(){return"full-issue"===this.immutableState.analyticsSource}},{key:"getIsLoadedWithPage",value:function(){return this.immutableState.isLoadedWithPage}},{key:"setIsLoadedWithPage",value:function(e){this.isLoadedWithPage=e}},{key:"getIsSPA",value:function(){return this.immutableState.isSPA}},{key:"getAnalyticsSource",value:function(){return s.c.apply(void 0,k(v.b))(this.immutableState.analyticsSource)}},{key:"getCorrelationId",value:function(){return this.immutableState.correlationId}},{key:"getIssueScaleabilityReporter",value:function(){return this.immutableState.issueScaleabilityReporter}},{key:"getStartTime",value:function(){return this.startTime}},{key:"setPreviewEnd",value:function(e){this.previewEnd=Math.floor(e)}},{key:"getPreviewEnd",value:function(){return this.previewEnd}},{key:"setInteractiveEnd",value:function(e){this.interactiveEnd=e}},{key:"getInteractiveEnd",value:function(){return this.interactiveEnd}},{key:"getHasLoadedEditor",value:function(){return this.hasLoadedEditor}},{key:"getIsInitial",value:function(){return this.getIsFullIssue()&&!this.getIsSPA()}}]),e}();function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e,t){var n=e.getDataProvider();return n?e.getIsFullIssue()&&Boolean(t.isInitial)?{}:n.getMetrics():{}},A=function(e){return{location:e.getAnalyticsSource()}},D=function(e,t){return{isNextGenProject:g()(t.analyticsKey,"value")===v.a.SIMPLE_SOFTWARE_BOARD}},R=function(){u.default.clearMarks&&["ISSUE_FRAGMENT_READY_MARK","ISSUE_START_RENDERING_MARK","ssr.issue.rendered","ISSUE_START_FETCHING_DATA","ISSUE_CACHED_CONTENT_LOADED","ISSUE_FETCHED_MARK","ISSUE_PREVIEW_RENDERED","ISSUE_START_GIRA_FETCH","ISSUE_FINISH_GIRA_FETCH",c.SPA_SSR_RENDERED_MARK].forEach((function(e){return u.default.clearMarks(e)}))},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r,o,i;e.getIsFullIssue()&&(r=Object(u.timeToMark)("ISSUE_FRAGMENT_READY_MARK",n),o=Object(u.timeToMark)("ISSUE_START_RENDERING_MARK",n),i=Object(u.timeToMark)(c.SPA_SSR_RENDERED_MARK,n));var a=Object(u.timeToMark)("ISSUE_START_FETCHING_DATA",n),l=Object(u.timeToMark)("ISSUE_CACHED_CONTENT_LOADED",n),f=Object(u.timeToMark)("ISSUE_FETCHED_MARK",n),d=Object(u.timeToMark)("ISSUE_PREVIEW_RENDERED",n),p=Object(u.timeBetweenMarks)("ISSUE_START_GIRA_FETCH","ISSUE_FINISH_GIRA_FETCH"),m=null!=n.end?n.end-n.start:0,y=e.lazyMetricsProps()();return t&&R(),_(_(_(_(_({issueId:y.issueId,isFullIssue:e.getIsFullIssue(),fragmentReady:r,issueStartRender:o,issueFetched:f,issueStartDataFetch:a,cachedIssueDataLoaded:l,issueSSRRendered:i,issuePreviewRendered:d,issueGiraFetchDuration:p,isBentoSPA:e.getIsSPA(),analyticsKey:y.analyticsKey,analyticsSource:e.getAnalyticsSource(),loadTimeMs:m,isSidebar:"sidebar"===g()(y.viewMode,"value"),correlationId:new s.a(e.getCorrelationId())},e.getIsFullIssue()?{}:{isLoadedWithPage:e.getIsLoadedWithPage()}),T(e,n)),h()),A(e)),D(0,y))}},L=function(e){return function(t){var n=M(e,!0)(t);return R(),n}},N=n("./node_modules/lodash/isFunction.js"),F=n.n(N),U=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),V=n("./src/packages/issue/issue-view/src/feature-flags.js");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){return B(B({},function(){return Object.keys(V).reduce((function(e,t){return F()(V[t])?B(B({},e),{},W({},String(t),V[t]())):e}),{})}()),{},{isBentoPermalinksEnabled:Object(U.a)()})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(){return function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(){return{isForgeIntegrationEnabled:Object(V.isForgeUiIntegrationEnabled)(),isForgeInReduxStoreEnabled:Object(V.isForgeInReduxStoreEnabled)(),isForgeIssueActionEnabled:Object(V.isForgeIssueActionEnabled)(),isForgeQuickAddEnabled:Object(V.isForgeQuickAddEnabled)()}}())}},Y=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),Q=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),J=n("./src/packages/issue/issue-view/src/selectors/issue-links-selector.js"),$=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),Z=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),X=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),ee=function(e){return function(){var t=e.getState(),n=Object(X.q)(Z.k)(t);return{visibleContextItem:Object(Q.g)(t).length,conditionallyVisibleContextItems:Object(Q.a)(t).length,visibleContentItems:Object(Q.f)(t).length,ecosystemGlances:Object(Y.m)(t).length,ecosystemContentPanels:Object(Y.c)(t).length,ecosystemActivityPanels:Object(Y.a)(t).length,ecosystemOperations:Object(Y.q)(t).length,ecosystemCustomsFields:Object(Q.b)(t).length,childIssues:n?n.value.length:0,linkIssueCount:Object(J.e)(t),subtaskCount:Object($.d)(t).length}}},te=function(e){return function(){return{correlationId:new s.a(e.getCorrelationId())}}},ne=function(e){return function(){return{analyticsSource:e}}};function re(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=new RegExp(".*\\/([a-z-]*)\\.[a-f0-9]*"),ae=new RegExp("/vendor|/commons|/jira-spa|/async-issue-app"),ce=new RegExp("rest/gira/|/rest/api/2/attachment/read|/rest/api/2/attachment/upload/|/rest/internal/2/media/user|/rest/graphql/1"),ue=new RegExp("gira"),le=function(e){return e.filter((function(e){return e.name.match(ae)})).map((function(e){var t,n=function(e){var t=e.match(se);return t?t[1]:""}(e.name),r=Math.round(e.duration),o=Math.round(e.fetchStart);return ie(t={},"".concat(n,"-duration"),r),ie(t,"".concat(n,"-fetchStart"),o),t}))},fe=function(){var e=u.default.getEntriesByType("resource"),t=le(e),n=function(e){var t=e.filter((function(e){return e.name.match(ce)})),n=t.filter((function(e){return!e.name.match(ue)})),r=t.filter((function(e){return e.name.match(ue)})).sort((function(e,t){return t.encodedBodySize&&e.encodedBodySize?t.encodedBodySize-e.encodedBodySize:1})),o=r&&0!==r.length?r[0]:null,i=n.map((function(e){var t=function(e){return e.match("/rest/graphql/1")?"graphql":e.match("/rest/internal/2/media/user")?"usertoken":e.match("/rest/api/2/attachment/upload/")?"uploadtoken":e.match("/rest/api/2/attachment/read")?"readtoken":"unknown"}(e.name),n=Math.round(e.duration);return ie({},"".concat(t,"-duration"),n)}));return o&&o.encodedBodySize&&i.push({"gira-duration":Math.round(o.duration)}),i}(e);return Object.assign.apply(Object,[{}].concat(re(t),re(n)))},de=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),pe=n("./src/packages/issue/issue-view/src/common/model/view-mode-type.js"),me=function(){return window.localStorage&&window.localStorage.getItem("gh.ghx-issue-fragment-view-mode")||"default"},ye=function(e){switch(e){case pe.a:return"modal";case pe.b:return"sidebar";default:return null}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(l.i)("sidebar","modal","default")(ye(e)||me().replace(/"/g,""))},ge=Object(p.createSelector)(de.d,de.R,de.A,(function(e,t,n){return{analyticsKey:new s.a(e),viewMode:be(t),issueId:new s.a(n)}}));function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je,we=new E,Ee=Object(a.b)(),ke=Object(a.d)(),Se=function(){var e=Object(u.getMark)(c.SPA_SSR_RENDERED_MARK);return null!=e?Math.floor(e.startTime):null},Ie=function(e){try{Object(u.setMark)(e)}catch(e){l.h.safeError("issue.metrics","Setting performance mark failed",new i.a({eventNameSuffix:d.E,type:i.i,app:i.e,event:e}))}},Ce=function(){Ie("ISSUE_FRAGMENT_READY_MARK")},Pe=function(e){try{var t=e.isLoadedWithPage,n=e.isSPA,r=e.dataProvider,s=e.analyticsSource,a=e.store;je=new C({isLoadedWithPage:t,isSPA:n,analyticsSource:s,correlationId:o.a.v4(),lazyMetricsProps:function(){return ge(a.getState())},timingDataReporter:function(){return he(he({},y(a.getState())),Object(f.b)())},issueScaleabilityReporter:ee(a),dataProvider:r})}catch(e){l.h.safeError("issue.metrics","Failed to initialise issue metrics",new i.a({eventNameSuffix:d.E,type:i.i,app:i.e,event:e}))}},_e=function(){Ie("ISSUE_START_RENDERING_MARK")},xe=function(){Ie("ISSUE_START_FETCHING_DATA")},Te=function(){Ie("ISSUE_FETCHED_MARK")},Ae=function(e,t,n){var r=Se()?0:e,o=je.getPreviewEnd(),i=Se();null!=i&&(o=i);var s=Se()||je.getPreviewEnd()-r,a=[z(),H,M(je),je.getIssueScaleabilityReporter()],c={key:"issue.details.ready.new-browser-metrics",isInitial:je.getIsInitial(),beganAt:r,completedAt:o,reporters:a,collectors:[]};try{!function(e,t){if(t<0)throw new Error("negative rfu");Ee.start(e),Ee.stop(e)}(c,s)}catch(e){var u,f;if(t){var d=t.currentPage,p=t.visitedPages,m=function(e){return Object.keys(e.apps||{})},y=function(e){return e.join(", ")||"?"};u=JSON.stringify(p.map((function(e){return y(m(e))}))),f=y(m(d))}l.h.safeError("spa-bento.negative.rfu.perf-ops","Got a negative bento rfu",{key:"issue.details.ready.new-browser-metrics",isInitial:je.getIsInitial(),startTimeSource:n,start:r,end:o,rfu:s,ssrMark:i||0,currPageApps:f,prevPageApps:u,ssrMarkStr:String(i)})}},De=function(e){var t=e,n=je.getInteractiveEnd(),r=[z(),L(je),fe,je.getIssueScaleabilityReporter(),H],o={key:"issue.details.ready.fields.interactive",isInitial:je.getIsInitial(),beganAt:t,completedAt:n,reporters:r,collectors:[]};Ee.start(o),Ee.stop(o)},Re=function(){je.setInteractiveEnd(performance.now())},Me=function(){Ie("ISSUE_PREVIEW_RENDERED"),je.setPreviewEnd(performance.now())},Le=function(e){we.getHasLoadedEditor()||ke.start({key:"issue.details.ready.fabric-editor",reporters:[te(we),ne(e)]})},Ne=function(){we.setHasLoadedEditor(),ke.stop({key:"issue.details.ready.fabric-editor"})},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?(Ae(e,t,"transtionStartTime"),De(e)):je&&(Ae(je.getStartTime(),t,"stateV2.getStartTime"),De(je.getStartTime()))},Ue=function(e){je&&je.setIsLoadedWithPage(e)}},"./src/packages/issue/issue-view/src/common/model/comment-type.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return c}));var r="group",o="role",i="public",s="LOADING",a="COMPLETE",c={type:i,value:""}},"./src/packages/issue/issue-view/src/common/model/connect-field-type.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var r="context",o="content",i="content-request",s="foundation"},"./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="FORGE_ENTITY_TYPE",o="CONNECT_ENTITY_TYPE"},"./src/packages/issue/issue-view/src/common/model/error-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var r="AUTHENTICATION_ERROR",o="NOT_FOUND_OR_NO_PERMISSION_ERROR",i="CONNECTIVITY_ERROR",s="UNKNOWN_ERROR"},"./src/packages/issue/issue-view/src/common/model/issue-links-direction-type.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r="INWARD",o="OUTWARD",i="BOTH"},"./src/packages/issue/issue-view/src/common/model/layout-item-type.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r="FIELD",o="DEV_SUMMARY",i="TAB",s="CONTENT_REQUEST",a="CONTENT_VISIBLE",c="CONTEXT_PRIMARY",u="CONTEXT_SECONDARY"},"./src/packages/issue/issue-view/src/common/model/linked-issue-type.js":function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c}));var i="INWARD",s="OUTWARD",a=function(e){switch(e.toUpperCase()){case i:return i;case s:return s;case"BOTH":default:return"BOTH"}},c=(o(r={},i,i),o(r,s,s),o(r,"BOTH","BOTH"),r)},"./src/packages/issue/issue-view/src/common/model/loading-stage-type.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r="LOADING",o="PREVIEW",i="COMPLETE"},"./src/packages/issue/issue-view/src/common/model/project-validator-type.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r="LOADING",o="FAILED",i="LOADED"},"./src/packages/issue/issue-view/src/common/model/request-channel-type.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return u}));var r="portal",o="email",i="api",s="jira",a="deployment",c="anonymousportal",u="unknown"},"./src/packages/issue/issue-view/src/common/model/tab-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js").f},"./src/packages/issue/issue-view/src/common/model/timestamp-display-setting-type.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="RELATIVE",o="ABSOLUTE"},"./src/packages/issue/issue-view/src/common/model/view-mode-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="VIEW_MODE_MODAL",o="VIEW_MODE_SIDEBAR"},"./src/packages/issue/issue-view/src/common/model/worklog-type.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d}));var r="LOADING",o="LOADING_NEWER_WORKLOGS",i="LOADING_OLDER_WORKLOGS",s="ERROR",a="ERROR_ADDITIONAL",c="COMPLETE",u="NO_MODAL",l="ADD_MODAL",f="EDIT_MODAL",d="DELETE_MODAL"},"./src/packages/issue/issue-view/src/common/service/issue/activity-feed-constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=5,o=10},"./src/packages/issue/issue-view/src/common/service/issue/attachment-transformer.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var s=function(e){return{id:e.id,mediaApiFileId:e.mediaApiFileId,createdDate:e.createdDate,author:e.accountId,mimetype:e.mimetype||"",filename:e.filename||""}},a=function(e){return e.filter((function(e){return!!e.mediaApiFileId})).filter((function(e){return e.isVisibleInAttachmentsPanel})).map(s).reduce((function(e,t){return o(o({},e),{},i({},t.id,t))}),{})}},"./src/packages/issue/issue-view/src/common/service/issue/changeboarding-local-storage.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/storage/storage-provider.js"),o=Object(r.b)("issue-changeboarding"),i=function(){return o.get("banner-seen-times")||0},s=function(e){return o.set("banner-seen-times",e)},a=function(){return o.get("banner-first-seen-timestamp")},c=function(e){return o.set("banner-first-seen-timestamp",e)}},"./src/packages/issue/issue-view/src/common/service/issue/child-issue-transformer.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./src/packages/platform/utils/constants/src/status-categories.js"),o=n("./src/packages/issue/issue-view/src/feature-flags.js"),i=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),s=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){var n=e.fields;return c(c({id:e.id,issueLink:Object(i.g)(t,e.key),issueTypeIconUrl:n.issuetype.iconUrl,issueTypeName:n.issuetype.name,issuePriorityUrl:n.priority&&n.priority.iconUrl||void 0,issuePriorityName:n.priority&&n.priority.name||void 0,issueKey:e.key,issueSummary:n.summary,statusCategory:Object(r.statusCategoryForId)(n.status.statusCategory.id),statusCategoryId:n.status.statusCategory.id,statusName:n.status.name,statusId:n.status.id},function(e){if(Object(o.isBentoEnhancedPreviewEnabled)()&&null!=e){var t=Object(s.c)(e);return{assigneeUrl:t.avatarUrl,assigneeDisplayName:t.displayName}}return{assigneeUrl:null,assigneeDisplayName:null}}(n.assignee)),{},{isLoading:!1})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e?e.map((function(e){return l(e,t)})):[]}},"./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/date/transform-to-iso-string.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),c=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),u=n("./src/packages/issue/issue-view/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/common/constants/index.js"),f=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),d=n("./src/packages/issue/issue-view/src/common/service/issue/gira/util.js"),p=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),m=function(e){return{id:e.id,author:e.author?Object(p.c)(e.author):null,updateAuthor:e.updateAuthor?Object(p.c)(e.updateAuthor):null,bodyAdf:e.body,bodyHtml:void 0,visibility:e.visibility,createdDate:Object(o.a)(e.created),updatedDate:e.updated?Object(o.a)(e.updated):null,edited:!!e.updated&&e.updated!==e.created,isInternal:!e.jsdPublic}},y=function(e){return"string"==typeof e?JSON.parse(e):e},b=function(e){return{comments:e.data.issueComments.nodes.map((function(e){return function(e){var t=e.id,n=e.author,r=e.updateAuthor,i=e.visibility,s=e.created,c=e.updated,l=e.bodyAdf,f=e.renderedBody,d=e.jsdPublic;return{id:t,author:n?Object(p.b)(n):null,updateAuthor:r?Object(p.b)(r):null,visibility:i,createdDate:Object(o.a)(s),updatedDate:c?Object(o.a)(c):null,edited:!!c&&c!==s,bodyAdf:Object(u.isCommentEditImagePreviewFixEnabled)()?Object(a.a)(l):y(l),bodyHtml:f,isInternal:!d}}(e)})),totalComments:e.data.issueComments.totalCount}},g=function(e){var t=e.type,n=e.value;switch(t?t.toLowerCase():null){case f.b:return{value:n,type:f.b};case f.d:return{value:n,type:f.d};default:var o="transformCommentVisibility: unknown comment visibility type received '".concat(t,"'");return s.h.safeError("issue.transform.comment",o,new r.a({eventNameSuffix:l.E,type:r.i,app:r.e,event:new Error(o)})),{value:n,type:f.d}}},v=function(e){var t=e.author?e.author.id:null,n=e.updateAuthor?e.updateAuthor.id:null;return{id:e.id,authorId:t,updateAuthorId:n,bodyAdf:e.bodyAdf,bodyHtml:e.bodyHtml,createdDate:e.createdDate,updatedDate:e.updatedDate,edited:e.edited,visibility:e.visibility?g(e.visibility):f.a,isInternal:e.isInternal}},h=function(e,t,n,r){var o=e.comments,s=o.filter((function(e){return e.author})).map((function(e){return e.author})),a=Math.max(r===c.s?n-o.length:n,0);return{users:Object(d.b)(s,"id"),comments:Object(d.b)(o.map(v),"id"),loadedComments:t+o.length,commentsStartIndex:Object(i.a)()?a:0,totalComments:e.totalComments}}},"./src/packages/issue/issue-view/src/common/service/issue/ecosystem-extensions-transformer.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return y}));var s=function(e,t){return t.includes("http")?t:e+t},a=function(e,t){if(t&&"icon"===t.type){var n=o({},t);return n.value.label=s(e,t.value.label),n}return t},c=function(e,t){var n=Object.keys(t)[0];return o(o({},e),{},i({},n,o(o({},t[n]),e[n])))},u=function(e){return"string"==typeof e?JSON.parse(e):e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return i({},e.iframe.addonKey,i({},e.iframe.moduleKey,{name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:u(e.iframe.options),icon:e.icon&&{url:e.icon.url},label:{type:"text",value:e.content||e.name},status:a(u(e.iframe.options).origin,e.status),type:e.type}))})).reduce(c,{})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return i({},e.iframe.addonKey,i({},e.iframe.moduleKey,{name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:u(e.iframe.options),icon:e.icon&&{url:e.icon.url},tooltip:e.tooltip,type:e.type,showByDefault:!!e.showByDefault}))})).reduce(c,{})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.iframe,n=e.shouldReloadOnRefresh;return{appKey:t.addonKey,moduleKey:t.moduleKey,options:u(t.options),shouldReloadOnRefresh:n}}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return i({},e.iframe.addonKey,i({},e.iframe.moduleKey,{name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:u(e.iframe.options)}))})).reduce(c,{})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{name:e.name,url:e.url,tooltip:e.tooltip,styleClass:e.styleClass}}))},y=function(e){return{glances:l(e.glances),contentPanels:f(e.contentPanels),backgroundScripts:d(e.backgroundScripts),operations:m(e.operations),activityPanels:p(e.activityPanels),ecosystemOnDate:e.ecoSystemOnDate,canInstallAddons:e.canInstallAddons||!1}}},"./src/packages/issue/issue-view/src/common/service/issue/gira/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return Ie})),n.d(t,"a",(function(){return _e})),n.d(t,"b",(function(){return xe}));var r=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),o=n("./src/packages/platform/utils/constants/src/http-status-codes.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/platform/utils/fetch/src/utils.js"),c=n("./src/packages/issue/issue-fetch-services/src/index.js"),u=n("./src/packages/issue/issue-view/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js"),f=n("./src/packages/issue/issue-view/src/common/service/issue/attachment-transformer.js"),d=n("./src/packages/issue/issue-view/src/common/service/issue/gira/util.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n("./src/packages/issue/issue-view/src/common/service/issue/activity-feed-constants.js"),g=n("./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js"),v=n("./src/packages/platform/utils/permalinks/src/index.js"),h=function(e,t,n){return"\n    comments (first: ".concat(t,", maxResults: ").concat(e,', orderBy: "').concat(n,'", ').concat(function(){var e=Object(v.c)(v.a),t=e.hasPermalink,n=e.permalinkId;return Object(i.a)()&&t?"commentId: ".concat(n):""}(),") {\n        nodes {\n            id\n            author {\n                accountId\n                displayName\n                avatarUrl\n            }\n            updateAuthor {\n                accountId\n                displayName\n                avatarUrl\n            }\n            visibility {\n                type\n                value\n            }\n            created\n            updated\n            renderedBody\n            jsdPublic\n            bodyAdf\n        }\n        totalCount\n        ").concat(Object(i.a)()?"startIndex":"","\n    }\n")};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){return h(b.a,0,"-created")},k=function(e){var t=e.comments;if(!t)return{users:{},comments:{},totalComments:0,commentsStartIndex:0,loadedComments:0};var n=t.totalCount,r=t.startIndex,o={data:{issueComments:t}};return j(j({},Object(g.b)(Object(g.e)(o),0,r)),{},{totalComments:n,commentsStartIndex:r})},S=n("./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js"),I=n("./src/packages/issue/issue-view/src/common/service/issue/ecosystem-extensions-transformer.js");function C(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(){return"\n      ... on GlancesField {\n        fieldKey\n        value {\n          name\n          status\n          iframe {\n            addonKey\n            moduleKey\n            options\n          }\n          icon {\n            url\n          }\n          content\n          type\n        }\n      }\n"},D=function(){return function(){return"\n    ecosystem {\n      operations {\n        name\n        url: href\n        icon {\n          url\n        }\n        tooltip\n        styleClass\n      }\n      contentPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        icon {\n          url\n        }\n        tooltip\n        type\n        showByDefault\n        manuallyAddedToIssue\n      }\n      activityPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n      }\n      backgroundScripts {\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        shouldReloadOnRefresh\n      }\n      ecoSystemOnDate\n      contentPanelsCustomised \n    }\n"}()},R=function(e){if(!e.ecosystem||!e.fields)return{ecosystem:{},issueContentPanels:[]};var t=e.ecosystem,n=Object(d.a)(e.fields,"GlancesField"),r=n?n.value.map((function(e){return x(x({},e),{},{status:e.status?JSON.parse(e.status):null})})):[],o=t?(t.contentPanels||[]).filter((function(e){return e.manuallyAddedToIssue})).map((function(e){return"".concat(e.iframe.addonKey,"_").concat(Object(S.a)(e.iframe.moduleKey))})):[],i=t.contentPanelsCustomised?["issue.content.panel.customised.flag"]:[],s={contentPanels:t.contentPanels||[],operations:t.operations||[],activityPanels:t.activityPanels||[],backgroundScripts:t.backgroundScripts||[],ecoSystemOnDate:t.ecoSystemOnDate||0,contentPanelsCustomised:t.contentPanelsCustomised};return{ecosystem:Object(I.b)(x(x({},s),{},{glances:r,canInstallAddons:!1})),issueContentPanels:[].concat(C(o),i)}},M=n("./src/packages/issue/issue-view/src/common/model/issue-links-direction-type.js");function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.id,n=e.inward,r=e.outward,o=[];return n&&n===r?o.push({id:t,label:n,direction:M.a}):(o.push({id:t,label:n,direction:M.b}),o.push({id:t,label:r,direction:M.c})),o},U=function(){return"\n      timeTracking {\n        isTimeTrackingEnabled\n        hoursPerDay\n        daysPerWeek\n        defaultUnit\n      }\n"},V=function(){return"\n    jiraSettings {\n      ".concat(U(),"\n      issueLinkTypes {\n        id\n        name\n        inward\n        outward\n      }\n    }\n")};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H,G,q={isTimeTrackingEnabled:!1,daysPerWeek:5,hoursPerDay:8,defaultUnit:"minute"},z=function(e){return{timeTrackingConfiguration:e.timeTracking||q}},Y=function(e){var t=z(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{issueLinkTypes:[]},t=[];return e.issueLinkTypes.forEach((function(e){return t.push.apply(t,L(F(e)))})),{issueLinkTypes:t}}({issueLinkTypes:e.issueLinkTypes||[]}),r=function(e){return{subtasksConfiguration:e.subtasks}}(e);return B(B(B({},t),n),r)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldRefreshComments;return"\n    query issueViewDynamicQuery($issueKey: String!) {\n        viewIssue(issueKey: $issueKey) {\n            ".concat(t?E():"","  \n            ").concat(D(),"\n            fields {\n                __typename \n                    ").concat(A(),"\n            }\n        }\n        ").concat(V(),"\n    }\n")},J=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=(X(H={},J.b,"visible"),X(H,J.a,"request"),H),te=(X(G={},J.c,"primary"),X(G,J.d,"secondary"),G),ne={primary:[],secondary:[]},re=function(e){return{id:e.itemId,type:e.type}},oe=function(e){return e.layoutItems.reduce((function(e,t){var n=t.category,r=t.items,o=te[n];return void 0!==o?Z(Z({},e),{},X({},"".concat(o),r.map(re))):e}),ne)},ie={visible:[],request:void 0},se=function(e){return e.layoutItems?e.layoutItems.reduce((function(e,t){var n=t.category,r=t.items,o=ee[n];return void 0!==o?Z(Z({},e),{},X({},"".concat(o),r.map(re))):e}),ie):ie},ae=n("./src/packages/platform/utils/types/src/index.js");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return e.name===t})),r=n&&n.status;switch(r){case"ACTIVE":return ae.LICENSE_STATE_ACTIVE;case"SUSPENDED":return ae.LICENSE_STATE_SUSPENDED;case"EXPIRED":return ae.LICENSE_STATE_EXPIRED;default:return ae.LICENSE_STATE_UNLICENSED}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{licensedProducts:e.reduce((function(e,t){return ue(ue({},e),{},le({},t.name,"ACTIVE"===t.status))}),{}),licenseStates:{core:fe(e,"jira-core"),software:fe(e,"jira-software"),serviceDesk:fe(e,"jira-servicedesk")}}},pe=n("./src/packages/issue/issue-view/src/common/service/issue/issue-transformer.js");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./src/packages/platform/services/issue/src/feature-flags.js");var ge=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),ve=function(e){return"string"==typeof e?JSON.parse(e):e},he=function(e){var t=e.accountId,n=e.displayName,r=void 0===n?null:n,o=e.avatarUrl;return{accountId:t,displayName:r,avatarUrl:void 0===o?null:o}},Oe=function(e){var t=e.map((function(e){return function(e){var t=e.id,n=e.author,r=e.updateAuthor,o=e.created,i=e.updated,s=e.started,a=e.comment,c=e.timeSpent,l=i!==o;return{id:t,author:n?he(n):null,updateAuthor:l&&r?he(r):null,updated:l?i:null,started:s,timeSpent:c,comment:Object(u.isCommentEditImagePreviewFixEnabled)()?Object(ge.a)(a):ve(a)}}(e)}));return{worklogs:Object(d.b)(t,"id")}};n("./src/packages/issue/issue-view/src/common/constants/activity-items.js");function je(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){je(i,r,o,s,a,"next",e)}function a(e){je(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){var t=e.viewIssue,n=e.licensedProducts,r=e.jiraSettings,o=e.permissions,s=e.myPreferences,a=e.project;return ke(ke(ke(ke(ke(ke(ke(ke(ke({},function(e){var t=e.fields&&Object(d.a)(e.fields,"AttachmentsField");if(!t)return{attachments:{}};var n=t.value.map((function(e){return m(m({},e),{},{isVisibleInAttachmentsPanel:!0})}));return{attachments:Object(f.a)(n)}}(t)),Object(i.a)()?ke(ke({},k(t)),function(e){var t=e.worklogs;if(!t)return{worklogs:{},sortedWorklogIds:[],totalWorklogs:0,worklogsStartIndex:0};var n=t.totalCount,r=t.startIndex,o=t.nodes;return{worklogs:Oe(o).worklogs,sortedWorklogIds:o.map((function(e){return e.id})).reverse(),totalWorklogs:n,worklogsStartIndex:r}}(t)):function(e){if(!e.comments)return{users:{},comments:{},totalComments:0,loadedComments:0};var t={data:{issueComments:e.comments}};return j(j({},Object(g.b)(Object(g.e)(t),0,0)),{},{totalComments:t.data.issueComments.totalCount})}(t)),R(t)),de(n)),Y(r)),function(e){return e&&0!==e.length?Object(pe.c)({permissions:e.reduce((function(e,t){return ye(ye({},e),{},be({},t.key,t))}),{})}):{permissions:{}}}(o)),function(e){return e?{myPreferences:e}:Object.freeze({})}(s)),function(e){return{issueTypes:e?e.issueTypes:[],newIssueViewLockedIn:Boolean(e&&e.newIssueViewLockedIn)}}(a)),{},{contextItemsCategories:oe(t),contentItemsCategories:se(t)})},Ce=function(e){var t=e.viewIssue,n=e.licensedProducts,r=e.jiraSettings;return ke(ke(ke(ke({},t.comments?k(t):{}),de(n)),R(t)),z(r))},Pe=function(e){var t=e.reduce((function(e,t){return ke(ke({},e),{},Se({},t.path.join("."),t.message))}),{});return new r.a({eventNameSuffix:"issue.error.gira",type:r.h,app:r.e,event:t})},_e=function(){var e=we(regeneratorRuntime.mark((function e(t,n,r){var i,f,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||Object(c.d)(t,n),e.next=3,i;case 3:if(f=e.sent,d=f.data,p=f.errors,d){e.next=13;break}if(m=p?JSON.stringify(Pe(p)):"No data returned from graphql call",!Object(u.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()){e.next=12;break}throw new l.a(new Error(m),c.a);case 12:throw new Error(m);case 13:if(d&&p&&s.h.safeError("issue.fetch.gira","Failed to fetch some data from gira",Pe(p)),d.viewIssue){e.next=20;break}if(!Object(u.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()){e.next=19;break}throw new l.a(new a.b(o.e,"Call to gira returned empty viewIssue"),c.a);case 19:throw new a.b(o.e,"Call to gira returned empty viewIssue");case 20:return e.abrupt("return",Ie(d));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=we(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.m)(t).query({query:Q(r),variables:{issueKey:n}});case 2:if(o=e.sent,i=o.data,a=o.errors,i){e.next=7;break}throw u=a?JSON.stringify(Pe(a)):"No data returned from graphql call for dynamic data",new Error(u);case 7:return i&&a&&s.h.safeError("issue.fetch.gira.dynamic","Failed to fetch some data from gira for dynamic data fetch",Pe(a)),e.abrupt("return",Ce(i));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},"./src/packages/issue/issue-view/src/common/service/issue/gira/util.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var s=function(e,t){return e.find((function(e){return e.__typename===t}))},a=function(e,t){return e.reduce((function(e,n){return o(o({},e),{},i({},n[t],n))}),{})}},"./src/packages/issue/issue-view/src/common/service/issue/issue-fetch-server.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return T}));var r=n("./node_modules/rxjs/Rx.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/graphql-tags.js"),i=n("./src/packages/platform/utils/fetch/src/index.js"),s=n("./src/packages/platform/utils/types/src/index.js"),a=n("./src/packages/issue/issue-fetch-services/src/index.js"),c=n("./src/packages/issue/issue-view/src/feature-flags.js"),u=n("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),p=n("./src/packages/issue/issue-view/src/common/constants/index.js"),m=function(e,t){return[e.retry(2),t.retry(2)]},y=n("./src/packages/issue/issue-view/src/common/service/issue/gira/index.js"),b=n("./src/packages/issue/issue-view/src/common/service/issue/issue-links-transformer.js"),g=n("./src/packages/issue/issue-view/src/common/service/issue/issue-transformer.js"),v=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),h=n("./src/packages/issue/issue-view/src/common/service/issue/subtask-types-server.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['query {\n        issue(issueIdOrKey: "','", latestVersion: true, screen: "view") {\n            id\n            ',"\n            fields {\n                key\n                title\n                editable\n                required\n                autoCompleteUrl\n                allowedValues\n                content\n                renderedContent\n                schema {\n                    custom\n                    system\n                    ","\n                    type\n                    renderer\n                }\n            }\n            expandAssigneeInSubtasks\n            expandAssigneeInIssuelinks\n            systemFields {\n                descriptionAdf {\n                    value\n                }\n                ","\n            }\n            customFields {\n                textareaAdf {\n                    key\n                    value\n                }\n            }            \n            ","\n            ",'\n        }\n        project(projectIdOrKey: "','") {\n            id\n            name\n            key\n            projectTypeKey\n            simplified\n            avatarUrls {\n                key\n                value\n            }\n            issueTypeHierarchy {\n                baseLevelId\n                levels {\n                    id\n                    aboveLevelId\n                    belowLevelId\n                }\n            }\n        }\n    }']);return S=function(){return e},e}var I=function(e,t,n){return Object(o.a)(S(),e,function(e){return e?"":"viewScreenId"}(n),Object(c.isForgeUiCustomFieldIntegrationEnabled)()?function(){return"configuration {\n        key\n        value\n    }\n    "}():"",function(){return"environmentAdf {\n        value\n    }"}(),function(){return"tabs {\n        id\n        name\n        items {\n            id\n            type\n        }\n    }"}(),function(){return"\n    agile {\n        epic {\n          key\n        },\n    }"}(),t)},C=function(e,t,n,o,a){return(a&&r.Observable.fromPromise(a)||Object(i.d)(Object(v.e)(e),function(e,t,n){return{method:"POST",body:JSON.stringify({query:I(e,t,n)})}}(t,n,o))).catch((function(e){throw Object(c.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()?new u.a(e,Object(v.e)(Object(s.toBaseUrl)("{baseUrl}"))):e})).map((function(e){return function(e,t){if(t.errors){var n=t.errors[0],r=new i.b(n.message);throw d.h.safeError(e,"getGraphQlData: Error present in GraphQL response",new f.a({eventNameSuffix:p.E,type:f.h,app:f.e,event:r})),r}return t.data}("issue.fetch.issue-fetch-server",e)})).map((function(t){return Object(g.b)(t,e)}))},P=function(e,t){var n=Object(l.f)(e),o=Object(l.B)(e),i=Object(l.J)(e),s=Object(l.n)(e);return r.Observable.zip.apply(r.Observable,E(m(r.Observable.fromPromise(Object(y.b)(n,o,t)),C(n,o,i,s))).concat([function(e,t){return j(j({},e),t)}]))},_=function(e,t){var n=Object(l.f)(e),o=Object(l.B)(e),i=Object(l.J)(e),s=Object(l.n)(e),f=r.Observable.fromPromise(Object(y.a)(n,o,t&&t.issueGiraData)).catch((function(e){throw Object(c.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()?new u.a(e,a.a):e})),d=C(n,o,i,s,t&&t.issueGraphqlData),p=Object(l.t)(e),b=Object(l.p)(e),g=!(p||b)?m(f,d):function(e,t,n){return[e.retry(2),t.retry(2),n.retry(2)]}(f,d,Object(h.a)(n,i));return r.Observable.zip.apply(r.Observable,E(g).concat([function(e,t){return j(j(j({},e),t),{},{issue:j(j({},t.issue),{},{contextItemsCategories:e.contextItemsCategories,contentItemsCategories:e.contentItemsCategories})})}]))},x=function(e,t,n){return r.Observable.from(t).bufferCount(50).flatMap((function(t){return function(e,t,n){return Object(i.d)(Object(v.l)(e),{method:"POST",body:JSON.stringify({jql:t,fields:n})}).map(g.a)}(e,"key in (".concat(t.join(","),")"),n)})).reduce((function(e,t){return[].concat(E(e),E(t))}),[])},T=function(e,t){return Object(i.d)(Object(v.h)(e,t)).map((function(t){return t.fields.issuelinks&&Object(b.b)(e,t.fields.issuelinks)}))}},"./src/packages/issue/issue-view/src/common/service/issue/issue-links-transformer.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n("./node_modules/lodash/get.js"),o=n.n(r),i=n("./src/packages/platform/utils/constants/src/index.js"),s=n("./src/packages/issue/issue-view/src/issue-field/state/transformers/initial-data-transformer.js"),a=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),c=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=i.d.statusCategoryForId,p=function(e,t){var n=e.id,r=e.key,i=e.fields;return{id:n,issueKey:r,issueLink:Object(a.g)(t,e.key),issueSummary:i.summary,statusCategory:d(o()(e.fields,"status.statusCategory.id")),statusCategoryId:o()(e.fields,"status.statusCategory.id"),statusName:i.status&&i.status.name,statusId:i.status&&i.status.id,issuePriorityUrl:o()(i,"priority.iconUrl",null),issuePriorityName:o()(i,"priority.name",null),issueTypeIconUrl:o()(i,"issuetype.iconUrl",null),issueTypeName:o()(i,"issuetype.name",null),assigneeDisplayName:i.assignee?Object(c.c)(i.assignee).displayName:null,assigneeUrl:i.assignee?Object(c.c)(i.assignee).avatarUrl:null}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},r={};t&&t.filter(Boolean).forEach((function(t){var o,i,s=t.id,a=t.inwardIssue,c=t.outwardIssue,u=t.type,d=null;if(a?(i="inward",d=u.inward,o=a):c&&(i="outward",d=u.outward,o=c),d&&null!=o){var m={id:s,linkedIssueKey:o.key,direction:i,typeName:d,typeId:u.id};n=l(l({},n),{},f({},m.id,m));var y=p(o,e);r=l(l({},r),{},f({},y.issueKey,y))}}));var o=n?Object.values(n).map((function(e){return e.linkedIssueKey})):[];return{issueLinks:n,linkedIssueKeys:o,linkedIssues:r}},y=function(e){return e.map((function(e){return{id:e.id,type:e.type,inwardIssue:e.inwardIssue?Object(s.b)(e.inwardIssue):null,outwardIssue:e.outwardIssue?Object(s.b)(e.outwardIssue):null}}))}},"./src/packages/issue/issue-view/src/common/service/issue/issue-transformer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return F}));var r=n("./src/packages/platform/utils/constants/src/status-categories.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/date/transform-to-iso-string.js"),i=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),s=n("./src/packages/issue/issue-view/src/configurations.js"),a=n("./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js"),c=n("./src/packages/issue/issue-view/src/common/service/issue/child-issue-transformer.js"),u=n("./node_modules/lodash/find.js"),l=n.n(u),f=n("./src/packages/issue/issue-view/src/feature-flags.js"),d=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),p=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),m=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),y=function(e,t){var n=e.fields,o=l()(n,(function(e){return e.schema.system===d.K})),i=l()(n,(function(e){return e.schema.system===d.X})),s=l()(n,(function(e){return e.schema.system===d.rb})),a=l()(n,(function(e){return e.schema.system===d.ob})),c=l()(n,(function(e){return e.schema.system===d.g})),u=c?function(e){if(Object(f.isBentoEnhancedPreviewEnabled)()&&null!=e){var t=Object(m.c)(e);return{assigneeUrl:t.avatarUrl,assigneeDisplayName:t.displayName}}return{assigneeUrl:null,assigneeDisplayName:null}}(c.value):{},y=l()(n,(function(e){return e.schema.custom===d.qb}));return{id:e.id,issueLink:Object(p.g)(t,e.key),issueTypeIconUrl:o&&o.value.iconUrl,issueTypeName:o&&o.value.name,issuePriorityUrl:i&&i.value&&i.value.iconUrl||void 0,issuePriorityName:i&&i.value&&i.value.name||void 0,issueKey:e.key,issueSummary:s&&s.value,statusCategory:a&&a.value&&Object(r.statusCategoryForId)(a.value.statusCategory.id),statusCategoryId:a&&a.value&&a.value.statusCategory.id,statusName:a&&a.value&&a.value.name||void 0,statusId:a&&a.value&&a.value.id||void 0,estimateFieldId:y&&y.key||void 0,estimateValue:y&&y.value||void 0,assigneeDisplayName:u.assigneeDisplayName,assigneeUrl:u.assigneeUrl,isLoading:!1}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e?e.map((function(e){return y(e,t)})):[]},g=n("./src/packages/issue/issue-view/src/common/service/issue/issue-links-transformer.js"),v=n("./src/packages/issue/issue-view/src/common/service/issue/subtasks-transformer.js");function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){return e?Object(o.a)(e):null},I=function(e,t){return e&&e[t]},C=function(e){return e?{id:Number(e.id),key:e.key,summary:e.fields.summary,issueTypeName:e.fields.issuetype?e.fields.issuetype.name:"",issueTypeIconUrl:e.fields.issuetype?e.fields.issuetype.iconUrl:""}:null},P=function(e){return e?e.reduce((function(e,t){return E(E({},e),{},k({},t.id,function(e){return{id:Number(e.id),aboveLevelId:e.aboveLevelId?Number(e.aboveLevelId):null,belowLevelId:e.belowLevelId?Number(e.belowLevelId):null}}(t)))}),{}):{}},_=function(e){return e?{baseLevelId:Number(e.baseLevelId),levels:P(e.levels)}:null},x=function(e){if(e.project.avatarUrls){var t=e.project.avatarUrls.find((function(e){return"32x32"===e.key}));return t?t.value:t}return e.project.avatarUrls},T=function(e,t){var n=function(e){return e.reduce((function(e,t){return E(E({},e),{},k({},t.key,t))}),{})}(e.issue.fields),o=function(e){return function(t){return t?t.split(".").reduce(I,e):e}}(n),i=o("subtasks.content"),s=o("parent-issue.content"),a=o("children-issues.content"),u=o("epic-issues.content"),l=o("portfolio-child-issues.content"),f=[];return a?f=b(a,t):u?f=b(u,t):l&&(f=Object(c.a)(l,t)),{project:{projectId:e.project.id,projectName:e.project.name,projectKey:e.project.key,projectType:e.project.projectTypeKey,isSimplified:e.project.simplified,avatarUrl:x(e),issueTypeHierarchy:_(e.project.issueTypeHierarchy)},createdDate:S(o("created.content")),updatedDate:S(o("updated.content")),statuses:k({},n.status.content.id,{id:n.status.content.id,name:n.status.content.name,statusCategory:Object(r.statusCategoryForId)(n.status.content.statusCategory.id)}),issueLinks:n.issuelinks&&Object(g.b)(t,n.issuelinks.content),subtasks:Object(v.a)(i,t),parentIssue:C(s),childrenIssues:f}},A=function(e){var t=e.permissions,n=t.ADMINISTER,r=t.ADMINISTER_PROJECTS,o=t.ASSIGN_ISSUES,i=t.EDIT_ISSUES,s=t.SCHEDULE_ISSUES,a=t.ADD_COMMENTS,c=t.DELETE_ALL_COMMENTS,u=t.DELETE_OWN_COMMENTS,l=t.EDIT_ALL_COMMENTS,f=t.EDIT_OWN_COMMENTS,d=t.CREATE_ISSUES,p=t.DELETE_ISSUES,m=t.MOVE_ISSUES,y=t.CREATE_ATTACHMENTS,b=t.DELETE_ALL_ATTACHMENTS,g=t.DELETE_OWN_ATTACHMENTS,v=t.WORK_ON_ISSUES,h=t.ASSIGNABLE_USER,O=t.LINK_ISSUES,j=t.VIEW_VOTERS_AND_WATCHERS,w=t.MANAGE_WATCHERS,E=t.EDIT_ALL_WORKLOGS,k=t.EDIT_OWN_WORKLOGS,S=t.DELETE_ALL_WORKLOGS,I=t.DELETE_OWN_WORKLOGS,C=t.USER_PICKER,P=t.VIEW_DEV_TOOLS,_=t.SERVICEDESK_AGENT;return{permissions:{canAddComments:a.havePermission,canAdministerJira:n.havePermission,canAdministerProject:r.havePermission,canAssignIssues:o.havePermission,canBeAssignedToIssues:h.havePermission,canCloneIssue:d.havePermission,canCreateAttachments:y.havePermission,canCreateChildren:d.havePermission,canCreateIssuesInClassicProjectEpic:d.havePermission,canCreateSubtask:d.havePermission,canDeleteAllAttachments:b.havePermission,canDeleteOwnAttachments:g.havePermission,canDeleteAllComments:c.havePermission,canDeleteOwnComments:u.havePermission,canDeleteIssue:p.havePermission,canEditAllComments:l.havePermission,canEditOwnComments:f.havePermission,canEditIssues:i.havePermission,canLinkIssues:O.havePermission,canLogWork:v.havePermission,canManageWatchers:w.havePermission,canMoveIssue:m.havePermission,canScheduleIssues:s.havePermission,canViewWatchers:j.havePermission,canEditAllWorklogs:E.havePermission,canEditOwnWorklogs:k.havePermission,canDeleteAllWorklogs:S.havePermission,canDeleteOwnWorklogs:I.havePermission,canBrowseUsers:C.havePermission,canViewDevTools:!(!P||!P.havePermission),canUseServiceDeskAgentFeatures:!(!_||!_.havePermission)}}},D=function(e){var t=e.content,n=e.renderedContent,r=e.configuration,o=j(e,["content","renderedContent","configuration"]),i=void 0!==t||void 0!==n;return E(E(E(E({},i?{value:t}:null),i?{renderedValue:n}:null),r&&{configuration:r}),o)},R=function(e,t){var n,r=function(e,t){var n=e.issue.systemFields["".concat(t,"Adf")],r=e.issue.customFields.textareaAdf.find((function(e){return e.key===t}));return n||r||null}(e,t),o="string"==typeof(n=r&&r.value?{value:r.value}:{value:i.b}).value?JSON.parse(n.value):n.value;return Object(i.d)(o)},M=function(e){var t=new Set(e.issue.fields.filter((function(e){return e.schema.renderer===a.b})).map((function(e){return e.key}))),n=e.issue.customFields.textareaAdf.map((function(e){return e.key})).filter((function(e){return t.has(e)})),r=[s.g,s.i].filter((function(e){return t.has(e)||e===s.g})),o=[].concat(h(r),h(n)).map((function(t){return{key:t,value:R(e,t)}}));return e.issue.fields.map((function(e){var t=o.find((function(t){return t.key===e.key&&null!==t.value}));return t?k({},t.key,E(E({},D(e)),{},{adfValue:t.value})):k({},e.key,D(e))})).reduce((function(e,t){return Object.assign(e,t)}))},L=function(e){return e?e.reduce((function(e,t){var n=t.id,r=t.name,o=t.items;return E(E({},e),{},k({},n,{id:n,name:r,items:o}))}),{}):{}},N=function(e,t){var n=T(e,t);return E(E({},{issue:{id:e.issue.id,agile:e.issue.agile,fields:M(e),tabs:L(e.issue.tabs)}}),n)},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.issues,n=void 0===t?[]:t;return n}},"./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return h}));var r=n("./src/packages/issue/issue-view/src/feature-flags.js"),o=/^([A-Z][A-Z0-9]+)-([0-9]*)$/i,i=function(e){if(e){var t=o.exec(e);if(t&&3===t.length)return t[1]}},s=function(e,t){return"".concat(e,"/browse/").concat(t)},a=function(e,t){return"".concat(e,"/browse/").concat(t)},c=function(e,t){return"".concat(e,"/rest/api/2/issue/").concat(t)},u=function(e){return"".concat(e,"/rest/api/2/search")},l=function(e,t){return"".concat(e,"/rest/api/2/issue/").concat(t,"?fields=issuelinks")},f=function(e,t,n,r){return"".concat(e,"/rest/api/2/issue/picker?currentIssueKey=").concat(n,"&showSubTasks=true&showSubTaskParent=true&query=").concat(r,"&currentJQL=").concat(t)},d=function(e,t,n){var o='project in projectsWhereUserHasPermission("Link Issues") AND '.concat(Object(r.isUnresolvedIssueLinkingNextGenJQLEnabled)()?"(resolution = Unresolved or statusCategory != Done) ORDER BY priority DESC, updated DESC":"resolution = Unresolved ORDER BY priority DESC, updated DESC"),s=i(n);return s&&(o='project = "'.concat(s.toUpperCase(),'" AND ').concat(o)),f(e,o,t,n)},p=function(e,t,n){var r="",o=i(n);return o&&(r='project = "'.concat(o.toUpperCase(),'" ORDER BY priority DESC, updated DESC')),f(e,r,t,n)},m=function(e,t){return"".concat(e,"/rest/api/2/issue/createmeta?projectKeys=").concat(t,"&expand=projects.issuetypes.fields")},y=function(e){return"".concat(e,"/rest/api/2/issueLink")},b=function(e){return"".concat(e,"/rest/graphql/1/")},g=function(e){return"".concat(e,"/rest/api/2/mypreferences?key=").concat("jira.user.issue.changeboarding.lastinteracted")},v=function(e){return"".concat(e,"/rest/api/2/mypreferences?key=").concat("jira.user.issue.clickthrough-banner.lastinteracted")},h=function(e){return"".concat(e,"/rest/confluenceIssueLink/1/confluence/applink")}},"./src/packages/issue/issue-view/src/common/service/issue/issue-view-mode.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/query-string/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/model/view-mode-type.js"),s=function(){return o.a.parse(window.location.search).view||""},a=function(){return s().includes("planning")},c=function(e){return e?e===i.b:a()||function(){return"detail"===s()}()}},"./src/packages/issue/issue-view/src/common/service/issue/subtask-types-server.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./node_modules/rxjs/Rx.js"),o=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),i=n("./src/packages/platform/utils/fetch/src/index.js"),s=n("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js"),a=n("./src/packages/issue/issue-view/src/common/constants/index.js"),c=n("./src/packages/issue/issue-view/src/common/util/errors/index.js"),u=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),l=function(e){return e.projects[0]?{subtaskTypes:e.projects[0].issuetypes.filter((function(e){return e.subtask})),issueTypes:e.projects[0].issuetypes}:{subtaskTypes:[],issueTypes:[]}},f=function(e,t,n){return function(e,t){return Object(i.d)(e,{perf:s.f,headersProcessor:t&&t(s.f.key)}).map(l).catch((function(e){return Object(c.a)("issue.issue-base.content.subtasks.type.subtasks-types-epic","Failed to fetch subtask types.",e,new o.a({eventNameSuffix:a.E,type:o.h,app:o.e,event:e})),r.Observable.of({subtaskTypes:[],issueTypes:[]})}))}(Object(u.i)(e,t),n)}},"./src/packages/issue/issue-view/src/common/service/issue/subtasks-transformer.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./src/packages/platform/utils/constants/src/status-categories.js"),o=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),i=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),s=function(e,t){return{id:e.id,issueLink:Object(o.g)(t,e.key),issueTypeIconUrl:e.fields.issuetype.iconUrl,issueTypeName:e.fields.issuetype.name,issuePriorityUrl:e.fields.priority&&e.fields.priority.iconUrl||void 0,issuePriorityName:e.fields.priority&&e.fields.priority.name||void 0,issueKey:e.key,issueSummary:e.fields.summary,statusCategory:Object(r.statusCategoryForId)(e.fields.status.statusCategory.id),statusCategoryId:e.fields.status.statusCategory.id,statusId:e.fields.status.id,statusName:e.fields.status.name,isLoading:!1,hasError:!1,assigneeUrl:e.fields.assignee?Object(i.c)(e.fields.assignee).avatarUrl:null,assigneeDisplayName:e.fields.assignee?Object(i.c)(e.fields.assignee).displayName:null}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return null===e?[]:e.map((function(e){return s(e,t)}))}},"./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return g}));var r=n("./node_modules/lodash/every.js"),o=n.n(r),i=n("./node_modules/lodash/has.js"),s=n.n(i),a=n("./node_modules/lodash/partial.js"),c=n.n(a),u=n("./src/packages/platform/utils/types/src/index.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=["accountId","displayName","avatarUrls","timeZone"],p=function(e){var t=e.accountId,n=e.displayName,r=e.avatarUrls,o=e.timeZone;return{displayName:n,id:Object(u.toAccountId)(t),avatarUrl:r["48x48"],timeZone:o}},m=function(e){var t=e.applicationRoles;return t&&t.items&&t.items.map((function(e){return e.key}))||[]},y=function(e){var t=e.find((function(e){return"48x48"===e.key}));return t&&t.value||null},b=function(e){var t=e.accountId,n=e.displayName,r=e.avatarUrl,o=e.avatarUrls,i=e.timeZone;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,displayName:n,avatarUrl:r||y(o)},i?{timeZone:i}:{})},g=function(e){if(!e)throw new Error("User is null or undefined");if(!(e&&o()(d,c()(s.a,e))))throw new Error("User object is not expected shape, keys present: ".concat(Object.keys(e).toString()));return e}},"./src/packages/issue/issue-view/src/common/service/mentions/abstract-mention-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/@atlaskit/mention/dist/esm/api/MentionResource.js"),o=n("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js"),i=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),s=n("./src/packages/issue/issue-view/src/common/service/mentions/user-transformer.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t=d(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).getQueryString=void 0,r.getUrl=void 0,r.shouldHighlightMention=void 0,r.lastSearchTime=void 0,r.activeSearches=void 0,r.baseUrl=void 0,r.baseUrl=e,r.lastSearchTime=0,r.activeSearches=new Set,r}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(n,[{key:"isFiltering",value:function(e){return this.activeSearches.has(e)}},{key:"filter",value:function(e,t){var n=this,r=Date.now();return this.search(e,t).then((function(t){n.activeSearches.delete(e),r>n.lastSearchTime&&(n.lastSearchTime=r,n._notifyListeners(t)),n._notifyAllResultsListeners(t)})).catch((function(t){e&&n.activeSearches.delete(e),n._notifyErrorListeners(t)}))}},{key:"search",value:function(e,t){var n=this.getQueryString(e,t),r=this.getUrl(n);return this.activeSearches.add(e),Object(o.a)(r).mergeMap((function(e){return e.map(i.c)})).map(s.a).reduce((function(e,t){return[].concat(c(e),[t])}),[]).map((function(t){return{query:e,mentions:t}})).toPromise()}}]),n}(r.a)},"./src/packages/issue/issue-view/src/common/service/mentions/get-mention-encoder.js":function(e,t,n){"use strict";var r=n("./node_modules/memoize-one/dist/memoize-one.esm.js");t.a=Object(r.a)((function(e){return function(t){return"".concat(e,"/people/").concat(t)}}))},"./src/packages/issue/issue-view/src/common/service/mentions/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l.a})),n.d(t,"b",(function(){return q}));var r=n("./src/packages/issue/issue-view/src/common/service/mentions/issue-mention-provider.js"),o=n("./node_modules/query-string/index.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("./src/packages/issue/issue-view/src/common/service/mentions/abstract-mention-provider.js").a;var l=n("./src/packages/issue/issue-view/src/common/service/mentions/get-mention-encoder.js"),f=n("./node_modules/reselect/lib/index.js"),d=n("./src/packages/issue/issue-view/src/feature-flags.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),y=n("./node_modules/@atlaskit/mention/dist/esm/api/TeamMentionResource.js"),b=n("./node_modules/@atlaskit/util-service-support/dist/esm/index.js"),g=n("./src/packages/platform/utils/fetch/src/utils/as-json-stream.js"),v=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),h=n("./src/packages/issue/issue-view/src/common/service/mentions/user-transformer.js");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){E(i,r,o,s,a,"next",e)}function a(e){E(i,r,o,s,a,"throw",e)}s(void 0)}))}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e);var t=x(n);function n(e,r,i,s,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(c=t.call(this,s,a)).getUrl=function(e,t){var n=Object(o.stringify)(I({query:e,issueKey:c.issueKey,maxResults:10},t));return"".concat(c.baseUrl,"/rest/internal/2/user/mention/search?").concat(n)},c.baseUrl=void 0,c.issueKey=void 0,c.canBrowseUsers=void 0,c.baseUrl=e,c.issueKey=r,c.canBrowseUsers=i,c}return function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(n,[{key:"remoteInitialStateTeamAndUsers",value:function(){var e=k(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"",n=this.remoteUserSearch("",t),r=this.canBrowseUsers?Object(g.a)("".concat(this.teamMentionConfig.url,"/bootstrap")).toPromise():Promise.resolve([]),this.handleBothRequests("",n,r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remoteTeamSearch",value:function(){var e=k(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!this.canBrowseUsers){e.next=6;break}return o={path:"search",queryParams:I({query:t,limit:20},this.getQueryParamsOfTeamMentionConfig(n))},e.next=5,b.b.requestService(this.teamMentionConfig,o);case 5:r=e.sent;case 6:return e.abrupt("return",this.convertTeamResultToMentionResult(r,t));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"remoteUserSearch",value:function(e,t){var n=this.getUrl(e,t);return this.activeSearches.add("".concat(n,"?").concat(e)),Object(g.a)(n).mergeMap((function(e){return e.map(v.c)})).map(h.a).reduce((function(e,t){return[].concat(j(e),[t])}),[]).map((function(t){return{query:e,mentions:t}})).toPromise()}},{key:"recordMentionSelection",value:function(e,t){}}]),n}(y.a),R=n("./src/packages/platform/utils/types/src/index.js");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){return null==e||""===e?"":"".concat(window.location.origin,"/jira/people/team/").concat(e,"?ref=jira$&src=issue")},H=function(e){var t=e.accountId,n=e.teamId,r=e.name,o=e.avatarUrl,i=e.members,s=e.memberCount,a=e.includesYou;return i?{id:Object(R.toAccountId)(n||""),name:r,accessLevel:"CONTAINER",userType:"TEAM",avatarUrl:o,context:{members:i.map((function(e){return function(e){return{id:e.accountId,name:e.name}}(e)})),memberCount:s||0,includesYou:a||!1,teamLink:W(n)}}:{name:r,mentionName:r,nickname:r,id:Object(R.toAccountId)(t||""),avatarUrl:o}},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(n,e);var t=V(n);function n(e,r,o,i){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(s=t.call(this,e,r,o)).teamHighlightEnabled=void 0,s.createTeamPath=void 0,s.mentionTypeaheadHighlightEnabled=function(){return!0},s.mentionTypeaheadCreateTeamPath=function(){return s.createTeamPath},s.getUrl=function(e){return"".concat(s.baseUrl,"/rest/internal/2/userteam/mention/search?").concat(e)},s.createTeamPath=i,s}return function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(n,[{key:"search",value:function(e,t){var n=this.getQueryString(e,t),r=this.getUrl(n);return this.activeSearches.add(e||""),Object(g.a)(r).mergeMap((function(e){return e.map(H)})).reduce((function(e,t){return[].concat(L(e),[t])}),[]).map((function(t){return{query:e||"",mentions:t}})).toPromise()}}]),n}(r.a),q=Object(f.createSelector)(p.f,p.B,p.a,m.e,p.v,(function(e,t,n,o,i){return Object(d.isUserTeamResourceEnabled)()?new G(e,t,n,"".concat(e,"/jira/people/search#createTeam")):i?new r.a(e,t,n):new D(e,t,o,{url:"".concat(e,"/rest/internal/2/user/mention/search"),shouldHighlightMention:function(e){return e.id===n}},{url:"/gateway/api/teams/mentions",teamHighlightEnabled:!0,createTeamPath:"".concat(e,"/jira/people/search#createTeam"),teamLinkResolver:function(e){return function(e){return e?"".concat(window.location.origin,"/jira/people/team/").concat(e,"?ref=jira$&src=issue"):""}(e)}})}))},"./src/packages/issue/issue-view/src/common/service/mentions/issue-mention-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./node_modules/query-string/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=c(n);function n(e,o,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(c=t.call(this,e)).getQueryString=function(e,t){return Object(r.stringify)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({query:e,issueKey:c.issueKey,maxResults:10},t))},c.getUrl=function(e){return"".concat(c.baseUrl,"/rest/internal/2/user/mention/search?").concat(e)},c.issueKey=void 0,c.loggedInAccountId=void 0,c.shouldHighlightMention=function(e){return e.id===c.loggedInAccountId},c.issueKey=o,c.loggedInAccountId=a,c}return n}(n("./src/packages/issue/issue-view/src/common/service/mentions/abstract-mention-provider.js").a)},"./src/packages/issue/issue-view/src/common/service/mentions/user-transformer.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=e.id,n=e.displayName;return{id:t,name:n,mentionName:n,nickname:n,avatarUrl:e.avatarUrl}}},"./src/packages/issue/issue-view/src/common/skeleton/activity-feed-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./src/packages/issue/issue-view/src/common/skeleton/avatar-view.js"),a=n("./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js"),c=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js"),u=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js"),l=n("./src/packages/issue/issue-view/src/common/skeleton/text-line-mask-view.js"),f=i.default.div(["display:flex;"]),d=Object(i.default)(c.a)(["width:8px;"]);t.a=function(){return o.a.createElement(u.a,null,o.a.createElement(c.b,null),o.a.createElement(a.a,{paddingTop:0,paddingBottom:0},o.a.createElement(a.a,{paddingTop:32,paddingBottom:12},o.a.createElement(l.a,{fontSize:14,lineHeight:16,intrusion:300})),o.a.createElement(f,null,o.a.createElement(s.a,null),o.a.createElement(d,null),o.a.createElement(l.a,{fontSize:40,lineHeight:40,intrusion:0}))))}},"./src/packages/issue/issue-view/src/common/skeleton/avatar-view.js":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");t.a=r.default.div(["width:","px;height:","px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT4zMnB4IGNpcmNsZSBpbnNpZGUgNDBweCByZWN0PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPjwvZGVmcz4gICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iMzJweC1jaXJjbGUtaW5zaWRlLTQwcHgtcmVjdCIgZmlsbD0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTAsMCBMNDAsMCBMNDAsNDAgTDAsNDAgTDAsMCBaIE0yMCw0IEMxMS4xNjM0NDQsNCA0LDExLjE2MzQ0NCA0LDIwIEM0LDI4LjgzNjU1NiAxMS4xNjM0NDQsMzYgMjAsMzYgQzI4LjgzNjU1NiwzNiAzNiwyOC44MzY1NTYgMzYsMjAgQzM2LDExLjE2MzQ0NCAyOC44MzY1NTYsNCAyMCw0IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);"],5*o.f,5*o.f)},"./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js");t.a=r.default.div(["position:relative;width:100%;border-top:","px solid ",";border-bottom:","px solid ",";"],(function(e){return e.paddingTop}),o.colors.N0,(function(e){return e.paddingBottom}),o.colors.N0)},"./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=Object(r.keyframes)(["0%{background-position:-300px 0;}100%{background-position:2000px 0;}"]),s=r.default.div(["background-color:",";background-image:none;"],o.colors.N0);t.b=r.default.div(["animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:",";animation-timing-function:linear;background-color:",";background-image:linear-gradient( to right,"," 10%,"," 30%,"," 50% );background-repeat:no-repeat;position:absolute;left:0;right:0;top:0;bottom:0;"],i,o.colors.N30,o.colors.N30,o.colors.N20,o.colors.N30)},"./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js");t.a=r.default.div(["width:100%;display:flex;position:relative;"])},"./src/packages/issue/issue-view/src/common/skeleton/text-line-mask-view.js":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js");t.a=r.default.div(["position:relative;height:","px;border-right:","px solid ",";border-top:","px solid ",";border-bottom:","px solid ",";"],(function(e){return e.fontSize}),(function(e){return e.intrusion}),o.colors.N0,(function(e){return(e.lineHeight-e.fontSize)/2}),o.colors.N0,(function(e){return(e.lineHeight-e.fontSize)/2}),o.colors.N0)},"./src/packages/issue/issue-view/src/common/state/selectors/activity-provider-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/@atlaskit/activity/dist/es5/index.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),s=Object(r.createSelector)(i.i,(function(e){return new o.ActivityResource("/gateway/api/activity/",e)}))},"./src/packages/issue/issue-view/src/common/state/selectors/application-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/platform/utils/types/src/index.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),a=Object(r.createSelector)(s.E,(function(e){return e?Object(o.getApplicationForProject)(e):null})),c=Object(r.createSelector)([i.c,a],(function(e,t){return t?Object(o.getEdition)(t,e):null}))},"./src/packages/issue/issue-view/src/common/state/selectors/comments-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/selectors/comment-constants.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),a=Object(r.createSelector)(i.A,s.B,(function(e,t){return t.commentId||o.a}),(function(e,t,n){return{objectId:e,containerId:t,childObjectId:n}}))},"./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js":function(e,t,n){"use strict";n.d(t,"k",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"E",(function(){return m})),n.d(t,"B",(function(){return y})),n.d(t,"A",(function(){return b})),n.d(t,"x",(function(){return g})),n.d(t,"G",(function(){return v})),n.d(t,"L",(function(){return h})),n.d(t,"J",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return w})),n.d(t,"o",(function(){return E})),n.d(t,"D",(function(){return k})),n.d(t,"F",(function(){return S})),n.d(t,"z",(function(){return I})),n.d(t,"H",(function(){return P})),n.d(t,"N",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"M",(function(){return T})),n.d(t,"q",(function(){return D})),n.d(t,"d",(function(){return M})),n.d(t,"t",(function(){return L})),n.d(t,"n",(function(){return N})),n.d(t,"w",(function(){return F})),n.d(t,"p",(function(){return U})),n.d(t,"v",(function(){return V})),n.d(t,"e",(function(){return K})),n.d(t,"r",(function(){return B})),n.d(t,"K",(function(){return W})),n.d(t,"s",(function(){return H})),n.d(t,"l",(function(){return G})),n.d(t,"h",(function(){return q})),n.d(t,"g",(function(){return z})),n.d(t,"P",(function(){return Y})),n.d(t,"I",(function(){return Q})),n.d(t,"C",(function(){return J})),n.d(t,"u",(function(){return $})),n.d(t,"O",(function(){return Z})),n.d(t,"R",(function(){return X})),n.d(t,"c",(function(){return ee})),n.d(t,"y",(function(){return te})),n.d(t,"m",(function(){return oe})),n.d(t,"Q",(function(){return se}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/safe-string.js"),i=n("./src/packages/platform/utils/constants/src/analytics-sources.js"),s=n("./src/packages/platform/utils/types/src/index.js"),a=n("./src/packages/issue/issue-view/src/configurations.js"),c=n("./src/packages/issue/issue-view/src/feature-flags.js"),u=n("./src/packages/issue/issue-view/src/common/model/connect-field-type.js"),l=n("./src/packages/issue/issue-view/src/common/util/entry/get-project-key.js"),f=function(e){return e.context},d=Object(r.createSelector)(f,(function(e){return e.atlassianAccountId})),p=Object(r.createSelector)(f,(function(e){return e.baseUrl})),m=Object(r.createSelector)(f,(function(e){return e.loginRedirectUrl})),y=Object(r.createSelector)(f,(function(e){return Object(s.toIssueKey)(e.issueKey)})),b=Object(r.createSelector)(f,(function(e){return e.issueId})),g=Object(r.createSelector)(f,(function(e){return!!e.isSpaEnabled})),v=Object(r.createSelector)(f,(function(e){return e.onIssueKeyChange})),h=Object(r.createSelector)(f,(function(e){return e.rapidViewMap})),O=Object(r.createSelector)(y,(function(e){return Object(l.a)(e)})),j=Object(r.createSelector)(f,(function(e){return void 0!==e.analyticsSource?new o.a(e.analyticsSource):void 0})),w=Object(r.createSelector)(f,(function(e){return e.cloudId||Object(s.toCloudId)("")})),E=Object(r.createSelector)(f,(function(e){return e.isAnonymous})),k=Object(r.createSelector)(f,(function(e){return e.locale})),S=Object(r.createSelector)(f,(function(e){return e.maxTokenLength})),I=Object(r.createSelector)(f,(function(e){return e.issueActions||[]})),C=Object(r.createSelector)(f,(function(e){return e.contextItemCategories})),P=Object(r.createSelector)(C,(function(e){return e.primary})),_=Object(r.createSelector)(C,(function(e){return e.secondary})),x=Object(r.createSelector)(f,(function(e){return e.contentItemCategories.visible||[]})),T=Object(r.createSelector)(f,(function(e){return e.contentItemCategories.request})),A=Object(r.createSelector)(P,_,(function(e,t){return e.concat(t)})),D=Object(r.createSelector)(x,(function(e,t){return t}),(function(e,t){return e.map((function(e){return e.id})).includes(t)})),R=Object(r.createSelector)(A,(function(e,t){return t}),(function(e,t){return e.includes(t)})),M=(Object(r.createSelector)(D,R,(function(e,t){return e?u.a:t?u.c:u.d})),Object(r.createSelector)(f,(function(e){return e.applicationKey}))),L=Object(r.createSelector)(j,(function(e){return!!e&&e.value===i.a.MOBILE_ISSUE})),N=Object(r.createSelector)(M,(function(e){return e===Object(a.P)().applicationKey||e===Object(a.S)().applicationKey})),F=Object(r.createSelector)(M,(function(e){return e===Object(a.Q)().applicationKey})),U=Object(r.createSelector)(j,(function(e){return!!e&&e.value===i.a.BITBUCKET_ISSUE})),V=Object(r.createSelector)(M,(function(e){return(Object(c.isJSDBentoM3Enabled)()||Object(c.isJSDBentoEnabled)())&&e===Object(a.O)().applicationKey})),K=Object(r.createSelector)(f,(function(e){return e.backButtonUrl})),B=Object(r.createSelector)(f,(function(e){return!!e.ecosystemEnabled})),W=Object(r.createSelector)(f,(function(e){return e.rapidViewId})),H=Object(r.createSelector)(f,(function(e){return!!e.isLoadedWithPage})),G=Object(r.createSelector)(f,(function(e){return e.estimationStatistic||null})),q=Object(r.createSelector)(f,(function(e){return e.boardType})),z=Object(r.createSelector)(f,(function(e){return e.boardId})),Y=Object(r.createSelector)(f,(function(e){return e.siteAdminStatus})),Q=Object(r.createSelector)(f,(function(e){return e.productCrossSellConfig})),J=Object(r.createSelector)(f,(function(e){return e.licensedProducts})),$=(Object(r.createSelector)(f,(function(e){return e.appPermissions})),Object(r.createSelector)(f,(function(e){return e.isModal}))),Z=Object(r.createSelector)($,L,(function(e,t){return!e&&!t})),X=Object(r.createSelector)(f,(function(e){return e.viewMode})),ee=Object(r.createSelector)(f,(function(e){return e.appEditions})),te=Object(r.createSelector)(J,(function(e){return e&&!0===e["is.origo.jira.tempo-plugin"]})),ne=Object(r.createSelector)(f,(function(e){return e.licenseStates})),re=Object(r.createSelector)(ne,(function(e){return e&&e.software===s.LICENSE_STATE_ACTIVE})),oe=Object(r.createSelector)(J,re,(function(e,t){return e["jira-software"]&&t})),ie=Object(r.createSelector)(ne,(function(e){return e&&e.serviceDesk===s.LICENSE_STATE_ACTIVE})),se=Object(r.createSelector)(J,ie,(function(e,t){return e&&e["jira-servicedesk"]&&t}))},"./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js":function(e,t,n){"use strict";n.d(t,"t",(function(){return g})),n.d(t,"v",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"y",(function(){return S})),n.d(t,"p",(function(){return I})),n.d(t,"z",(function(){return C})),n.d(t,"m",(function(){return P})),n.d(t,"l",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return T})),n.d(t,"B",(function(){return A})),n.d(t,"r",(function(){return D})),n.d(t,"o",(function(){return R})),n.d(t,"n",(function(){return M})),n.d(t,"h",(function(){return L})),n.d(t,"g",(function(){return N})),n.d(t,"i",(function(){return F})),n.d(t,"x",(function(){return U})),n.d(t,"A",(function(){return V})),n.d(t,"f",(function(){return K})),n.d(t,"C",(function(){return B})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return H})),n.d(t,"F",(function(){return q})),n.d(t,"G",(function(){return z})),n.d(t,"E",(function(){return Y})),n.d(t,"D",(function(){return Q})),n.d(t,"u",(function(){return $})),n.d(t,"w",(function(){return Z}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/find.js"),i=n.n(o),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/issue/issue-view/src/configurations.js"),c=n("./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js"),u=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/get-editing-value.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/get-pending-value.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){return e.fields||{}},v=function(e,t){return i()(t,(function(t){return(t.schema&&t.schema.custom)===e}))},h=function(e,t){var n=t[e];if(!n&&Object.keys(a.R).includes(e)){var r=a.R[e];n=v(r,t)}return n},O=function(e){return Object(r.createSelector)(g,(function(t){return v(e,t)}))},j=function(e){return Object(r.createSelector)(O(e),(function(e){var t=e?e.key.match(/customfield_(\d+)$/i):null;return t?+t[1]:null}))},w=function(e){return Object(r.createSelector)(g,(function(t){return h(e,t)}))},E=Object(r.createSelector)(g,(function(e){return Object.keys(e).map((function(t){return h(t,e)})).filter(Boolean)})),k=Object(r.createSelector)(g,(function(e){return Object.keys(e)})),S=function(e){return!!e&&e.editable},I=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.schema&&e.schema.configuration&&e.schema.configuration.reduce((function(e,t){var n=t.key,r=t.value;return y(y({},e),{},b({},n,r))}),{})}))},C=function(e){return Object(r.createSelector)(w(e),(function(e){return S(e)}))},P=function(e){return Object(r.createSelector)(w(e),(function(t){return t&&t.title?t.title:(s.h.safeWarn("issue.field.selector","".concat(e," does not have a field title")),"")}))},_=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.key}))},x=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.autoCompleteUrl}))},T=function(e){return Object(r.createSelector)(w(e),(function(e){return e?e.allowedValues:[]}))},A=function(e){return Object(r.createSelector)(w(e),(function(e){return!!e&&e.required}))},D=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&Object(d.a)(e)}))},R=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.value}))},M=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&Object(p.a)(e)}))},L=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&Object(f.a)(e)}))},N=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&Object(f.b)(e)}))},F=function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.renderedValue}))},U=function(e){return!!e&&void 0!==e.editingValue},V=function(e){return Object(r.createSelector)(w(e),(function(e){return U(e)}))},K=function(e){return Object(r.createSelector)(w(e),(function(e){return(e?e.fieldEditSessionId:null)||""}))},B=function(e){return Object(r.createSelector)(w(e),(function(e){return!!e&&void 0!==e.pendingValue}))},W=function(e,t){return Object(r.createSelector)(w(e),(function(e){return e&&(e.isInvalid?e.invalidMessage||t:null)}))},H=function(e){return Object(r.createSelector)(w(e),(function(e){return Boolean(e&&e.isInvalid)}))},G=function(e){return e===u.tb||e===a.i||e===a.g},q=function(e){return Object(r.createSelector)((function(t){return Object(l.q)(t,e)}),l.v,D(e),function(e){return Object(r.createSelector)(w(e),(function(e){return e&&e.schema&&e.schema.renderer}))}(e),(function(t,n,r,o){var i=e===a.g,s=G(r)&&o===c.b;return i||s}))},z=Object(r.createSelector)(g,(function(e){return e}),(function(e,t){return Object.keys(e).filter((function(e){return q(e)(t)}))})),Y=Object(r.createSelector)(z,(function(e){return e}),(function(e,t){return e.some((function(e){return V(e)(t)}))})),Q=function(e){return Object(r.createSelector)(D(e),(function(e){return G(e)}))},J=Object(r.createSelector)(g,(function(e){return e}),(function(e,t){return Object.keys(e).filter((function(e){return Q(e)(t)}))})),$=Object(r.createSelector)(J,(function(e){return e}),(function(e,t){return e.filter((function(e){return V(e)(t)}))})),Z=Object(r.createSelector)(w(a.l),w(a.a),(function(e,t){var n=[];return e&&n.push(e.key),t&&n.push(t.key),n}))},"./src/packages/issue/issue-view/src/common/state/selectors/field-visibility-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),c=function(e){return Object.values(Object(o.Bb)()).includes(e)},u=function(e){return Object(r.createSelector)(Object(i.c)(e),(function(e){return!e||e.length>1}))},l=function(e){return Object(r.createSelector)(a.f,Object(i.o)(e),(function(e,t){return Boolean(e&&t&&t.rating)}))},f=function(e){return Object(r.createSelector)(Object(i.n)(e),(function(e){return Boolean(e&&(e.showField||e.hasEpicLinkFieldDependency))}))},d=function(e){var t=e.fieldType,n=e.fieldId,s=e.state;switch(t){case o.cb:return l(n)(s);case o.V:return f(n)(s);case o.eb:return u(n)(s);case o.b:return function(e){return Object(r.createSelector)(Object(i.n)(e),(function(e){return Boolean(e)}))}(n)(s);case o.l:return!1;default:return!0}},p=function(e,t){if(!Object(i.a)(t).includes(e))return!1;var n=Object(s.a)(Object(i.v)(e,Object(i.t)(t)));return!(void 0===n||!c(n))&&d({fieldType:n,fieldId:e,state:t})}},"./src/packages/issue/issue-view/src/common/state/selectors/get-editing-value.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/packages/issue/issue-view/src/common/state/selectors/get-pending-value.js");t.a=function(e){return void 0!==e.editingValue?e.editingValue:Object(r.a)(e)};var o=function(e){return e.editingValue||Object(r.b)(e)}},"./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/packages/issue/issue-view/src/configurations.js"),o=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js");function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=[].concat(i(r.I.filter((function(e){return!r.J.includes(e)}))),i(Object.keys(r.R).map((function(e){return r.R[e]}))),[o.y]),c=function(e){var t=e?e.schema:void 0;return t?function(e){return a.find((function(t){return t===e}))}(t.custom)||t.system||t.type:void 0}},"./src/packages/issue/issue-view/src/common/state/selectors/get-pending-value.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t.a=function(e){return void 0!==e.pendingValue?e.pendingValue:e.value};var r=function(e){return e.pendingValue||e.adfValue||e.value}},"./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"D",(function(){return l})),n.d(t,"H",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"B",(function(){return y})),n.d(t,"C",(function(){return b})),n.d(t,"E",(function(){return g})),n.d(t,"t",(function(){return v})),n.d(t,"x",(function(){return h})),n.d(t,"w",(function(){return O})),n.d(t,"z",(function(){return j})),n.d(t,"y",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return k})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return I})),n.d(t,"m",(function(){return C})),n.d(t,"v",(function(){return P})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return D})),n.d(t,"I",(function(){return R})),n.d(t,"A",(function(){return M})),n.d(t,"F",(function(){return L})),n.d(t,"G",(function(){return N})),n.d(t,"a",(function(){return F})),n.d(t,"u",(function(){return U})),n.d(t,"j",(function(){return V})),n.d(t,"f",(function(){return K})),n.d(t,"p",(function(){return B})),n.d(t,"q",(function(){return W}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/platform/utils/constants/src/project-types.js"),i=n("./src/packages/issue/issue-view/src/configurations.js"),s=n("./src/packages/issue/issue-view/src/common/model/loading-stage-type.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),u=function(e){return e.entities},l=Object(r.createSelector)(u,(function(e){return e?e.project:null})),f=function(e){return e.ui},d=Object(r.createSelector)(u,(function(e){return e.issue})),p=Object(r.createSelector)(u,(function(e){return e.refreshedOn})),m=Object(r.createSelector)(f,(function(e){return e.flags})),y=Object(r.createSelector)(l,(function(e){return e&&e.projectId?e.projectId:null})),b=Object(r.createSelector)(l,(function(e){return e?e.projectKey:null})),g=Object(r.createSelector)(l,(function(e){return e&&e.projectType?e.projectType:null})),v=Object(r.createSelector)(l,(function(e){return!!e&&e.isSimplified})),h=Object(r.createSelector)(u,a.a,(function(e,t){return t?e.users[t]:null})),O=Object(r.createSelector)(u,a.a,(function(e,t){var n=t?e.users[t]:null;return n?n.avatarUrl:null})),j=Object(r.createSelector)(u,(function(e){return e.parentIssue})),w=Object(r.createSelector)(h,(function(e){return e?e.timeZone:void 0})),E=Object(r.createSelector)(d,(function(e){return e&&e.id})),k=Object(r.createSelector)(v,(function(e){return!e})),S=Object(r.createSelector)(f,(function(e){return e.loadingStage===s.b})),I=Object(r.createSelector)(f,(function(e){return e.loadingStage===s.c})),C=Object(r.createSelector)(f,(function(e){return e.loadingStage===s.a})),P=Object(r.createSelector)(f,(function(e){return e.loadingStage})),_=Object(r.createSelector)(f,(function(e){return!(!e.issueDeletion||!e.issueDeletion.isDeleteIssueModalOpen)})),x=Object(r.createSelector)(f,(function(e){return!!e.issueDeletion&&e.issueDeletion.isDeletingIssue})),T=Object(r.createSelector)(f,(function(e){return!!e.issueDeletion&&e.issueDeletion.didIssueDeleteFail})),A=Object(r.createSelector)(f,(function(e){return e.error})),D=Object(r.createSelector)(f,(function(e){return e.errorMessage})),R=Object(r.createSelector)(u,(function(e){return function(t){return e.users[t]}})),M=Object(r.createSelector)(u,(function(e){return e.parentLevelIssues})),L=function(){return"jira"},N=Object(r.createSelector)(g,(function(e){switch(e){case o.d:return"jira-core";case o.n:return"jira-software";case o.l:return"jira-servicedesk";default:return"jira"}})),F=Object(r.createSelector)(L,a.i,(function(e,t){return t?"ari:cloud:".concat(e,":").concat(t):null})),U=Object(r.createSelector)(F,E,(function(e,t){return e&&t?"".concat(e,":issue/").concat(t):null})),V=function(){return{}},K=Object(r.createSelector)((function(e){return e.agile}),(function(e){return e&&e.epic&&e.epic.key||null})),B=function(e){return{}.hasOwnProperty.call(e,i.k)},W=Object(r.createSelector)(c.t,(function(e){return B(e)}))},"./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.mediaContext}},"./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return j}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/mapValues.js"),i=n.n(o),s=n("./src/packages/platform/utils/constants/src/project-types.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),u=Object(r.createSelector)(c.e,(function(e){return e.applicationRoles})),l=Object(r.createSelector)(c.e,(function(e){return e.permissions})),f=new Set(["canUseServiceDeskAgentFeatures","canEditIssues","canTransitionIssues","canScheduleIssues","canMoveIssue","canAssignIssues","canBeAssignedToIssues","canDeleteIssue","canManageWatchers","canEditAllComments","canDeleteAllComments","canDeleteAllAttachments","canLogWork","canEditOwnWorklogs","canEditAllWorklogs","canDeleteOwnWorklogs","canDeleteAllWorklogs","canResolveIssues","canViewReadonlyWorkflow","canCloseIssues","canModifyReporter","canSetIssueSecurity"]),d=Object(r.createSelector)(u,c.E,l,a.Q,(function(e,t,n,r){return t===s.l&&r?function(e,t){var n=e&&e.includes("jira-servicedesk"),r=t.canUseServiceDeskAgentFeatures;return i()(t,(function(e,t){return f.has(t)?e&&n&&r:e}))}(e,n):n})),p=Object(r.createSelector)(d,(function(e){return!!e.canBeAssignedToIssues})),m=Object(r.createSelector)(d,(function(e){return!!e.canAdministerProject})),y=Object(r.createSelector)(d,(function(e){return!!e.canAdministerJira})),b=Object(r.createSelector)(d,(function(e){return e.canViewWatchers})),g=Object(r.createSelector)(d,(function(e){return e.canManageWatchers})),v=Object(r.createSelector)(b,g,(function(e,t){return{canViewWatchers:e,canManageWatchers:t}})),h=Object(r.createSelector)(d,(function(e){return e.canBrowseUsers})),O=Object(r.createSelector)(d,(function(e){return e.canViewDevTools})),j=Object(r.createSelector)(d,(function(e){return e.canUseServiceDeskAgentFeatures}))},"./src/packages/issue/issue-view/src/common/state/selectors/reactions-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),a=function(e){return Object(r.createSelector)(i.a,(function(t){return t&&e?"".concat(t,":comment/").concat(e):null}))},c=Object(r.createSelector)(s.h,o.i,(function(e,t){return!(!e.canAddComments||!t)}))},"./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return I}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/configurations.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),u=Object(r.createSelector)(a.e,(function(e){return e.timeTrackingConfiguration})),l=Object(s.o)(o.E),f=Object(r.createSelector)(u,(function(e){return e.isTimeTrackingEnabled})),d=Object(r.createSelector)(f,s.a,(function(e,t){return e&&t.includes(o.E)})),p=Object(r.createSelector)(d,c.h,i.t,(function(e,t,n){return e&&t.canLogWork&&!n})),m=Object(r.createSelector)(a.H,(function(e){return e.worklog})),y=Object(r.createSelector)(m,(function(e){return e.modal})),b=Object(r.createSelector)(m,(function(e){return e.loadingStage})),g=Object(r.createSelector)(y,(function(e){return e.openModal})),v=Object(r.createSelector)(y,(function(e){return e.isSaving})),h=Object(r.createSelector)(y,(function(e){return e.activeWorklogId})),O=Object(r.createSelector)(a.e,(function(e){return e.worklog})),j=Object(r.createSelector)(O,(function(e){return e.worklogs})),w=Object(r.createSelector)(h,j,(function(e,t){return e&&t[e]||null})),E=Object(r.createSelector)(O,(function(e){return e.sortedWorklogIds})),k=Object(r.createSelector)(j,E,(function(e,t){return t.map((function(t){return e[t]}))})),S=Object(r.createSelector)(O,(function(e){return e.totalWorklogs})),I=Object(r.createSelector)(O,(function(e){return e.worklogsStartIndex||0}))},"./src/packages/issue/issue-view/src/common/state/selectors/timestamp-display-setting-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.timestampDisplaySetting}))},"./src/packages/issue/issue-view/src/common/styles/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=r.default.span(["color:",";"],o.colors.N200),s=Object(r.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),a=r.default.div(["",";"],s),c=function(e){return Object(r.css)(["","::-webkit-scrollbar{width:8px;background:transparent;}","::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:10px;}"],e,e)},u=Object(r.css)(["font-size:1em;line-height:1.714;font-weight:normal;margin-top:1.143;margin-bottom:0;letter-spacing:-0.005em;overflow-y:auto;overflow-x:hidden;width:100%;height:auto;white-space:pre-line;"]),l=r.default.div(["",";"],u),f=r.default.div(["",";max-height:","ex;",";"],u,(function(e){return 2.5*(e.maxRows?e.maxRows:2)}),c("&")),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),p=r.default.div(["margin-top:","px;"],(function(e){return e.isCompactMode?2.5*d.f:5*d.f})),m=r.default.div(["margin-top:",";"],(function(e){return e.isCompactMode?null:"".concat(2.5*d.f,"px")}))},"./src/packages/issue/issue-view/src/common/util/date-time-formatter/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("./node_modules/moment-timezone/index.js"),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t,n){if(!t)return null;var r={day:"2-digit",month:"short",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0},i=n?s(s({},r),{},{timeZone:n}):s({},r),a=o()(t).valueOf();return e.formatDate(a,i)},u=function(e,t,n,r){var i=o.a.tz(e,r);return i.isValid()&&e?{dateValue:i.format("YYYY-MM-DD"),timeValue:i.format("HH:mm"),zoneValue:i.format("ZZ")}:{dateValue:t,timeValue:n,zoneValue:o()().tz(r).format("ZZ")}}},"./src/packages/issue/issue-view/src/common/util/dom-util/get-scroll-parent/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||!e.parentElement)return null;var n=getComputedStyle(e),r=t&&"absolute"===n.position,o=/(auto|scroll)/;if("fixed"===n.position)return document.body;for(var i=e.parentElement;i;i=i&&i.parentElement){n=getComputedStyle(i);var s=r&&"static"===n.position;if(!s&&o.test(n.overflow+n.overflowY+n.overflowX))return i}return null}},"./src/packages/issue/issue-view/src/common/util/dom-util/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o.a}));var r=function(e){if(e){var t=getComputedStyle(e),n=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0);return e.clientHeight-n}},o=n("./src/packages/issue/issue-view/src/common/util/dom-util/get-scroll-parent/index.js")},"./src/packages/issue/issue-view/src/common/util/entry/get-project-key.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/packages/platform/utils/types/src/index.js"),o=function(e){return Object(r.toProjectKey)(e.split("-")[0])}},"./src/packages/issue/issue-view/src/common/util/errors/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),o=n("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Network request failed"]),a=function(e,t,n,a){n instanceof TypeError&&function(e){return"object"===i(e)&&"TypeError"===e.name&&s.has(e.message)}(n)?function(e,t,n){Object(o.a)({error:n,attributes:{message:t},meta:{id:e,packageName:"jiraIssueView"}})}(e,t,n):a&&r.h.safeError(e,t,a)}},"./src/packages/issue/issue-view/src/common/util/events/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return c}));var r=function(e){return e&&e instanceof KeyboardEvent&&27===e.keyCode},o=function(e){return 13===e.keyCode},i=function(e){return 0===e.button},s=function(e){return i(e)&&!(e.metaKey||e.ctrlKey)},a=function(e){return 1===e.button},c=function(e){return i(e)&&(e.metaKey||e.ctrlKey)}},"./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/flow.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js");function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){return o.a.apply(void 0,[Object(i.a)({FallbackComponent:t})].concat(s(e),[function(n){return e.length?Object(i.a)({FallbackComponent:t})(n):n}]))(n)}}},"./src/packages/issue/issue-view/src/common/util/get-element/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/packages/issue/issue-view/src/common/constants/index.js"),o=function(){return document.querySelector(".".concat(r.K))},i=function(){return document.querySelector(".".concat(r.u))}},"./src/packages/issue/issue-view/src/common/util/safe-component/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/node-env.js"),c=n("./src/packages/issue/issue-view/src/common/constants/index.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function e(t){var n=this;v(this,e),this.logLocation=void 0,this.handleError=function(e,t){return s.h.safeError(n.logLocation,"An uncaught error has occurred in a React component",new i.a({eventNameSuffix:c.E,type:i.i,app:i.e,event:{message:e.message,stack:e.stack,componentStack:t}}))},this.callSafely=function(e,t){try{for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return t&&t.apply(e,o)}catch(e){n.handleError(e)}return null},this.logLocation="".concat("issue.error-boundary.").concat(t)},O=function(e){return!!e.prototype&&e.prototype.isReactComponent},j=function(e,t){var n=e,r=Object.getOwnPropertyDescriptor(n,"prototype");return Boolean(r&&r.value&&r.value[t])},w=["componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","componentDidUpdate"],E=function e(t,n,i){var c,u,l=i||function(e){return e.displayName||e.name||"UnsafeComponent"}(t),m=new h(i?"Fallback(".concat(l,")"):l);n&&function(e,t){var n=O(e)?e:e().type;if(n){var r=[];if(w.forEach((function(e){j(n,e)&&r.push(e)})),r.length){var o="The fallback component provided for '".concat(t,"' defines the following unsupported lifecycles methods:\n").concat("\t\t").concat(r.join("\n".concat("\t\t")));Object(a.a)()?console.warn(o):s.h.safeWarn("".concat("issue.error-boundary.").concat(t),o)}}}(n,l);var b=t;if(O(t)&&j(t,"componentWillUnmount")){var E=function(e){p(n,e);var t=y(n);function n(){return v(this,n),t.apply(this,arguments)}return f(n,[{key:"componentWillUnmount",value:function(){m.callSafely(this,d(g(n.prototype),"componentWillUnmount",this))}}]),n}(t);E.displayName=l,b=E}var k={hadError:!1,isInternalRender:!1};return u=c=function(t){p(i,t);var r=y(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state=k,e}return f(i,[{key:"componentDidCatch",value:function(e,t){m.handleError(e,t.componentStack),this.setState({hadError:!0,isInternalRender:!0})}},{key:"render",value:function(){if(this.state.hadError){if(!n)return null;var t=e(n,null,l);return(o.a.createElement(t,this.props))}return(o.a.createElement(b,this.props))}}]),i}(r.Component),c.displayName="".concat(function(){return i?"Fallback":n?"SafeWithFallback":"Safe"}(),"(").concat(l,")"),c.getDerivedStateFromProps=function(e,t){return t.hadError&&!t.isInternalRender?k:{isInternalRender:!1}},u},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return E(t,e.FallbackComponent)}}},"./src/packages/issue/issue-view/src/common/util/scroll/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/scroll-into-view-if-needed/es/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.freeze({});e&&Object(r.default)(e,i({duration:300},t))},c=function(e){e&&a(e,{centerIfNeeded:!0})}},"./src/packages/issue/issue-view/src/common/util/time-string/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s.a}));var r=n("./src/packages/issue/issue-view/src/common/util/time-string/is-time-string-valid/index.js"),o=function(e){return""===e.trim()||Object(r.a)(e)},i=function(e,t){var n=[{suffix:"w",seconds:e*t*60*60},{suffix:"d",seconds:60*t*60},{suffix:"h",seconds:3600},{suffix:"m",seconds:60}];return function(e){var t={secondsRemaining:e,timeString:""};return n.reduce((function(e,t){if(t.seconds<=0)return e;var n=Math.floor(e.secondsRemaining/t.seconds);return{secondsRemaining:n>=1?e.secondsRemaining%t.seconds:e.secondsRemaining,timeString:n>=1?"".concat(e.timeString," ").concat(n).concat(t.suffix):e.timeString}}),t).timeString.trim()||"0m"}},s=n("./src/packages/issue/issue-view/src/common/util/time-string/time-string-to-seconds/index.js")},"./src/packages/issue/issue-view/src/common/util/time-string/is-time-string-valid/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/isFinite.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/common/util/time-string/time-string-to-seconds/index.js");t.a=function(e){var t=Object(i.a)(1,1)(e);return null!==t&&o()(t)}},"./src/packages/issue/issue-view/src/common/util/time-string/time-string-to-seconds/index.js":function(e,t,n){"use strict";var r=/^(\d+(?:\.\d+)?)([wdhm])$/,o=function(e){var t=r.exec(e);return t?{quantity:parseFloat(t[1]),unit:t[2]}:null};t.a=function(e,t){var n=[{unit:"w",seconds:e*t*60*60},{unit:"d",seconds:60*t*60},{unit:"h",seconds:3600},{unit:"m",seconds:60}];return function(e){for(var t=e.split(" ").map(o),r=0,i=0,s=0;s<n.length&&r!==t.length;s+=1){var a=n[s],c=t[r];if(!c)return null;c.unit===a.unit&&(i+=c.quantity*a.seconds,r+=1)}return r<t.length?null:Math.floor(i)}}},"./src/packages/issue/issue-view/src/common/util/types/type-check/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.length>0&&!Number.isNaN(Number(e))}},"./src/packages/issue/issue-view/src/common/xflow/jira_service_desk.svg":function(e,t,n){e.exports=n.p+"assets/jira_service_desk.37eca6a5ae1ce97b293bc1243a4f2b2e.8.svg"},"./src/packages/issue/issue-view/src/drafts/draft-actions.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"q",(function(){return s})),n.d(t,"o",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"i",(function(){return h}));var r="DELETE_DRAFT_NEWER_CONTENT_FOUND",o="SAVE_DRAFT_REQUEST",i=function(e,t,n){return{type:o,payload:{fieldId:e,value:t,serverValue:n}}},s=function(e,t){return{type:"SAVE_DRAFT_SUCCESS",payload:{draftKey:e,value:t}}},a=function(e){return{type:"SAVE_DRAFT_FAILURE",payload:e}},c="LOAD_DRAFT_REQUEST",u=function(e,t,n,r){return{type:c,payload:{fieldId:e,draftKey:t,draftHandler:n,serverValue:r}}},l="LOAD_DRAFT_SUCCESS",f=function(e,t){return{type:l,payload:{fieldId:e,value:t}}},d="LOAD_DRAFT_FAILURE",p=function(e,t){return{type:d,payload:{fieldId:e,error:t}}},m="DELETE_DRAFT_REQUEST",y=function(e){var t=e.fieldId,n=e.draftKey;return{type:m,payload:{fieldId:t,draftKey:n}}},b="DELETE_DRAFT_SUCCESS",g=function(e){return{type:b,payload:{fieldId:e}}},v="DELETE_DRAFT_FAILURE",h=function(e,t){return{type:v,payload:{fieldId:e,error:t}}}},"./src/packages/issue/issue-view/src/drafts/draft-utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n("./src/packages/issue/issue-view/src/configurations.js"),o=function(e,t,n){return"".concat(String(e),".").concat(t,".").concat(n)},i=function(e){return e.split(".")[2]},s=function(e){return"".concat(e,"-previous-hash")},a=function(e){return"".concat(r.f,"_").concat(e)}},"./src/packages/issue/issue-view/src/ecosystem/broadcast-connect-event.js":function(e,t,n){"use strict";var r=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js");t.a=function(e,t,n){Object(r.b)((function(r){r&&r.broadcastEvent(e,t,n)}))}},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),o=function(e){Object(r.a)({name:"ac/create"}).then((function(){return e(window.connectHost)}))};t.a=function(){return window.connectHost}},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-event.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r="ISSUE_QUICK_ADD_CLICKED",o="ISSUE_GLANCE_OPENED",i="ISSUE_GLANCE_CONTENT_CLICKED"},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"m",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return P})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return A})),n.d(t,"r",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"k",(function(){return M})),n.d(t,"a",(function(){return L}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js"),i=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),u=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-property-keys.js"),l=n("./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js");function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=Object(r.createSelector)(a.e,(function(e){return e.ecosystem||{}})),m=Object(r.createSelector)(p,(function(e){return e.backgroundScripts||[]})),y=Object(r.createSelector)(a.e,(function(e){return e.issueContentPanels||[]})),b=Object(r.createSelector)(a.e,(function(e){return!!e.issueContentPanels&&e.issueContentPanels.includes(u.a)})),g=Object(r.createSelector)(c.b,(function(e){return e})),v=Object(r.createSelector)(a.e,(function(e){return e.ecosystem&&!!e.ecosystem.ecosystemOnDate&&Date.parse(e.createdDate)>e.ecosystem.ecosystemOnDate})),h=function(e){return Object.keys(e||{}).map((function(t){return Object.values(e?e[t]:{})}))},O=Object(r.createSelector)(p,(function(e){var t;return((t=[]).concat.apply(t,f(h(e.glances))))})),j=Object(r.createSelector)(p,(function(e){var t;return((t=[]).concat.apply(t,f(h(e.contentPanels))))})),w=Object(r.createSelector)(p,(function(e){var t;return((t=[]).concat.apply(t,f(h(e.activityPanels))))})),E=function(e){return Object(r.createSelector)(s.r,e,(function(e,t){return e&&t||[]}))},k=E(Object(r.createSelector)(O,(function(e){return e.map((function(e){return{appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,icon:e.icon&&e.icon.url&&{url:e.icon.url},label:e.label,status:e.status,type:e.type,glanceType:i.a}}))}))),S=Object(r.createSelector)([l.e,k],(function(e,t){return[].concat(f(e),f(t))})),I=function(e,t){return Object(r.createSelector)(p,(function(n){return n&&n.glances&&n.glances[e]&&n.glances[e][t]}))},C=E(Object(r.createSelector)(j,(function(e){return e.map((function(e){return{appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,tooltip:e.tooltip,iconUrl:e.icon&&e.icon.url,type:e.type,showByDefault:e.showByDefault}}))}))),P=E(Object(r.createSelector)(y,C,b,v,(function(e,t,n,r){return n||r?t.filter((function(t){return e.includes("".concat(t.appKey,"_").concat(t.moduleKey))||e.includes("".concat(t.appKey,"_").concat(Object(o.a)(t.moduleKey,10)))||t.showByDefault})):t}))),_=Object(r.createSelector)([l.g,C],(function(e,t){return[].concat(f(e),f(t))})),x=Object(r.createSelector)([l.d,y],(function(e,t){return[].concat(f(e),f(t))})),T=E(Object(r.createSelector)(x,_,b,v,(function(e,t,n,r){return n||r?t.filter((function(t){return e.includes("".concat(t.appKey,"_").concat(t.moduleKey))||e.includes("".concat(t.appKey,"_").concat(Object(o.a)(t.moduleKey,10)))||t.showByDefault})):t}))),A=function(e,t){return Object(r.createSelector)(p,(function(n){return n&&n.contentPanels&&n.contentPanels[e]&&n.contentPanels[e][t]}))},D=function(e,t){return Object(r.createSelector)(p,(function(n){return n&&n.selectedContentPanel&&(n.selectedContentPanel==="".concat(e,"_").concat(t)||n.selectedContentPanel==="".concat(e,"_").concat(Object(o.a)(t,10)))}))},R=E(Object(r.createSelector)(p,(function(e){return e.operations||[]}))),M=E(Object(r.createSelector)([l.f,R],(function(e,t){return[].concat(f(e),f(t))}))),L=Object(r.createSelector)(s.r,w,(function(e,t){return e?t.map((function(e){return{name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,options:e.options}})):[]}))},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-module-view/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/@atlassian/connect-module-core/dist/es6/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/ecosystem/default-connect-iframe-provider.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),u=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),l=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),f=n("./src/packages/issue/issue-view/src/feature-flags.js"),d=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js"),p=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-timeout-view.js"),m=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),b=n("./src/packages/issue/issue-view/src/activity/common/constants.js"),g=m.default.div(["margin-top:",";"],b.a),v=m.default.div(["margin:","px 0;"],2*y.f),h=function(e){var t=e.options,n=e.appKey,r=e.moduleKey,i=e.appName,c=e.options.url,u=e.refreshedOn,l=new a.a,m=u?"connect-iFrame-".concat(n,"-").concat(r,"-").concat(u):"connect-iFrame-".concat(n,"-").concat(r),y=Object(f.isResponsiveActivityFeedEnabled)()?g:v;return o.a.createElement(y,null,o.a.createElement(s.a,{key:m,appKey:n,moduleKey:r,url:c,connectHost:Object(d.a)(),connectIframeProvider:l,options:l.convertConnectOptions(t),width:"100%",height:"100%",timeoutIndicator:function(){return o.a.createElement(p.a,{appName:i,appKey:n})}}))};h.displayName="EcosystemModuleBase",h.defaultProps={refreshedOn:0};var O=function(e){return o.a.createElement(h,e)};O.displayName="EcosystemModuleBaseWithoutRefresh";var j=Object(l.a)()(O),w=Object(u.a)([Object(i.connect)((function(e){return{refreshedOn:Object(c.d)(e)}}),{})])(h);t.b=w},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-property-keys.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="issue.content.panel.customised.flag"},"./src/packages/issue/issue-view/src/ecosystem/ecosystem-timeout-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/@atlaskit/button--current/components/Button.js"),a=n("./node_modules/@atlaskit/empty-state/EmptyState/index.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/error-state/assets/error.svg"),u=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object(i.defineMessages)({timeout:{id:"issue.content.ecosystem-panels.timeout",defaultMessage:"We're having trouble connecting to {appName}.\nTry contacting the developer for support."}}),v=function(e){return"https://marketplace.atlassian.com/plugins/".concat(e,'/cloud/support?rel="noopener noreferrer"')},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e);var t=m(n);function n(){var e;f(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).tertiaryAction=o.a.createElement(s.b,{appearance:"subtle-link",href:v(e.props.appKey),target:"_blank"},e.props.appName),e}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.appName,n=e.intl;return(o.a.createElement(a.a,{size:"narrow",imageUrl:u.a,maxImageWidth:80,maxImageHeight:80,isLoading:!1,description:n.formatMessage(g.timeout,{appName:t}),tertiaryAction:this.tertiaryAction}))}}]),n}(r.Component);h.displayName="TimeoutView",h.displayName="TimeoutView",t.a=Object(i.injectIntl)(h)},"./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/reducers/entities/forge-reducer.js"),u=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),l=Object(r.createSelector)(a.e,(function(e){return e.forge||c.b})),f=Object(r.createSelector)(i.r,l,(function(e,t){return e&&Array.isArray(t.glances)?t.glances.map((function(e){var t=e.id,n=e.properties;return{title:n.title,label:n.label,status:n.status,extension:e,glanceType:o.b,moduleKey:t,appKey:t}})):[]})),d=Object(r.createSelector)(i.r,l,(function(e,t){return e&&Array.isArray(t.actions)?t.actions.map((function(e){return{id:e.id,title:e.properties.title,extension:e,type:o.b}})):[]})),p=Object(r.createSelector)(i.r,l,(function(e,t){return e&&Array.isArray(t.panels)?t.panels.map((function(e){var t=e.id,n=e.properties,r=n.title,i=n.trigger||{},s=i.icon,a=i.label;return{name:r,tooltip:void 0===a?r:a,iconUrl:s,extension:e,showByDefault:!1,type:o.b,moduleKey:t,appKey:t}})).filter(Boolean):[]})),m=Object(r.createSelector)(p,(function(e){return e.map((function(e){return"".concat(e.appKey,"_").concat(e.moduleKey)}))})),y=Object(r.createSelector)(i.r,l,(function(e,t){return e&&Array.isArray(t.customFields)?t.customFields:[]})),b=Object(r.createSelector)(i.r,l,(function(e,t){return e&&t.activeAction||null})),g=function(e){return Object(r.createSelector)(y,function(e){return Object(r.createSelector)(Object(s.q)(e),(function(e){return e?e.schema.custom:""}))}(e),(function(e,t){return e.find((function(e){return e.id===t}))||null}))},v=Object(r.createSelector)(i.B,i.A,u.f,i.J,a.B,(function(e,t,n,r,o){return{issueKey:e,issueId:t,issueType:n,projectKey:r,projectId:o}}))},"./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return I}));var r=n("./node_modules/rxjs/Rx.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),i=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),s=n("./src/packages/issue/issue-view/src/common/service/issue/activity-feed-constants.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/graphql-tags.js"),u=n("./src/packages/platform/utils/fetch/src/index.js"),l=n("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js"),f=n("./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js"),d=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js");function p(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['query {\n        issueComments(issueIdOrKey: "','", first: ',", offset: ",', orderBy: "','") {\n            nodes {\n                id\n                author {\n                  accountId\n                  displayName\n                  avatarUrls {\n                    key\n                    value\n                  }\n                  timeZone\n                }\n                updateAuthor {\n                  accountId\n                  displayName\n                  avatarUrls {\n                    key\n                    value\n                  }\n                  timeZone\n                }\n                visibility {\n                  type\n                  value\n                }\n                created\n                updated\n                renderedBody\n                jsdPublic\n                bodyAdf\n            }\n            totalCount\n        }\n    }']);return p=function(){return e},e}var m=function(e,t,n,r){return Object(c.a)(p(),e,t,n,r)},y=function(e,t,n,r,o,i,s){return Object(u.d)(Object(d.e)(e),function(e,t,n,r,o,i){return{method:"POST",body:JSON.stringify({query:m(e,t,n,r)}),perf:i,headersProcessor:o&&o(l.a.key)}}(t,n,r,Object(a.a)()?"-created":"created")).map(f.e).map((function(e){return Object(f.b)(e,o,i,s)}))},b=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),g=n("./src/packages/issue/issue-view/src/common/util/errors/index.js"),v=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),h=function(e,t){var n=e-t;return Math.min(n,s.b)},O=function(e,t,n,r,o){var i=0;n>0&&(i=n+o.filter((function(e){return e.completedDate.epochMillis>r[r.length-1].timestamp})).length);var a=e+o.length-(r.length+i);return{numOlderActivityItemsToLoad:a>s.b?s.b:a,numNewerActivityItemsToLoad:i>s.b?s.b:i}},j=function(e,t,n){var r=0,o=e-(t+n);return n>0&&(r=n>s.b?s.b:n),{numOlderCommentsToLoad:o>s.b?s.b:o,numNewerCommentsToLoad:r}},w="issue.comment.fetch.epic",E="Failed to fetch comments",k=function(e,t){return e.ofType(i.q).switchMap((function(){var e=t.getState(),n=Object(b.f)(e),a=Object(b.B)(e),c=Object(v.K)(e),u=Object(v.F)(e),l=function(e,t){var n=e-t-s.b;return Math.max(n,0)}(c,u),f=h(c,u);return y(n,a,f,l,u,0).map((function(e){return Object(i.X)(e)})).catch((function(e){return Object(g.a)(w,E,e),o.h.safeWarn(w,E),r.Observable.of(Object(i.V)())}))}))},S=function(e,t){return e.ofType(i.n).switchMap((function(e){var n=e.type,a=t.getState(),c=Object(b.f)(a),u=Object(b.B)(a),l=Object(v.J)(a);return(l>s.b?s.b:l)>0?y(c,u,s.a,0,0,0,n).map((function(e){return Object(i.U)(e)})).catch((function(e){return Object(g.a)(w,E,e),o.h.safeWarn(w,E),r.Observable.of(Object(i.S)())})):r.Observable.empty()}))},I=function(e,t){return e.ofType(i.t,i.s).switchMap((function(e){var n=e.type,a=t.getState(),c=Object(b.f)(a),u=Object(b.B)(a),l=Object(v.K)(a),f=Object(v.F)(a),d=Object(v.J)(a),p=function(e,t,n,r){var o=0;return e===i.t?(o=t+r,{maxResults:Math.min(n-o,s.b),startAt:o}):{maxResults:t-(o=Math.max(0,t-s.b)),startAt:o}}(n,d,l,f),m=p.startAt,h=p.maxResults;return y(c,u,h,m,f,d,n).map((function(e){return Object(i.X)(e)})).catch((function(e){return Object(g.a)(w,E,e),o.h.safeWarn(w,E),r.Observable.of(Object(i.V)())}))}))}},"./src/packages/issue/issue-view/src/feature-flags.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isMakeSpaIssueSyncBundleEnabled",(function(){return o})),n.d(t,"isIndividualScrollingEnabled",(function(){return s})),n.d(t,"isJSWToJSDLinkedIssueModalEnabled",(function(){return a})),n.d(t,"isJSDToJSWLinkedIssueModalEnabled",(function(){return c})),n.d(t,"isJSDBentoEnabled",(function(){return u})),n.d(t,"isJSDBentoM3Enabled",(function(){return l})),n.d(t,"isJsdDownloadAllEnabled",(function(){return f})),n.d(t,"isJsdViewAllAttachmentEnabled",(function(){return d})),n.d(t,"isMoveIssueDialogEnabled",(function(){return p})),n.d(t,"isBentoEnhancedPreviewEnabled",(function(){return m})),n.d(t,"isIssueRealtimeEnableForBento",(function(){return y})),n.d(t,"isEditorElementsPart1Enabled",(function(){return b})),n.d(t,"isEditorResizeMediaSingleEnabled",(function(){return g})),n.d(t,"isEditorAdvancedTablesEnabled",(function(){return v})),n.d(t,"isRemoveDeprecatedOptionsEnabled",(function(){return h})),n.d(t,"isJsdAgentViewEnabled",(function(){return O})),n.d(t,"isItsmPracticesEnabled",(function(){return j})),n.d(t,"isCommentEditImagePreviewFixEnabled",(function(){return w})),n.d(t,"isItsmPracticeAttributesEnabled",(function(){return E})),n.d(t,"isInlineAssigneeFieldEnabled",(function(){return k})),n.d(t,"isVersionsRankingEnabled",(function(){return S})),n.d(t,"isContextIdentifierInRendererEnabled",(function(){return I})),n.d(t,"isIntlProviderExtracted",(function(){return C})),n.d(t,"isBentoSmartPrefetchEnabled",(function(){return P})),n.d(t,"isPrefetchingLabelEnabled",(function(){return _})),n.d(t,"isDropboxEditorExtensionIframingEnabled",(function(){return x})),n.d(t,"isWatchFirstIssueSpotlightEnabled",(function(){return T})),n.d(t,"isSideBySideLabelsAndFieldsEnabled",(function(){return A})),n.d(t,"isForgeUiIntegrationEnabled",(function(){return D})),n.d(t,"isForgeUiCustomFieldIntegrationEnabled",(function(){return R})),n.d(t,"isForgeInReduxStoreEnabled",(function(){return M})),n.d(t,"isForgeQuickAddEnabled",(function(){return L})),n.d(t,"isForgeIssueActionEnabled",(function(){return N})),n.d(t,"isIssueGlanceViewStylingAdjustmentsEnabled",(function(){return F})),n.d(t,"isResponsiveActivityFeedEnabled",(function(){return U})),n.d(t,"isResponsiveActivityFeedWithNoAnalyticsEnabled",(function(){return V})),n.d(t,"isBentoExpandViewExperienceFailureTrackerPropertiesEnabled",(function(){return K})),n.d(t,"isHideShareButtonInJSDEnabled",(function(){return B})),n.d(t,"isColorPickerEnabledInClassic",(function(){return W})),n.d(t,"isIssueRestrictionEnabled",(function(){return H})),n.d(t,"isReducedIssueRerendersEnabled",(function(){return G})),n.d(t,"isEarlyDataConsumption",(function(){return q})),n.d(t,"isJsdEarlyExitCategoriesInNonJsdTenantsEnabled",(function(){return z})),n.d(t,"isAttachmentsTokenAutoRefreshEnabled",(function(){return Y})),n.d(t,"isSingletonEnabledForPIN",(function(){return Q})),n.d(t,"isShowMoreContextItemsFixEnabled",(function(){return J})),n.d(t,"isPermalinkImprovedEditSuccessEnabled",(function(){return $})),n.d(t,"isBreadcrumbTruncationBugfixEnabled",(function(){return Z})),n.d(t,"isDeploymentsPropertySetterEnabled",(function(){return X})),n.d(t,"isSmartLinkBlockCardsEnabled",(function(){return ee})),n.d(t,"isItsmChangeOnboardingTourEnabled",(function(){return te})),n.d(t,"isItemLineCardKeyboardAccessible",(function(){return ne})),n.d(t,"isUserTeamResourceEnabled",(function(){return re})),n.d(t,"isMediaPickerUseIsOpenEnabled",(function(){return oe})),n.d(t,"isEmotionRemoved",(function(){return ie})),n.d(t,"isNavV3BentoActionDropdownFixEnabled",(function(){return se})),n.d(t,"isUnresolvedIssueLinkingNextGenJQLEnabled",(function(){return ae})),n.d(t,"isIssueHierarchyLevelAnalyticsBugFixEnabled",(function(){return ce})),n.d(t,"isRRAPhaseOneEnabled",(function(){return ue}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),o=function(){return Object(r.b)("issue.details.spa-issue-sync-load",!1)},i=function(){return Object(r.b)("jira.linked.issues.modal",!1)},s=function(){return Object(r.b)("issue.details.individual-scrollable-view",!1)},a=function(){return i()&&Object(r.b)("jira.linked.issues.modal.jsw-jsd",!1)},c=function(){return i()},u=function(){return Object(r.c)("issue.details.fullpage.jsd",!1)},l=function(){return"m3"===function(){return Object(r.e)("issue.details.fullpage.jsd.milestone","m3",["m3"])}()},f=function(){return Object(r.b)("issue.details.jsd-download-all",!1)},d=function(){return Object(r.b)("issue.details.jsd-attachments-list-view",!1)},p=function(){return Object(r.b)("issue.details.move-issue-dialog",!1)},m=function(){return Object(r.c)("issue.details.preview-mode.enhanced",!1)},y=function(){return Object(r.b)("issue.details.issue.realtime.enabled",!1)},b=function(){return Object(r.b)("issue.details.editor-features-part1",!1)},g=function(){return b()&&Object(r.b)("issue.details.editor-features-resize-media",!1)},v=function(){return b()&&Object(r.b)("issue.details.editor-features-advanced-tables",!1)},h=function(){return b()&&Object(r.b)("issue.details.editor-features-remove-deprecated",!1)},O=function(){return Object(r.b)("jsd.agent.view.jira.spa",!1)},j=function(){return Object(r.b)("jsd-itsm-out-of-the-box-enabling-practices",!1)},w=function(){return Object(r.b)("issue.details.comment-edit-image-preview-fix",!1)},E=function(){return Object(r.b)("jsd.itsm.analytics.attributes",!1)},k=function(){return Object(r.b)("issue.details.child-issues.inline-assignee",!1)},S=function(){return Object(r.b)("smarts.bento.enable-versions.ranking",!1)},I=function(){return Object(r.c)("issue.details.renderer-context-identifier",!1)},C=function(){return Object(r.b)("delorean.tti.extract-intl-provider",!1)},P=function(){return Object(r.b)("issue.details.smarts.prefetch",!1)},_=function(){return Object(r.b)("issue.details.smarts.action-label-prefetch",!1)},x=function(){return Object(r.c)("issue.details.editor.dropbox.iframe",!1)},T=function(){return"experiment"===function(){return Object(r.e)("jsw-onboarding-phase-1-macroexperiment-watch-first-issue-spotlight","not-enrolled",["control","not-enrolled","experiment"])}()},A=function(){return Object(r.b)("issue.details.side-by-side-labels-and-fields",!1)},D=function(){return Object(r.b)("issue.details.forge-ui-integration",!1)&&!0},R=function(){return Object(r.b)("issue.details.forge-ui-custom-field-integration",!1)},M=function(){return Object(r.b)("issue.details.forge-ui.issue-glance-in-redux",!1)},L=function(){return Object(r.b)("issue.details.forge-ui.quick-add",!1)},N=function(){return Object(r.b)("issue.details.forge-ui.issue-action",!1)},F=function(){return Object(r.b)("issue-glance-view-styling-adjustments",!1)},U=function(){return Object(r.b)("issue.details.responsive.activity-feed",!1)},V=function(){return Object(r.b)("issue.details.responsive.activity-feed-no-analytics",!1)},K=function(){return Object(r.b)("bento-expand-view-experience-failure-tracker-properties",!1)},B=function(){return Object(r.b)("jsd.hide.share.button.in.new.issue.view",!1)},W=function(){return Object(r.b)("jsw.roadmap.classic_color_picker",!1)},H=function(){return Object(r.b)("project.config.pce.issue.restrictions",!1)},G=function(){return Object(r.b)("jfp.perf.reduced-issue-rerenders",!1)},q=function(){return Object(r.b)("issue-details.resources.wait-to-render",!1)},z=function(){return Object(r.b)("jsd-early-exit-categories-in-non-jsd-tenants",!1)},Y=function(){return Object(r.b)("issue.details.attachments.token.auto-refresh",!1)},Q=function(){return Object(r.b)("pin-spa.issue.data-provider.cache.singleton",!1)},J=function(){return Object(r.b)("issue.details.show-more-context-items-fix",!1)},$=function(){return Object(r.b)("issue.details.permalinks-improved-worklog-edit-success-payload",!1)},Z=function(){return Object(r.b)("issue.details.breadcrumbs.truncation-bugfix",!1)},X=function(){return Object(r.c)("fusion.releases.set-properties-for-deployments-eap",!1)},ee=function(){return Object(r.b)("issue.details.enable.blockCards",!1)},te=function(){return Object(r.b)("jsd.itsm-change-management-tour",!1)},ne=function(){return Object(r.b)("issue-details.item-card-keyboard-accessible",!1)},re=function(){return Object(r.b)("issue.details.smarts.user.team.mentions",!1)},oe=function(){return Object(r.b)("issue.details.media.picker.use.is-open",!1)},ie=function(){return Object(r.b)("jfp.remove-emotion-from-issue",!1)},se=function(){return Object(r.c)("endeavour-nav-v-3-bento-action-dropdown-fix",!1)},ae=function(){return Object(r.b)("jira-unresolved-issue-linking-jql-update-for-jsd-next-gen",!1)},ce=function(){return Object(r.b)("issue.hierarchy.level.analytics.bug.fix",!1)},ue=function(){return Object(r.b)("issue.details.rra.phase-one",!1)}},"./src/packages/issue/issue-view/src/feedback-button/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/utils/app-base/src/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js"),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./src/packages/platform/controllers/unified-feedback/src/index.js"),u=n("./node_modules/@atlaskit/button--current/components/Button.js"),l=n("./node_modules/@atlaskit/icon--current/glyph/feedback.js"),f=n.n(l),d=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(n,[{key:"renderButton",value:function(){return o.a.createElement(u.b,{onClick:this.props.onClick,appearance:"subtle",iconBefore:o.a.createElement(f.a,{label:this.props.iconLabel})},this.props.children)}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.tooltip?o.a.createElement(d.a,{content:this.props.tooltip,position:"top"},this.renderButton()):this.renderButton())}}]),n}(r.Component);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}O.defaultProps={children:null,tooltip:null,iconLabel:"",onClick:null},O.displayName="BentoFeedbackTriggerButton";var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=S(n);function n(){return w(this,n),t.apply(this,arguments)}return function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(n,[{key:"renderFeedbackButton",value:function(e){var t=this,n={collectorId:this.props.collectorId,feedbackGroupId:this.props.feedbackGroupId,isBentoFeedback:!0,optOut:!0};return o.a.createElement(c.a,null,(function(r,i){var s=i.openFeedbackDialog;return(o.a.createElement(a.FormattedMessage,{id:"software-issue.labs-feature-button-text",defaultMessage:"Give feedback"},(function(r){return t.props.isCompact?o.a.createElement(O,{iconLabel:String(r),tooltip:e,onClick:function(){return s(n)}}):o.a.createElement(O,{onClick:function(){return s(n)}},r)})))}))}},{key:"render",value:function(){var e=this;return(o.a.createElement(a.FormattedMessage,{id:"software-backlog-issue.labs-feature-button-tooltip",defaultMessage:"Give feedback"},(function(t){return e.renderFeedbackButton(t)})))}}]),n}(r.Component);P.defaultProps={isCompact:!1},P.displayName="Feedback";var _=P,x=function(e){return o.a.createElement(i.a,null,o.a.createElement(s.a,null,o.a.createElement(_,e)))};x.displayName="FeedbackButton";t.a=x},"./src/packages/issue/issue-view/src/issue-field/state/actions/field-actions.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"h",(function(){return b}));var r="FIELD_INIT_OPTIONS",o=function(e,t){return{type:r,payload:{fieldId:e,fieldOptions:t}}},i="FIELD_EDIT_BEGIN",s=function(e,t,n){return{type:i,payload:{fieldId:e,fieldOptions:t,fieldEditSessionId:n}}},a="FIELD_EDIT_UPDATE",c=function(e,t,n){return{type:a,payload:{fieldId:e,value:t,fieldOptions:n}}},u="FIELD_EDIT_CONFIRM",l=function(e,t,n,r,o){return{type:u,payload:{analyticsEvent:r,fieldId:e,fieldOptions:t,saveFieldData:n,analyticsAttributeIdRetriever:o}}},f="FIELD_EDIT_CANCEL",d=function(e,t){return{type:f,payload:{fieldId:e,fieldOptions:t}}},p="FIELD_PASTE",m=function(e,t,n){return{type:p,payload:{fieldId:e,fieldOptions:t,pastedContent:n}}},y="FIELD_ADD_ALLOWED_VALUES",b=function(e,t){return{type:y,payload:{fieldId:e,allowedValues:t}}}},"./src/packages/issue/issue-view/src/issue-field/state/actions/field-save-actions.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return y}));var s="FIELD_SAVE_REQUEST",a=function(e,t,n,r,i,a){return{type:s,payload:o({fieldId:e,value:t,fieldOptions:n,saveFieldData:r,analyticsEvent:i},a&&{eventData:a})}},c="FIELD_SAVE_SUCCESS",u=function(e,t,n,r,o){return{type:c,payload:{fieldId:e,fieldOptions:t,fieldValue:n,saveFieldResult:r},meta:o}},l="FIELD_SAVE_FAILURE",f=function(e,t,n,r){return{type:l,payload:{fieldId:e,invalidMessage:t,error:n,fieldOptions:r}}},d="FIELD_SAVE_SUCCESS_WITH_PASTED_CONTENT",p=function(e,t,n,r){return{type:d,payload:{fieldId:e,fieldOptions:t,value:n,pastedContent:r}}},m="FIELD_UPDATED",y=function(e,t,n){return{type:m,payload:{fieldId:e,fieldValue:t,extraParams:n}}}},"./src/packages/issue/issue-view/src/issue-field/state/selectors/flagged-selector.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/get-editing-value.js"),a=function(e){return!!e&&e.length>0},c=function(e){return e?[{value:!0}]:null},u=Object(i.e)(o.y),l=Object(r.createSelector)(u,(function(e){return!!e&&function(e){if(e){var t=Object(s.a)(e);return a(t)}return!1}(e)})),f=Object(r.createSelector)(u,(function(e){return e&&e.key}))},"./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"a",(function(){return C}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/find.js"),i=n.n(o),s=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),l=n("./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js"),f=n("./src/packages/issue/issue-view/src/selectors/project-selector.js"),d=Object(a.o)(s.D)||null,p=Object(r.createSelector)(d,(function(e){return e&&e.issueTypes||[]})),m=Object(r.createSelector)(c.e,p,(function(e,t){var n=e.issueTypes,r=t.map((function(e){return e.id}));return n.filter((function(e){return-1!==r.indexOf(e.id)}))})),y=Object(r.createSelector)(u.h,p,(function(e,t){return e.canCreateChildren&&!!t.length})),b=Object(a.o)(s.C)||null,g=Object(r.createSelector)(b,(function(e){return e&&(e.name||null)})),v=Object(r.createSelector)(b,(function(e){return e&&e.issueTypeIds.map(String)||[]})),h=Object(r.createSelector)(b,(function(e){return e&&e.issueTypes.map((function(e){return e.name})).filter((function(e){return e}))||[]})),O=Object(r.createSelector)(v,(function(e){return e.length>0})),j=Object(a.o)(s.E)||null,w=Object(r.createSelector)(j,(function(e){return!!e&&e.issueTypes[0].subtask})),E=Object(r.createSelector)(j,(function(e){return e?e.issueTypeIds.map(String):[]})),k=Object(r.createSelector)(j,(function(e){return e?e.id:null})),S=Object(r.createSelector)(f.b,f.c,k,(function(e,t,n){return!!(e&&t&&n)&&(e===n||!!i()(t,(function(e){return e.id===n})))})),I=Object(r.createSelector)(f.b,k,f.d,(function(e,t,n){if(!t||!e||void 0===n[t]||void 0===n[e])return null;if(t===e)return 0;for(var r=0,o=n[t].aboveLevelId,i=n[t].belowLevelId;null!==o||null!==i;){if(r+=1,o===e)return-r;if(i===e)return r;if(o=null!==o&&n[o]?n[o].aboveLevelId:null,i=null!==i&&n[i]?n[i].belowLevelId:null,o===t||i===t)return null}return null})),C=Object(r.createSelector)(g,l.e,O,(function(e,t,n){return Boolean(e)&&t&&n}))},"./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"g",(function(){return F})),n.d(t,"f",(function(){return U})),n.d(t,"e",(function(){return V})),n.d(t,"a",(function(){return K})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return W}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/isArray.js"),i=n.n(o),s=n("./node_modules/lodash/isNil.js"),a=n.n(s),c=n("./node_modules/lodash/isPlainObject.js"),u=n.n(c),l=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),f=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js"),y=n("./src/packages/issue/issue-view/src/common/state/selectors/get-pending-value.js"),b=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),g=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),v=n("./src/packages/issue/issue-view/src/configurations.js"),h=n("./node_modules/lodash/has.js"),O=n.n(h),j=n("./src/packages/issue/issue-view/src/feature-flags.js"),w=function(e){return Object(j.isForgeUiCustomFieldIntegrationEnabled)()&&O()(e,"schema.custom")&&!a()(e.schema.custom)&&e.schema.custom.includes("ari:cloud:ecosystem::extension")};function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=[v.h,v.x,v.q,v.b],I=function(){return S},C=function(e){return a()(e)||i()(e)&&0===e.length||u()(e)&&0===Object.keys(e).length},P=function(e,t){return!(!e||!C(Object(y.a)(e))||Object(p.y)(e))&&(e.key!==v.c&&Object(m.a)(e)!==l.gb&&Object(m.a)(e)!==l.eb&&!(e.key===v.E&&t))},_=function(e,t){if(I().includes(e.id))return{id:e.id,type:e.id};if(e.type===f.g)return e;var n=Object(j.isForgeUiCustomFieldIntegrationEnabled)()&&function(e){if(!w(e))return null;var t=e.schema.configuration&&e.schema.configuration.find((function(e){return"customRenderer"===e.key}));return t&&"true"===t.value?{id:e.key,type:l.z}:{id:e.key,type:e.schema.type}}(t[e.id]);if(n)return n;var r=Object(p.v)(e.id,t),o=Object(m.a)(r);return r&&o?{id:r.key,type:o}:null},x=Object(r.createSelector)(b.H,(function(e){return e.contextItems})),T=Object(r.createSelector)(p.t,(function(e){return Object.keys(e).filter((function(t){var n=Object(m.a)(e[t]);return n&&v.I.includes(n)}))})),A=Object(r.createSelector)(p.t,(function(e){return Object.keys(e).filter((function(t){var n=Object(m.a)(e[t]);return n&&v.J.includes(n)}))})),D=Object(r.createSelector)(p.t,d.H,d.N,T,d.l,(function(e,t,n,r,o){return o&&[].concat(E(t),E(r),E(n)).find((function(t){var n=Object(p.v)(t.id,e);return n&&n.key===o}))||null})),R=Object(r.createSelector)(d.H,D,(function(e,t){return t&&!e.includes(t)?e.concat([t]):e})),M=Object(r.createSelector)(d.N,D,(function(e,t){return t?e.filter((function(e){return e!==t})):e})),L=Object(r.createSelector)(T,D,(function(e,t){return t?e.filter((function(e){return e!==t})):e})),N=Object(r.createSelector)(R,M,L,d.n,b.E,(function(e,t,n,r){var o=[{id:v.h,type:f.e}];return[].concat(E(e),E(t),E(r?o:[]))})),F=Object(r.createSelector)(p.t,N,M,g.b,(function(e,t,n,r){return t.filter((function(t){var o=!!n.find((function(e){return e.id===t.id}));if(I().includes(t.id)||t.type===f.g)return!o;if(Object(j.isForgeUiCustomFieldIntegrationEnabled)()&&w(e[t.id]))return!0;var i=Object(p.v)(t.id,e);return!!Object(p.x)(i)||!P(i,r)&&(i&&Object(m.a)(i)&&!(o&&C(Object(y.a)(i))))})).map((function(t){return _(t,e)})).filter(Boolean)})),U=Object(r.createSelector)(p.t,d.j,(function(e,t){return t.filter((function(t){var n=Object(p.v)(t.id,e);return!(!n||!Object(m.a)(n))})).map((function(t){return _(t,e)})).filter(Boolean)})),V=Object(r.createSelector)(p.t,d.M,(function(e,t){return t&&t.filter((function(t){var n=Object(p.v)(t.id,e);return!(!n||!Object(m.a)(n))})).map((function(t){return _(t,e)})).filter(Boolean)})),K=Object(r.createSelector)(p.t,M,g.b,(function(e,t,n){return t.filter((function(t){if(I().includes(t.id)||t.type===f.g)return!0;var r=Object(p.v)(t.id,e);return!Object(p.x)(r)&&(!P(r,n)&&(r&&Object(m.a)(r)&&C(Object(y.a)(r))))})).map((function(t){return _(t,e)})).filter(Boolean)})),B=Object(r.createSelector)(x,(function(e){return e.isShowMoreExpanded})),W=Object(r.createSelector)(K,(function(e){return e.length>0}))},"./src/packages/issue/issue-view/src/issue-field/state/selectors/security-level-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),i=n("./src/packages/issue/issue-view/src/configurations.js"),s=Object(o.q)(i.w),a=Object(r.createSelector)(s,(function(e){return e&&e.value||null})),c=Object(r.createSelector)(s,(function(e){return e&&e.allowedValues||[]})),u=Object(r.createSelector)(a,c,(function(e,t){return e||t&&t.length>0})),l=Object(r.createSelector)(Object(o.z)(i.w),(function(e){return e})),f=Object(r.createSelector)(a,c,l,(function(e,t,n){return{hasSecurityLevel:null!=e,securityLevelAllowedValuesCount:t.length,hasSecurityLevelEditPermissions:n}}))},"./src/packages/issue/issue-view/src/issue-field/state/transformers/initial-data-transformer.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));var r,o,i=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),a=n("./src/packages/platform/services/issue/src/index.js"),c=n("./src/packages/issue/issue-view/src/common/constants/index.js"),u=n("./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js"),l=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(y(r={},a.x,l.T),y(r,a.A,l.qb),y(r,a.D,l.xb),y(r,a.B,l.ub),y(r,a.C,l.tb),y(r,a.r,l.M),y(r,a.i,l.o),y(r,a.j,l.n),y(r,a.y,l.Y),y(r,a.s,l.O),y(r,a.u,l.Q),y(r,a.z,l.hb),y(r,a.w,l.S),y(r,a.F,l.zb),y(r,a.q,l.B),y(r,a.t,l.P),y(r,a.E,l.yb),y(r,a.v,l.R),y(r,a.p,l.y),y(r,a.o,l.J),y(r,a.m,l.H),y(r,a.k,l.F),y(r,a.n,l.I),y(r,a.l,l.G),y(r,a.h,l.l),y(r,a.g,l.j),r),g=(y(o={},a.J,l.w),y(o,a.K,l.v),y(o,a.V,l.nb),y(o,a.X,l.pb),y(o,a.ab,l.sb),y(o,a.Q,l.V),y(o,a.d,l.i),y(o,a.c,l.h),y(o,a.h,l.l),o),v=function(e){return{editable:e.editable,required:!1,autoCompleteUrl:void 0,allowedValues:[],schema:{system:e.systemType,custom:e.customType,type:e.type?e.type:"",renderer:e.renderer},title:e.title||e.key,renderedValue:e.value,value:e.value,adfValue:e.adfValue,key:e.key}},h=function(e){var t={};return e&&e.fields.forEach((function(e,n){try{switch(e.type){case a.a:case a.b:case a.f:case a.H:case a.L:case a.P:case a.S:case a.T:case a.U:t[n]=v({key:n,systemType:n,customType:null,value:e.value,title:e.title,editable:!!e.editable});break;case a.bb:t.timeoriginalestimate=v({key:l.vb,systemType:l.vb,customType:null,title:e.title,editable:!!e.editable,value:e.value&&e.value.originalEstimateSeconds}),t[n]=v({key:n,systemType:n,customType:null,title:e.title,editable:!!e.editable,value:e.value});break;case a.G:t[n]=v({key:n,systemType:n,customType:null,title:e.title,value:void 0,renderedValue:void 0,adfValue:e.value,editable:!!e.editable,renderer:e.renderer});break;case a.I:t[n]=v({key:n,systemType:n,customType:null,title:e.title,value:e.renderer===u.b?void 0:e.value,adfValue:e.renderer===u.b?e.value:void 0,editable:!!e.editable,renderer:e.renderer});break;case a.Z:case a.N:case a.W:t[n]=v({key:n,systemType:n,customType:null,value:e.value,editable:!!e.editable});break;case a.J:case a.V:case a.X:case a.ab:case a.Q:case a.d:case a.c:t[n]=v({key:n,systemType:null,customType:g[e.type],value:e.value,title:e.title,editable:!!e.editable});break;case a.K:t[n]=v({key:n,systemType:null,customType:g[e.type],value:e.value,title:e.title,editable:!!e.editable,renderer:e.renderer,type:"string"});break;case a.C:var r=e.renderer===u.b?{adfValue:e.value}:{value:e.value};t[n]=v(m({key:n,systemType:null,customType:b[e.type],title:e.title,editable:!!e.editable,renderer:e.renderer},r));break;case a.g:t[n]=v({systemType:null,customType:b[e.type],key:n,title:e.title,value:e.value,editable:!!e.editable});break;case a.h:case a.x:case a.A:case a.D:case a.B:case a.r:case a.i:case a.j:case a.y:case a.s:case a.u:case a.z:case a.w:case a.F:case a.q:case a.t:case a.E:case a.v:case a.p:t[n]=v({systemType:null,customType:b[e.type],key:n,title:e.title,value:e.value,editable:!!e.editable});break;case a.o:case a.m:case a.n:case a.l:case a.k:t[n]=v({systemType:null,customType:null,type:e.type,key:n,title:e.title,value:e.value,editable:!!e.editable});break;case a.M:case a.e:case a.Y:case a.O:t[n]=v({systemType:null,customType:null,key:n,title:e.title,value:e.value,editable:!1})}}catch(t){s.a.safeError("issue.details.field.initial-data-transformer","Failed to map field: ".concat(e.type),new i.a({eventNameSuffix:c.E,type:i.i,app:i.e,event:t}))}})),t},O=function(e){var t=Object.entries(h(e)).reduce((function(e,t){var n=f(t,2),r=n[0],o=n[1];return m(m({},e),{},y({},r,o.value))}),{});return m(m({},e),{},{fields:t})};t.a=h},"./src/packages/issue/issue-view/src/layout-descriptor/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return we})),n.d(t,"a",(function(){return je}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/rxjs/Rx.js"),s=n("./node_modules/lodash/identity.js"),a=n.n(s),c=n("./node_modules/lodash/isEqual.js"),u=n.n(c),l=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),f=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),d=n("./src/packages/issue/issue-view/src/common/constants/index.js"),p={context:{primaryContextItems:[],secondaryContextItems:[]},content:{visibleContentItems:[],requestPanelContentItems:void 0}},m=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),y=n("./node_modules/lodash/isNull.js"),b=n.n(y),g=n("./node_modules/lodash/negate.js"),v=n.n(g),h=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),O=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),j=n("./src/packages/issue/issue-view/src/feature-flags.js"),w=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),E=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),k=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),S=function(e){return e.glanceType===E.b?function(e){return{type:k.A,key:"".concat(k.A,"__").concat(e.appKey,"__").concat(e.moduleKey),payload:e}}(e):function(e){return{type:k.s,key:"".concat(k.s,"__").concat(e.appKey,"__").concat(e.moduleKey),payload:e}}(e)},I=function(e){return{type:k.s,key:"".concat(k.s,"__").concat(e.appKey,"__").concat(e.moduleKey),payload:e}},C=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js"),P=function(e){switch(e.type){case k.j:return{type:e.type,key:"".concat(e.type,"__").concat(e.id),payload:{fieldId:e.id}};case k.g:case k.bb:case k.p:case k.t:case k.r:case k.X:case k.N:case k.m:case k.nb:case k.pb:case k.w:case k.x:case k.a:case k.wb:case k.vb:case k.M:case k.ub:case k.R:case k.xb:case k.T:case k.qb:case k.hb:case k.Q:case k.zb:case k.tb:case k.S:case k.o:case k.B:case k.P:case k.yb:case k.W:case k.O:case k.Y:case k.n:case k.sb:case k.V:case k.i:case k.h:case k.l:case k.gb:case k.b:case k.eb:case k.fb:case k.U:case k.H:case k.J:case k.I:case k.G:case k.F:case k.e:case k.lb:case k.d:case k.cb:case k.z:return{type:e.type,key:"".concat(e.type,"__").concat(e.id),payload:{fieldId:e.id}};case C.g:return{type:e.type,key:"".concat(e.type,"__").concat(e.id),payload:{tabId:e.id}};case k.L:case k.mb:case k.q:case k.ab:case k.f:return{type:e.type,key:e.type};default:return null}},_=function(e){return{applicationRoles:Object(h.a)(e),permissions:Object(h.h)(e),glances:Object(j.isForgeInReduxStoreEnabled)()?Object(O.i)(e):Object(O.m)(e),visibleContentItems:Object(w.f)(e),requestContentItems:Object(w.e)(e),visibleContextItems:Object(w.g)(e),conditionallyVisibleContextItems:Object(w.a)(e)}},x=v()(b.a),T=n("./src/packages/platform/utils/constants/src/project-types.js"),A=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),D=n("./node_modules/lodash/partition.js"),R=n.n(D);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e,t){var n=e.context,r=n.primaryContextItems,o=n.secondaryContextItems,i=o.filter((function(e){return e.type===t}));if(i.length){var s=function(e,t){return e.filter((function(e){return e.type!==t}))}(o,t),a=[].concat(F(r),F(i));return L(L({},e),{},{context:{primaryContextItems:a,secondaryContextItems:s}})}return e},K=n("./node_modules/lodash/get.js"),B=n.n(K),W=n("./src/packages/platform/utils/constants/src/status-categories.js"),H=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),G=n("./src/packages/issue/issue-view/src/selectors/status-selector.js");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){return e.type===k.cb},J=function(e){return e.type!==k.cb},$=function(e,t){return function(e,t){var n=e.context.primaryContextItems,r=n.slice().filter(J),o=n.find(Q);if(Object(G.b)(t)===W.DONE&&o){var i=o&&B()(o,"payload.fieldId"),s=i&&Object(H.v)(i,Object(H.t)(t));B()(s,"value",!1)&&r.unshift(o)}return z(z({},e),{},{context:z(z({},e.context),{},{primaryContextItems:r})})}(e,t)};function Z(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=new Set([k.ab]),se=function(e){var t=e.context.primaryContextItems,n=e.content,r=ne(R()(n.visibleContentItems,(function(e){return ie.has(e.type)})),2),o=r[0],i=r[1],s=ne(n.requestPanelContentItems?R()(n.requestPanelContentItems,(function(e){return ie.has(e.type)})):[],2),a=s[0],c=s[1];return ee(ee({},e),{},{content:ee(ee({},n),{},{visibleContentItems:i,requestPanelContentItems:c}),context:ee(ee({},e.context),{},{primaryContextItems:[].concat(Z(t),Z(a||[]),Z(o))})})},ae=function(e){return Object(j.isJSDBentoM3Enabled)()?V(e,k.s):e},ce=function(e){return e.map(se)},ue=function(e){switch(Object(A.E)(e)){case T.l:return function(e){return function(t){var n=t.layoutDescriptor$;return{layoutDescriptor$:ce(n).map((function(t){return Object(A.t)(e)?$(t,e):t})).map(ae)}}}(e);case T.d:case T.n:default:return a.a}},le=Object(m.a)(_),fe=function(e,t){var n=le(e),r=_(t);return u()(n,r)},de=function(e){var t=e.locationTransformer,n=e.store,r=i.Observable.create((function(e){var t=n.getState();return e.next(t),n.subscribe((function(){var r=n.getState();t!==r&&(t=r,e.next(t))}))})).distinctUntilChanged(fe);return{layoutDescriptor$:t({layoutDescriptor$:function(e){var t=e.state$.map(ue).distinctUntilChanged();return function(e){var n=e.layoutDescriptor$;return{layoutDescriptor$:t.map((function(e){return e({layoutDescriptor$:n})})).share().switchMap((function(e){return e.layoutDescriptor$}))}}}({state$:r})({layoutDescriptor$:function(e){return{layoutDescriptor$:e.state$.map(_).map((function(e){var t=e.glances;return{context:{primaryContextItems:e.visibleContextItems.map(P).concat(t.map(Object(j.isForgeInReduxStoreEnabled)()?S:I)).filter(x),secondaryContextItems:e.conditionallyVisibleContextItems.map(P).filter(x)},content:{visibleContentItems:e.visibleContentItems.map(P).filter(x),requestPanelContentItems:e.requestContentItems&&e.requestContentItems.map(P).filter(x)}}}))}}({state$:r}).layoutDescriptor$}).layoutDescriptor$}).layoutDescriptor$}};function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=Object(r.createContext)({layoutDescriptor:p}),Oe=he.Provider,je=he.Consumer,we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(n,e);var t=be(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={layoutDescriptor:p},r.onError=function(e){f.h.safeError("issue.layout-descriptor.provider","Failed to create layout descriptor",new l.a({eventNameSuffix:d.E,type:l.i,app:l.e,event:e}))},r.getLayoutDescriptorObservable=function(){var e=r.props,t=e.store,n=e.locationTransformer,o=de({store:t,locationTransformer:n}).layoutDescriptor$.share();return function(){return o}}(),r.constructorSubscription=void 0,r.componentDidMountSubscription=void 0;var o=r.getLayoutDescriptorObservable();return r.constructorSubscription=o.filter((function(e,t){return 0===t})).subscribe((function(e){r.state={layoutDescriptor:e}}),r.onError),r}return function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this,t=this.getLayoutDescriptorObservable();this.componentDidMountSubscription=t.subscribe((function(t){u()(e.state.layoutDescriptor,t)||e.setState({layoutDescriptor:t})}),this.onError),this.constructorSubscription.unsubscribe()}},{key:"componentWillUnmount",value:function(){this.componentDidMountSubscription.unsubscribe()}},{key:"render",value:function(){var e=this.props.children,t=this.state.layoutDescriptor;return o.a.createElement(Oe,{value:{layoutDescriptor:t}},e)}}]),n}(r.Component);we.displayName="LayoutDescriptorProvider",we.defaultProps={locationTransformer:a.a},we.displayName="Provider"},"./src/packages/issue/issue-view/src/model/change-type.js":function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}));var i=(o(r={},"FIELD_CHANGE_REQUESTED","FIELD_CHANGE_REQUESTED"),o(r,"FIELD_CHANGE_FAILED","FIELD_CHANGE_FAILED"),o(r,"FIELD_CHANGED","FIELD_CHANGED"),o(r,"ISSUE_TYPE_CHANGED","ISSUE_TYPE_CHANGED"),o(r,"ISSUE_RELATIONSHIP_UPDATED","ISSUE_RELATIONSHIP_UPDATED"),o(r,"ISSUE_LINKS_CREATED","ISSUE_LINKS_CREATED"),o(r,"ISSUE_LINK_DELETED","ISSUE_LINK_DELETED"),o(r,"CHILD_ISSUE_ADDED","CHILD_ISSUE_ADDED"),o(r,"ISSUE_CHILDREN_ORDER_CHANGED","ISSUE_CHILDREN_ORDER_CHANGED"),r)},"./src/packages/issue/issue-view/src/reducers/entities/forge-reducer.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("./src/packages/issue/issue-view/src/actions/forge-actions.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={actions:[],glances:[],panels:[],customFields:[],activeAction:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return{actions:t.payload.issueAction,glances:t.payload.issueGlance,panels:t.payload.issuePanel,customFields:t.payload.customField,activeAction:null};case r.c:return i(i({},e),{},{activeAction:{action:t.payload,isLoading:!0}});case r.d:return i(i({},e),{},{activeAction:i(i({},e.activeAction),{},{isLoading:!1})});case r.b:return i(i({},e),{},{activeAction:null});default:return e}}},"./src/packages/issue/issue-view/src/reducers/fetch-issue-types-status-reducer.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/packages/issue/issue-view/src/actions/issue-types-actions.js"),o="NONE",i="COMPLETE",s=o;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return"PENDING";case r.c:return i;case r.b:return"FAILED";default:return t.type,e}}},"./src/packages/issue/issue-view/src/selectors/activity-feed-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.activityFeed})),s=Object(r.createSelector)(i,(function(e){return e.selectedActivityItem}))},"./src/packages/issue/issue-view/src/selectors/analytics-payload-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/camelCase.js"),i=n.n(o),s=n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/safe-string.js"),a=n("./src/packages/platform/utils/constants/src/board-types.js"),c=n("./src/packages/platform/utils/constants/src/project-types.js"),u=n("./src/packages/platform/utils/constants/src/status-categories.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),m=n("./src/packages/issue/issue-view/src/configurations.js"),y=n("./src/packages/issue/issue-view/src/feature-flags.js"),b=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),g=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),v=Object(r.createSelector)(Object(d.q)(g.kb),(function(e){if(e&&e.value&&e.value.length>0)return e.value[0]})),h=n("./src/packages/issue/issue-view/src/selectors/status-selector.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){return l.i.apply(void 0,E(c.k))(e)},I=function(e){return l.i.apply(void 0,E(a.b))(e)},C=function(e){return l.i.apply(void 0,E(u.STATUS_CATEGORIES))(e)},P=Object(r.createSelector)(Object(d.q)(m.c),(function(e){return e&&e.value?e.value.accountId:null})),_=Object(r.createSelector)(f.b,p.k,p.B,p.E,p.t,b.e,h.b,f.h,f.g,p.B,f.A,P,v,(function(e,t,n,r,o,a,f,d,p,m,b,g,v){var h={};return e&&(h.analyticsSource=e),Object(y.isItsmPracticeAttributesEnabled)()&&S(i()(r)).value===c.m&&v&&(h.itsmPractice=v),{containerType:Object(l.i)("project")("project"),containerId:m,objectType:Object(l.i)("issue")("issue"),objectId:new s.a(b),attributes:j(j({},h),{},{designVersion:Object(l.i)("v2-bento")("v2-bento"),projectId:n,issueId:t,projectType:S(i()(r)),nextGenProject:Boolean(o),statusCategory:C(f),statusCategoryId:f?Object(u.categoryIdForStatusCategory)(f):null,issueTypeId:a,boardType:I(d),boardId:p,assigneeId:g?Object(l.i)(g)(g):g})}}))},"./src/packages/issue/issue-view/src/selectors/approval-selector/index.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return U})),n.d(t,"f",(function(){return V})),n.d(t,"c",(function(){return K})),n.d(t,"b",(function(){return B}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/castArray.js"),i=n.n(o),s=n("./node_modules/lodash/get.js"),a=n.n(s),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),u=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),d=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),p=n("./node_modules/lodash/every.js"),m=n.n(p),y=n("./node_modules/lodash/fp/get.js"),b=n.n(y),g=n("./node_modules/lodash/unionBy.js"),v=n.n(g),h=n("./src/packages/issue/issue-view/src/views/field/team/assets/default-avatar.svg"),O=n.n(h),j=n("./src/packages/issue/issue-view/src/selectors/approval-selector/utils/types.js");function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e,t,n){return function(e){return void 0===e}(b()(t,n))?e:b()(t,n)},P=function(e){var t=e.key,n=e.accountId,r=e.displayName,o=e.avatarUrls;return{approver:{accountId:n,key:t,displayName:r,isFromLinkedField:!0,avatarUrl:C(O.a,"24x24",o)}}},_=function(e){var t=e.approver,n=t.key;return{approver:{accountId:t.accountId,key:n,displayName:t.displayName},approverDecision:e.approverDecision}},x=function(e,t){var n=m()(t,(function(e){return e.approver.accountId}));return function(e,t){var n=e.map((function(e){return e.approver.accountId}));return t.map((function(e){return n.includes(e.approver.accountId)?{approverDecision:e.approverDecision,approver:S(S({},e.approver),{},{isFromLinkedField:!0})}:e}))}(t,v()(e,t,(function(e){return n?e.approver.accountId:null})))},T=function(e,t){if(t&&t.value){var n=+t.value;if("number"===t.type)return n;if("percent"===t.type)return Math.ceil(e*(n/100))}return e},A=function(e){return{name:e.name,type:"group",meta:{memberCount:NaN,approvedCount:NaN},id:void 0}},D=function(e,t){var n=e||[];return[].concat(w(function(e,t,n){return t.filter((function(t){return n.some((function(n){return e(t)===e(n)}))}))}(b()("name"),n,t)),w(function(e,t,n){return t.filter((function(t){return!n.some((function(n){return e(t)===e(n)}))}))}(b()("name"),t,n).map(A)))},R=function(e,t,n,r){return"multi_group_picker"!==e.configuration.approvers.type?function(e,t,n,r){var o=(t?e.approvers.filter((function(e){return e.approverDecision!==j.c})):e.approvers).map(_),i=t.map(P),s=x(o,i),a=b()(["configuration","condition"],e),c=T(s.length,a),l=r===u.yb,f=e.id,d=e.name,p=e.finalDecision,m=e.canAnswerApproval,y=e.decisions,g=e.approverPrincipals;return{id:f,name:d,finalDecision:p,approvers:s,minApprovalsRequired:c,canAnswerApproval:m,linkedFieldName:n,isSingleUserPicker:l,decisions:(y||[]).map(_),approverPrincipals:g,configuration:e.configuration}}(e,t,n,r):function(e,t,n){var r=e.id,o=e.name,i=e.finalDecision,s=e.approvers,a=e.configuration,c=e.canAnswerApproval,u=e.decisions,l=e.approverPrincipals;return{id:r,name:o,finalDecision:i,approvers:s.map(_),minApprovalsRequired:T(s.length,a.condition),canAnswerApproval:c,linkedFieldName:n,isSingleUserPicker:!1,decisions:(u||[]).map(_),approverPrincipals:D(l,t),configuration:a}}(e,t,n)},M=Object(r.createSelector)((function(e,t){return t?Object(f.n)(t)(e):void 0}),(function(e){return e&&e.activeApproval})),L=Object(r.createSelector)((function(e,t){return M(e,t)}),(function(e){return a()(e,["configuration","approvers","customFieldId"])})),N=Object(r.createSelector)((function(e,t){return M(e,t)}),(function(e){return a()(e,["configuration","approvers","customFieldName"])})),F=Object(r.createSelector)((function(e,t){return M(e,t)}),(function(e,t){var n=t&&function(e,t){var n=L(e,t);return n?Object(f.n)(n)(e):void 0}(e,t);return n?i()(n):[]}),(function(e,t){return N(e,t)}),(function(e,t){return function(e,t){var n=L(e,t);return n&&Object(f.r)(n)(e)}(e,t)}),(function(e,t,n,r){return e&&R(e,t,n,r)})),U=Object(r.createSelector)(Object(f.q)(u.ib),(function(e){return e&&e.value&&e.value.completedApprovals||[]})),V=Object(r.createSelector)(U,(function(e){return e&&e.length})),K=Object(r.createSelector)(d.a,d.L,d.K,d.F,d.J,U,(function(e,t,n,r,o,i){var s=[];if(Object.keys(e).filter((function(e){return t.includes(e)})).forEach((function(t){var n=e[t],r={comment:n,timestamp:new Date(n.createdDate).getTime(),type:j.b};s.push(r)})),i&&i.forEach((function(e){var t={approval:e,timestamp:a()(e,"completedDate.epochMillis"),type:j.a};s.push(t)})),s.sort((function(e,t){return e.timestamp-t.timestamp})),Object(c.a)()){var u=s.slice(),l=r+o;return o&&n>r&&u[u.length-1]&&u[u.length-1].type===j.a&&(u=u.slice(0,u.map((function(e){return e.type})).lastIndexOf(j.b)+1)),n>l&&u[0]&&u[0].type===j.a?u.slice(u.map((function(e){return e.type})).indexOf(j.b)):u}return n>r&&s[0]&&s[0].type===j.a?s.slice(s.map((function(e){return e.type})).indexOf(j.b)):s})),B=Object(r.createSelector)(F,l.a,(function(e,t){return!!(e&&t&&e.approvers&&e.approvers.length)&&e.approvers.some((function(e){return e.approver.accountId===t&&(!e.approverDecision||e.approverDecision===j.c)}))}))},"./src/packages/issue/issue-view/src/selectors/approval-selector/utils/types.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r="pending",o="COMMENT",i="APPROVAL"},"./src/packages/issue/issue-view/src/selectors/assign-issue-parent-modal-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),s=Object(r.createSelector)(i.H,(function(e){return e.assignIssueParentModal.isOpen})),a=Object(r.createSelector)(o.k,i.z,(function(e,t){return[{id:e.issueId,key:e.issueKey,parentId:t&&t.id}]}))},"./src/packages/issue/issue-view/src/selectors/attachment-picker-selector.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/selectors/attachment-selector.js"),i=Object(r.createSelector)(o.a,(function(e){return e.picker})),s=Object(r.createSelector)(i,(function(e){return e.attachments||e.uploadedAttachments})),a=Object(r.createSelector)(s,(function(e){return e?Object.values(e):[]})),c=Object(r.createSelector)(i,(function(e){return e.openRequestCount})),u=Object(r.createSelector)(i,(function(e){return e.isPopupOpen})),l=function(e){return Object(r.createSelector)(s,(function(t){return t[e]}))}},"./src/packages/issue/issue-view/src/selectors/attachment-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/reverse.js"),i=n.n(o),s=n("./node_modules/lodash/sortBy.js"),a=n.n(s),c=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),l=Object(r.createSelector)(u.h,(function(e){return e.canCreateAttachments})),f=Object(r.createSelector)(c.H,(function(e){return e.attachments})),d=Object(r.createSelector)(c.e,(function(e){return e.attachments})),p=Object(r.createSelector)(d,(function(e){if(!e)return[];return i()(a()(Object.values(e),(function(e){return e.createdDate})))}))},"./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return P}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),a=n("./src/packages/issue/issue-view/src/configurations.js"),c=function(e,t){return"".concat(e?e.replace(/\/?$/,"/"):"/","browse/").concat(t)},u=Object(i.q)(a.p),l=Object(i.q)(a.B),f=Object(i.q)(a.j),d=Object(i.q)(a.s),p=Object(r.createSelector)(f,o.f,(function(e,t){return function(e,t){return e&&void 0!==t?{summary:e.summary,key:e.key,url:c(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null}(e&&e.value,t)})),m=Object(r.createSelector)(d,o.f,(function(e,t){return function(e,t){return e&&e.data?{summary:e.data.summary,key:e.data.key,url:c(t,e.data.key),issueTypeName:e.data.issueTypeName||"",issueTypeIconUrl:e.data.issueTypeIconUrl||""}:null}(e&&e.value,t)})),y=Object(r.createSelector)(l,o.f,(function(e,t){return function(e,t){return e?{summary:e.fields.summary,key:e.key,url:c(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null}(e&&e.value,t)})),b=Object(r.createSelector)(s.z,o.f,(function(e,t){return function(e,t){return e?{summary:e.summary,key:e.key,url:c(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null}(e,t)})),g=Object(r.createSelector)(b,y,m,(function(e,t,n){return e||t||n})),v=Object(r.createSelector)(p,b,(function(e,t){return[e,t].filter((function(e){return e}))})),h=Object(r.createSelector)(p,g,(function(e,t){return[e,t].filter((function(e){return e}))})),O=function(e){return e?v:h},j=function(e){return Object(r.createSelector)(p,e?b:g,(function(e,t){return[e,t].filter((function(e){return e}))}))},w=Object(r.createSelector)(u,(function(e){return e&&e.value})),E=Object(r.createSelector)(o.f,o.B,c),k=Object(r.createSelector)(o.f,o.B,(function(e,t){return"".concat(window.location.protocol,"//").concat(window.location.host).concat(c(e,t))})),S=Object(r.createSelector)(w,(function(e){return e&&e.name})),I=Object(r.createSelector)(w,(function(e){return e&&e.id})),C=Object(r.createSelector)(w,(function(e){return e&&e.iconUrl})),P=Object(r.createSelector)(u,(function(e){return e&&Boolean(e.editable)}))},"./src/packages/issue/issue-view/src/selectors/card-cover-selectors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),s=n("./node_modules/lodash/isNil.js"),a=n.n(s),c=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),l=n("./src/packages/issue/issue-view/src/configurations.js"),f=Object(r.createSelector)(u.e,(function(e){return e.cardCover})),d=Object(r.createSelector)(f,(function(e){return e&&e.isEnabled})),p=(Object(r.createSelector)(f,(function(e){return e&&(!a()(e.attachmentId)||!i()(e.availableAttachmentIds))})),Object(r.createSelector)(c.z,(function(e){return!!e&&e.includes(l.d)})))},"./src/packages/issue/issue-view/src/selectors/changeboarding-selector.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h}));var r=n("./node_modules/reselect/lib/index.js"),o=(n("./src/packages/platform/observability/analytics-legacy-gasv2/src/index.js"),n("./src/packages/platform/services/issue/src/feature-flags.js")),i=n("./src/packages/issue/issue-view/src/common/service/issue/changeboarding-local-storage.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/configurations.js"),u=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),l=n("./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js"),f=n("./src/packages/issue/issue-view/src/selectors/ui-config-selector.js"),d=Object(r.createSelector)(a.H,(function(e){return e.changeboarding})),p=["core-issue","software-issue"],m=["core-issue","full-issue","software-issue","software-backlog-issue"],y=Object(r.createSelector)(s.b,s.d,f.a,(function(e,t,n){var r=!!e&&(m.includes(e.value)&&p.includes(t));return Object(o.b)()?r&&!n:r})),b=Object(r.createSelector)(y,d,(function(e){return function(e){return null!=e&&e<15357276e5}(e.context.firstActivationDateMs)}),(function(){return Object(i.b)()<7}),l.a,f.a,(function(e,t,n,r,i,s){var a=e&&t.isBannerVisible&&n&&r&&!i;return Object(o.b)()?a&&!s:a})),g=Object(r.createSelector)(d,(function(e){return e.isTourActive})),v=Object(r.createSelector)(d,(function(e){return e.isBannerDismissed})),h=Object(r.createSelector)(u.g,(function(e){return e.some((function(e){return e.id===c.c}))}))},"./src/packages/issue/issue-view/src/selectors/classic-project-config-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.c,(function(e){return e&&e.viewScreenId}))},"./src/packages/issue/issue-view/src/selectors/classic-project-epic-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),s=n("./src/packages/issue/issue-view/src/selectors/issue-types-selector.js"),a=Object(r.createSelector)(s.c,(function(e){return!!e.find(s.b)})),c=Object(r.createSelector)(i.h,a,o.t,o.p,(function(e,t,n,r){return e.canCreateIssuesInClassicProjectEpic&&!(!!t&&(n||r))}))},"./src/packages/issue/issue-view/src/selectors/clickthrough-banner-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("./node_modules/reselect/lib/index.js"),o=(n("./src/packages/platform/observability/analytics-legacy-gasv2/src/index.js"),n("./src/packages/platform/utils/constants/src/analytics-sources.js")),i=n("./src/packages/platform/services/issue/src/feature-flags.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/selectors/ui-config-selector.js"),u=Object(r.createSelector)(a.H,(function(e){return e.clickthroughBanner})),l=[o.a.FULL_ISSUE,o.a.SERVICEDESK_QUEUES_ISSUE,o.a.SERVICEDESK_REPORTS_ISSUE],f=Object(r.createSelector)(s.b,a.t,c.a,(function(e,t,n){var r=!!e&&(l.includes(e.value)&&!t);return Object(i.b)()?r&&!n:r})),d=Object(r.createSelector)(u,(function(e){return!!e&&!e.isBannerVisible})),p=Object(r.createSelector)(f,d,(function(e,t){var n=e&&t,r=!e||t;return Object(i.b)()?r:n})),m=Object(r.createSelector)(f,p,(function(e,t){return Object(i.b)()?e&&t:t}))},"./src/packages/issue/issue-view/src/selectors/comment-constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="NEW_OPTIMISTIC_COMMENT"},"./src/packages/issue/issue-view/src/selectors/comment-selector.js":function(e,t,n){"use strict";n.d(t,"t",(function(){return y})),n.d(t,"K",(function(){return g})),n.d(t,"J",(function(){return v})),n.d(t,"F",(function(){return h})),n.d(t,"E",(function(){return O})),n.d(t,"v",(function(){return j})),n.d(t,"I",(function(){return w})),n.d(t,"G",(function(){return k})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return R})),n.d(t,"q",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"l",(function(){return N})),n.d(t,"j",(function(){return F})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return V})),n.d(t,"r",(function(){return K})),n.d(t,"h",(function(){return B})),n.d(t,"H",(function(){return W})),n.d(t,"o",(function(){return H})),n.d(t,"p",(function(){return G})),n.d(t,"m",(function(){return q})),n.d(t,"s",(function(){return z})),n.d(t,"k",(function(){return Y})),n.d(t,"D",(function(){return Q})),n.d(t,"C",(function(){return J})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return X})),n.d(t,"L",(function(){return ee})),n.d(t,"B",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"A",(function(){return oe})),n.d(t,"w",(function(){return ie})),n.d(t,"y",(function(){return se})),n.d(t,"x",(function(){return ae})),n.d(t,"z",(function(){return ce}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/get.js"),i=n.n(o),s=n("./node_modules/lodash/values.js"),a=n.n(s),c=n("./node_modules/date-fns/compare_asc/index.js"),u=n.n(c),l=n("./src/packages/platform/utils/constants/src/project-types.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=Object(r.createSelector)(d.H,(function(e){return e.comments.pendingDeletedIds})),b=Object(r.createSelector)(d.e,(function(e){return e.comments})),g=Object(r.createSelector)(d.e,(function(e){return e.totalComments})),v=Object(r.createSelector)(d.e,(function(e){return e.commentsStartIndex})),h=Object(r.createSelector)(d.e,(function(e){return e.loadedComments})),O=Object(r.createSelector)(d.H,(function(e){return e.comments.isLoadingMoreComments})),j=Object(r.createSelector)(d.H,(function(e){return e.comments.hasScrolledPermalinkComment})),w=Object(r.createSelector)(d.H,(function(e){return e.comments.pendingSavedValues})),E=Object(r.createSelector)(d.H,(function(e){return e.comments.deleteModalCommentId})),k=Object(r.createSelector)(d.H,(function(e){return e.comments.loadingStage})),S=Object(r.createSelector)(b,w,(function(e,t){return Object.assign({},e,t)})),I=function(e){return Object(r.createSelector)(S,(function(t){return t[e]}))},C=function(e,t){return Object(r.createSelector)(I(e),(function(e){return e?e[t]:null}))},P=function(e){return Object(r.createSelector)(I(e),f.a,(function(e,t){return null!==t&&t===e.authorId}))},_=function(e,t){return Object(r.createSelector)(I(e),d.I,(function(e,n){return e[t]?n(e[t]):null}))},x=Object(r.createSelector)(d.H,(function(e){return e&&e.comments||null})),T=Object(r.createSelector)(x,(function(e){return e&&e.commentEditors||null})),A=function(e){return Object(r.createSelector)(T,(function(t){return t&&t[e]||null}))},D=function(e,t){return Object(r.createSelector)(A(e),(function(e){return e&&e[t]||null}))},R=function(e){return _(e,"authorId")},M=function(e){return _(e,"updateAuthorId")},L=function(e){return D(e,"editingValue")},N=function(e){return D(e,"visibility")},F=function(e){return Object(r.createSelector)(L(e),I(e),(function(e,t){return e||t&&t.bodyAdf||null}))},U=function(e){return C(e,"bodyHtml")},V=function(e){return C(e,"createdDate")},K=function(e){return C(e,"updatedDate")},B=function(e){return C(e,"edited")},W=function(e){return Object(r.createSelector)(w,(function(t){return t[e]}))},H=function(e){return Object(r.createSelector)(W(e),(function(e){return!!e}))},G=function(e){return Object(r.createSelector)(W(e),(function(e){return!(!e||!e.hasSaveFailed)}))},q=function(e){return Object(r.createSelector)(E,(function(t){return t===e}))},z=function(e){return C(e,"visibility")},Y=function(e){return Object(r.createSelector)(N(e),z(e),(function(e,t){return e||t}))},Q=function(e){return Object(r.createSelector)(f.v,C(e,"isInternal"),(function(e,t){return e&&t}))},J=function(e){return Object(r.createSelector)(A(e),(function(e){return i()(e,"isInternal",!0)}))},$=Object(r.createSelector)(p.h,(function(e){return e.canAddComments})),Z=function(e){return Object(r.createSelector)(p.h,P(e),(function(e,t){return e.canDeleteAllComments||e.canDeleteOwnComments&&t}))},X=function(e){return Object(r.createSelector)(p.h,P(e),(function(e,t){return e.canEditAllComments||e.canEditOwnComments&&t}))},ee=Object(r.createSelector)(S,y,(function(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).map((function(t){return{id:t,createdDate:new Date(e[t].createdDate)}})).sort((function(e,t){return u()(e.createdDate,t.createdDate)})).map((function(e){return e.id}))})),te=function(e){return Object(r.createSelector)(A(e),(function(e){return!!e&&e.isEditing}))},ne=Object(r.createSelector)(ee,(function(e){return e}),(function(e,t){return e.filter((function(e){return te(e)(t)}))})),re=Object(r.createSelector)(b,(function(e){return e?Object.keys(e).filter((function(t){return"object"===m(e[t])})):[]})),oe=Object(r.createSelector)(re,(function(e){return e}),(function(e,t){return e.some((function(e){return te(e)(t)}))})),ie=Object(r.createSelector)(d.H,(function(e){return e.comments.addCommentEditorExpand})),se=Object(r.createSelector)(ie,T,(function(e,t){return e||t&&a()(t).some((function(e){return e.isEditing}))})),ae=Object(r.createSelector)(d.H,(function(e){return e.comments.isCommentAttachmentInProgress})),ce=Object(r.createSelector)(d.t,d.E,(function(e,t){return!e&&(t===l.d||t===l.n)}))},"./src/packages/issue/issue-view/src/selectors/confluence-app-links-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=n("./src/packages/issue/issue-view/src/selectors/confluence-pages-selector.js"),s=n("./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js"),a=Object(r.createSelector)(o.e,(function(e){return e.confluenceAppLinks||[]})),c=Object(r.createSelector)(a,(function(e){return e&&e.length>0})),u=Object(r.createSelector)(c,i.c,s.f,(function(e,t,n){return e&&t&&n}))},"./src/packages/issue/issue-view/src/selectors/confluence-pages-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return v}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.e,(function(e){return e.confluencePages})),s=Object(r.createSelector)(i,(function(e){return e.createLinkedPage})),a=Object(r.createSelector)(s,(function(e){return e.errorMessage})),c=Object(r.createSelector)(s,(function(e){return e.isInvalid})),u=Object(r.createSelector)(s,(function(e){return e.isLoading})),l=Object(r.createSelector)(s,(function(e){return e.clickedCount>0})),f=Object(r.createSelector)(s,(function(e){return e.clickedCount})),d=Object(r.createSelector)(i,(function(e){return e&&e.linkedPages})),p=Object(r.createSelector)(i,(function(e){return e&&e.mentionedPages})),m=Object(r.createSelector)(i,(function(e){return!(!e||!e.isLinkingEnabled)})),y=Object(r.createSelector)(d,(function(e){return e&&e.pages})),b=Object(r.createSelector)(p,(function(e){return e&&e.pages})),g=Object(r.createSelector)(d,(function(e){return e&&e.pageCount})),v=Object(r.createSelector)(p,(function(e){return e&&e.pageCount}))},"./src/packages/issue/issue-view/src/selectors/context-panel-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.contextPanel})),s=Object(r.createSelector)(i,(function(e){return e&&e.isContextPanelOpen})),a=Object(r.createSelector)(i,(function(e){return e&&e.contextPanelItem}))},"./src/packages/issue/issue-view/src/selectors/drafts/selectors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.drafts})),s=function(e){return Object(r.createSelector)(i,(function(t){return!!t[e]}))}},"./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.ecosystem&&e.ecosystem.glance}))},"./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),i=Object(r.createSelector)(o.h,(function(e){return e.canCloneIssue})),s=Object(r.createSelector)(o.h,(function(e){return e.canDeleteIssue})),a=Object(r.createSelector)(o.h,(function(e){return e.canMoveIssue})),c=Object(r.createSelector)(o.h,(function(e){return e.canEditIssues})),u=Object(r.createSelector)(o.h,(function(e){return e.canAdministerJira||e.canAdministerProject})),l=Object(r.createSelector)(o.h,(function(e){return e.canAssignIssues})),f=Object(r.createSelector)(o.h,(function(e){return e.canLinkIssues}))},"./src/packages/issue/issue-view/src/selectors/issue-actions-selector.js":function(e,t,n){"use strict";n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return I})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return P}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/platform/utils/constants/src/project-types.js"),i=n("./src/packages/platform/services/issue/src/feature-flags.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),u=n("./src/packages/issue/issue-view/src/feature-flags.js"),l=n("./src/packages/issue/issue-view/src/selectors/classic-project-config-selector.js"),f=n("./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js"),d=n("./src/packages/issue/issue-view/src/selectors/request-type-selector.js"),p=n("./src/packages/issue/issue-view/src/selectors/subtask-types-selector.js"),m=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),y=n("./src/packages/issue/issue-view/src/selectors/ui-config-selector.js"),b=Object(r.createSelector)(s.w,y.a,(function(e,t){return Object(i.b)()?Boolean(e)&&!t:!!e})),g=Object(r.createSelector)(c.c,c.b,(function(e,t){return e||t})),v=Object(r.createSelector)(a.t,g,(function(e,t){return t&&e})),h=Object(r.createSelector)(a.h,s.t,(function(e,t){return!e&&!t})),O="show",j="hide",w="disabled_permission",E="disabled_no_request_type",k="disabled_no_screen_id",S=Object(r.createSelector)(a.l,f.c,a.E,d.a,c.f,l.a,(function(e,t,n,r,i,s){if(!e)return j;if(!t)return w;switch(n){case o.l:if(!Object(u.isJSDBentoEnabled)())return j;if(!i)return w;if(!r)return E}return s?O:k})),I=Object(r.createSelector)(S,(function(e){return e===O})),C=Object(r.createSelector)(m.c,m.b,p.b,a.l,(function(e,t,n,r){return!e&&!t&&n&&r})),P=Object(r.createSelector)(m.c,a.l,(function(e,t){return e&&t}))},"./src/packages/issue/issue-view/src/selectors/issue-links-selector.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return _}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),s=n("./node_modules/lodash/pickBy.js"),a=n.n(s),c=n("./node_modules/lodash/toArray.js"),u=n.n(c),l=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js");function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=Object(r.createSelector)(l.e,(function(e){return e.issueLinks})),g=Object(r.createSelector)(b,(function(e){return!!e})),v=Object(r.createSelector)(b,(function(e){return e&&e.issueLinks})),h=Object(r.createSelector)(v,(function(e){return e&&a()(e,(function(e){return e.isOptimistic}))})),O=Object(r.createSelector)(b,(function(e){return e&&e.linkedIssues})),j=Object(r.createSelector)(b,(function(e){return e&&e.linkedIssueKeys})),w=Object(r.createSelector)(v,(function(e){return!i()(e)})),E=Object(r.createSelector)(j,(function(e){return e.length})),k=Object(r.createSelector)(v,O,(function(e,t){return i()(e)?null:u()(e).filter((function(e){return!e.isDeleted})).map((function(e){return m(m({},e),{},{linkedIssue:t[e.linkedIssueKey]})})).reduce((function(e,t){return Object.assign(e,y({},t.typeName,[].concat(f(e[t.typeName]||[]),[t])))}),{})})),S=function(e){return Object(r.createSelector)(v,(function(t){return t&&t[e]||null}))},I=function(e){return Object(r.createSelector)(O,(function(t){return t&&t[e]||null}))},C=Object(r.createSelector)(b,(function(e){return e&&e.quickAddClicked})),P=Object(r.createSelector)(C,(function(e){return!!e})),_=Object(r.createSelector)(b,(function(e){return e&&e.canCreateLinkedIssue}))},"./src/packages/issue/issue-view/src/selectors/issue-links-type-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),s=n("./src/packages/issue/issue-view/src/selectors/issue-links-selector.js"),a=Object(r.createSelector)(o.e,(function(e){return e.issueLinkTypes})),c=Object(r.createSelector)(i.h,s.c,a,(function(e,t,n){return!!(e.canLinkIssues&&t&&n&&n.length)}))},"./src/packages/issue/issue-view/src/selectors/issue-remote-data-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.e,(function(e){return e.issueRemoteData})),s=Object(r.createSelector)(i,(function(e){return e.isLoadingComplete}))},"./src/packages/issue/issue-view/src/selectors/issue-types-selector.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),a=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),c=Object(r.createSelector)(s.e,(function(e){return e.issueTypes})),u=["summary","issuetype","parent","project"],l=function(e){return!!Object.keys(e).find((function(t){return!function(e){return u.find((function(t){return e===t}))}(t)&&!e[t].hasDefaultValue&&e[t].required}))},f=function(e){return i()(e.fields)||l(e.fields)},d=Object(r.createSelector)(c,a.g,s.q,(function(e,t,n){var r=n&&t&&t.id;return e.filter((function(e){return!e.subtask&&e.id!==r}))})),p=Object(r.createSelector)(s.H,(function(e){return e.fetchIssueTypesStatus}))},"./src/packages/issue/issue-view/src/selectors/project-selector.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.e,(function(e){return e.project})),s=Object(r.createSelector)(i,(function(e){return e?e.projectName:null})),a=Object(r.createSelector)(i,(function(e){return e?e.avatarUrl:null})),c=Object(r.createSelector)(i,(function(e){return e?e.issueTypeHierarchy:null})),u=Object(r.createSelector)(c,(function(e){return e?e.baseLevelId:null})),l=Object(r.createSelector)(c,(function(e){return e?e.levels:{}})),f=Object(r.createSelector)(u,l,(function(e,t){var n=[];if(!e||!t)return n;var r=t[e];if(!r)return n;for(var o=r.belowLevelId?t[r.belowLevelId]:void 0;void 0!==o;)n.push(o),o=o.belowLevelId?t[o.belowLevelId]:void 0;return n}))},"./src/packages/issue/issue-view/src/selectors/request-panel-metadata-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.e,(function(e){return e.requestPanelMetadata.channel})),s=Object(r.createSelector)(o.e,(function(e){return e.requestPanelMetadata.requestUrl||""})),a=Object(r.createSelector)(o.e,(function(e){return e.requestPanelMetadata.csatComment||""}))},"./src/packages/issue/issue-view/src/selectors/request-type-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),s=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),a=function(e){return e&&e.value&&e.value.requestType&&e.value.requestType.id},c=(Object(r.createSelector)(Object(i.e)(o.gb),a),Object(r.createSelector)(Object(i.e)(o.gb),s.e,(function(e,t){return e&&e.value&&e.value.requestType&&e.value.requestType.issueTypeId===t?e:null}))),u=Object(r.createSelector)(c,a)},"./src/packages/issue/issue-view/src/selectors/status-selector.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/platform/utils/constants/src/status-categories.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),s=n("./src/packages/issue/issue-view/src/configurations.js"),a=Object(r.createSelector)(Object(i.o)(s.z),(function(e){return e?Object(o.statusCategoryForId)(e.statusCategory.id):null})),c=Object(r.createSelector)(Object(i.o)(s.z),(function(e){return{name:e.name,id:e.id,statusCategory:{id:e.statusCategory.id,name:e.statusCategory.name}}})),u=Object(r.createSelector)(Object(i.o)(s.v),(function(e){return e&&e.name}))},"./src/packages/issue/issue-view/src/selectors/subtask-types-selector.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/selectors/issue-types-selector.js"),i=Object(r.createSelector)(o.d,(function(e){return e.filter((function(e){return e.subtask}))})),s=Object(r.createSelector)(i,(function(e){return e.length>=1})),a=Object(r.createSelector)(i,(function(e){return!!e.find(o.b)}))},"./src/packages/issue/issue-view/src/selectors/subtasks-selector.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),a=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),c=n("./src/packages/issue/issue-view/src/common/model/project-validator-type.js"),u=Object(r.createSelector)((function(e){return e.validators}),(function(e){var t=e.projectHasSubtaskValidators;return function(e){return e.status===c.b&&e.value}(t)||function(e){return e.status===c.c||e.status===c.a}(t)})),l=n("./src/packages/issue/issue-view/src/selectors/subtask-types-selector.js"),f=Object(r.createSelector)(a.g,(function(e){return!(!e||!e.subtask)})),d=Object(r.createSelector)(i.e,(function(e){return e.subtasks})),p=Object(r.createSelector)(d,(function(e){return e.length>0})),m=Object(r.createSelector)(l.a,u,(function(e,t){return e||t})),y=Object(r.createSelector)(i.e,(function(e){return e.subtasksConfiguration.enabled})),b=Object(r.createSelector)(s.h,f,l.b,m,o.t,o.p,o.v,i.t,y,(function(e,t,n,r,o,i,s,a,c){return!(!e.canCreateSubtask||t||!n||!!r&&(o||i)||!(!s||!a)||!c)}))},"./src/packages/issue/issue-view/src/selectors/tab-selector.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return y}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/field-visibility-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=Object(r.createSelector)(s.c,(function(e){return e&&e.tabs||{}})),f=function(e){return Object(r.createSelector)(l,(function(t){return Boolean(Object.keys(t).find((function(n){return t[n].items.find((function(t){return t.id===e}))})))}))},d=function(e,t){return t},p=function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){var n=t;return e.map((function(e){return e.id})).sort().join("")===n.map((function(e){return e.id})).sort().join("")}return!1},m=function(){var e=Object(o.a)((function(e,t){return c(c({},e),{},{items:t})}),p);return Object(r.createSelector)(function(){return Object(r.createSelector)(l,d,(function(e,t){return e[t]||null}))}(),(function(e){return e}),(function(t,n){if(!t)return null;var r=t.items.filter((function(e){var t=e.id;return!!Object(i.c)(t,n)}));return r.length>0?e(t,r):null}))},y=function(e,t){return!!t&&!!m()(e,t)}},"./src/packages/issue/issue-view/src/selectors/ui-config-selector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=Object(r.createSelector)(o.H,(function(e){return e.uiConfig})),s=Object(r.createSelector)(i,(function(e){return Boolean(e&&e.newIssueViewLockedIn)}))},"./src/packages/issue/issue-view/src/selectors/web-links-selector.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d}));var r=n("./node_modules/reselect/lib/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),s=Object(r.createSelector)(o.e,(function(e){return e.webLinks})),a=Object(r.createSelector)(s,(function(e){return e.links.filter((function(e){return void 0===e.isDeleting||!0!==e.isDeleting}))})),c=function(e){return Object(r.createSelector)(a,(function(t){return t.find((function(t){return t.id===e}))}))},u=Object(r.createSelector)(s,i.h,(function(e,t){return!!e.isLinkingEnabled&&t.canLinkIssues})),l=Object(r.createSelector)(s,(function(e){return e.linkCount})),f=Object(r.createSelector)(s,(function(e){return e.createClickCount})),d=Object(r.createSelector)(f,(function(e){return e>0}))},"./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./src/packages/platform/utils/fetch/src/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function a(e,t,n){return(a=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,e);var t=function(e){var t=c();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}(n);function n(e,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e.message)).endpoint=void 0,i.traceId=void 0,i.error=void 0,i.statusCode=void 0,i.error=e,i.message=e.message,e instanceof r.a&&(null!=e.traceId&&(i.traceId=e.traceId),i.statusCode=e.statusCode),i.endpoint=o,i}return n}(s(Error))},"./src/packages/issue/issue-view/src/views/assign-issue-parent-modal/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/modal-dialog/index.js"),a=n("./src/packages/issue/issue-view/src/actions/assign-issue-parent-modal-actions.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),l=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),f=n("./src/packages/issue/issue-view/src/selectors/assign-issue-parent-modal-selector.js"),d=n("./node_modules/react-async-component/commonjs/index.js"),p=Object(d.asyncComponent)({resolve:function(){return function(){return n.e("async-assign-issue-parent-modal").then(n.bind(null,"./src/packages/assign-issue-parent-modal/src/index.js"))}()}}),m=function(e){return o.a.createElement(s.f,null,e.isOpen&&o.a.createElement(p,e))};m.displayName="ModalHoc";t.a=Object(i.connect)((function(e){var t=Object(c.b)(e);return{shouldHideUnassignOption:Object(l.d)(e),isOpen:Object(f.b)(e),issues:Object(f.a)(e),issueParents:Object(u.A)(e),issueHierarchyLevel:Object(l.e)(e),issueParentTypeIds:Object(l.f)(e),parentIssueTypeName:Object(l.g)(e)[0],locale:Object(c.D)(e),baseUrl:Object(c.f)(e),projectId:Object(u.B)(e),analyticsSource:"issue-view (".concat(t?t.toString():"undefined",")")}}),(function(e){return{onClose:function(){e(Object(a.m)())},onSubmit:function(t,n,r,o){e(Object(a.n)(t,r,o))}}}))(m)},"./src/packages/issue/issue-view/src/views/banner/full-page-banner/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/lodash/flow.js"),a=n.n(s),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/issue/issue-view/src/actions/clickthrough-banner-actions.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),d=n("./src/packages/issue/issue-view/src/selectors/changeboarding-selector.js"),p=n("./src/packages/issue/issue-view/src/selectors/clickthrough-banner-selector.js"),m=n("./src/packages/issue/issue-view/src/selectors/context-panel-selector.js"),y=n("./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js"),b=n("./src/packages/issue/issue-view/src/views/changeboarding/banner/index.js"),g=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),v=n("./node_modules/@atlaskit/theme/index.js"),h=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),O=n("./src/packages/issue/issue-view/src/feature-flags.js"),j=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/styled.js"),w=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/styled.js"),E=g.default.div(["",""],(function(){return Object(O.isIndividualScrollingEnabled)()?"\n        margin: ".concat(h.f,"px 0 ").concat(2*h.f,"px;\n    "):"\n        margin-bottom: ".concat(2*h.f,"px;\n    ")})),k=g.default.div(["margin-top:","px;margin-left:0;"],j.b),S=g.default.div(["display:flex;align-items:center;color:",";border-bottom:2px solid ",";margin-bottom:","px;",""],v.colors.N100,v.colors.N30,2*h.f,(function(){return Object(O.isIndividualScrollingEnabled)()?"\n        margin-left: ".concat(-w.b,"px;\n        padding: ").concat(2.5*h.f,"px 0 ").concat(h.f/2,"px ").concat(w.b,"px;\n    "):"\n        padding-bottom: ".concat(1.5*h.f,"px;\n    ")})),I=g.default.div(["display:flex;align-self:baseline;padding-right:","px;"],h.f),C=g.default.div(["display:flex;flex:2;align-items:flex-start;padding-top:3px;flex-wrap:wrap;"]),P=g.default.div(["display:flex;flex-wrap:wrap;flex:2;margin-bottom:","px;"],2*h.f),_=g.default.div(["margin-right:","px;line-height:20px;min-width:352px;"],h.f),x=g.default.div(["display:inline-block;"]),T=g.default.div(["display:flex;"]),A=g.default.div(["display:flex;flex-shrink:0;align-self:flex-start;margin-right:-10px;margin-left:-12px;margin-top:","px;"],-h.f/2),D=g.default.div(["margin-left:","px;"],2*h.f),R=n("./node_modules/react-intl/lib/index.es.js"),M=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),L=n("./node_modules/@atlaskit/icon--current/glyph/cross.js"),N=n.n(L),F=n("./node_modules/@atlaskit/icon--current/glyph/info.js"),U=n.n(F),V=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),K=n("./node_modules/@atlaskit/router/dist/esm/ui/link/index.js"),B=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),W=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js"),H=n("./src/packages/issue/issue-view/src/configurations.js"),G=n("./node_modules/query-string/index.js"),q=n.n(G),z=function(){var e=window.location,t=e.search,n=e.host,r=e.protocol,o=e.pathname,i=e.hash,s=q.a.parse(t);return s.oldIssueView="true","".concat(r,"//").concat(n).concat(o,"?").concat(q.a.stringify(s)).concat(i)},Y=n("./src/packages/issue/issue-view/src/views/constants.js"),Q=Object(R.defineMessages)({heading:{id:"full-page-issue.banner.heading",defaultMessage:"We're updating the issue view to help you get more done."},learnMore:{id:"full-page-issue.banner.learn-more",defaultMessage:"Learn more"},seeTheOldView:{id:"full-page-issue.banner.see-the-old-view",defaultMessage:"See the old view"},dismissBanner:{id:"full-page-issue.banner.dismiss-banner",defaultMessage:"Dismiss banner"}});function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(n,e);var t=ee(n);function n(){var e;$(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getOldViewUrl=Object(M.a)((function(){return z()})),e}return function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(n,[{key:"renderSpaLinkComponent",value:function(){var e=this.props.applicationKey,t=this.getOldViewUrl(),n=null!=t&&t.includes("jira/servicedesk"),r=e===Object(H.O)().applicationKey,o=Object(O.isJsdAgentViewEnabled)()&&__SPA__;return r&&n&&o?K.a:void 0}},{key:"renderFeedback",value:function(){var e=this.props,t=e.renderFeedback,n=e.applicationKey,r=e.isClickthroughBannerHidden;return t&&null!=n&&t(n,r)}},{key:"render",value:function(){var e=this.props,t=e.issueId,n=e.learnMoreUrl,r=e.isClickthroughBannerHidden,i=e.isIssueViewComplete,s=e.onClose,a=e.intl,c=e.onClickthroughClick,u=this.getOldViewUrl();return o.a.createElement(S,null,o.a.createElement(I,null,o.a.createElement(U.a,{primaryColor:v.colors.P300,size:"medium",label:"info"})),o.a.createElement(C,null,o.a.createElement(P,null,o.a.createElement(_,null,a.formatMessage(Q.heading),"\xa0",o.a.createElement(x,null,o.a.createElement(R.FormattedMessage,{id:"learnMoreOrSeeTheOldView",defaultMessage:"{learnMore} or {seeTheOldView}",values:{learnMore:o.a.createElement(W.a,{appearance:"link",href:n,spacing:"none",target:"_blank"},a.formatMessage(Q.learnMore)),seeTheOldView:o.a.createElement(W.a,{appearance:"link",component:this.renderSpaLinkComponent(),externalId:"issue.old-full-page",externalValues:{issueId:t},href:u,spacing:"none",onClick:c},a.formatMessage(Q.seeTheOldView))}})))),r?null:o.a.createElement(A,null,o.a.createElement(V.a,{name:Y.d},o.a.createElement(T,null,this.renderFeedback()))),o.a.createElement(D,null,o.a.createElement(B.a,{content:a.formatMessage(Q.dismissBanner)},o.a.createElement(W.a,{spacing:"compact",isDisabled:!i,iconBefore:o.a.createElement(N.a,{size:"small",label:a.formatMessage(Q.dismissBanner)}),onClick:s})))))}}]),n}(r.Component);re.displayName="FullPageIssueBannerView";var oe=Object(R.injectIntl)(re);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(n,e);var t=fe(n);function n(){return ce(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ue(e.prototype,t),n&&ue(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.shouldShowChangeboardingBanner,n=e.isClickthroughBannerHidden,r=(e.openedGlance,e.isContextPanelOpen,ae(e,["shouldShowChangeboardingBanner","isClickthroughBannerHidden","openedGlance","isContextPanelOpen"]));return t?o.a.createElement(E,null,o.a.createElement(b.a,null)):n?null:o.a.createElement(oe,se({},r,{isClickthroughBannerHidden:n}))}}]),n}(r.Component);me.defaultProps={isClickthroughBannerHidden:!1,isIssueViewComplete:!1},me.displayName="BannerView";t.b=a()(Object(c.f)("button",{onClose:"clicked",onClickthroughClick:"clicked"}),Object(c.r)({onClose:"fullIssueBannerDismissed",onClickthroughClick:"clickthroughToOldIssue"}),Object(i.connect)((function(e){return{shouldShowChangeboardingBanner:Object(d.d)(e),isClickthroughBannerHidden:Object(p.a)(e),openedGlance:Object(y.a)(e),isContextPanelOpen:Object(m.b)(e),isIssueViewComplete:Object(f.m)(e),issueId:Object(l.A)(e)}}),{onClose:function(){return Object(u.b)(Date.now())}}))(me)},"./src/packages/issue/issue-view/src/views/banner/full-page-banner/render.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/utils/constants/src/application-keys.js"),s=n("./src/packages/issue/issue-view/src/views/banner/full-page-banner/index.js");t.a=function(e){var t=e.issueId,n=e.oldViewUrl,r=e.applicationKey,a=e.isProjectSimplified,c=e.renderFeedback,u=r===i.a.SERVICE_DESK?"https://confluence.atlassian.com/display/SERVICEDESKCLOUD/Changes+to+requests+in+the+new+issue+view":"https://confluence.atlassian.com/jiracorecloud/the-new-jira-issue-view-938040503.html";switch(r){case i.a.EMPTY_APPLICATION_KEY:case i.a.SIMPLE_SOFTWARE_BOARD:return null;case i.a.SERVICE_DESK:return a?null:o.a.createElement(s.b,{issueId:t,oldViewUrl:n,learnMoreUrl:u,renderFeedback:c,applicationKey:r});default:return o.a.createElement(s.b,{issueId:t,oldViewUrl:n,learnMoreUrl:u,renderFeedback:c,applicationKey:r})}}},"./src/packages/issue/issue-view/src/views/banner/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),i=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),s=function(e){var t=e.renderTopBanner,n=e.applicationKey,r=e.isProjectSimplified;return t?t(n,r):null};t.a=Object(r.connect)((function(e){return{applicationKey:Object(o.d)(e),isProjectSimplified:Object(i.t)(e)}}),{})(s)},"./src/packages/issue/issue-view/src/views/changeboarding/banner/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/lodash/flow.js"),c=n.n(a),u=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination-client.js"),l=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination.js"),f=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),d=n("./src/packages/issue/issue-view/src/actions/changeboarding-actions.js"),p=n("./src/packages/issue/issue-view/src/common/service/issue/changeboarding-local-storage.js"),m=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),y=n("./src/packages/issue/issue-view/src/selectors/changeboarding-selector.js"),b=n("./node_modules/lodash/noop.js"),g=n.n(b),v=n("./node_modules/@atlaskit/button--current/theme.js"),h=n("./node_modules/@atlaskit/button--current/components/Button.js"),O=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/animations/slide-down-on-mount.js"),j=Object(i.defineMessages)({summary:{id:"issue.changeboarding-summary",defaultMessage:"We're working on a more consistent issue view to help you find and update important details."},startButton:{id:"issue.changeboarding-start",defaultMessage:"See the highlights"},dismissButton:{id:"issue.changeboarding-dismiss",defaultMessage:"Maybe later"}}),w=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),E=n("./node_modules/@atlaskit/theme/index.js"),k=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),S=n("./src/packages/common-legacy-do-not-add-anything-new/src/theme/index.js"),I=w.default.div(["display:flex;flex-wrap:wrap;align-content:space-between;background-color:",";color:",";border-radius:","px;position:relative;padding:","px ","px 0 ","px;justify-content:center;"],E.colors.P300,E.colors.N0,k.f/2,2*k.f,2*k.f,2*k.f),C=w.default.div(["display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;text-align:center;"]),P=w.default.div(["display:flex;align-items:center;padding-bottom:","px;"],2*k.f),_=w.default.div(["padding-right:","px;padding-bottom:","px;"],k.f,2*k.f),x=w.default.div(["padding-right:","px;"],k.f),T=Object(S.a)({buttonStyles:{default:{background:{default:E.colors.P200,hover:E.colors.P100,active:E.colors.P400},color:E.colors.N0}}}),A=Object(S.a)({buttonStyles:{default:{background:{default:E.colors.P300,hover:E.colors.P200,active:E.colors.P400},color:E.colors.N0}}});function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(n,e);var t=N(n);function n(){return R(this,n),t.apply(this,arguments)}return function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onMount(this.props.seenTimes,this.props.firstSeenTimestamp)}},{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement(I,null,o.a.createElement(C,null,o.a.createElement(_,null,this.props.intl.formatMessage(j.summary))),o.a.createElement(P,null,o.a.createElement(x,null,o.a.createElement(v.a.Provider,{value:T},o.a.createElement(h.b,{onClick:this.props.onStart},this.props.intl.formatMessage(j.startButton)))),o.a.createElement(v.a.Provider,{value:A},o.a.createElement(h.b,{onClick:this.props.onClose},this.props.intl.formatMessage(j.dismissButton))))))}}]),n}(r.PureComponent);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}V.defaultProps={onStart:g.a,onClose:g.a,onMount:g.a},V.displayName="ChangeboardingBanner";var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(n,e);var t=G(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).client=null;return r.client=new u.a(e.cloudId,"/gateway/api"),r}return function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=B(e,["isVisible"]);return t?o.a.createElement(l.a,{client:this.client,messageId:"bento-changeboarding-banner"},o.a.createElement(V,n)):null}}]),n}(r.Component);Y.displayName="ChangeboardingBannerView";t.a=c()(Object(f.f)("banner",{onMount:"viewed"}),Object(f.r)({onStart:"bannerStartChangeboardingTour",onClose:"bannerDismissChangeboardingTour",onMount:"changeboarding"}),Object(s.connect)((function(e){return{isVisible:Object(y.d)(e),cloudId:Object(m.i)(e),seenTimes:Object(p.b)(),firstSeenTimestamp:Object(p.a)()}}),{onStart:function(){return Object(d.g)(Date.now())},onClose:function(){return Object(d.e)(Date.now())},onMount:function(e,t){return Object(d.f)(e,t)}}),i.injectIntl)(Y)},"./src/packages/issue/issue-view/src/views/changeboarding/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/lodash/flow.js"),s=n.n(i),a=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),c=n("./node_modules/react/index.js"),u=n.n(c),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/onboarding-wrapper/index.js"),f=function(e){return e.currentStep===e.totalSteps},d=function(e){return e.currentStep===e.totalSteps-1},p=n("./node_modules/@atlaskit/onboarding/dist/esm/components/Spotlight.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),y=Object(r.defineMessages)({next:{id:"issue-changeboarding.simple-spotlight.next",defaultMessage:"Next"},done:{id:"issue-changeboarding.simple-spotlight.done",defaultMessage:"Done"}});function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g={dialogWidth:37.5*m.f,targetBgColor:"white",targetRadius:m.a,pulse:!0},v=function(e){var t=e.context,n=e.name,r=e.targetReplacement,o=e.children,i=e.intl,s=e.placement,a=e.onPrimaryActionClick;return(u.a.createElement(p.a,b({},g,{actions:[{onClick:a,text:i.formatMessage(d(t)?y.done:y.next)}],dialogPlacement:s,key:n,target:n,targetReplacement:r,actionsBeforeElement:"".concat(t.currentStep+1,"/").concat(t.totalSteps)}),o))};v.displayName="SimpleSpotlight",v.defaultProps={targetReplacement:void 0};var h=v;function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.isTourActive,n=e.recipe,r=e.recipeContext,o=e.onTourEnd,i=e.intl,s=n.stepsForContext(r),a=O(Object(c.useState)(0),2),d=a[0],p=a[1],m=Object(c.useMemo)((function(){return{currentStep:d,totalSteps:s.length,advanceStep:function(){return p((function(e){return e+1}))}}}),[p,s,d]);if(Object(c.useEffect)((function(){f(m)&&(p(0),o(r))}),[o,r,m]),!t||f(m))return null;var y=s[m.currentStep],b=n.steps[y](r),g=u.a.createElement(h,{context:m,intl:i,onPrimaryActionClick:m.advanceStep,name:y,placement:b.placement,targetReplacement:b.targetReplacement},i.formatMessage(b.message));return u.a.createElement(l.a,{shouldRender:t},g)};w.displayName="Changeboarding";var E=w,k=n("./src/packages/issue/issue-view/src/actions/changeboarding-actions.js"),S=n("./src/packages/issue/issue-view/src/common/service/issue/issue-view-mode.js"),I=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),C=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),P=n("./src/packages/issue/issue-view/src/selectors/changeboarding-selector.js"),_=n("./node_modules/reselect/lib/index.js"),x=n("./src/packages/issue/issue-view/src/selectors/attachment-selector.js"),T=n("./src/packages/issue/issue-view/src/selectors/confluence-app-links-selector.js"),A=n("./src/packages/issue/issue-view/src/selectors/issue-links-type-selector.js"),D=Object(_.createSelector)(x.b,A.a,T.a,(function(e,t,n){return e||t||n})),R=n("./src/packages/issue/issue-view/src/views/constants.js"),M=Object(r.defineMessages)({quickAdds:{id:"changeboarding.bento.step.quickAdds",defaultMessage:"Quickly add attachments, issue links, subtasks, as well as Marketplace app content."},quickAddsWithNoPermissions:{id:"changeboarding.bento.step.quickAddsWithNoPermissions",defaultMessage:"For projects where you have permission, the quick-add buttons let you add attachments, linked issues, subtasks, and content from Atlassian Marketplace apps."},editAnyField:{id:"changeboarding.bento.step.editAnyField",defaultMessage:"A single screen for view and edit lets you click any field to update it."},showMore:{id:"changeboarding.bento.step.showMore",defaultMessage:"All the finer details of the issue are here when you need them."},showMoreWhenNoExpander:{id:"changeboarding.bento.step.showMoreWhenNoExpander",defaultMessage:'Looking for a field but can\'t see it? Fields without a value appear under "Show more".'},boardSidebar:{id:"changeboarding.bento.step.boardSidebar",defaultMessage:"Prefer to open issues as a sidebar? The choice is yours."},giveFeedback:{id:"changeboarding.bento.step.giveFeedback",defaultMessage:"You're part of the team! Leave feedback and help us build the best issue view."},next:{id:"changeboarding.bento.next",defaultMessage:"Next"},skip:{id:"changeboarding.bento.skip",defaultMessage:"Skip"},done:{id:"changeboarding.bento.done",defaultMessage:"Done"}}),L=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),N=n("./node_modules/lodash/noop.js"),F=n.n(N),U=n("./node_modules/@atlaskit/icon--current/glyph/attachment.js"),V=n.n(U),K=n("./node_modules/@atlaskit/icon--current/glyph/link.js"),B=n.n(K),W=n("./node_modules/@atlaskit/icon--current/glyph/more.js"),H=n.n(W),G=n("./node_modules/@atlaskit/icon--current/glyph/subtask.js"),q=n.n(G),z=n("./node_modules/@atlaskit/onboarding/dist/esm/styled/Target.js"),Y=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/index.js");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=L.default.div(["& button{cursor:default;}"]),X=function(e,t){return u.a.createElement(Y.a,{key:e,id:e,icon:t,onClick:F.a})};X.displayName="createItemView";var ee=function(e){var t=J(J({overflow:"hidden",backgroundColor:"white"},e),{},{height:5*m.f,width:20*m.f,display:"inline-flex",paddingLeft:m.f,paddingTop:m.f/2,borderRadius:m.a}),n=X("ADD_ATTACHMENT_ID",u.a.createElement(V.a,{size:"medium"})),r=X("SUB_TASK",u.a.createElement(q.a,{size:"medium"})),o=X("LINK_ISSUE",u.a.createElement(B.a,{size:"medium"})),i=X("MORE_ICON",u.a.createElement(H.a,{size:"medium"}));return u.a.createElement(z.a,{style:t},u.a.createElement(Z,null,n,r,o,i))};ee.displayName="QuickAddsReplacement";var te=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-items/view/expander/show-more-button/index.js"),ne=Object(r.defineMessages)({timeTracking:{id:"changeboarding.bento.step.show-more.time-tracking",defaultMessage:"Time tracking"},originalEstimate:{id:"changeboarding.bento.step.show-more.original-estimate",defaultMessage:"Original estimate"},components:{id:"changeboarding.bento.step.show-more.components",defaultMessage:"Components"}});function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ae=L.default.div(["& button{cursor:default;}"]),ce=function(e){var t=e.intl,n=se(e,["intl"]),r=oe(oe({overflow:"hidden",color:"rgb(0, 82, 204)",backgroundColor:"white",paddingTop:m.f/2},n),{},{height:7*m.f,borderRadius:m.a}),o=[t.formatMessage(ne.timeTracking),t.formatMessage(ne.originalEstimate),t.formatMessage(ne.components)];return u.a.createElement(z.a,{style:r},u.a.createElement(ae,null,u.a.createElement(te.a,{visibleSecondaryContextItemNameList:o,fieldCount:o.length,onExpand:function(){}})))};ce.displayName="ShowMoreReplacementIntl";var ue=Object(r.injectIntl)(ce),le={stepsForContext:function(e){var t=[R.e];return e.isAssigneeVisible&&t.push(R.b),t.push(R.f),e.isBoardModalView&&t.push(R.a),e.isFeedbackEnabled&&t.push(R.d),t},steps:{QUICK_ADDS:function(e){var t=e.hasQuickAddPermissions?void 0:ee;return{placement:"",message:e.hasQuickAddPermissions?M.quickAdds:M.quickAddsWithNoPermissions,targetReplacement:t}},EDIT_FIELD:function(){return{placement:"left top",message:M.editAnyField}},BOARD_SIDEBAR:function(){return{placement:"bottom center",message:M.boardSidebar}},GIVE_FEEDBACK:function(){return{placement:"bottom center",message:M.giveFeedback}},SHOW_MORE:function(e){return{placement:"top left",message:e.hasShowMoreLink?M.showMore:M.showMoreWhenNoExpander,targetReplacement:ue}}}},fe=Object(r.injectIntl)(E);t.a=s()(Object(a.f)("button",{onTourEnd:"clicked"}),Object(a.r)({onTourEnd:function(e){return{name:"finishIssueChangeboardingTour",hasQuickAddPermissions:e.hasQuickAddPermissions,hasShowMoreLink:e.hasShowMoreLink}}}),Object(o.connect)((function(e,t){var n=Object(I.b)(e);return{isTourActive:Object(P.c)(e),recipeContext:{isBoardModalView:n&&"software-issue"===n.valueOf()&&!Object(S.b)(),hasQuickAddPermissions:D(e),hasShowMoreLink:Object(C.d)(e),isAssigneeVisible:Object(P.a)(e),isFeedbackEnabled:t.isFeedbackEnabled},recipe:le}}),{onTourEnd:k.h}))(fe)},"./src/packages/issue/issue-view/src/views/common/button/square-add-icon-button.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/noop.js"),s=n.n(i),a=n("./node_modules/@atlaskit/button--current/components/Button.js"),c=n("./node_modules/@atlaskit/icon--current/glyph/add.js"),u=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.onClick;return(o.a.createElement("div",null,o.a.createElement("style",null,".squareButtonWithIcon { padding: 0 6px }"),o.a.createElement(a.b,{appearance:"subtle",spacing:"compact",iconBefore:o.a.createElement(u.a,{size:"small",label:t}),onClick:n,className:"squareButtonWithIcon"})))}}]),n}(r.Component);g.defaultProps={onClick:s.a},g.displayName="SquareAddIconButton"},"./src/packages/issue/issue-view/src/views/common/compact-mode-provider/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/width-detector/dist/esm/WidthDetector.js"),s=n("./src/packages/issue/issue-view/src/feature-flags.js"),a=Object(r.createContext)(!1),c=a.Provider,u=a.Consumer,l={height:"100%",display:"flex",flexDirection:"column"},f=function(e){var t=e.children;return(o.a.createElement(i.a,{containerStyle:Object(s.isIndividualScrollingEnabled)()?l:void 0},(function(e){var n=null!=e&&e<=600;return(o.a.createElement(c,{value:n},t))})))};f.displayName="CompactModeProvider";var d=u},"./src/packages/issue/issue-view/src/views/common/experience-tracking/common/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.displayName||e.name||"Component"}},"./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m.c})),n.d(t,"f",(function(){return m.e})),n.d(t,"c",(function(){return m.b})),n.d(t,"b",(function(){return m.a}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/editing/index.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/application-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),l=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/common/index.js"),f=Object(i.connect)((function(e){return{experience:"editIssue",application:Object(a.b)(e),edition:Object(a.a)(e),analyticsSource:Object(c.b)(e)}}),{})(s.b),d=Object(i.connect)((function(e,t){return{field:t.fieldId,isEditing:Object(u.A)(t.fieldId)(e)}}),{})(s.a),p=function(e){return function(t){var n=function(n){return o.a.createElement(d,{fieldId:e},o.a.createElement(t,n))};return n.displayName="WithEditExperienceTracker(".concat(Object(l.a)(t),")"),n}},m=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/index.js")},"./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/fields/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));var r,o=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="NEVER_TRACKING",a="requestDetailsPanel",c=(i(r={},o.p,"ALWAYS_TRACKING"),i(r,o.s,s),i(r,o.A,s),i(r,o.g,s),i(r,o.bb,s),i(r,o.nb,s),i(r,o.pb,s),i(r,o.w,s),i(r,o.x,s),i(r,o.a,s),i(r,o.q,s),i(r,o.ab,s),i(r,o.e,s),i(r,o.f,s),i(r,o.lb,s),i(r,o.N,[a]),i(r,o.m,[a]),i(r,o.r,[a]),i(r,o.X,[a]),i(r,o.t,[a]),i(r,o.N,[a]),i(r,o.m,[a]),i(r,o.b,[a]),i(r,o.L,[a]),i(r,o.mb,[a]),i(r,o.vb,[a]),i(r,o.wb,[a]),i(r,o.V,[a]),i(r,o.i,[a]),i(r,o.h,[a]),i(r,o.M,[a]),i(r,o.ub,[a]),i(r,o.R,[a]),i(r,o.xb,[a]),i(r,o.T,[a]),i(r,o.qb,[a]),i(r,o.hb,[a]),i(r,o.Q,[a]),i(r,o.tb,[a]),i(r,o.S,[a]),i(r,o.zb,[a]),i(r,o.o,[a]),i(r,o.B,[a]),i(r,o.P,[a]),i(r,o.yb,[a]),i(r,o.n,[a]),i(r,o.O,[a]),i(r,o.Y,[a]),i(r,o.sb,[a]),i(r,o.H,[a]),i(r,o.F,[a]),i(r,o.J,[a]),i(r,o.I,[a]),i(r,o.G,[a]),i(r,o.gb,[a]),i(r,o.fb,[a]),i(r,o.U,[a]),i(r,o.cb,[a]),i(r,o.l,[a]),i(r,o.W,[a]),i(r,o.eb,[a]),i(r,o.j,[a]),r),u=function(e){var t=c[e];return void 0===t?s:t}},"./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/index.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return s.c})),n.d(t,"a",(function(){return s.a}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/viewing/index.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/application-selector.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),f=function(e){return e.ui.viewMountStatus.hasIssueViewMounted},d=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/common/index.js"),p=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/fields/index.js");function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=Object(i.connect)((function(e){return{experience:"viewIssue",experienceId:Object(c.B)(e),application:Object(a.b)(e),edition:Object(a.a)(e),analyticsSource:Object(c.b)(e),isExperienceReady:Object(l.m)(e)&&f(e)}}),{})(s.e),v=function(e){return function(t){var n=function(n){return o.a.createElement(s.d,{location:e},(function(e){var r=e.onExperienceSuccess;return(o.a.createElement(t,b({onExperienceSuccess:r},n)))}))};return n.displayName="WithViewExperienceTracker(".concat(Object(d.a)(t),")"),n}},h=function(e){return function(t){var n=function(n){var r=n.fieldType,i=n.ownProps,a=r&&Object(p.c)(r);if(null==r||a===p.a)return o.a.createElement(t,i);var c=Array.isArray(a)?a:null,u=["field",r].concat(m(e?[e]:[])).join("-");return o.a.createElement(s.c,{location:u,parentProviders:c},o.a.createElement(t,i))};return n.displayName="WithFieldViewExperienceTracker(".concat(Object(d.a)(t)),Object(i.connect)((function(e,t){return{fieldType:Object(u.r)(t.fieldId)(e)}}),null,(function(e,t,n){return{fieldType:e.fieldType,ownProps:n}}))(n)}}},"./src/packages/issue/issue-view/src/views/common/field-heading/field-heading-view.js":function(e,t,n){"use strict";var r=n("./src/packages/issue/fields/components/field-heading/src/index.js");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},"./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./node_modules/@atlaskit/page/Grid.js"),a=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/styled.js"),c={};t.a=function(e){var t=e.children,n=e.isCompact,r=void 0!==n&&n,u=e.hasMultipleScrollingColumns;return(o.a.createElement(i.ThemeProvider,{theme:c},o.a.createElement(a.a,{isCompact:r,hasMultipleScrollingColumns:u},o.a.createElement(s.a,{spacing:"comfortable",layout:"fluid"},t))))}},"./src/packages/issue/issue-view/src/views/common/issue-page-grid/styled.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),i=n("./src/packages/issue/issue-view/src/feature-flags.js"),s=4*o.f,a=3*o.f,c=r.default.div(["> div{padding:0;margin:0;}",""],(function(e){var t=e.hasMultipleScrollingColumns,n=e.isCompact;return t&&Object(i.isIndividualScrollingEnabled)()?"\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        \n        > div {\n            flex-wrap: nowrap;\n            height: 100%;\n            /* targets Grid element of @atlaskit/page, which has align-items: flex-start by default */\n            align-items: initial;\n        }\n        ":"\n            padding-left: ".concat(n?0:o.f/2,"px;\n            ").concat(Object(i.isIndividualScrollingEnabled)()?"\n                /* Targets <GridColumn> element */\n                > div > div {\n                    margin: 0;\n                    max-width: 100%;\n                }\n            ":"\n                margin: 0 ".concat(-2*o.f,"px;\n            "),"\n        ")}))},"./src/packages/issue/issue-view/src/views/common/select-validation-wrapper/select-validation-wrapper.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./node_modules/@atlaskit/icon--current/glyph/error.js"),a=n.n(s),c=n("./node_modules/@atlaskit/theme/index.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=i.default.div(["align-items:center;color:",";display:flex;margin-top:","px;"],(function(e){return e.colour}),u.f/2),v=i.default.div(["margin-left:","px;"],u.f/2),h={default:null,success:null,error:c.colors.R400},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.validationMessage,r=e.validationState;return(o.a.createElement("div",null,t,r&&n?o.a.createElement(g,{colour:h[r]},o.a.createElement(a.a,{label:"".concat(r," icon"),role:"presentation"}),o.a.createElement(v,null,n)):null))}}]),n}(r.Component);O.displayName="SelectValidationWrapper",O.defaultProps={children:null,validationState:"default",validationMessage:null},O.displayName="SelectValidationWrapper"},"./src/packages/issue/issue-view/src/views/common/skeleton/skeleton-view.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./node_modules/@atlaskit/page/GridColumn.js"),a=n("./src/packages/issue/issue-view/src/common/skeleton/activity-feed-view.js"),c=n("./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js"),u=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js"),l=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js"),f=n("./src/packages/issue/issue-view/src/feature-flags.js"),d=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js"),p=n("./src/packages/issue/issue-view/src/views/common/with-compact-mode/index.js"),m=n("./node_modules/@atlaskit/theme/index.js"),y=i.default.div(["position:relative;overflow:hidden;margin:0 -20px;border-left:20px solid ",";border-right:20px solid ",";"],m.colors.N0,m.colors.N0),b=n("./src/packages/issue/issue-view/src/common/skeleton/text-line-mask-view.js"),g=function(){return o.a.createElement(c.a,{paddingTop:10,paddingBottom:10},o.a.createElement(b.a,{fontSize:14,lineHeight:20,intrusion:60}),o.a.createElement(b.a,{fontSize:14,lineHeight:20,intrusion:20}),o.a.createElement(b.a,{fontSize:14,lineHeight:20,intrusion:180}))};g.displayName="Description";var v=g,h=function(e){return o.a.createElement(c.a,{paddingTop:8,paddingBottom:8},o.a.createElement(b.a,{fontSize:12,lineHeight:20,intrusion:e.labelIntrusion}),o.a.createElement(c.a,{paddingTop:10,paddingBottom:10},o.a.createElement(b.a,{fontSize:20,lineHeight:20,intrusion:e.fieldIntrusion})))};h.displayName="Field";var O=h,j=function(){return o.a.createElement(c.a,{paddingTop:10,paddingBottom:10},o.a.createElement(b.a,{fontSize:20,lineHeight:24,intrusion:20}),o.a.createElement(b.a,{fontSize:20,lineHeight:24,intrusion:140}))};j.displayName="Summary";var w=j;function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=i.default.div([""]),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,e);var t=C(n);function n(){return k(this,n),t.apply(this,arguments)}return function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"render",value:function(){var e=this.props.isCompact,t=Object(f.isIndividualScrollingEnabled)()?x:r.Fragment;return o.a.createElement(t,null,o.a.createElement(d.a,{isCompact:e},o.a.createElement(l.a,null,o.a.createElement(u.b,null),e?n.renderCompactSkeleton():n.renderFullSizeSkeleton())))}}],[{key:"renderFieldSkeletons",value:function(){return o.a.createElement(c.a,{paddingTop:4,paddingBottom:16},o.a.createElement(O,{labelIntrusion:170,fieldIntrusion:20}),o.a.createElement(O,{labelIntrusion:120,fieldIntrusion:60}),o.a.createElement(O,{labelIntrusion:140,fieldIntrusion:40}))}},{key:"renderCompactSkeleton",value:function(){return o.a.createElement(s.a,null,o.a.createElement(y,null,o.a.createElement(w,null),n.renderFieldSkeletons(),o.a.createElement(v,null),o.a.createElement(a.a,null)))}},{key:"renderFullSizeSkeleton",value:function(){return[o.a.createElement(s.a,{key:"maincontent",medium:8},o.a.createElement(y,null,o.a.createElement(w,null),o.a.createElement(v,null),o.a.createElement(a.a,null))),o.a.createElement(s.a,{key:"secondarycontent",medium:4},o.a.createElement(y,null,n.renderFieldSkeletons()))]}}]),n}(r.Component);T.displayName="Skeleton";t.b=Object(p.a)(T)},"./src/packages/issue/issue-view/src/views/common/with-compact-mode/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/views/common/compact-mode-provider/index.js");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return function(t){return o.a.createElement(i.a,null,(function(n){return o.a.createElement(e,s({},t,{isCompact:n}))}))}}},"./src/packages/issue/issue-view/src/views/common/with-container-width/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/width-detector/dist/esm/WidthDetector.js");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return function(t){return o.a.createElement(i.a,null,(function(n){return o.a.createElement(e,s({},t,{containerWidth:n}))}))}}},"./src/packages/issue/issue-view/src/views/common/with-profilecard-next/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/profilecard-next/src/async.js"),s=n("./src/packages/platform/controllers/tenant-context/src/index.js");t.a=function(e){var t=function(e){return e&&(e.accountId||e.id||e.value)}(e.userAccount);return t?o.a.createElement(i.b,{TenantContextSubscriber:s.d,accountId:t,analyticsData:e.analyticsData,position:e.position,actions:e.actions},e.children):e.children}},"./src/packages/issue/issue-view/src/views/connect-field.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),s=n("./node_modules/uuid/index.js"),a=n.n(s),c=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),u=n("./src/packages/platform/utils/fetch/src/index.js"),l=n("./src/packages/issue/issue-view/src/common/model/loading-stage-type.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),p=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),m=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),y=n("./src/packages/issue/issue-view/src/drafts/draft-actions.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-actions.js"),v=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/index.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=Object(r.defineMessages)({defaultFallbackInvalidMessage:{id:"issue.field.default-fallback-invalid-message",defaultMessage:"The value could not be saved"}}),E={transformFromStateValue:function(e,t,n){return e},transformToStateValue:function(e){return e},fallbackInvalidMessage:function(e){return e.formatMessage(w.defaultFallbackInvalidMessage)},additionalProps:function(e,t){return{}},additionalCallbacks:function(e){return{}},isOptimistic:!0,canContainMediaContent:!1,shouldSaveDraft:!1,saveField:function(e){var t=e.baseUrl,n=e.issueKey,r=e.fieldMetaKey,o=e.value,i=e.fieldEditSessionId,s=i?"".concat(t,"/rest/api/2/issue/").concat(n,"?fieldEditSessionId=").concat(i):"".concat(t,"/rest/api/2/issue/").concat(n);return Object(u.j)(s,{body:JSON.stringify({fields:j({},r,o)})})},shouldDiscardChangeOnFailure:!1,onSaveFailureFlagType:null,onSaveSuccessFlagType:null,fieldId:""},k=function(e,t,n,r){return{baseUrl:e,projectKey:t,issueKey:n,fieldId:r}};t.a=function(e){return function(t,n){return function(s){var u=function(e){return{mapStateToProps:function(t,n){var r=e(t,n),o=O(O({},E),r),s=o.fieldId,a=o.transformFromStateValue,c=o.transformToStateValue,u=o.fallbackInvalidMessage,m=o.additionalProps,y=o.additionalCallbacks,g=o.isOptimistic,v=o.canContainMediaContent,h=o.saveField,j=o.shouldDiscardChangeOnFailure,w=o.shouldSaveDraft,S=o.onSaveFailureFlagType,I=o.onSaveSuccessFlagType,C={isRichTextField:Object(d.F)(s)(t),isOptimistic:g,canContainMediaContent:v,saveField:h,shouldDiscardChangeOnFailure:j,shouldSaveDraft:w,onSaveFailureFlagType:S,onSaveSuccessFlagType:I},P=Object(i.a)(k),_=Object(i.a)(c),x=Object(i.a)(a);return function(e,t){return O(O({fieldId:s,fieldOptions:C,memoizedTransformToStateValue:_,additionalCallbacks:y,label:Object(d.m)(s)(e),isEditable:Object(d.z)(s)(e)&&Object(p.v)(e)!==l.c,isEditing:Object(d.A)(s)(e),fieldEditSessionId:Object(d.f)(s)(e),invalidMessage:Object(d.j)(s,u(t.intl))(e)},Object(b.isForgeUiCustomFieldIntegrationEnabled)()?{customFieldConfig:Object(d.p)(s)(e)}:{}),{},{value:x(Object(d.h)(s)(e),P(Object(f.f)(e),Object(f.J)(e),Object(f.B)(e),s),t.intl),isWaiting:!g&&Object(d.C)(s)(e),isMobile:Object(f.t)(e)},m(e,t.intl))}},mapDispatchToProps:function(e){return{initFieldOptions:function(t){var n=t.fieldId,r=t.fieldOptions;return function(){return e(Object(g.m)(n,r))}},onEditRequest:function(t){var n=t.fieldId,r=t.fieldOptions;return function(){return e(Object(g.i)(n,r,a.a.v4()))}},onChange:function(t){var n=t.fieldId,r=t.fieldOptions,o=t.memoizedTransformToStateValue;return function(t){return e(Object(g.l)(n,o(t),r))}},onConfirm:function(t){var n=t.fieldId,r=t.fieldOptions,o=t.analyticsAttributeIdRetriever;return function(){var t,i=arguments.length>1?arguments.length<=0?void 0:arguments[0]:void 0,s=arguments.length?(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t]:void 0;return e(Object(g.k)(n,r,i,s,o))}},onBlur:function(t){var n=t.fieldId,r=t.fieldOptions;return function(){return e(Object(g.j)(n,r))}},onCancel:function(t){var n=t.fieldId,r=t.fieldOptions;return function(){e(Object(g.j)(n,r)),e(Object(y.j)({fieldId:n}))}},onPaste:function(t){var n=t.fieldId,r=t.fieldOptions;return function(t){return e(Object(g.n)(n,r,t))}},getAdditionalCallbacks:function(t){return(0,t.additionalCallbacks)(e)}}},mergeStateAndDispatchProps:function(e,t){var n=Object.keys(t).reduce((function(n,r){return n[r]=t[r](e),n}),{}),r=t.getAdditionalCallbacks(e);return O(O(O({},e),n),r)}}}(t);return Object(m.a)([Object(c.f)("issueFields",{onConfirm:"updated"}),Object(c.e)(e),Object(o.connect)(u.mapStateToProps,u.mapDispatchToProps,u.mergeStateAndDispatchProps),r.injectIntl,Object(v.d)("connectField")],n)(Object(v.d)()(s))}}}("issueFields")},"./src/packages/issue/issue-view/src/views/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return l}));var r="BOARD_SIDEBAR",o="EDIT_FIELD",i="GIVE_FEEDBACK",s="QUICK_ADDS",a="SHOW_MORE",c="status-and-approval-spotlight",u="status-spotlight",l={ASSIGNEE:{TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.assignee.time-to.render-initial-suggestions",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.assignee.time-to.reflect-input-results",TIME_TO_REFLECT_SELECTED:"jira.fe.issue.fields.assignee.time-to.reflect-selected",TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT:"jira.fe.issue.fields.assignee.time-to.assign-to-me-via-shortcut"},SUMMARY:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.summary.time-to.render-edit-view",TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.summary.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.summary.time-to.render-read-view-on-cancel"},LABELS:{TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.labels.time-to.render-initial-suggestions",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.labels.time-to.reflect-input-results",TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.labels.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.labels.time-to.render-read-view-on-cancel",TIME_TO_REFLECT_SELECTED_EXISTING:"jira.fe.issue.fields.labels.time-to.reflect-selected-existing",TIME_TO_REFLECT_SELECTED_NEW:"jira.fe.issue.fields.labels.time-to.reflect-selected-new",TIME_TO_REFLECT_REMOVED_EXISTING:"jira.fe.issue.fields.labels.time-to.reflect-removed-existing"},STORY_POINTS:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.story-points.time-to.render-edit-view",TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.story-points.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.story-points.time-to.render-read-view-on-cancel"},ISSUE_LINKS:{TIME_TO_REFLECT_SELECTED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.reflect-selected-issue",TIME_TO_REFLECT_REMOVED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.reflect-removed-issue",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.issue-links.time-to.reflect-input-results",TIME_TO_RENDER_LINKED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.render-linked-issue",TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT:"jira.fe.issue.fields.issue-links.time-to.render-new-linked-issue-input"},SPRINT:{TIME_TO_REFLECT_SELECTED_SPRINT:"jira.fe.issue.fields.sprint.time-to.reflect-selected-sprint",TIME_TO_REFLECT_REMOVED_SPRINT:"jira.fe.issue.fields.sprint.time-to.reflect-removed-sprint",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.sprint.time-to.reflect-input-results",TIME_TO_RENDER_READ_VIEW:"jira.fe.issue.fields.sprint.time-to.render-read-view",TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.sprint.time-to.render-initial-suggestions"},PRIORITY:{TIME_TO_RENDER_READ_VIEW:"jira.fe.issue.fields.priority.time-to.render-read-view",TIME_TO_RENDER_SUGGESTIONS:"jira.fe.issue.fields.priority.time-to.render-suggestions",TIME_TO_REFLECT_PRIORITY_UPDATE:"jira.fe.issue.fields.priority.time-to.reflect-priority-update"},COMMENTS:{TIME_TO_RENDER_NEW_COMMENT_EDITOR:"jira.fe.issue.fields.comments.time-to.render-new-comment-editor",TIME_TO_RENDER_SAVED_COMMENT:"jira.fe.issue.fields.comments.time-to.render-saved-comment"},DESCRIPTION:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.description.time-to.render-edit-view",TIME_TO_SAVE_UPDATED_DESCRIPTION:"jira.fe.issue.field.description.time-to.save-updated-description",TIME_TO_SAVE_UNCHANGED_DESCRIPTION:"jira.fe.issue.field.description.time-to.save-unchanged-description"}}},"./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return ke})),n.d(t,"c",(function(){return fe.f}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/rxjs/Rx.js"),a=n("./node_modules/lodash/noop.js"),c=n.n(a),u=n("./node_modules/@atlaskit/form/dist/esm/Messages.js"),l=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),f=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/keyboard-shortcuts/shortcut-scope.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/picker/base/messages.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),y=n("./src/packages/issue/issue-view/src/common/constants/index.js"),b=function(e,t){return"string"==typeof e&&e.toLowerCase().includes(t)},g=Object(i.defineMessages)({empty:{id:"issue.views.field.select.empty",defaultMessage:"No matches found"},failedFetch:{id:"issue.views.field.select.failed-fetch",defaultMessage:"Search failed."},reloadIssue:{id:"issue.views.field.select.reload-issue",defaultMessage:"Try reloading the issue."}}),v=n("./node_modules/uuid/index.js"),h=n.n(v),O=n("./node_modules/@atlaskit/select--current/CreatableSelect.js"),j=n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/hash-attribute.js"),w=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),E=n("./src/packages/common-legacy-do-not-add-anything-new/src/performance/index.js"),k=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),S=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),I=n("./node_modules/lodash/flatMap.js"),C=n.n(I),P=(n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/safe-string.js"),function(e){return C()(e.map((function(e){return function(e){return void 0!==e.options}(e)&&e.options?e.options:e})))}),_=function(e){return null==e?[]:Array.isArray(e)?e:[e]},x=function(e){var t="number"==typeof e?e:Number.parseInt(e,10);return Number.isNaN(t)?Object(j.a)(e.toString()):t},T=function(e){return e.filter((function(e){return e.value})).map((function(e){var t=e.value;return x(t)}))},A=function(e){return e.filter((function(e){return e.value})).map((function(e){var t=e.value;return null!=t?"".concat(t).length:0}))};function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=Object(S.a)((function(e){return{label:e(""),isDisabled:!0,isAkSelectOption:!0}})),G=Object(S.a)((function(e){return{label:e(""),isDisabled:!0,isAkSelectOption:!0}})),q=Object(S.a)((function(e,t,n,r){return e?[].concat(B(t),[n,r]):t})),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(n,e);var t=U(n);function n(){var e;L(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).formatCreateLabel=function(t){var n=e.props,r=n.footer,o=n.formatCreateLabel;return void 0===r?o?o(t):t:"function"==typeof r?r(t):r},e.getShouldShowFooter=function(){var t=e.props,n=t.footer,r=t.shouldShowFooter;return!!n&&r},e.isOptionShownInDropdown=function(t,n){var r=e.props,o=r.filterOption,i=r.noOptionsMessage,s=r.loadingMessage,a=r.value;return(o(t,n)&&t.label!==i("")&&t.label!==s("")&&!_(a).find((function(e){return e.value===t.value})))},e.filterOptionWithFooterAndShowNoOptionsMessage=function(t,n){var r=e.props,o=r.filterOption,i=r.options,s=r.isLoading,a=r.noOptionsMessage,c=r.loadingMessage;return t.label===a("")?!s&&!P(i).some((function(t){return e.isOptionShownInDropdown(t,n)})):t.label===c("")?s&&!P(i).some((function(t){return e.isOptionShownInDropdown(t,n)})):o(t,n)},e}return function(e,t,n){t&&N(e.prototype,t),n&&N(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=(e.footer,e.onFooterSelect),n=e.options,r=e.noOptionsMessage,i=e.loadingMessage,s=e.filterOption,a=M(e,["footer","onFooterSelect","options","noOptionsMessage","loadingMessage","filterOption"]),c=this.getShouldShowFooter(),u=G(r),l=H(i),f=q(c,n,u,l);return o.a.createElement(O.a,R({},a,{options:f,formatCreateLabel:this.formatCreateLabel,isValidNewOption:this.getShouldShowFooter,onCreateOption:t,filterOption:c?this.filterOptionWithFooterAndShowNoOptionsMessage:s,loadingMessage:i,noOptionsMessage:r,allowCreateWhileLoading:!0}))}}]),n}(r.Component);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}z.defaultProps={shouldShowFooter:!0},z.displayName="SelectWithFooter";var ie={onChange:"valueChanged",onInputChange:"inputChanged",onMenuOpen:"menuOpened",onMenuClose:"menuClosed"},se=Object(w.f)("select",ie)(z),ae=Object(w.f)("select",ie)(O.a),ce={action:"fake-action"},ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(n,e);var t=ne(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).getDefaultAnalyticsAttributes=function(e){var t=r.props,n=t.fieldId,o=t.value,i=t.isLoading,s={queryLength:e.length,queryHash:""===e?e:Object(j.a)(e)},a=_(o),c=function(e,t){return e.filter((function(e){return"string"==typeof e.value&&e.value.toLowerCase().includes((t||"").toLowerCase())}))}(r.flatOptions,e),u=T(c);return Z({fieldId:n,componentName:"select",packageName:"@atlaskit/select",options:u,optionsLength:u.length,optionsLengths:A(c),selectedOptions:T(a),selectedOptionsLengths:A(a),sessionId:r.sessionId,isLoading:i},s)},r.getItemOrder=function(e){var t=[];return r.flatOptions.forEach((function(n,r){var o=n.filterValues||[];(n.value===e.value||o.includes(e.value))&&t.push(r)})),t.length>0?t[0]:-1},r.startSession=function(){r.sessionId=h.a.v4(),r.sessionStartedAt=E.default.now(),r.fireTrackAnalyticsEvent(r.props.createAnalyticsEvent({action:"started"}),"started","optionSelectionSession")},r.endSession=function(){if(r.sessionId){var e=r.sessionStartedAt?E.default.now()-r.sessionStartedAt:0;r.fireTrackAnalyticsEvent(r.props.createAnalyticsEvent({action:"ended"}),"ended","optionSelectionSession",{elapsedTime:e})}r.sessionStartedAt=0,r.sessionId=void 0},r.flatOptions=[],r.sessionId=void 0,r.queryAtSetValue="",r.query="",r.sessionStartedAt=0,r.isOpened=!1,r.fireOptionsLoadedEvent=function(e){e.update({action:"loaded",actionSubject:"options"}),r.fireAnalyticsEvent(e,r.query)},r.fireInputChangedEvent=function(e,t,n){return"set-value"===t.action&&(r.queryAtSetValue=r.query),r.query=e,n.update({action:"changed",actionSubject:"filter"}),r.fireAnalyticsEvent(n,r.query),r.sessionId},r.restartSession=function(){r.endSession(),r.props.menuIsOpen&&(r.isOpened=!0,r.startSession())},r.fireOptionCreatedEvent=function(e,t){t.update({action:"created",actionSubject:"option"});var n=r.sessionId;r.restartSession(),r.fireAnalyticsEvent(t,r.queryAtSetValue,{selectedOption:x(e.value),sessionId:n})},r.fireOptionRemovedEvent=function(e,t){t.update({action:"removed",actionSubject:"option"}),r.fireAnalyticsEvent(t,r.query,{removedItem:e?x(e.value):void 0})},r.fireOptionSelectedEvent=function(e,t){t.update({action:"changed",actionSubject:"option"});var n=r.sessionId;r.restartSession(),r.fireAnalyticsEvent(t,r.queryAtSetValue,{selectedOrder:r.getItemOrder(e),selectedOption:x(e.value),sessionId:n})},r.fireOpenChangedEvent=function(e,t){e.isOpen&&!r.isOpened&&r.startSession(),r.isOpened=e.isOpen,t.update({action:e.isOpen?"opened":"closed",actionSubject:"optionSelect",attributes:r.getDefaultAnalyticsAttributes(r.query)}),r.fireAnalyticsEvent(t,r.query)},r.onChange=function(e,t,n){var o=Array.isArray(e)?e[e.length-1]:e,i=r.sessionId;switch(t.action){case"create-option":null!==o&&r.fireOptionCreatedEvent(o,n);break;case"remove-value":case"pop-value":case"deselect-option":r.fireOptionRemovedEvent(t.removedValue||t.option,n);break;case"select-option":null!==o&&r.fireOptionSelectedEvent(o,n)}r.props.onChange&&r.props.onChange(e,t,i)},r.onInputChange=function(e,t,n){var o=r.props.onInputChange;"input-change"!==t.action&&"set-value"!==t.action||r.fireInputChangedEvent(e,t,n),o(e,t,r.sessionId)},r.onMenuOpen=function(e){r.fireOpenChangedEvent({isOpen:!0},e);var t=r.props.onMenuOpen;t&&t(e)},r.onMenuClose=function(e){r.fireOpenChangedEvent({isOpen:!1},e);var t=r.props.onMenuClose;t&&t(e)},r.onFocus=function(e){r.props.onFocus(e,r.sessionId)},r.flatOptions=P(r.props.options),r.isOpened=e.menuIsOpen,r.isOpened&&(r.startSession(),r.fireInputChangedEvent("",ce,r.props.createAnalyticsEvent({}))),r}return function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(n,[{key:"componentDidUpdate",value:function(e){this.props.options!==e.options&&(this.flatOptions=P(this.props.options),this.fireOptionsLoadedEvent(this.props.createAnalyticsEvent()))}},{key:"componentWillUnmount",value:function(){this.endSession()}},{key:"fireAnalyticsEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Z(Z({},this.getDefaultAnalyticsAttributes(t)),n);Object(k.u)(e,r)}},{key:"fireTrackAnalyticsEvent",value:function(e,t,n,r){var o=Z(Z({},this.getDefaultAnalyticsAttributes(this.query)),r);Object(k.t)(e,"".concat(n," ").concat(t),o)}},{key:"render",value:function(){var e=this.props,t=e.canCreateNewItem,n=(e.createAnalyticsEvent,J(e,["canCreateNewItem","createAnalyticsEvent"])),r=t?ae:se;return o.a.createElement(r,Q({},n,{onFocus:this.onFocus,onChange:this.onChange,onInputChange:this.onInputChange,onMenuOpen:this.onMenuOpen,onMenuClose:this.onMenuClose}))}}]),n}(r.Component);ue.defaultProps={isLoading:!1,createAnalyticsEvent:c.a,onChange:c.a,onInputChange:c.a,onMenuOpen:c.a,onMenuClose:c.a},ue.displayName="SelectWithAnalyticsView";var le=Object(w.q)()(ue),fe=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/styled.js"),de=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/utils.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke={hideSelectedOptions:!0,allowCreateWhileLoading:!0,filterOption:function(e,t){if(e.data&&e.data.__isNew__)return!0;var n=t.trim().toLowerCase();return!!b(e.label,n)||!(!e.data||!e.data.filterValues)&&e.data.filterValues.some((function(e){return b(e,n)}))}},Se=function(e){return we({label:e.content},e)},Ie=function(e,t){e.label,e.filterValues;var n=we({},Oe(e,["label","filterValues"]));return"create-option"===t.action&&void 0===n.content&&(n.content=e.label),n},Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(n,e);var t=ge(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={options:[],isLoading:!0,hasLastFetchFailed:!1},r.onFocus=function(e,t){r.query$.next({query:"",sessionId:t,isImmediate:!0})},r.onChange=function(e,t,n){var o=r.props,i=o.onChange,s=o.onChangeMulti;if(o.isMulti){if(!s)return;r.query$.next({query:r.query||"",sessionId:n,isImmediate:!0}),s(Array.isArray(e)?e.map((function(e){return Ie(e,t)})):[],t)}else{if(!i||Array.isArray(e))return;i(e&&Ie(e,t),t)}},r.onInputChange=function(e,t,n){if("input-change"===t.action||"set-value"===t.action){var o=e;r.props.changeQueryValue&&(o=r.props.changeQueryValue(o)),r.query=o,"input-change"===t.action&&(r.setState({isLoading:!0}),r.query$.next({query:o,sessionId:n})),r.props.onInputChange&&r.props.onInputChange(o,t)}},r.formatOptionLabel=function(e,t){return void 0!==r.props.formatOptionLabel?r.props.formatOptionLabel(e,t):e.iconUrl?o.a.createElement(fe.e,null,o.a.createElement(fe.d,null,o.a.createElement("img",{src:e.iconUrl,alt:"",width:2*p.f,height:2*p.f,role:"none"})),o.a.createElement(fe.c,null,e.label)):e.label},r.transformItems=function(e){return e&&e.length>0?e.map(Se):[]},r.transformToOptions=function(e){return 1!==e.length||e[0].heading?e.map((function(e){var t=r.transformItems(e.items);return void 0!==e.heading?{label:e.heading,options:t}:{options:t}})):r.transformItems(e[0].items)},r.subscription=void 0,r.query$=void 0,r.query=null,r.getFailedFetchMessage=function(){return o.a.createElement(fe.b,null,o.a.createElement("span",null,r.props.intl.formatMessage(g.failedFetch)," ",o.a.createElement("a",{role:"button",href:window.location.href,onClick:function(){return window.location.reload()}},r.props.intl.formatMessage(g.reloadIssue))))},r.noOptionsMessageDefault=function(){return r.props.intl.formatMessage(g.empty)},r.loadingMessageDefault=function(){return r.props.intl.formatMessage(d.a.loading)},r.filterOption=function(e){return!!r.state.hasLastFetchFailed||r.props.filterOption&&r.props.filterOption(e,r.query||"")},r.renderSelectField=function(){var e=r.props,t=e.placeholder,n=void 0===t?"":t,i=e.noOptionsMessage,s=void 0===i?r.noOptionsMessageDefault:i,a=e.loadingMessage,c=void 0===a?r.loadingMessageDefault:a,u=e.fieldId,l=(e.onChangeMulti,e.invalidMessage),f=e.isOpen,d=e.hasAutocomplete,p=e.portalElement,m=(e.intl,e.fetchSuggestions,e.debounceFetchSuggestionsTime,e.changeQueryValue,e.errorMessagePosition,Oe(e,["placeholder","noOptionsMessage","loadingMessage","fieldId","onChangeMulti","invalidMessage","isOpen","hasAutocomplete","portalElement","intl","fetchSuggestions","debounceFetchSuggestionsTime","changeQueryValue","errorMessagePosition"])),y=l?"error":void 0;return o.a.createElement(le,me({},ke,m,{filterOption:r.filterOption,key:u,fieldId:u,options:r.state.options,value:r.getSelectedValue(),styles:Object(de.a)(fe.f,fe.g,r.props.styles),isLoading:r.state.isLoading,isSearchable:d,menuIsOpen:f,menuPortalTarget:p,menuPlacement:"auto",placeholder:n,noOptionsMessage:s,loadingMessage:c,validationState:y,formatOptionLabel:r.formatOptionLabel,onChange:r.onChange,onFocus:r.onFocus,onInputChange:r.onInputChange}))},r.renderErrorMessage=function(){var e=r.props,t=e.invalidMessage,n=e.fieldId,i=e.errorMessagePosition;return t?o.a.createElement(fe.a,{key:"".concat(n,"-error-message"),errorMessagePosition:i},o.a.createElement(u.a,null,t)):null};var i=r.props,a=i.onDataRequest,c=i.onDataLoaded,f=i.fetchSuggestions,b=i.debounceFetchSuggestionsTime;return r.query$=new s.Subject,r.subscription=r.query$.debounce((function(e){return e.isImmediate?s.Observable.empty():s.Observable.timer(b||0)})).switchMap((function(e){var t=e.query,n=e.sessionId;return a&&a({isInitial:null===r.query}),r.setState({isLoading:!0}),f(t,n||void 0).then((function(e){return r.setState({hasLastFetchFailed:!1}),e})).catch((function(e){return m.h.safeError("issue.select.transform-suggestions","Could not fetch or transform suggestions to display in select",new l.a({eventNameSuffix:y.E,type:l.i,app:l.e,event:e})),r.setState({hasLastFetchFailed:!0}),[{items:[{content:r.getFailedFetchMessage(),value:"",isDisabled:!0}]}]}))})).subscribe((function(e){r.setState({options:r.transformToOptions(e),isLoading:!1}),c&&c({isInitial:null===r.query})})),r}return function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(n,[{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"getSelectedValue",value:function(){var e=this.props.value;return e?Array.isArray(e)?e.map(Se):Se(e):null}},{key:"render",value:function(){var e=this.props.errorMessagePosition,t=[this.renderSelectField()];return"top"===e?t.unshift(this.renderErrorMessage()):t.push(this.renderErrorMessage()),o.a.createElement(f.a,null,o.a.createElement(o.a.Fragment,null,t))}}]),n}(r.Component);Ce.displayName="SelectFieldView",Ce.defaultProps={isMulti:!1,canCreateNewItem:!1,value:null,placeholder:void 0,autoFocus:!1,debounceFetchSuggestionsTime:0,filterOption:ke.filterOption,errorMessagePosition:"top",onChangeMulti:c.a,onChange:c.a,onInputChange:c.a},Ce.displayName="SelectFieldView";t.a=Object(i.injectIntl)(Ce)},"./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/styled.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/picker/base/index.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={multiValue:function(e){return c(c({},e),{},{"background-color":o.colors.N20})},option:function(e,t){return c(c(c(c({},e),Object(i.c)(t)),{},{cursor:"pointer"},t.isFocused&&!t.isSelected?{backgroundColor:o.colors.N20}:{}),{},{"&:hover":c(c({},t.isSelected?{}:{backgroundColor:o.colors.N20}),t.isDisabled?{backgroundColor:"transparent",cursor:"not-allowed"}:{})})},menu:function(e){return c(c({},e),{},{zIndex:s.g.modal})},menuPortal:function(e){return c(c({},e),{},{transform:"translateZ(0)"})}},f="".concat(s.f/4,"px"),d="".concat(s.f/2,"px"),p={indicatorsContainer:function(e){return c(c({},e),{},{paddingRight:"".concat(s.f/2,"px")})},loadingIndicator:function(e){return c(c({},e),{},{paddingLeft:f,paddingRight:d})},clearIndicator:function(e){return c(c({},e),{},{paddingLeft:f,paddingRight:d})},dropdownIndicator:function(e){return c(c({},e),{},{display:"none"})}},m=r.default.span(["display:flex;align-items:center;"]),y=Object(r.default)(m)(["justify-content:center;"]),b=r.default.span(["display:flex;padding-right:","px;"],s.f),g=r.default.span(["display:flex;"]),v=r.default.div(["",";"],(function(e){return"top"===e.errorMessagePosition?"margin-bottom: ".concat(.75*s.f,"px;"):""}))},"./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/utils.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return s}));var s=function(e){for(var t=e||{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(0===r.length)return t;var s=o({},t);return r.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=s[t],r=e[t];s[t]=n?function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return r.apply(void 0,[n.apply(void 0,[e].concat(o))].concat(o))}:r}))})),s}},"./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-field-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/field-text/FieldTextStateless.js"),s=function(e,t){var n=e.type,r=void 0===n?"text":n,s=e.value,a=void 0===s?"":s,c=e.placeholder,u=void 0===c?"":c,l=e.invalidMessage,f=e.onChange;return(o.a.createElement(i.a,{type:r,value:a,placeholder:u,onChange:f,isInvalid:!!l,invalidMessage:l,shouldFitContainer:!0,autoFocus:!0,isLabelHidden:!0,label:"",ref:t}))};s.displayName="SingleLineTextField",s.displayName="SingleLineTextField",t.a=Object(r.forwardRef)(s)},"./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-inline-edit-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/inline-edit/messages.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-url.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-valid-email-address.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/prefix-url.js"),f=n("./src/packages/forge/forge-ui/src/ui/extension-title/index.js"),d=n("./src/packages/issue/issue-view/src/common/component/inline-edit/index.js"),p=n("./src/packages/issue/issue-view/src/common/styles/index.js"),m=n("./src/packages/issue/issue-view/src/feature-flags.js"),y=n("./src/packages/issue/issue-view/src/views/common/field-heading/field-heading-view.js"),b=n("./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-field-view.js");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=O(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).onChange=function(e){var t,n=o.props.type;"number"===n?""===e.target.value?t=null:(t=Number(e.target.value),o.setState({displayValue:e.target.value})):t=e.target.value,"url"===n&&o.setState({showValidationMessage:!1,invalidMessage:e.target.validationMessage}),o.props.onChange(t)},o.onConfirm=function(){o.state.invalidMessage?(o.setState({showValidationMessage:!0}),o.editFieldRef.current&&o.editFieldRef.current.focus()):o.props.onConfirm()},o.onCancel=function(){"url"===o.props.type&&o.setState({showValidationMessage:!1,invalidMessage:null}),o.props.onCancel()},o.editFieldRef=Object(r.createRef)(),o.state={invalidMessage:null,showValidationMessage:!1,displayValue:null},o}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(n,[{key:"componentDidUpdate",value:function(e){"number"===this.props.type&&this.props.value!==e.value&&(this.state.displayValue=null)}},{key:"renderReadView",value:function(){if(Object(m.isForgeUiCustomFieldIntegrationEnabled)()&&this.props.customReadView)return this.props.customReadView();var e=this.props,t=e.value,n=e.noValueText,r=e.type;if(null==t||""===t)return o.a.createElement(p.c,null,n);var s=function(e,t){switch(e){case"number":return o.a.createElement(i.FormattedNumber,{value:t});case"text":return Object(u.a)(t)?o.a.createElement("a",{href:"mailto:".concat(t)},t):Number(t)?t:Object(c.a)(t)?o.a.createElement("a",{href:Object(l.a)(t,"//"),target:"_blank"},t):t;case"url":return Object(u.a)(t)?o.a.createElement("a",{href:"mailto:".concat(t)},t):o.a.createElement("a",{href:Object(l.a)(t,"//"),target:"_blank"},t);default:return t}}(r,t);return(o.a.createElement(p.b,null,s))}},{key:"renderEditView",value:function(){var e=this.props,t=e.value,n=e.placeholder,r=null!=t?this.state.displayValue||t.toString():"";return o.a.createElement(b.a,{ref:this.editFieldRef,type:this.props.type,value:r,placeholder:n,onChange:this.onChange,invalidMessage:this.props.invalidMessage||(this.state.showValidationMessage?this.state.invalidMessage:null)})}},{key:"renderLabel",value:function(){var e=this.props,t=e.customFieldConfig,n=e.label;return t&&t.environment?o.a.createElement(f.a,{extensionName:n,extensionEnvType:t.environment}):n}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.label;return(o.a.createElement("div",null,o.a.createElement(y.a,null,o.a.createElement(y.b,null,Object(m.isForgeUiCustomFieldIntegrationEnabled)()?this.renderLabel():n)),o.a.createElement(s.a,{onEnter:this.onConfirm,onEscape:this.onCancel},o.a.createElement(d.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:this.props.isEditing,onConfirm:this.onConfirm,onCancel:this.onCancel,onEditRequested:this.props.onEditRequest,isFitContainerWidthReadView:!this.props.isMobile,editButtonLabel:t.formatMessage(a.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:t.formatMessage(a.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:t.formatMessage(a.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(r.Component);E.displayName="SingleLineTextInlineEditView",E.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,value:null,noValueText:null,invalidMessage:null,type:"text",label:""},E.displayName="SingleLineTextInlineEditView",t.a=Object(i.injectIntl)(E)},"./src/packages/issue/issue-view/src/views/field/team/assets/default-avatar.svg":function(e,t,n){e.exports=n.p+"assets/default-avatar.b7f1021e538053b2b6f8108284f2ffc4.8.svg"},"./src/packages/issue/issue-view/src/views/issue-base/content/content-items-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/platform/services/issue/src/model/index.js"),a=n("./src/packages/issue/issue-view/src/common/model/connect-field-type.js"),c=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),f=n("./src/packages/issue/issue-view/src/common/styles/index.js"),d=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),p=n("./src/packages/issue/issue-view/src/configurations.js"),m=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),y=n("./src/packages/issue/issue-view/src/feature-flags.js"),b=n("./src/packages/issue/issue-view/src/layout-descriptor/index.js"),g=n("./src/packages/issue/issue-view/src/actions/context-item-actions.js"),v=n("./node_modules/lodash/noop.js"),h=n.n(v),O=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),j=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),w=n("./src/packages/issue/issue-view/src/common/constants/index.js"),E=n("./src/packages/issue/issue-view/src/views/issue-base/get-layout-item-map.js");function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e){var t=e.layoutItems,n=e.area,r=e.ItemContainer,i=e.onOpenPanel,s=Object(E.a)();return o.a.createElement(o.a.Fragment,null,t.map((function(e){return function(e,t,n,r,i){var s=e.key,a=e.type,c=e.payload,u=t[a],l=u&&u.item;if(!l)return j.a.safeError("issue.views.issue-base.".concat(n),'Could not find a matching component for "'.concat(a,'"'),new O.a({eventNameSuffix:w.E,type:O.i,app:O.e})),null;return i?function(e){return r?o.a.createElement(r,{key:s},o.a.createElement(l,k({},c,{area:n,onOpenPanel:function(t){return e(s,a,t)}}))):o.a.createElement(l,k({},c,{key:s,area:n,onOpenPanel:function(t){return e(s,a,t)}}))}(i):function(){return r?o.a.createElement(r,{key:s},o.a.createElement(l,k({},c,{area:n}))):o.a.createElement(l,k({},c,{key:s,area:n}))}()}(e,s,n,r,i)})))};S.defaultProps={ItemContainer:void 0,onOpenPanel:h.a};var I=S,C=Object(i.connect)((function(){return{}}),(function(e){return{onOpenPanel:function(t,n,r){var o={title:r&&r.title||n,type:n,key:t,payload:r};e(Object(g.d)(o))}}}))(I),P=n("./node_modules/react-intl/lib/index.es.js"),_=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),x=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),T=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),A=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenu.js"),D=n("./node_modules/@atlaskit/icon--current/glyph/more.js"),R=n.n(D),M=n("./node_modules/@atlaskit/theme/index.js"),L=n("./node_modules/@atlassian/connect-module-core/dist/es6/index.js"),N=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),F=n("./src/packages/common-legacy-do-not-add-anything-new/src/ecosystem/default-connect-iframe-provider.js"),U=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),V=n("./src/packages/issue/issue-view/src/actions/ecosystem-content-panel-actions.js"),K=n("./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js"),B=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),W=n("./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js"),H=n("./src/packages/common-legacy-do-not-add-anything-new/src/storage/storage-provider.js");function G(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=Object(H.b)("issue-ecosystem"),Y="issue.ecosystem.local-storage",Q=function(){try{return z.get("collapsed-panels")||[]}catch(e){return j.a.safeError(Y,"getCollapsedPanels failed: ".concat(e),new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),[]}},J=n("./src/packages/issue/issue-view/src/common/util/scroll/index.js"),$=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js"),Z=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-timeout-view.js");function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=_.default.div(["display:flex;align-items:center;height:","px;cursor:",";"],4*U.f,(function(e){return e.clickable?"pointer":void 0})),ue=_.default.span(["color:",";margin-left:5px;display:",";",":hover &{display:inline;}"],M.colors.link,(function(e){return e.alwaysShow?void 0:"none"}),ce),le=_.default.div(["align-items:center;display:flex;flex-flow:row-reverse wrap;& > * + *{margin-left:","px;}"],U.f),fe=_.default.div(["max-height:",";overflow-y:",";overflow-x:hidden;",";transition:max-height 1s ease-out;"],(function(e){return e.isCollapsed?"0":"1500px"}),(function(e){return e.isCollapsed?"hidden":"auto"}),Object(f.h)("&")),de=_.default.h1(["flex:1;",";",";color:",";"],f.g,M.typography.h400(),M.colors.heading),pe=Object(P.defineMessages)({actions:{id:"issue.content.ecosystem-panels.meatballs.actions",defaultMessage:"Actions"},hide:{id:"issue.content.ecosystem-panels.meatballs.hide",defaultMessage:"Hide {appName}"},collapse:{id:"issue.content.ecosystem-panels.collapse-content",defaultMessage:"hide"},expand:{id:"issue.content.ecosystem-panels.expand-content",defaultMessage:"show"}}),me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(n,e);var t=ie(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).setupConnectHost=function(e){e&&e.onIframeUnload((function(t){var n=t.extension;e.destroy(n.id)}))},r.contentPanelContainer=void 0,r.handleRemoveContentPanel=function(){var e=r.props,t=e.appKey,n=e.moduleKey,o=e.removeContentPanel;(0,e.onContentPanelRemoveAnalytics)(Object(B.b)(t,n)),o("".concat(t,"_").concat(n))},r.toggleCollapsedState=function(){var e=r.props,t=e.appKey,n=e.moduleKey,o=e.onToggleCollapsedStateAnalytics,i=r.state.isCollapsed,s=Object(W.a)("".concat(t,"_").concat(n),10);o(Object(B.g)(t,n,i?"expand":"collapse")),i?function(e){var t=Q();try{z.set("collapsed-panels",t.filter((function(t){return t!==e})))}catch(e){j.a.safeError(Y,"unsetCollapsedPanel failed: ".concat(e),new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e}))}}(s):function(e){var t=Q();try{z.set("collapsed-panels",[].concat(G(t),[e]))}catch(e){j.a.safeError(Y,"setCollapsedPanel failed: ".concat(e),new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e}))}}(s),r.setState({isCollapsed:!i})},r.state={connectHost:window.connectHost,isCollapsed:Q().includes(Object(W.a)("".concat(e.appKey,"_").concat(e.moduleKey),10))},r.setupConnectHost(r.state.connectHost),r}return function(e,t,n){t&&re(e.prototype,t),n&&re(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;this.state.connectHost||Object($.b)((function(t){e.setupConnectHost(t),e.setState({connectHost:t})}))}},{key:"componentDidUpdate",value:function(){this.props.isSelected&&(Object(J.a)(this.contentPanelContainer),this.props.unSelectContentPanel("".concat(this.props.appKey,"_").concat(this.props.moduleKey)))}},{key:"renderHidePanelOption",value:function(){var e=this.props.intl;return(o.a.createElement(x.a,{title:e.formatMessage(pe.actions)},o.a.createElement(T.a,{onClick:this.handleRemoveContentPanel},e.formatMessage(pe.hide,{appName:this.props.name}))))}},{key:"renderMeatBallMenu",value:function(){return o.a.createElement("span",null,o.a.createElement("style",null,".squareButtonWithIcon { padding: 0 6px }"),o.a.createElement(A.a,{triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",iconBefore:o.a.createElement(R.a,{size:"small",label:"meatball menu"}),className:"squareButtonWithIcon"},position:"bottom right"},this.renderHidePanelOption()))}},{key:"renderHeader",value:function(){var e=this.props.contentPanel.showByDefault;if(!e)return o.a.createElement(K.c,null,o.a.createElement(ce,null,o.a.createElement(de,null,this.props.name)),o.a.createElement(le,null,this.renderMeatBallMenu()));var t=this.props.intl,n=this.state.isCollapsed;return o.a.createElement(K.c,null,o.a.createElement(ce,{clickable:!0,onClick:this.toggleCollapsedState},o.a.createElement(de,null,this.props.name),o.a.createElement(ue,{alwaysShow:n},n?t.formatMessage(pe.expand):t.formatMessage(pe.collapse))),e?null:o.a.createElement(le,null,this.renderMeatBallMenu()))}},{key:"render",value:function(){var e=this,t=this.props,n=t.appKey,r=t.moduleKey,i=this.state.isCollapsed,s=this.props.contentPanel,a=s.options,c=s.options,u=c.url,l=c.origin,f=s.showByDefault,d=new F.a;return o.a.createElement("div",{ref:function(t){e.contentPanelContainer=t}},this.renderHeader(),o.a.createElement(fe,{isCollapsed:i&&f},this.state.connectHost&&o.a.createElement(L.a,{key:"connect-iFrame-".concat(l,"-").concat(this.props.refreshedOn),connectHost:this.state.connectHost,appKey:n,moduleKey:r,url:u,options:d.convertConnectOptions(a),connectIframeProvider:d,width:"100%",height:"100%",timeoutIndicator:function(){return o.a.createElement(Z.a,{appName:e.props.contentPanel.name,appKey:n})}})))}}]),n}(r.Component);me.displayName="ContentPanel",me.defaultProps={isSelected:!1,unSelectContentPanel:h.a,removeContentPanel:h.a,refreshedOn:0,onContentPanelRemoveAnalytics:h.a},me.displayName="ConnectContentPanel";var ye=Object(d.a)([P.injectIntl,Object(N.a)((function(e){return{onContentPanelRemoveAnalytics:function(t){return e("remove",te({},t))},onToggleCollapsedStateAnalytics:function(t){return e("toggleCollapsedState",te({},t))}}})),Object(i.connect)((function(e,t){return{contentPanel:Object(m.e)(t.appKey,t.moduleKey)(e),isSelected:Object(m.r)(t.appKey,t.moduleKey)(e),refreshedOn:Object(l.d)(e)}}),(function(e){return{unSelectContentPanel:function(t){return e(Object(V.m)(t))},removeContentPanel:function(t){return e(Object(V.p)(t))}}}))])(me),be=n("./src/packages/forge/forge-ui-async/src/ui/extension/async.js"),ge=n("./src/packages/forge/forge-ui/src/ui/extension-title/index.js"),ve=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),he=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),Oe=Object(d.a)([Object(i.connect)((function(e){return{issueKey:Object(ve.B)(e),issueId:Object(ve.A)(e),issueType:Object(he.f)(e),projectKey:Object(ve.J)(e),projectId:Object(l.B)(e)}}),{})])((function(e){var t=e.name,n=e.extension,r=e.isCompactMode,i=e.issueKey,s=e.issueId,a=e.issueType,c=e.projectKey,u=e.projectId;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(f.d,{isCompactMode:r},o.a.createElement(K.c,null,o.a.createElement(K.e,null,o.a.createElement(ge.a,{extensionName:t,extensionEnvType:n.environmentType}))),o.a.createElement(be.a,{context:{issueKey:i,issueId:s,issueType:a,projectKey:c,projectId:u},extension:n,module:"jira:issuePanel"})),o.a.createElement(f.d,{isCompactMode:r})))})),je=n("./node_modules/lodash/flow.js"),we=n.n(je),Ee=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/confirmation-modal/index.js"),ke=n("./src/packages/issue/issue-view/src/actions/attachment-delete-actions.js"),Se=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),Ie=n("./node_modules/reselect/lib/index.js"),Ce=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),Pe=n("./src/packages/issue/issue-view/src/selectors/attachment-selector.js");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=Object(Ie.createSelector)(Pe.a,(function(e){return e.deleteModal})),De=Object(Ie.createSelector)(Ae,(function(e){return e.pendingDeleteAttachmentIds})),Re=Object(Ie.createSelector)(Ae,(function(e){return e.deleteModalAttachmentId})),Me=Object(Ie.createSelector)(ve.a,Ce.h,Pe.c,(function(e,t,n){return Object.values(n).reduce((function(n,r){return xe(xe({},n),{},Te({},r.id,t.canDeleteAllAttachments||null!==e&&t.canDeleteOwnAttachments&&r.author===e))}),{})})),Le=n("./node_modules/lodash/reverse.js"),Ne=n.n(Le),Fe=n("./node_modules/lodash/sortBy.js"),Ue=n.n(Fe),Ve=n("./src/packages/issue/issue-view/src/selectors/attachment-picker-selector.js");function Ke(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=Object(Ie.createSelector)(Pe.d,Ve.d,De,(function(e,t,n){var r=e.filter((function(e){return!n.includes(e.id)})),o=[].concat(Ke(t),Ke(r));return Ne()(Ue()(o,(function(e){return e.createdDate}))).map((function(e){return e.id}))})),He=n("./node_modules/@atlaskit/icon--current/glyph/cross.js"),Ge=n.n(He),qe=n("./node_modules/@atlaskit/media-filmstrip/dist/esm/filmstrip.js"),ze=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/with-props.js"),Ye=n("./src/packages/issue/issue-view/src/actions/card-cover-actions.js"),Qe=n("./src/packages/issue/issue-view/src/common/media/components/create-auth-provider.js"),Je=n("./src/packages/issue/issue-view/src/common/media/components/with-token-provider/with-token-provider.js");function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xe=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),et=n("./src/packages/issue/issue-view/src/selectors/card-cover-selectors.js"),tt=n("./node_modules/@atlaskit/icon--current/index.js"),nt=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),rt=function(){return o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("g",{transform:"translate(3 3)",fill:"currentColor",fillRule:"evenodd"},o.a.createElement("path",{d:"M2 11v5h14v-5H2zM0 1.995C0 .893.893 0 1.995 0h14.01C17.107 0 18 .893 18 1.995v14.01A1.995 1.995 0 0 1 16.005 18H1.995A1.995 1.995 0 0 1 0 16.005V1.995z",fillRule:"nonzero"}),o.a.createElement("rect",{x:"3",y:"12",width:"8",height:"2",rx:"1"}),o.a.createElement("rect",{x:"13",y:"12",width:"2",height:"2",rx:"1"})))};rt.displayName="hideIcon";var ot=function(){return o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("g",{transform:"translate(3 3)",fill:"currentColor",fillRule:"evenodd"},o.a.createElement("path",{d:"M2 11v5h14v-5H2zm0-1V9h14v1-8H2v8zM0 1.995C0 .893.893 0 1.995 0h14.01C17.107 0 18 .893 18 1.995v14.01A1.995 1.995 0 0 1 16.005 18H1.995A1.995 1.995 0 0 1 0 16.005V1.995z",fillRule:"nonzero"}),o.a.createElement("rect",{x:"3",y:"12",width:"8",height:"2",rx:"1"}),o.a.createElement("rect",{x:"13",y:"12",width:"2",height:"2",rx:"1"})))};ot.displayName="showIcon";var it=function(e){var t=e.icon,n=e.label,r="show-icon"===t?ot:rt;return o.a.createElement(nt.a,{position:"top",content:n},o.a.createElement(tt.a,{glyph:r,label:n,size:"small"}))};it.displayName="CardCoverIcon";var st=it,at=Object(P.defineMessages)({delete:{id:"attachments.delete-attachment-from-attachment-panel",defaultMessage:"Delete"},show:{id:"attachments.show-on-card",defaultMessage:"Show on card"},hide:{id:"attachments.hide-on-card",defaultMessage:"Hide on card"}});function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(e){var t=e.attachmentIds,n=e.attachments,r=e.canDeleteAttachmentMap,i=e.cardCover,s=e.intl,a=e.isMobile,c=e.mediaContext,u=e.onCardCoverHide,l=e.onCardCoverShow,f=e.onShowDeleteAttachmentModal,d=e.viewMediaClientConfig,p=t.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mediaItemType:"file",id:n[e]?n[e].mediaApiFileId:e},c.viewContext&&c.viewContext.collection?{collectionName:c.viewContext.collection}:{}),d=Number(e),p=s.formatMessage(at.hide),m=s.formatMessage(at.show),y=i&&i.isEnabled&&i.availableAttachmentIds.includes(d)?[d===i.attachmentId?{label:p,handler:function(){u(d)},icon:o.a.createElement(st,{icon:"hide-icon",label:p})}:{label:m,handler:function(){l(i.attachmentId,d)},icon:o.a.createElement(st,{icon:"show-icon",label:m})}]:[],b=r[e]?[{label:s.formatMessage(at.delete),handler:function(){f(e)},icon:o.a.createElement(Ge.a,{size:"small",label:"delete"})}]:[];return{identifier:t,selectable:!1,actions:[].concat(y,b),isLazy:!a}}));return o.a.createElement(qe.a,{shouldOpenMediaViewer:!0,items:p,mediaClientConfig:d})};lt.displayName="AttachmentFilmstrip";var ft=we()((function(e){return Object(Je.a)(function(e){return function(t){var n=t.tokenProvider,r=Ze(t,["tokenProvider"]),i=r.mediaContext;if(!i.viewContext)return Object(y.isBentoEnhancedPreviewEnabled)()?o.a.createElement(e,$e({viewMediaClientConfig:void 0},r)):null;var s=i.viewContext,a=s.clientId,c=s.serviceHost,u={authProvider:Object(Qe.a)(n,a,c)};return o.a.createElement(e,$e({viewMediaClientConfig:u},r))}}(e))}),P.injectIntl,Object(N.a)((function(e){return{onShowDeleteAttachmentModal:function(){e("delete.click")},onCardCoverShow:function(){e("card-cover-show.click")},onCardCoverHide:function(){e("card-cover-hide.click")}}})),Object(ze.a)({externalId:"issue.attachment.card"}),Object(i.connect)((function(){return function(e){return{attachments:Object(Pe.c)(e),mediaContext:Object(Xe.a)(e),canDeleteAttachmentMap:Me(e),isMobile:Object(ve.t)(e),cardCover:Object(et.c)(e)?Object(et.a)(e):null}}}),(function(e){return{onShowDeleteAttachmentModal:function(t){return e(Object(ke.j)(t))},onCardCoverShow:function(t,n){return e(Object(Ye.g)(t,n))},onCardCoverHide:function(t){return e(Object(Ye.g)(t))}}})),Object(Se.a)())(lt);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht={id:"attachments.confirm-delete-attachment-modal-header",defaultMessage:"Delete this attachment?"},Ot={id:"attachments.confirm-delete-attachment-modal-text",defaultMessage:"Once you delete, it's gone for good."},jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(n,e);var t=bt(n);function n(){var e;pt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDeleteRequest=function(){e.props.onDeleteRequest(e.props.deleteModalAttachmentId)},e.onDeleteCancel=function(){e.props.onDeleteCancel(e.props.deleteModalAttachmentId)},e}return function(e,t,n){t&&mt(e.prototype,t),n&&mt(e,n)}(n,[{key:"render",value:function(){return 0===this.props.attachmentIds.length?null:o.a.createElement("div",{"data-test-id":"issue.views.issue-base.content.attachment.filmstrip-panel"},o.a.createElement(K.c,null,o.a.createElement(K.e,null,o.a.createElement(P.FormattedMessage,{id:"issue.attachments-panel-heading",defaultMessage:"Attachments"}))),o.a.createElement(ft,{attachmentIds:this.props.attachmentIds}),this.props.deleteModalAttachmentId&&o.a.createElement(Ee.b,{appearance:"danger",headerMessage:this.props.intl.formatMessage(ht),contentMessage:this.props.intl.formatMessage(Ot),onConfirm:this.onDeleteRequest,onCancel:this.onDeleteCancel,externalId:"issue.attachment.card.delete"}))}}]),n}(r.Component);jt.displayName="Attachments",jt.defaultProps={deleteModalAttachmentId:null,onDeleteRequest:h.a,onDeleteCancel:h.a},jt.displayName="UnsafeAttachments";var wt=Object(P.injectIntl)(Object(Se.a)()(jt)),Et=we()(Object(i.connect)((function(e){return{attachmentIds:We(e),deleteModalAttachmentId:Re(e)}}),(function(e){return{onDeleteRequest:function(t){return e(Object(ke.h)(t))},onDeleteCancel:function(t){return e(Object(ke.f)(t))}}})),Object(Se.a)())(wt),kt=n("./src/packages/issue/issue-view/src/actions/child-panel-actions.js"),St=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),It=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),Ct=Object(Ie.createSelector)(l.H,(function(e){return e.childPanel})),Pt=Object(Ie.createSelector)(Ct,(function(e){return e.subtaskQuickAddClickCount})),_t=Object(Ie.createSelector)(Ct,(function(e){return e.issueInEpicQuickAddClickCount})),xt=Object(Ie.createSelector)(Ct,(function(e){return e.childIssueQuickAddClickCount})),Tt=Object(Ie.createSelector)(l.e,(function(e){return e.childrenIssues})),At=n("./src/packages/issue/issue-view/src/selectors/issue-types-selector.js"),Dt=n("./src/packages/platform/utils/app-base/src/index.js"),Rt=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js"),Mt=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),Lt=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-shallow-equal.js"),Nt=n("./src/packages/platform/ui/flags/src/index.js"),Ft=n("./src/packages/platform/utils/types/src/index.js"),Ut=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),Vt=n("./src/packages/platform/services/issue/src/index.js"),Kt=n("./src/packages/issue/issue-view/src/reducers/fetch-issue-types-status-reducer.js"),Bt=function(){return Object(Mt.c)("issue.details.preview-mode.enhanced",!1)},Wt=function(){return Object(Mt.b)("delorean.tti.extract-intl-provider",!1)},Ht=function(){return Object(Mt.b)("issue.details.sla.frontend-issue-create-reporting",!1)},Gt="state.entities.SET_ENTITIES",qt="state.entities.UPDATE_ISSUE",zt="state.entities.CREATE_CHILD_REQUEST",Yt=function(e,t){return{type:zt,payload:{optimisticUiChildIssue:e},meta:{analyticsEvent:t}}},Qt="state.entities.CREATE_CHILD_SUCCESS",Jt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:Qt,payload:{optimisticId:e,createdChild:t,usedGlobalCreateDialog:r},meta:{analyticsEvent:n}}},$t="state.entities.CREATE_CHILD_FAILURE",Zt="state.entities.LINK_CHILD_SUCCESS",Xt=function(e,t,n){return{type:Zt,payload:{issueId:e,linkedChild:t},meta:{analyticsEvent:n}}},en="state.entities.LINKING_ISSUE_FAILURE",tn="state.entities.LINKING_ISSUE_RETRY",nn=function(e){return{type:"state.entities.LINKING_ISSUE_RETRY_FAILURE",payload:{issueId:e}}},rn="state.entities.CREATE_CHILD_RETRY",on="state.entities.LINK_PARENT_FAILURE",sn=function(e){return{type:"state.entities.FETCH_SINGLE_CHILD_SUCCESS",payload:{childIssue:e}}},an=function(){return{type:"state.entities.FETCH_DETAILS_FOR_ISSUES_REQUEST"}},cn="state.entities.REORDER_CHILDREN_REQUEST",un="state.entities.REORDER_CHILDREN_FAILED",ln=function(e,t,n,r){return{type:un,payload:{originalOrder:e,newOrder:t,originalIndex:n,newIndex:r}}},fn=function(e){return{type:"state.entities.REORDER_CHILDREN_SUCCESS",payload:{newOrder:e}}},dn=Object(P.defineMessages)({linkParentErrorTitle:{id:"issue.views.common.child-issues-panel.flags.link-parent-error-title",defaultMessage:"We couldn't link the child issue"},linkParentErrorDescription:{id:"issue.views.common.child-issues-panel.flags.link-parent-error-description",defaultMessage:"The issue was created but the linking failed. Head over to your board and try again."},reorderErrorTitle:{id:"issue.views.common.child-issues-panel.flags.reorder-error-title",defaultMessage:"We couldn't reorder those issues"},reorderErrorDescription:{id:"issue.views.common.child-issues-panel.flags.reorder-error-description",defaultMessage:"Wait a few moments, then give it another try."}}),pn=function(e){switch(e.type){case on:return{type:"error",title:dn.linkParentErrorTitle,description:dn.linkParentErrorDescription};case un:return{type:"error",title:dn.reorderErrorTitle,description:dn.reorderErrorDescription};default:return}};function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vn,hn=["summary","issuetype","parent","project"],On=function(e){return!!Object.keys(e).find((function(t){return!function(e){return hn.find((function(t){return e===t}))}(t)&&!e[t].hasDefaultValue&&e[t].required}))},jn=n("./node_modules/redux-observable/lib/es/index.js");function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=(wn(vn={},"CHILD_ISSUE_ADDED","CHILD_ISSUE_ADDED"),wn(vn,"ISSUE_CHILDREN_ORDER_CHANGED","ISSUE_CHILDREN_ORDER_CHANGED"),vn),kn=function(e){return e.context},Sn=function(e){return e.entities},In=function(e){return e.ui},Cn=n("./node_modules/lodash/find.js"),Pn=n.n(Cn),_n=n("./src/packages/platform/utils/constants/src/status-categories.js"),xn=Object(Ie.createSelector)(Sn,(function(e){return e.issues||[]})),Tn=Object(Ie.createSelector)(xn,(function(e){return e.filter((function(e){return e.statusCategory===_n.DONE}))})),An=Object(Ie.createSelector)(xn,(function(e){return e.filter((function(e){return e.statusCategory!==_n.DONE}))})),Dn=Object(Ie.createSelector)(xn,(function(e){return e.filter((function(e){return e.statusCategory===_n.IN_PROGRESS}))})),Rn=function(e){return Object(Ie.createSelector)(xn,(function(t){return Pn()(t,(function(t){return t.id===e}))}))},Mn=Object(Ie.createSelector)(Sn,(function(e){return e.issueTypes})),Ln=Object(Ie.createSelector)(Mn,(function(e){return"issuetype in (".concat(e.map((function(e){return e.id})).join(","),")")})),Nn=Object(Ie.createSelector)(In,(function(e){return e.addClickCount})),Fn=Object(Ie.createSelector)(In,(function(e){return e.childPanelView})),Un=Object(Ie.createSelector)(In,(function(e){return e.childCreateSummary})),Vn=Object(Ie.createSelector)(In,Mn,(function(e,t){return e.selectedIssueType||t[0]})),Kn=Object(Ie.createSelector)(In,(function(e){return e.hideDone})),Bn=Object(Ie.createSelector)(In,(function(e){return e.fetchIssueTypesStatus})),Wn=Object(Ie.createSelector)(Bn,(function(e){return e===Kt.b})),Hn=Object(Ie.createSelector)(kn,(function(e){return e.baseUrl})),Gn=(Object(Ie.createSelector)(kn,(function(e){return e.locale})),Object(Ie.createSelector)(kn,(function(e){return e.childIssuesPanelType}))),qn=Object(Ie.createSelector)(Gn,(function(e){return!!e&&"classicSubtasks"===e})),zn=Object(Ie.createSelector)(Gn,(function(e){return!!e&&"classicProjectEpicChildren"===e})),Yn=Object(Ie.createSelector)(Gn,(function(e){return!!e&&"nextGenChildren"===e})),Qn=Object(Ie.createSelector)(kn,(function(e){return e.supportsIssueCreation})),Jn=Object(Ie.createSelector)(kn,Wn,(function(e,t){return e.requiresFullCreate||!t})),$n=Object(Ie.createSelector)(kn,(function(e){return e.parentKey})),Zn=Object(Ie.createSelector)(kn,(function(e){return e.parentId})),Xn=Object(Ie.createSelector)(kn,(function(e){return e.customFieldIdRank})),er=Object(Ie.createSelector)(kn,(function(e){return e.epicLinkFieldKey})),tr=Object(Ie.createSelector)(kn,(function(e){return e.projectId})),nr=Object(Ie.createSelector)(kn,(function(e){return e.messages||{}})),rr=Object(Ie.createSelector)(nr,(function(e){return e.title})),or=Object(Ie.createSelector)(nr,(function(e){return e.noValueText||null})),ir=Object(Ie.createSelector)(kn,(function(e){return e.onNavigateToNewIssue})),sr=Object(Ie.createSelector)(kn,(function(e){return e.onChange})),ar=Object(Ie.createSelector)(kn,(function(e){return e.isIssueViewComplete})),cr=Object(Ie.createSelector)(kn,(function(e){return null===e.user||""===e.user})),ur=Object(Ie.createSelector)(kn,(function(e){return e.projectType})),lr=Object(Ie.createSelector)(kn,(function(e){return e.application})),fr=Object(Ie.createSelector)(kn,(function(e){return e.edition})),dr=function(e,t){return e.ofType(Qt,Zt,cn,un).do((function(e){try{var n=t.getState(),r=sr(n),o=Gn(n);switch(e.type){case Qt:r({type:En.CHILD_ISSUE_ADDED,meta:{childIssue:e.payload.createdChild}});break;case Zt:r({type:En.CHILD_ISSUE_ADDED,meta:{childIssue:e.payload.linkedChild}});break;case cn:var i=e.payload,s=i.currentOrder,a=i.newOrder,c=i.currentIndex,u=i.newIndex,l=s[c].id,f=l?[+l]:[],d=u>c,p=Number((a[d?u-1:u+1]||{}).id);"nextGenChildren"===o&&r({type:En.ISSUE_CHILDREN_ORDER_CHANGED,meta:{issueIds:f,rankId:p,isRankAfter:d}});break;case un:var m=e.payload,y=m.originalOrder,b=m.originalIndex,g=m.newIndex,v=y[b].id,h=v?[+v]:[],j=b>g,E=Number((y[j?b-1:b+1]||{}).id);"nextGenChildren"===o&&E&&r({type:En.ISSUE_CHILDREN_ORDER_CHANGED,meta:{issueIds:h,rankId:E,isRankAfter:j}})}}catch(e){Mt.h.safeError("issue.views.common.child-issues-panel.change-notification","Failed to call onChange callback",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e}))}})).ignoreElements()},pr=n("./node_modules/rxjs/Rx.js"),mr=n("./src/packages/platform/utils/fetch/src/index.js"),yr=function(e,t){return e.ofType("state.entities.CHILD_CREATED_IN_FULL_DIALOG").mergeMap((function(e){var n=e.payload,r=e.meta,o=t.getState(),i=n.optimisticId,s=n.createdChild;if(!Yn(o))return pr.Observable.of(Jt(i,s,r.analyticsEvent,!0));var a=Hn(o),c=tr(o),u=Zn(o);if(!c||!u)throw new Error("Attempted to link a child issue without a project or parent issue ID");return pr.Observable.from(function(e,t,n,r){return Object(mr.i)("".concat(e,"/rest/internal/simplified/1.0/projects/").concat(t,"/issues/").concat(n,"/children"),{body:JSON.stringify({issueIds:[r]})})}(a,c,u,s.id)).map((function(){return Jt(i,s,r.analyticsEvent,!0)})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.created-in-dialog.link-to-parent","Failed to link child to parent",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.of(function(e){return{type:on,payload:{optimisticId:e,errorReason:"LINK_PARENT"}}}(i))}))}))},br=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/common/services/send-experience-analytics/index.js"),gr=function(e,t){return e.ofType($t,on,en).do((function(e){var n=e.payload.errorReason,r=t.getState(),o=Gn(r)||"unknown_child",i=lr(r),s=fr(r);Object(br.a)({experience:"createIssue",wasExperienceSuccesful:!1,analyticsSource:o,application:i,edition:s,additionalAttributes:{errorMessage:n}})})).switchMap((function(){return pr.Observable.empty()}))},vr=function(e,t,n){return Object(mr.j)("".concat(e,"/rest/greenhopper/1.0/epics/").concat(t,"/add"),{body:JSON.stringify({ignoreEpics:!0,issueKeys:[n]})})},hr=function(e,t,n){return function(e,t){return Object(mr.i)("".concat(e,"/rest/api/2/issue"),{body:JSON.stringify(t)})}(e,t).then((function(t){return{id:t.id,issueKey:t.key,issueLink:"".concat(e,"/browse/").concat(t.key),issueSummary:n.issueSummary,issueTypeIconUrl:n.issueTypeIconUrl,issueTypeName:n.issueTypeName,assigneeUrl:n.assigneeUrl,assigneeDisplayName:n.assigneeDisplayName,isLoading:!1,errorType:void 0}}))};function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=function(e,t){return Mt.h.safeError("issue.views.common.child-issues-panel.create-child-request",t,new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e}))},kr=function(e,t,n){var r=Hn(e),o=tr(e),i=Zn(e),s=qn(e),a=Yn(e),c=zn(e),u=Vn(e);if(!o||!i)throw new Error("Attempted to create a new child issue without a project or parent issue ID");var l=s||a,f=u.hasEpicLinkField,d=c&&f,p=er(e),m={fields:jr(jr({project:{id:o},issuetype:{id:t.issueTypeId},summary:t.issueSummary},l?{parent:{id:i}}:{}),d&&p?wr({},p,$n(e)):{})};return pr.Observable.from(hr(r,m,t)).mergeMap((function(e){return c&&!f?pr.Observable.from(vr(r,i,e.id)).map((function(){return Jt(t.id,e,n)})).catch((function(n){return Er(n,"Failed to link issue"),pr.Observable.of(function(e,t){return{type:en,payload:{createdChild:e,optimisticId:t,errorReason:"CLASSIC_EPIC_LINK"}}}(e,t.id))})):pr.Observable.of(Jt(t.id,e,n))})).catch((function(e){return Er(e,"Failed to create child issue"),pr.Observable.of(function(e){return{type:$t,payload:{optimisticId:e,errorReason:"CREATE"}}}(t.id))}))},Sr=function(e,t){return e.ofType(zt).mergeMap((function(e){var n=e.payload,r=e.meta,o=t.getState(),i=n.optimisticUiChildIssue;return kr(o,i,r.analyticsEvent)}))};function Ir(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Cr=function(e,t){return e.ofType(rn).map((function(e){var n=e.payload.optimisticId,r=e.meta,o=t.getState(),i=Rn(n)(o),s=(i.isLoading,i.hasError,Ir(i,["isLoading","hasError"]));return Yt(s,r.analyticsEvent)}))},Pr=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),_r=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),xr=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js"),Tr=function(e,t){var n=e.get(t);return n?n.value:void 0},Ar=function(e,t,n){return function(e,t){return e.getIssue$(t,!0).toPromise().then((function(e){var t=e.error,n=e.issue;return t?Promise.reject(t):n?Promise.resolve(n):Promise.reject(new Error("Unexpected response from the dataprovider, expected an issue or an error but got neither"))}))}(e,n).then((function(e){var n=e.id,r=e.key,o=e.fields,i=Tr(o,"summary"),s=Tr(o,"issuetype"),a=Tr(o,"priority"),c=Tr(o,"status"),u=Tr(o,"assignee")||null;return{id:n?n.toString():"",issueKey:r,issueLink:Object(_r.g)(Object(Ft.toBaseUrl)(t),Object(Ft.toIssueKey)(r)),issueSummary:i,issueTypeIconUrl:s&&s.iconUrl,issueTypeName:s&&s.name,issuePriorityUrl:a&&a.iconUrl,issuePriorityName:a&&a.name,statusName:c&&c.name,statusId:c&&c.id,statusCategory:c&&Object(_n.statusCategoryForId)(c.statusCategory.id),statusCategoryId:c&&c.statusCategory.id,assigneeUrl:u&&Object(xr.c)(u).avatarUrl,assigneeDisplayName:u&&u.displayName,errorType:void 0,isLoading:!1}}))},Dr=function(e){return function(t,n){return t.ofType(Qt).do((function(e){var t=e.payload,r=t.createdChild,o=t.usedGlobalCreateDialog,i=e.meta,s=n.getState(),a=qn(s),c={action:"created",actionSubjectId:r.id,attributes:{isInlineCreatedOnIssue:!0,isClassicSubtask:a}};if(Object(Pr.k)(i.analyticsEvent,c),Ht()){var u=Gn(s)||"unknown_child",l=lr(s),f=fr(s);Object(br.a)({experience:"createIssue",wasExperienceSuccesful:!0,analyticsSource:u,application:l,edition:f,additionalAttributes:{isCreated:!0,wasCreatedInline:!o}})}})).switchMap((function(t){var r=t.payload.createdChild,o=n.getState(),i=Hn(o);return pr.Observable.from(Ar(e,i,r.issueKey)).map((function(e){return sn(e)})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.create-child-success.fetch-single-issue","Failed to fetch single issue after a successful create",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.empty()}))}))}},Rr=n("./src/packages/issue/issue-view/src/common/service/issue/issue-fetch-server.js"),Mr=function(e,t){return function(e,t){return Object(Rr.b)(e,t,["assignee"]).toPromise()}(e,t).then((function(e){return e.map((function(e){var t=e.id,n=e.fields;return{id:t,assigneeUrl:n&&n.assignee&&Object(xr.c)(n.assignee).avatarUrl,assigneeDisplayName:n&&n.assignee&&Object(xr.c)(n.assignee).displayName}}))}))},Lr=function(e,t){return e.ofType("state.entities.FETCH_DETAILS_FOR_ISSUES_REQUEST").switchMap((function(){var e=t.getState(),n=Hn(e),r=xn(e).map((function(e){return e.issueKey})).filter((function(e){return void 0!==e}));return pr.Observable.from(Mr(n,r)).map((function(e){return function(e){return{type:"state.entities.FETCH_DETAILS_FOR_ISSUES_SUCCESS",payload:{issues:e}}}(e)})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.fetch-details-for-issues","Failed to fetch details for issues",new O.a({eventNameSuffix:w.E,type:O.h,app:O.e,event:e})),pr.Observable.empty()}))}))},Nr=function(e,t,n){var r=Hn(t),o=Zn(t),i=Rn(e)(t);if(!o)throw new Error("Attempted to link a next-gen issue to a parent without issue ID ");return pr.Observable.from(function(e,t,n){return Object(mr.j)("".concat(e,"/rest/api/3/issue/").concat(n),{body:JSON.stringify({fields:{parent:{id:t}}})})}(r,o,e)).map((function(){return Xt(e,i,n)})).catch((function(t){return Mt.h.safeError("issue.views.common.child-issues-panel.add-existing-issue","Failed to link a next-gen issue to a parent",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:t})),pr.Observable.of(nn(e))}))},Fr=Object(jn.combineEpics)((function(e,t){return e.ofType(tn).mergeMap((function(e){var n=e.payload.issueId,r=e.meta.analyticsEvent,o=t.getState();switch(Gn(o)){case"classicProjectEpicChildren":var i=Hn(o),s=Zn(o),a=Rn(n)(o);if(!s)throw new Error("Attempted to link a classic issue to an epic without a parent issue ID");return pr.Observable.from(vr(i,s,n)).map((function(){return Xt(n,a,r)})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.link-child-issue","Failed to link a classic issue to a parent",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.of(nn(n))}));case"nextGenChildren":return Nr(n,o,r);default:return pr.Observable.empty()}}))}),(function(e,t){return e.ofType("state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST").mergeMap((function(e){var n=e.payload.issueId,r=e.meta.analyticsEvent,o=t.getState();switch(Gn(o)){case"nextGenChildren":return Nr(n,o,r);default:return pr.Observable.empty()}}))})),Ur=function(e){return function(t,n){return t.ofType(Zt).do((function(e){var t=e.payload.linkedChild,r=e.meta,o=n.getState(),i=Gn(o),s={action:"linked",actionSubjectId:t.id,attributes:{isInlineChildAdded:!0,panelType:i}};Object(Pr.k)(r.analyticsEvent,s)})).switchMap((function(t){var r=t.payload.linkedChild,o=n.getState(),i=Hn(o);return pr.Observable.from(Ar(e,i,r.issueKey)).map((function(e){return sn(e)})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.link-child-success.fetch-single-issue","Failed to fetch single issue after a successful child issue linking",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.empty()}))}))}},Vr=n("./node_modules/lodash/isEqual.js"),Kr=n.n(Vr),Br=function(e,t){var n=e.id,r=e.key,o=e.fields;return{id:n,issueKey:r,issueLink:Object(_r.g)(Object(Ft.toBaseUrl)(t),Object(Ft.toIssueKey)(r)),issueSummary:o.summary,issueTypeIconUrl:o.issuetype.iconUrl,issueTypeName:o.issuetype.name,issuePriorityUrl:o.priority&&o.priority.iconUrl||void 0,issuePriorityName:o.priority&&o.priority.name||void 0,statusCategory:Object(_n.statusCategoryForId)(o.status.statusCategory.id),statusCategoryId:o.status.statusCategory.id,statusName:o.status.name,statusId:o.status.id,assigneeUrl:o.assignee&&Object(xr.c)(o.assignee).avatarUrl,assigneeDisplayName:o.assignee&&Object(xr.c)(o.assignee).displayName,isLoading:!1,errorType:void 0}},Wr=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/graphql-tags.js");function Hr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['query {\n      issue(issueIdOrKey: "','", latestVersion: true, screen:"view", fields:"subtasks") {\n        fields {\n          key\n          value\n        }\n      }\n    }']);return Hr=function(){return e},e}var Gr=function(e){return Object(Wr.a)(Hr(),e)},qr=function(e){if(!e||!e.data||!e.data.issue)return[];var t=e.data.issue.fields.find((function(e){return e.key===St.k}));return t&&t.value?t.value.map((function(e){var t=e.id,n=e.key,r=e.self,o=e.fields,i=o.assignee,s=o.issuetype,a=o.priority,c=o.summary;return{id:t,key:n,self:r,fields:{issueType:s,priority:a,status:o.status,summary:c,assignee:i}}})):[]},zr=function(e,t){return function(e,t){return Object(mr.d)(function(e){return"".concat(e,"/rest/graphql/1/")}(e),{method:"POST",body:JSON.stringify({query:Gr(t)})})}(e,t).map(qr)},Yr=function(e,t,n,r){return function(e,t,n,r){return Object(mr.e)(function(e){return"".concat(e,"/rest/greenhopper/1.0/api/rank/after")}(e),{method:"PUT",body:JSON.stringify({customFieldId:t,issueIds:n,rankAfterId:r})})}(e,t,n,r)},Qr=function(e,t,n,r){return function(e,t,n,r){return Object(mr.e)(function(e){return"".concat(e,"/rest/greenhopper/1.0/api/rank/before")}(e),{method:"PUT",body:JSON.stringify({customFieldId:t,issueIds:n,rankBeforeId:r})})}(e,t,n,r)};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){Zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var to=n("./src/packages/platform/utils/fetch/src/utils.js"),no=function(e,t){return function(e,t){return Object(mr.g)("".concat(e,"/rest/api/2/issue/").concat(t,"?fields=subtasks"))}(e,t).then((function(e){var t=e&&e.fields;return t&&t.subtasks||[]}))};function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var so=function(e,t){var n=Hn(e),r=Zn(e);if(!r)throw new Error("Attempted to reorder subtasks without parentId");var o=t.currentOrder,i=t.newOrder,s=t.currentIndex,a=t.newIndex;return pr.Observable.from(function(e,t,n,r){return fetch("".concat(e,"/secure/MoveIssueLink.jspa?id=").concat(t,"&currentSubTaskSequence=").concat(n,"&subTaskSequence=").concat(r)).then((function(e){return e.ok?null:e.text().then((function(t){throw new to.b(e.status,t)}))}))}(n,r,s,a)).switchMap((function(){return no(n,r)})).flatMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.id})),r=i.map((function(e){return e.id}));if(Kr()(t,r))return pr.Observable.of(fn(i));if(Kr()(t.slice().sort(),r.slice().sort())){var o=t.map((function(e){return i.find((function(t){return t.id===e}))}));return pr.Observable.of(fn(o))}var s=e.map((function(e){var t=e.id;return oo(oo({},i.find((function(e){return e.id===t}))||{}),Br(e,n))}));return pr.Observable.of(fn(s),an())})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.reorder-subtask","Failed to reorder subtasks",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.of(ln(o,i,s,a))}))},ao=function(e,t){return e.ofType(cn).mergeMap((function(e){var n=t.getState();switch(Gn(n)){case"classicSubtasks":return so(n,e.payload);case"nextGenChildren":return function(e,t,n){var r=Hn(e),o=Zn(e),i=Xn(e);if(!o)throw new Error("Attempted to reorder children without parentId");if(!i)throw new Error("Attempted to reorder children without customFieldId");var s=t.currentOrder,a=t.newOrder,c=t.currentIndex,u=t.newIndex,l=n.analyticsEvent,f=s[c].id,d=f?[+f]:[],p=u>c,m=Number((a[p?u-1:u+1]||{}).id);if(!m)throw new Error("Attempted to reorder children without rankId");return(p?Yr(r,i,d,m):Qr(r,i,d,m)).switchMap((function(){return zr(r,o)})).flatMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.id})),n=a.map((function(e){return e.id}));if(Object(Ut.t)(l,"issueRank updated",{numIssues:1,previousIssueIndex:c,currentIssueIndex:u,isRankAfter:p}),Kr()(t,n))return pr.Observable.of(fn(a));if(Kr()(Xr(t).sort(),Xr(n).sort())){var o=t.map((function(e){return a.find((function(t){return t.id===e}))}));return pr.Observable.of(fn(o))}var i=e.map((function(e){var t=e.id;return $r($r({},a.find((function(e){return e.id===t}))||{}),Br(e,r))}));return pr.Observable.of(fn(i),an())})).catch((function(e){return Mt.h.safeError("issue.views.common.child-issues-panel.reorder-children","Failed to reorder children",new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.of(ln(s,a,c,u))}))}(n,e.payload,e.meta);default:return pr.Observable.empty()}}))},co="state.context.SET_CONTEXT",uo=function(){return{type:"state.context.REQUIRES_FULL_CREATE_CHECK"}},lo=function(e){return{type:"state.context.REQUIRES_FULL_CREATE_CHECK_SUCCESS",payload:{requiresFullCreate:e}}},fo=function(){return{type:"state.context.REQUIRES_FULL_CREATE_CHECK_FAILED"}},po=n("./src/packages/issue/issue-view/src/common/util/errors/index.js"),mo=function(e,t){return t?pr.Observable.from(function(e,t){return Object(mr.g)("".concat(e,"/rest/internal/2/project/").concat(t,"/hasValidatorsOnSubtasks"))}(e,t)).map((function(e){return lo(e)})).catch((function(e){return Object(po.a)("issue.views.common.child-issues-panel.has-validators-on-subtasks","Failed to check if project has validators on subtasks",e,new O.a({eventNameSuffix:w.E,type:O.i,app:O.e,event:e})),pr.Observable.of(fo())})):pr.Observable.of(fo())},yo=function(e,t){return e.ofType("state.context.REQUIRES_FULL_CREATE_CHECK").switchMap((function(){var e=t.getState();switch(Gn(e)){case"classicSubtasks":var n=Hn(e),r=tr(e);return cr(e)?pr.Observable.of(lo(!0)):mo(n,r);default:return pr.Observable.empty()}}))};function bo(e){return function(e){if(Array.isArray(e))return go(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return go(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo=n("./src/packages/common-legacy-do-not-add-anything-new/src/tangerine/state/initiate.js"),ho=n("./node_modules/redux/es/index.js"),Oo=n("./src/packages/platform/utils/constants/src/supported-locales.js");function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ko={baseUrl:Object(Ft.toBaseUrl)(""),locale:Oo.b,user:null,childIssuesPanelType:null,supportsIssueCreation:!1,requiresFullCreate:!1,parentKey:null,customFieldIdRank:null,epicLinkFieldKey:null,parentId:null,projectId:null,messages:null,onNavigateToNewIssue:h.a,onChange:h.a,isIssueViewComplete:!1,projectType:null,application:null,edition:null},So="create",Io="linkIssue";function Co(e){return function(e){if(Array.isArray(e))return Po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao={issues:[],issueTypes:[]},Do=function(){return{type:"state.ui.SHOW_INLINE_CREATE"}},Ro=function(){return{type:"state.ui.HIDE_ADD_CHILD_ISSUE"}},Mo=Object.freeze({InlineCreate:"InlineCreate",AddExistingIssue:"AddExistingIssue"}),Lo=function(e){return{type:"state.ui.SET_CHILD_PANEL_VIEW",view:e}},No=function(e){return{type:"state.ui.SET_CHILD_CREATE_SUMMARY",summary:e}},Fo=function(e){return{type:"state.ui.SET_FETCH_ISSUE_TYPES_STATUS",payload:e}};function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){Ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bo={addClickCount:0,hideDone:!1,selectedIssueType:null,childPanelView:Mo.InlineCreate,childCreateSummary:"",fetchIssueTypesStatus:Kt.c},Wo=Object(ho.combineReducers)({context:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case co:case"state.context.REQUIRES_FULL_CREATE_CHECK_SUCCESS":return wo(wo({},e),t.payload);case"state.context.REQUIRES_FULL_CREATE_CHECK_FAILED":return wo(wo({},e),{},{requiresFullCreate:!0});case"state.context.SET_IS_ISSUE_VIEW_COMPLETE":return wo(wo({},e),{},{isIssueViewComplete:t.payload});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"state.ui.SHOW_INLINE_CREATE":return Vo(Vo({},e),{},{addClickCount:e.addClickCount+1});case"state.ui.HIDE_ADD_CHILD_ISSUE":return Vo(Vo({},e),{},{addClickCount:0,childPanelView:Mo.InlineCreate,childCreateSummary:""});case"state.ui.SET_CHILD_PANEL_VIEW":return Vo(Vo({},e),{},{childPanelView:t.view});case"state.ui.SET_CHILD_CREATE_SUMMARY":return Vo(Vo({},e),{},{childCreateSummary:t.summary});case"state.ui.TOGGLE_HIDE_DONE":return Vo(Vo({},e),{},{hideDone:!e.hideDone});case"state.ui.SELECTED_ISSUE_TYPE_CHANGED":return Vo(Vo({},e),{},{selectedIssueType:t.payload});case"state.ui.SET_FETCH_ISSUE_TYPES_STATUS":return Vo(Vo({},e),{},{fetchIssueTypesStatus:t.payload});default:return e}},entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gt:var n=t.payload,r=n.issueTypes,o=n.issues;return xo(xo({},e),{},{issues:o,issueTypes:r});case qt:var i=t.payload,s=Co(e.issues),a=s.findIndex((function(e){return e.id===i.id}));return s[a]=i,xo(xo({},e),{},{issues:s});case zt:var c=xo(xo({},t.payload.optimisticUiChildIssue),{},{isLoading:!0,errorType:void 0});return xo(xo({},e),{},{issues:e.issues.filter((function(e){return e.id!==c.id})).concat(c)});case Qt:var u=t.payload,l=u.optimisticId,f=u.createdChild;return xo(xo({},e),{},{issues:e.issues.filter((function(e){return e.id!==l})).concat(f)});case"state.entities.FETCH_SINGLE_CHILD_SUCCESS":var d=t.payload.childIssue;return xo(xo({},e),{},{issues:e.issues.map((function(e){return e.id===d.id?d:e}))});case $t:var p=t.payload.optimisticId;return xo(xo({},e),{},{issues:e.issues.map((function(e){return e.id===p?xo(xo({},e),{},{errorType:So,isLoading:!1}):e}))});case en:var m=t.payload,y=m.optimisticId,b=m.createdChild;return xo(xo({},e),{},{issues:e.issues.filter((function(e){return e.id!==y})).concat(xo(xo({},b),{},{errorType:Io,isLoading:!1}))});case rn:var g=t.payload.optimisticId;return xo(xo({},e),{},{issues:e.issues.map((function(e){return e.id===g?xo(xo({},e),{},{errorType:void 0,isLoading:!0}):e}))});case tn:var v=t.payload.issueId;return xo(xo({},e),{},{issues:e.issues.map((function(e){return e.id===v?xo(xo({},e),{},{errorType:void 0,isLoading:!0}):e}))});case"state.entities.LINKING_ISSUE_RETRY_FAILURE":var h=t.payload.issueId;return xo(xo({},e),{},{issues:e.issues.map((function(e){return e.id===h?xo(xo({},e),{},{errorType:Io,isLoading:!1}):e}))});case on:case"state.entities.CANCEL_OPTIMISTIC_CHILD":var O=t.payload.optimisticId;return xo(xo({},e),{},{issues:e.issues.filter((function(e){return e.id!==O}))});case"state.entities.FETCH_DETAILS_FOR_ISSUES_SUCCESS":var j=t.payload.issues;return xo(xo({},e),{},{issues:e.issues.map((function(e){return xo(xo({},e),Pn()(j,(function(t){return t.id===e.id})))}))});case cn:case"state.entities.REORDER_CHILDREN_SUCCESS":var w=t.payload.newOrder;return xo(xo({},e),{},{issues:w});case un:var E=t.payload.originalOrder;return xo(xo({},e),{},{issues:E});case"state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST":var k={id:t.payload.issueId,issueKey:t.payload.issueKey,issueSummary:t.payload.issueSummary,issueTypeIconUrl:t.payload.issueTypeIconUrl,assigneeUrl:null,assigneeDisplayName:null,isLoading:!0,errorType:void 0};return xo(xo({},e),{},{issues:e.issues.filter((function(e){return e.id!==k.id})).concat(k)});default:return e}}}),Ho=n("./node_modules/keycode/index.js"),Go=n.n(Ho),qo=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),zo=n("./node_modules/@atlaskit/select--current/CreatableSelect.js"),Yo=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/error-state/index.js"),Qo=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/index.js"),Jo=n("./src/packages/platform/controllers/tenant-context/src/index.js"),$o=n("./node_modules/debounce-promise/dist/index.js"),Zo=n.n($o),Xo=n("./src/packages/common-legacy-do-not-add-anything-new/src/match-jira-url/index.js"),ei=n("./node_modules/lodash/uniqBy.js"),ti=n.n(ei);function ni(e){return function(e){if(Array.isArray(e))return ri(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oi=function(e,t){var n=e.sections,r=n[0],o=n[1],i=r.issues,s=o?o.issues:[],a=ti()([].concat(ni(i),ni(s)),"key");return[{label:o?t.matchingIssues:t.recentIssues,options:a.map((function(e){return{issueId:Object(Ft.toIssueId)(String(e.id)),value:e.key,issueKey:e.key,summary:e.summaryText,imageUrl:e.img}}))}]};function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fi(e);if(t){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(n,e);var t=ui(n);function n(){var e;si(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={options:[],isLoading:!1,error:null},e.fetchData=function(t){var n=e.props,r=n.baseUrl,o=n.issueKey,i=n.projectId,s=n.jql,a=n.labels,c=Object(Xo.b)(t,window.location.host,r)||t;return e.setState({isLoading:!0,error:null}),Object(mr.c)("".concat(r,"/rest/api/3/issue/picker?currentIssueKey=").concat(o,"&currentProjectId=").concat(i,"&showSubTasks=true&showSubTaskParent=true&currentJQL=").concat(s,"&query=").concat(c)).then((function(t){return e.setState({options:oi(t,a),isLoading:!1}),t})).catch((function(t){return e.setState({isLoading:!1,options:[],error:t})}))},e.debouncedFetchData=Zo()(e.fetchData,300,{leading:!0}),e}return function(e,t,n){t&&ai(e.prototype,t),n&&ai(e,n)}(n,[{key:"componentDidMount",value:function(){this.fetchData(this.props.initialValue)}},{key:"render",value:function(){var e=this.props.children,t=this.state;return e({options:t.options,isLoading:t.isLoading,error:t.error,loadOptions:this.debouncedFetchData})}}]),n}(r.Component);di.defaultProps={initialValue:""},di.displayName="IssueOptionService";var pi=n("./node_modules/@atlaskit/button--current/components/Button.js"),mi=n("./node_modules/@atlaskit/icon--current/glyph/add.js"),yi=n.n(mi),bi=n("./node_modules/react-select/dist/react-select.esm.js"),gi=_.default.div(["display:flex;align-items:center;"]),vi=_.default.div(["margin-right:","px;width:","px;height:","px;"],U.f,2*U.f,2*U.f),hi=_.default.div(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 100%;min-width:0;"]);function Oi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ji=function(e){var t=e.imageUrl,n=e.children;return(o.a.createElement(gi,null,o.a.createElement(vi,null,o.a.createElement("img",{src:t,alt:""})),n))};ji.displayName="IssueCard";var wi=function(e){var t=e.label;return(o.a.createElement(gi,null,o.a.createElement(yi.a,{size:"small",primaryColor:M.colors.B400}),o.a.createElement(pi.b,{appearance:"link",isSelected:!1},t)))};wi.displayName="CreateIssueOption";var Ei=function(e){var t=e.imageUrl,n=e.issueKey,r=e.summary;return(o.a.createElement(ji,{imageUrl:t},o.a.createElement(hi,null,n," ",r)))};Ei.displayName="IssueOption";var ki=function(e){var t=e.imageUrl,n=e.issueKey,r=e.summary;return(o.a.createElement(ji,{imageUrl:t},o.a.createElement(hi,null,"".concat(n," ").concat(r))))};ki.displayName="SelectedValue";var Si=function(e){e.children;var t=Oi(e,["children"]);return(o.a.createElement(bi.d.SingleValue,t,o.a.createElement(ki,{imageUrl:t.data.imageUrl,issueKey:t.data.issueKey,summary:t.data.summary})))};Si.displayName="SingleValue";var Ii=Object(P.defineMessages)({defaultPlaceholder:{id:"issue-picker.default-placeholder",defaultMessage:"Search by issue key or summary"},defaultRecentIssues:{id:"issue-picker.default-recent-issues",defaultMessage:"Recent Issues"},defaultMatchingIssues:{id:"issue-picker.default-matching-issues",defaultMessage:"Matching Issues"},defaultFailedLoadingIssues:{id:"issue-picker.default-failed-loading-issues",defaultMessage:"Failed to load issues"},createIssue:{id:"issue-picker.create-issue",defaultMessage:"Create an issue for '{value}'"}});function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Di(e);if(t){var o=Di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Ai(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(n,e);var t=Ti(n);function n(){var e;Pi(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).onBlur=function(e){e("")},e.onChange=function(t,n,r){switch(n.action){case"select-option":var o=t.issueId,i=t.issueKey,s=t.summary,a=t.imageUrl;e.props.onChange&&e.props.onChange({issueId:o,issueKey:i,issueSummary:s,issueTypeIconUrl:a}),r("");break;case"clear":e.props.onClear&&e.props.onClear()}},e.onCreate=function(t){e.props.onCreate&&e.props.onCreate(t)},e.onInputChange=function(e){return function(t,n){"input-change"===n.action&&e(t)}},e.onSetSelectRef=function(t){e.akSelect=t},e.formatOptionLabel=function(t,n){var r=n.context;if(t.__isNew__){var i=e.props.intl.formatMessage(Ii.createIssue,{value:t.value});return(o.a.createElement(wi,{label:i}))}return"menu"===r?o.a.createElement(Ei,{imageUrl:t.imageUrl,issueKey:t.issueKey,summary:t.summary}):t.label},e.akSelect=void 0,e.filterOption=function(){return!0},e.renderNoOptionsMessage=function(t){if(t){var n=e.props.intl;return(o.a.createElement(Yo.a,{description:n.formatMessage(Ii.defaultFailedLoadingIssues),imageWidth:56,isSubtle:!0}))}},e}return function(e,t,n){t&&_i(e.prototype,t),n&&_i(e,n)}(n,[{key:"focus",value:function(){this.akSelect.focus()}},{key:"reset",value:function(){this.akSelect.select.select.select.clearValue(),this.akSelect.blur(),this.akSelect.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.initialValue,r=t.issueKey,i=t.projectId,s=t.jql,a=t.intl;return o.a.createElement(Jo.d,null,(function(t){var c=t.tenantContext.baseUrl;return(o.a.createElement(di,{labels:{recentIssues:a.formatMessage(Ii.defaultRecentIssues),matchingIssues:a.formatMessage(Ii.defaultMatchingIssues)},baseUrl:c,issueKey:r,projectId:i,jql:s,initialValue:n},(function(t){var r=t.loadOptions,i=t.options,s=t.isLoading,c=t.error;return(o.a.createElement(zo.a,{ref:e.onSetSelectRef,styles:Qo.c,isLoading:s,formatOptionLabel:e.formatOptionLabel,options:i,defaultInputValue:n,autoFocus:!0,allowCreateWhileLoading:!0,defaultOptions:!0,onCreateOption:e.onCreate,placeholder:a.formatMessage(Ii.defaultPlaceholder),components:{SingleValue:Si},onChange:function(t,n){return e.onChange(t,n,r)},onInputChange:e.onInputChange(r),onBlur:function(){return e.onBlur(r)},isClearable:!0,filterOption:e.filterOption,noOptionsMessage:function(){return e.renderNoOptionsMessage(c)},openMenuOnFocus:!0}))})))}))}}]),n}(r.Component);Ri.defaultProps={initialValue:""},Ri.displayName="IssuePicker";var Mi=Ri,Li=Object(P.defineMessages)({childLinkButton:{id:"issue.views.common.child-issues-panel.add-existing-issue.child-link-button",defaultMessage:"Add"},childCancelButton:{id:"issue.views.common.child-issues-panel.add-existing-issue.child-cancel-button",defaultMessage:"Cancel"}}),Ni=Object(_.default)(pi.b)(["margin-left:","px !important;"],U.f),Fi=_.default.div(["margin-top:","px;display:flex;justify-content:flex-end;"],U.f);function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qi(e);if(t){var o=qi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){return!t||"object"!==Ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(n,e);var t=Hi(n);function n(){var e;Ki(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedIssue:void 0,isDisabled:!0},e.onChildContainerRefSet=function(t){e.childContainer=t},e.onAdd=function(){e.state.selectedIssue&&(e.props.onAdd(e.state.selectedIssue),e.resetPicker())},e.onChange=function(t){e.setState({selectedIssue:t,isDisabled:!1})},e.onClear=function(){return e.setState({selectedIssue:void 0,isDisabled:!0})},e.onCancelClicked=function(){e.onClear(),e.props.onCancel()},e.onSetSelectRef=function(t){e.issuePicker=t},e.onKeyDown=function(t){t.keyCode===Go()("enter")&&(e.onAdd(),t.stopPropagation())},e.issuePicker=void 0,e.childContainer=void 0,e}return function(e,t,n){t&&Bi(e.prototype,t),n&&Bi(e,n)}(n,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Vi(i,r,o,s,a,"next",e)}function a(e){Vi(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(J.a)(this.childContainer);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.addClickCount!==e.addClickCount&&(Object(J.a)(this.childContainer),this.focusPicker())}},{key:"resetPicker",value:function(){this.issuePicker&&this.issuePicker.reset()}},{key:"focusPicker",value:function(){this.issuePicker&&this.issuePicker.focus()}},{key:"render",value:function(){var e=this.props,t=e.initialValue,n=e.issueKey,r=e.projectId,i=e.jql,s=e.intl;return n&&r?o.a.createElement(qo.a,{onEscape:this.onCancelClicked},o.a.createElement("div",{onKeyDown:this.onKeyDown,ref:this.onChildContainerRefSet},o.a.createElement(Mi,{ref:this.onSetSelectRef,initialValue:t,issueKey:n,projectId:r,jql:i,onChange:this.onChange,onClear:this.onClear,intl:s,onCreate:this.props.onCreate}),o.a.createElement(Fi,null,o.a.createElement(Ni,{appearance:"primary",onClick:this.onAdd,isDisabled:this.state.isDisabled},s.formatMessage(Li.childLinkButton)),o.a.createElement(Ni,{appearance:"subtle",onClick:this.onCancelClicked},s.formatMessage(Li.childCancelButton))))):null}}]),n}(r.Component);zi.defaultProps={initialValue:""},zi.displayName="AddExistingIssue";var Yi=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onAdd:"clicked",onCancel:"clicked",onCreate:"clicked"}),Object(Pr.r)({onAdd:"addExistingChildIssueRequest",onCancel:"hideAddExistingChildIssue",onCreate:"switchToCreateChildIssue"}),Object(i.connect)((function(e){return{addClickCount:Nn(e),initialValue:Un(e),issueKey:$n(e),jql:Ln(e),projectId:tr(e)}}),(function(e){return{onAdd:function(t,n){return e(function(e,t){return{type:"state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST",payload:e,meta:{analyticsEvent:t}}}(t,n))},onCancel:function(){return e(Ro())},onCreate:function(t){e(No(t)),e(Lo(Mo.InlineCreate))}}}))])(zi),Qi=n("./src/packages/issue/issue-view/src/views/common/button/square-add-icon-button.js"),Ji=Object(P.defineMessages)({createChildLabel:{id:"issue.views.common.child-issues-panel.heading.add-child.create-child-label",defaultMessage:"Create child"},createSubtaskLabel:{id:"issue.views.common.child-issues-panel.heading.add-child.create-subtask-label",defaultMessage:"Create subtask"}}),$i=_.default.div(["margin-left:","px;"],.75*U.f);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t){return(ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=os(e);if(t){var o=os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rs(this,n)}}function rs(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ts(e,t)}(n,e);var t=ns(n);function n(){return Xi(this,n),t.apply(this,arguments)}return function(e,t,n){t&&es(e.prototype,t),n&&es(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.onClick,r=e.isClassicSubtaskPanel?Ji.createSubtaskLabel:Ji.createChildLabel;return o.a.createElement($i,null,o.a.createElement(Qi.a,{onClick:n,label:t(r)}))}}]),n}(r.Component);is.defaultProps={isClassicSubtaskPanel:!1},is.displayName="AddChild";var ss=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onClick:"clicked"}),Object(Pr.r)({onClick:"showChildIssuesInlineCreate"}),Object(i.connect)((function(e){return{isClassicSubtaskPanel:qn(e)}}),(function(e,t){return{onClick:function(){e(Do()),t.onClick.apply(t,arguments)}}}))])(is),as=n("./node_modules/lodash/isEmpty.js"),cs=n.n(as),us=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroupCheckbox.js"),ls=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItemCheckbox.js"),fs=Object(P.defineMessages)({actions:{id:"issue.views.common.child-issues-panel.heading.meatballs.actions",defaultMessage:"Actions"},filter:{id:"issue.views.common.child-issues-panel.heading.meatballs.filter",defaultMessage:"Filter"},bulkEdit:{id:"issue.views.common.child-issues-panel.heading.meatballs.bulk-edit",defaultMessage:"Bulk edit"},hideDone:{id:"issue.views.common.child-issues-panel.heading.meatballs.hide-done",defaultMessage:"Hide done"},search:{id:"issue.views.common.child-issues-panel.heading.meatballs.search",defaultMessage:"View in search"},tooltip:{id:"issue.views.common.child-issues-panel.heading.meatballs.tooltip",defaultMessage:"Issue actions"}}),ds=_.default.div([".childIssuesPanelMeatballButton{padding:0 ","px;}"],.75*U.f);function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hs(e);if(t){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vs(this,n)}}function vs(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hs(e){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bs(e,t)}(n,e);var t=gs(n);function n(){var e;ms(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onHideDoneClickedAnalytics=function(t){var n=e.props,r=n.onHideDoneClicked,o=n.allIssues,i=n.incompleteIssues,s=n.hideDone;r(o.length,i.length,!s,t)},e}return function(e,t,n){t&&ys(e.prototype,t),n&&ys(e,n)}(n,[{key:"onBulkEditClickedAnalytics",value:function(e){var t=this;return function(n){t.props.onBulkEditClicked(e,n)}}},{key:"onViewInSearchClickedAnalytics",value:function(e){var t=this;return function(n){t.props.onViewInSearchClicked(e,n)}}},{key:"isHideDoneCheckboxVisible",value:function(){var e=this.props,t=e.allIssues,n=e.incompleteIssues;return!cs()(n)&&n.length!==t.length}},{key:"generateBulkEditLink",value:function(e){return"".concat(this.props.baseUrl,"/secure/GHBulkChange.jspa?issueKeys=").concat(encodeURIComponent(e))}},{key:"generateSearchLink",value:function(e){var t=encodeURIComponent("issueKey in (".concat(e,")"));return"".concat(this.props.baseUrl,"/issues/?jql=").concat(t)}},{key:"renderHideDoneCheckbox",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.hideDone;return this.isHideDoneCheckboxVisible()?o.a.createElement(us.a,{title:t(fs.filter),id:"child-issues-panel-checkbox-group"},o.a.createElement(ls.a,{id:"hideDone",key:"hideDone",onClick:this.onHideDoneClickedAnalytics,isSelected:n},t(fs.hideDone))):null}},{key:"renderActionLinks",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.hideDone,r=e.allIssues,i=e.incompleteIssues,s=n?i:r,a=s.length,c=s.map((function(e){return e.issueKey})).join(","),u=this.generateBulkEditLink(c),l=this.generateSearchLink(c),f=this.isHideDoneCheckboxVisible()?t(fs.actions):"";return o.a.createElement(x.a,{title:f},o.a.createElement(T.a,{onClick:this.onBulkEditClickedAnalytics(a),href:u},t(fs.bulkEdit)),o.a.createElement(T.a,{onClick:this.onViewInSearchClickedAnalytics(a),href:l},t(fs.search)))}},{key:"render",value:function(){return o.a.createElement(ds,null,o.a.createElement(A.a,{triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",iconBefore:o.a.createElement(R.a,{size:"small",label:this.props.intl.formatMessage(fs.tooltip)}),className:"childIssuesPanelMeatballButton"},position:"bottom right"},this.renderHideDoneCheckbox(),this.renderActionLinks()))}}]),n}(r.Component);Os.defaultProps={hideDone:!1},Os.displayName="Meatballs";var js=Object(d.a)([P.injectIntl,Object(Pr.f)("item",{onBulkEditClicked:"clicked",onViewInSearchClicked:"clicked",onHideDoneClicked:"clicked"}),Object(Pr.r)({onBulkEditClicked:function(e){return{name:"bulkEdit",issueCount:e}},onViewInSearchClicked:function(e){return{name:"viewInSearch",issueCount:e}},onHideDoneClicked:function(e,t,n){return{name:"toggleHideDone",totalIssues:e,incompleteIssues:t,hideDone:n}}}),Object(i.connect)((function(e){return{baseUrl:Hn(e),parentKey:$n(e),hideDone:Kn(e),allIssues:xn(e),incompleteIssues:An(e)}}),{onHideDoneClicked:function(){return{type:"state.ui.TOGGLE_HIDE_DONE"}}})])(Os),ws=Object(P.defineMessages)({title:{id:"issue.views.common.child-issues-panel.heading.title.title",defaultMessage:"Child issues"}});function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_s(e);if(t){var o=_s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ps(this,n)}}function Ps(e,t){return!t||"object"!==Es(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _s(e){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(n,e);var t=Cs(n);function n(){return ks(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ss(e.prototype,t),n&&Ss(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.title;return(o.a.createElement(K.e,null,t(n)))}}]),n}(r.Component);xs.defaultProps={title:ws.title},xs.displayName="Title";var Ts=Object(d.a)([P.injectIntl,Object(i.connect)((function(e){return{title:rr(e)}}),{})])(xs);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t){return(Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fs(e);if(t){var o=Fs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(e,t){return!t||"object"!==As(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fs(e){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(n,e);var t=Ls(n);function n(){return Ds(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Rs(e.prototype,t),n&&Rs(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.Title,n=e.Meatballs,r=e.AddChild,i=e.supportsIssueCreation,s=e.allIssues,a=e.onAddChildClick;return(o.a.createElement(K.c,null,o.a.createElement(t,null),o.a.createElement(K.d,null,s.length>0?o.a.createElement(n,null):null,i&&0!==s.length?o.a.createElement(r,{onClick:a}):null)))}}]),n}(r.Component);Us.defaultProps={supportsIssueCreation:!1,allIssues:[]},Us.displayName="Heading";var Vs=Object(d.a)([Object(i.connect)((function(e){return{Title:Ts,Meatballs:js,AddChild:ss,allIssues:xn(e),supportsIssueCreation:Qn(e)}}),{})])(Us),Ks=n("./node_modules/@atlaskit/select--current/Select.js"),Bs=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/async-icon/index.js"),Ws=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/keyboard-shortcuts/shortcut-scope.js"),Hs=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/utils.js"),Gs=Object(P.defineMessages)({typesPlaceholder:{id:"issue.views.common.child-issues-panel.inline-create.child-types-select.types-placeholder",defaultMessage:"Issue type"}}),qs=(M.colors.N50,U.f,U.f,_.default.div(["display:flex;align-items:center;"])),zs=_.default.span(["padding-left:","px;display:inline-block;"],U.f);function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qs(){return(Qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ta(e);if(t){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(e,t){return!t||"object"!==Ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ia={singleValue:function(e){return ra(ra({},e),{},{position:"static",transform:"none"})}},sa=function(e){return e.name},aa=function(e){return e.id},ca=function(e){return o.a.createElement(qs,null,o.a.createElement(Bs.a,{url:e.iconUrl,title:e.name}),o.a.createElement(zs,null,e.name))};ca.displayName="formatOptionLabel";var ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(n,e);var t=Xs(n);function n(){var e;Js(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t,n){"select-option"===n.action&&null!=t&&e.props.onChange(t)},e}return function(e,t,n){t&&$s(e.prototype,t),n&&$s(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.issueTypes,r=e.selectedIssueType;return(o.a.createElement(Ws.a,null,o.a.createElement(Ks.a,Qs({},Qo.b,{styles:Object(Hs.a)(Qo.c,ia),options:n,value:r,getOptionLabel:sa,getOptionValue:aa,formatOptionLabel:ca,onChange:this.onChange,placeholder:t(Gs.typesPlaceholder)}))))}}]),n}(r.Component);ua.defaultProps={issueTypes:[]},ua.displayName="ChildTypesSelect";var la=we()(P.injectIntl,Object(i.connect)((function(e){return{selectedIssueType:Vn(e),issueTypes:Mn(e)}}),{onChange:function(e){return{type:"state.ui.SELECTED_ISSUE_TYPE_CHANGED",payload:e}}}))(ua),fa=n("./node_modules/lodash/trim.js"),da=n.n(fa),pa=n("./node_modules/@atlaskit/field-text/FieldTextStateless.js"),ma=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/index.js"),ya=n("./node_modules/@atlaskit/icon--current/glyph/search.js"),ba=n.n(ya),ga=function(e){var t=e.children,n=e.onClick;return(o.a.createElement(pi.b,{appearance:"subtle-link",iconBefore:o.a.createElement(ba.a,null),isSelected:!1,onClick:n},t))};ga.displayName="AddExistingIssueButton",ga.displayName="AddExistingIssueButton";var va=Object(P.defineMessages)({summaryLabel:{id:"issue.views.common.child-issues-panel.inline-create.summary-label",defaultMessage:"Child summary"},summaryPlaceholder:{id:"issue.views.common.child-issues-panel.inline-create.summary-placeholder",defaultMessage:"What needs to be done?"},summaryTooLong:{id:"issue.views.common.child-issues-panel.inline-create.summary-too-long",defaultMessage:"Summary must be less than 255 characters."},childCreateButton:{id:"issue.views.common.child-issues-panel.inline-create.child-create-button",defaultMessage:"Create"},childCancelButton:{id:"issue.views.common.child-issues-panel.inline-create.child-cancel-button",defaultMessage:"Cancel"},addExistingIssuePlaceholder:{id:"issue.views.common.child-issues-panel.inline-create.add-existing-issue-placeholder",defaultMessage:"Choose an existing issue"}}),ha=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),Oa=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js");function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ia=_.default.div(["display:flex;align-items:center;background-color:",";width:100%;"],M.colors.N10),Ca=_.default.div(["flex-grow:1;"]),Pa=Object(ha.a)(pi.b,{target:"e1o0mbwp0"})("margin-left:",U.f,"px !important;"),_a=function(e,t){var n=e(t),r=n.buttonStyles;return Ea(Ea({},Sa(n,["buttonStyles"])),{},{buttonStyles:Ea(Ea({},r),{},{marginLeft:"".concat(U.f,"px")})})},xa=function(e){return o.a.createElement(pi.b,ja({},e,{theme:_a}))};xa.displayName="StyledButtonStyled";var Ta=Object(Oa.a)((function(){return Object(Mt.b)("jfp.remove-emotion-from-issue",!1)}),xa,Pa),Aa=_.default.div(["margin-top:","px;display:flex;justify-content:space-between;"],U.f),Da=_.default.div(["justify-content:flex-end;display:flex;"]);function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e){return function(e){if(Array.isArray(e))return La(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return La(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Va(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ga(e);if(t){var o=Ga(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ha(this,n)}}function Ha(e,t){return!t||"object"!==Ra(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qa=function(e){return da()(e).length>255},za=function(e){var t=da()(e);return cs()(t)||qa(e)},Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(n,e);var t=Wa(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onSubmitClicked=function(){r.createChild(),r.props.onSubmitClickAnalytics()},r.onCancelClicked=function(){r.closeAndReset(),r.props.onCancelClickAnalytics()},r.onEnterPressed=function(){r.createChild(),r.props.onEnterKeyPressedAnalytics()},r.onEscPressed=function(){r.closeAndReset(),r.props.onEscapeKeyPressedAnalytics()},r.onUpdateChildSummary=function(e){var t=e.target.value;r.props.onChangeSummary(t)},r.onChildContainerRefSet=function(e){r.childContainer=e},r.onFieldContainerRefSet=function(e){r.fieldContainer=e},r.onAddExisting=function(){r.props.onAddExistingIssue(),r.props.onAddExistingClickAnalytics()},r.childContainer=void 0,r.fieldContainer=void 0,r.createIssueFormFactory=void 0,r.createIssueFormFactory=null,r}return function(e,t,n){t&&Ka(e.prototype,t),n&&Ka(e,n)}(n,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Va(i,r,o,s,a,"next",e)}function a(e){Va(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(J.a)(this.childContainer),this.fieldContainer&&this.fieldContainer.focus(),t="classicSubtasks"===this.props.childIssuesPanelType?"quick-edit/form/factory/create-subtask":"quick-edit/form/factory/create-issue",e.next=5,Object(ma.a)({name:t});case 5:this.createIssueFormFactory=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.addClickCount!==e.addClickCount&&(Object(J.a)(this.childContainer),this.fieldContainer&&this.fieldContainer.focus())}},{key:"createChild",value:function(){var e=this,t="OPTIMISTIC_CHILD_".concat(Date.now()),n=this.props,r=n.baseUrl,o=n.epicLinkFieldKey,i=n.selectedIssueType,s=n.projectId,a=n.parentIssueId,c=n.parentIssueKey,u=n.childIssuesPanelType,l=n.requiresFullCreate,f=n.summary;if(!za(f)&&i){var d={id:t,issueSummary:f,issueTypeId:"".concat(i.id),issueTypeIconUrl:"".concat(i.iconUrl),issueTypeName:"".concat(i.name),assigneeUrl:null,assigneeDisplayName:null};if(i.hasRequiredField||l){var p="classicProjectEpicChildren"===u,m=this.createIssueFormFactory(Fa({pid:s,issueType:i&&i.id,fields:Fa({summary:f||""},p&&o?Ua({},o,c):{}),customFieldsToPreserveOnFormRecreation:Ma(p&&o?[o]:[])},"classicSubtasks"===u?{parentIssueId:a}:{}));m.bind("issueCreated",(function(n,i){p&&i.createdIssueDetails.fields[o]!==c||e.props.onFullDialogCreate(t,Br(i.createdIssueDetails,r)),e.resetAndFocus()})),m.asDialog({id:"classicSubtasks"===u?"create-subtask-dialog":"create-issue-dialog"}).show()}else this.props.onSubmit(d),this.resetAndFocus()}}},{key:"closeAndReset",value:function(){this.reset(),this.props.onCancel()}},{key:"resetAndFocus",value:function(){this.reset(),this.fieldContainer&&this.fieldContainer.focus()}},{key:"reset",value:function(){this.props.onChangeSummary("")}},{key:"renderAddExistingIssueButton",value:function(){var e=this.props.intl.formatMessage;switch(this.props.childIssuesPanelType){case"nextGenChildren":return o.a.createElement(nt.a,{content:e(va.addExistingIssuePlaceholder)},o.a.createElement(ga,{onClick:this.onAddExisting},e(va.addExistingIssuePlaceholder)));case"portfolioChildren":case"classicProjectEpicChildren":case"classicSubtasks":default:return o.a.createElement("div",null)}}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.issueTypes,r=e.ChildTypesSelect,i=e.summary,s=qa(i)?t(va.summaryTooLong):"";return o.a.createElement("div",{ref:this.onChildContainerRefSet},o.a.createElement(Ia,null,n.length>1?o.a.createElement(r,null):null,o.a.createElement(Ca,null,o.a.createElement(qo.a,{onEnter:this.onEnterPressed,onEscape:this.onEscPressed},o.a.createElement(pa.a,{ref:this.onFieldContainerRefSet,placeholder:t(va.summaryPlaceholder),label:t(va.summaryLabel),onChange:this.onUpdateChildSummary,value:i,isInvalid:qa(i),invalidMessage:s,isLabelHidden:!0,shouldFitContainer:!0})))),o.a.createElement(Aa,null,this.renderAddExistingIssueButton(),o.a.createElement(Da,null,o.a.createElement(Ta,{appearance:"primary",onClick:this.onSubmitClicked,isDisabled:za(i)},t(va.childCreateButton)),o.a.createElement(Ta,{appearance:"subtle",onClick:this.onCancelClicked},t(va.childCancelButton)))))}}]),n}(r.Component);Ya.defaultProps={addClickCount:0,requiresFullCreate:!1,parentIssueKey:void 0,epicLinkFieldKey:null},Ya.displayName="InlineCreate";var Qa=Object(Pr.e)("issue")(Ya),Ja=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onSubmitClickAnalytics:"clicked",onCancelClickAnalytics:"clicked",onAddExistingClickAnalytics:"clicked"}),Object(Pr.f)("keyboardShortcut",{onEnterKeyPressedAnalytics:"pressed",onEscapeKeyPressedAnalytics:"pressed"}),Object(Pr.f)("childIssuePanelInlineCreate",{onSubmit:"onSubmit",onFullDialogCreate:"onFullDialogCreate"}),Object(Pr.r)({onSubmitClickAnalytics:"createChildIssue",onCancelClickAnalytics:"hideChildIssueInlineCreate",onEnterKeyPressedAnalytics:"confirmChildIssueCreate",onEscapeKeyPressedAnalytics:"cancelChildIssueCreate",onAddExistingClickAnalytics:"addExistingChildClick"}),Object(i.connect)((function(e){return{ChildTypesSelect:la,baseUrl:Hn(e),issues:xn(e),addClickCount:Nn(e),issueTypes:Mn(e),selectedIssueType:Vn(e),projectId:tr(e),parentIssueId:Zn(e),parentIssueKey:$n(e),epicLinkFieldKey:er(e),childIssuesPanelType:Gn(e),requiresFullCreate:Jn(e),summary:Un(e)}}),{onCancel:Ro,onAddExistingIssue:function(){return Lo(Mo.AddExistingIssue)},onChangeSummary:function(e){return No(e)},onSubmit:function(e,t){return Yt(e,t)},onFullDialogCreate:function(e,t,n){return function(e,t,n){return{type:"state.entities.CHILD_CREATED_IN_FULL_DIALOG",payload:{optimisticId:e,createdChild:t},meta:{analyticsEvent:n}}}(e,t,n)}})])(Qa),$a=n("./src/packages/issue/issue-view/src/common/util/events/index.js"),Za=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/item-line-card/item-line-card-group-view.js"),Xa=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),ec=n("./node_modules/@atlaskit/icon--current/glyph/editor/close.js"),tc=n.n(ec),nc=n("./node_modules/@atlaskit/icon--current/glyph/list.js"),rc=n.n(nc),oc=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),ic=n("./src/packages/platform/utils/constants/src/index.js"),sc=n("./node_modules/react-async-component/commonjs/index.js"),ac=n("./src/packages/issue/fields/assignee/src/common/ui/assignee-avatar/index.js"),cc=Object(sc.asyncComponent)({resolve:function(){return n.e("async-assignee-edit-view").then(n.bind(null,"./src/packages/issue/fields/assignee/src/ui/main.js")).then((function(e){return e.AssigneeEditView}))},LoadingComponent:function(e){var t=e.initialValue;return t&&t.name?o.a.createElement(ac.a,{url:t.avatarUrl||null,name:t.name}):null}}),uc=n("./src/packages/issue/fields/status/src/index.js"),lc=n("./src/packages/issue/fields/number/src/index.js"),fc=_.default.div(["& > div > div{margin-left:0;}"]);function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mc=Object(r.memo)((function(e){var t=e.isHovering,n=e.isActive,i=e.isFocused,s=e.issueKey,a=e.estimateFieldId,c=dc(Object(r.useState)(!1),2),u=c[0],l=c[1],f=dc(Object(lc.b)({issueKey:s,fieldKey:a}),1)[0].value,d=Object(r.useCallback)((function(){return l(!0)}),[]),p=Object(r.useCallback)((function(){return l(!1)}),[]);return!(null==f)||u||t||i||n?o.a.createElement(fc,{role:"button",onClick:function(e){return e.preventDefault()},onFocus:function(e){return e.stopPropagation()}},o.a.createElement(lc.a,{issueKey:s,fieldKey:a,onEdit:d,onConfirm:p,onEnter:p,onCancel:p,onEscape:p})):null}));function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jc(e);if(t){var o=jc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oc(this,n)}}function Oc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wc=Object(P.defineMessages)({issueTypeTitle:{id:"issue.view.common.issue-line-card.issue-type.title",defaultMessage:"Issue type: {issueTypeName}"},issuePriorityTitle:{id:"issue.view.common.issue-line-card.priority.title",defaultMessage:"Priority: {issuePriorityName}"}}),Ec=ic.d.DONE,kc=ic.d.statusCategoryForId,Sc=_.default.div(["display:flex;align-items:center;"]),Ic=Object(_.default)(Sc)(["width:","px;height:100%;margin-left:","px;margin-right:-","px;"],4*U.f,U.f/4,U.f),Cc=Object(_.default)(Sc)(["width:100%;height:100%;position:relative;"]),Pc=Object(_.default)(Sc)(["cursor:grab;"]),_c=Object(_.default)(Sc)(["padding-left:","px;"],U.f),xc=_.default.a(["outline:none;margin-left:","px;color:",";font-weight:600;font-size:12px;text-decoration:",";white-space:nowrap;&:hover,&:active,&:visited,&:link{outline:none;color:",";text-decoration:",";}"],U.f,(function(e){return e.isActive?M.colors.B400:M.colors.N90}),(function(e){return e.isDone?"line-through":"none"}),(function(e){return e.isActive?M.colors.B400:M.colors.N90}),(function(e){return e.isDone?"line-through":"none"})),Tc=_.default.div(["",";padding-left:","px;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.isActive&&"color: ".concat(M.colors.B400,";")}),U.f),Ac=_.default.div(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Dc=_.default.div(["display:",";opacity:",";"],(function(e){return e.isVisible?"block":"none"}),(function(e){return e.isVisible?"1":"0"})),Rc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(n,e);var t=hc(n);function n(){var e;bc(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleEditStatus=function(t){(0,e.props.onEdit)({statusId:t.id,statusName:t.name,statusCategory:kc(t.statusCategory.id),statusCategoryId:t.statusCategory.id})},e.handleEditAssignee=function(t){t&&e.props.onEdit({assigneeUrl:t.avatarUrl,assigneeDisplayName:t.name})},e.handleErrorDialogClick=function(e){e.stopPropagation()},e.handleErrorDialogMouseDown=function(e){e.preventDefault(),e.stopPropagation()},e}return function(e,t,n){t&&gc(e.prototype,t),n&&gc(e,n)}(n,[{key:"shouldRenderKey",value:function(){return!!this.props.issueKey}},{key:"isActionVisible",value:function(){return!this.props.isActive&&(this.props.isHovering||this.props.isFocused)}},{key:"shouldShowRemoveAction",value:function(){return this.props.isActive||this.props.isHovering||this.props.isFocused}},{key:"deleteButtonAction",value:function(e){e.stopPropagation(),this.props.issueKey&&this.props.onDelete(this.props.issueKey)}},{key:"renderAssignee",value:function(){var e=this.props,t=e.assigneeDisplayName,n=e.assigneeUrl,r=e.isDraggable,i=e.isHovering,s=e.isFocused;if(Object(y.isInlineAssigneeFieldEnabled)()){var a=this.props.issueKey;return a?o.a.createElement(Dc,{isVisible:i||n||s,onClick:function(e){return e.preventDefault()}},o.a.createElement(cc,{allowedValues:[],issueKey:Object(Ft.toIssueKey)(a),onSuccess:this.handleEditAssignee,initialValue:{name:t||"",avatarUrl:n}})):null}return n?o.a.createElement(_c,null,o.a.createElement(nt.a,{content:t||"",hideTooltipOnMouseDown:r,position:"bottom"},o.a.createElement(Xa.a,{name:t||"",src:n,size:"small",enableTooltip:!1}))):null}},{key:"renderStatus",value:function(){var e=this.props,t=e.isInteractive,n=e.issueKey,r=e.statusCategory,i=e.statusCategoryId,s=e.statusId,a=e.statusName,c=e.projectType;return n&&r&&a&&s&&i?o.a.createElement(_c,{onClick:function(e){return e.preventDefault()},onFocus:function(e){return e.stopPropagation()}},o.a.createElement(Ut.b,{sourceName:"childIssuesPanel"},o.a.createElement(uc.StatusField,{isEditable:t,appearance:"lozenge",issueKey:Object(Ft.toIssueKey)(n),projectType:c,initialValue:{id:s,name:a,statusCategory:{id:i}},onSuccess:this.handleEditStatus}))):null}},{key:"renderPriority",value:function(){var e=this.props,t=e.intl,n=e.isDraggable,r=e.issuePriorityUrl,i=e.issuePriorityName;if(!r)return null;var s=t.formatMessage(wc.issuePriorityTitle,{issuePriorityName:i});return(o.a.createElement(nt.a,{content:i||"",hideTooltipOnMouseDown:n,position:"bottom"},o.a.createElement(Bs.a,{alt:s,url:r,width:20,height:20})))}},{key:"renderLoadingSpinner",value:function(){return this.props.isLoading?o.a.createElement(_c,null,o.a.createElement(oc.a,{size:"small"})):null}},{key:"renderError",value:function(){return this.props.hasError||this.props.errorInlineMessage?o.a.createElement(_c,{onClick:this.handleErrorDialogClick,onMouseDown:this.handleErrorDialogMouseDown},this.props.errorInlineMessage):null}},{key:"renderSummary",value:function(){var e=this.props,t=e.isActive,n=e.issueSummary,r=e.isDraggable;return(o.a.createElement(Tc,{"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.summary",isActive:t},o.a.createElement(nt.a,{content:n,hideTooltipOnMouseDown:r,position:"bottom"},o.a.createElement(Ac,null,n))))}},{key:"renderKey",value:function(){return Object(y.isItemLineCardKeyboardAccessible)()?o.a.createElement(xc,{"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.key",href:this.props.issueLink,isActive:this.props.isActive,isDone:this.props.statusCategory===Ec,onClick:function(e){return e.stopPropagation()}},this.props.issueKey):o.a.createElement(xc,{"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.key",href:this.props.issueLink,tabIndex:-1,isActive:this.props.isActive,isDone:this.props.statusCategory===Ec,onClick:function(e){return e.stopPropagation()}},this.props.issueKey)}},{key:"renderRemoveButton",value:function(){var e=this;return(o.a.createElement(pi.b,{iconBefore:o.a.createElement(tc.a,{label:""}),onClick:function(t){return e.deleteButtonAction(t)},tabIndex:-1,appearance:"subtle",spacing:"none"}))}},{key:"renderRemoveButtonContainer",value:function(){var e=this.props,t=e.onDelete,n=e.isLoading,r=e.hasError;return t===h.a||n||r?null:o.a.createElement(Ic,null,this.shouldShowRemoveAction()&&this.renderRemoveButton())}},{key:"renderType",value:function(){var e=this.props,t=e.intl,n=e.isDraggable,r=e.issueTypeIconUrl,i=e.issueTypeName;if(!i)return null;var s=t.formatMessage(wc.issueTypeTitle,{issueTypeName:i});return(o.a.createElement(nt.a,{content:i,hideTooltipOnMouseDown:n,position:"bottom"},o.a.createElement("div",null,n&&this.isActionVisible()?o.a.createElement(Pc,null,o.a.createElement(rc.a,{label:s,size:"small"})):o.a.createElement(Sc,null,o.a.createElement(Bs.a,{alt:s,url:r})))))}},{key:"renderEstimate",value:function(){var e=this.props,t=e.issueKey,n=e.estimateFieldId,r=e.isActive,i=e.isHovering,s=e.isFocused;return t&&n?o.a.createElement(mc,{isActive:r,isHovering:i,isFocused:s,issueKey:Object(Ft.toIssueKey)(t),estimateFieldId:n}):null}},{key:"render",value:function(){return o.a.createElement(Cc,{isFocused:this.props.isFocused,isHovering:this.props.isHovering},this.renderType(),this.shouldRenderKey()&&this.renderKey(),this.renderSummary(),this.renderPriority(),this.renderEstimate(),this.renderAssignee(),this.renderStatus(),this.renderLoadingSpinner(),this.renderError(),this.renderRemoveButtonContainer())}}]),n}(r.Component);Rc.defaultProps={isLoading:!1,isDraggable:!1,isHovering:!1,isActive:!1,isFocused:!1,isInteractive:!0,hasError:!1,projectType:null,onDelete:h.a,onEdit:h.a},Rc.displayName="IssueLineCard";var Mc=Object(P.injectIntl)(Rc);function Lc(e){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nc(){return(Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return(Wc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qc(e);if(t){var o=qc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gc(this,n)}}function Gc(e,t){return!t||"object"!==Lc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qc(e){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wc(e,t)}(n,e);var t=Hc(n);function n(){var e;Kc(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t,n){e.props.onClick(t,n),t.issueLink&&(Object($a.e)(n)||Object($a.a)(n))&&window.open(t.issueLink,"_blank")},e}return function(e,t,n){t&&Bc(e.prototype,t),n&&Bc(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.issues,n=e.onOrderChange,r=e.groupId,i=e.isReorderEnabled,s=e.isInteractive,a=e.projectType,c=e.onDelete,u=e.onEditIssue;return(o.a.createElement(Za.a,{items:t,onOrderChange:n,groupId:r,isReorderEnabled:i,isInteractive:s,onClick:this.handleClick},(function(e,t,n,l){return o.a.createElement(Mc,Nc({isHovering:e,isActive:t,isFocused:n,isDraggable:i,isInteractive:s,issueId:l.id,projectType:a,onDelete:c&&function(e){return c&&c(r,e)},onEdit:u&&function(e){return u&&u(Uc(Uc({},l),e))}},l))})))}}]),n}(r.Component);zc.defaultProps={isReorderEnabled:!1,isInteractive:!0,projectType:null},zc.displayName="IssueLineCardGroup";var Yc=n("./node_modules/@atlaskit/inline-message/components/InlineMessage/index.js"),Qc=Object(P.defineMessages)({retry:{id:"issue.issue-line-card-retry",defaultMessage:"Try again"},cancel:{id:"issue.issue-line-card-cancel",defaultMessage:"Cancel"}}),Jc=_.default.h1([""," margin-bottom:","px;"],M.typography.h400(),2*U.f),$c=_.default.div(["margin-bottom:","px;"],2*U.f),Zc=_.default.div(["display:flex;justify-content:flex-start;"]),Xc=_.default.div(["margin-left:","px;"],U.f),eu=function(e,t,n,r,i){return o.a.createElement(Yc.a,{type:"warning",placement:"bottom-end"},o.a.createElement("div",null,o.a.createElement(Jc,null,t),o.a.createElement($c,null,n),o.a.createElement(Zc,null,o.a.createElement(pi.b,{onClick:r},e.formatMessage(Qc.retry)),o.a.createElement(Xc,null,o.a.createElement(pi.b,{appearance:"subtle",onClick:i},e.formatMessage(Qc.cancel))))))};eu.displayName="renderInlineMessage";var tu=Object(P.defineMessages)({createChildErrorTitle:{id:"issue.views.common.child-issues-panel.issues.create-child-error-title",defaultMessage:"We couldn't create the child issue"},createSubtaskErrorTitle:{id:"issue.views.common.child-issues-panel.issues.create-subtask-error-title",defaultMessage:"We couldn't create the subtask"},createErrorBody:{id:"issue.views.common.child-issues-panel.issues.create-error-body",defaultMessage:"Check your connection, then give it another try"},linkIssueErrorTitle:{id:"issue.views.common.child-issues-panel.issues.link-issue-error-title",defaultMessage:"We couldn't link the child issue"},linkIssueErrorBody:{id:"issue.views.common.child-issues-panel.issues.link-issue-error-body",defaultMessage:"Check your connection, then give it another try"}}),nu=_.default.div(["margin-top:","px;margin-bottom:","px;padding-right:1px;"],U.f,U.f);function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uu(e,t){return(uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=du(e);if(t){var o=du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fu(this,n)}}function fu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function du(e){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uu(e,t)}(n,e);var t=lu(n);function n(){var e;au(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChildIssueClick=function(t,n){var r=t.issueKey;r&&Object($a.d)(n)&&e.props.onNavigateToNewIssue({fromIssueKey:e.props.parentKey,toIssueKey:r})},e.onOrderChange=function(t,n,r,o,i){e.props.onReorderChildren(e.props.allIssues,t,r,o,i)},e}return function(e,t,n){t&&cu(e.prototype,t),n&&cu(e,n)}(n,[{key:"inlineErrorMessage",value:function(e,t){var n=this.props,r=n.intl,o=n.onInlineErrorCreateRetry,i=n.onInlineErrorLinkingRetry,s=n.onInlineErrorCancel,a=n.isClassicSubtaskPanel;switch(t){case Io:return eu(r,r.formatMessage(tu.linkIssueErrorTitle),r.formatMessage(tu.linkIssueErrorBody),(function(t,n){return i(e,n)}),(function(){return s(e)}));case So:default:var c=a?tu.createSubtaskErrorTitle:tu.createChildErrorTitle;return eu(r,r.formatMessage(c),r.formatMessage(tu.createErrorBody),(function(t,n){return o(e,n)}),(function(){return s(e)}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.allIssues,r=t.incompleteIssues,i=t.hideDone,s=t.isClassicSubtaskPanel,a=t.isNextGenChildrenPanel,c=t.projectType,u=t.onEditIssue,l=t.isIssueViewComplete,f=n.length>1,d=n.filter((function(e){return e.isLoading})).length>0,p=(a||s)&&!i&&f&&!d;Object(y.isBentoEnhancedPreviewEnabled)()&&(p=p&&l);var m=(i?r:n).map((function(t){return t.errorType?iu(iu({},t),{},{errorInlineMessage:e.inlineErrorMessage(t.id,t.errorType)}):t}));return o.a.createElement(nu,null,o.a.createElement(zc,{groupId:"child-issues-panel",issues:m,projectType:c,onClick:this.onChildIssueClick,isReorderEnabled:p,isInteractive:Object(y.isBentoEnhancedPreviewEnabled)()?l:void 0,onOrderChange:this.onOrderChange,onEditIssue:u}))}}]),n}(r.Component);pu.defaultProps={isClassicSubtaskPanel:!1,isNextGenChildrenPanel:!1,allIssues:[],incompleteIssues:[],projectType:null,onReorderChildren:h.a,onEditIssue:h.a},pu.displayName="Issues";var mu=Object(Pr.e)("issue")(pu),yu=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onInlineErrorCancel:"clicked",onInlineErrorCreateRetry:"clicked"}),Object(Pr.f)("inlineIssue",{onNavigateToNewIssue:"clicked",onReorderChildren:"dragged"}),Object(Pr.r)({onInlineErrorCancel:"cancelInlineErrorCreate",onInlineErrorCreateRetry:"retryInlineErrorCreate",onNavigateToNewIssue:"navigateToNewIssue",onReorderChildren:"reorderChildren"}),Object(i.connect)((function(e){return{allIssues:xn(e),incompleteIssues:An(e),hideDone:Kn(e),parentKey:$n(e),projectType:ur(e),isClassicSubtaskPanel:qn(e),isNextGenChildrenPanel:Yn(e),onNavigateToNewIssue:ir(e),isIssueViewComplete:ar(e)}}),{onInlineErrorCancel:function(e){return{type:"state.entities.CANCEL_OPTIMISTIC_CHILD",payload:{optimisticId:e}}},onInlineErrorCreateRetry:function(e,t){return{type:rn,payload:{optimisticId:e},meta:{analyticsEvent:t}}},onInlineErrorLinkingRetry:function(e,t){return{type:tn,payload:{issueId:e},meta:{analyticsEvent:t}}},onReorderChildren:function(e,t,n,r,o){return{type:cn,payload:{currentOrder:e,newOrder:t,currentIndex:n,newIndex:r},meta:{analyticsEvent:o}}},onEditIssue:function(e){return{type:qt,payload:e}}})])(mu),bu=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/progress-bar/index.js"),gu=Object(P.defineMessages)({completionPercentageText:{id:"issue.views.common.child-issues-panel.progress-summary.completion-percentage-text",defaultMessage:"{completionPercentage}% Done"},todoIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.todo-issues-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount} issues"},todoSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.todo-subtasks-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount} subtasks"},inProgressIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.in-progress-issues-segment-tooltip-text",defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount} issues"},inProgressSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.in-progress-subtasks-segment-tooltip-text",defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount} subtasks"},completedIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.completed-issues-segment-tooltip-text",defaultMessage:"Done: {completedIssueCount} of {totalIssueCount} issues"},completedSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.completed-subtasks-segment-tooltip-text",defaultMessage:"Done: {completedIssueCount} of {totalIssueCount} subtasks"}}),vu=M.colors.N30,hu=M.colors.B400,Ou=M.colors.G300,ju=_.default.div(["display:flex;align-items:center;"]),wu=_.default.div(["flex-grow:1;"]),Eu=_.default.div(["margin-left:","px;margin-right:","px;flex-shrink:0;color:",";"],2*U.f,.25*U.f,M.colors.N200),ku=_.default.span(["display:inline-block;width:","px;text-align:right;"],3*U.f);function Su(){return(Su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Iu={remainingTooltip:gu.todoSubtasksSegmentTooltipText,completedTooltip:gu.completedSubtasksSegmentTooltipText,inProgressTooltip:gu.inProgressSubtasksSegmentTooltipText},Cu={remainingTooltip:gu.todoIssuesSegmentTooltipText,completedTooltip:gu.completedIssuesSegmentTooltipText,inProgressTooltip:gu.inProgressIssuesSegmentTooltipText},Pu=Object(d.a)([P.injectIntl,Object(i.connect)((function(e){return{isClassicSubtaskPanel:qn(e),totalIssueCount:xn(e).length,inProgressIssueCount:Dn(e).length,completedIssueCount:Tn(e).length}}),{})])((function(e){var t=e.isClassicSubtaskPanel,n=e.intl.formatMessage,r=e.totalIssueCount,i=e.inProgressIssueCount,s=e.completedIssueCount,a=r-i-s,c=Math.floor(s/r*100),u=t?Iu:Cu,l=u.remainingTooltip,f=u.completedTooltip,d=u.inProgressTooltip;return o.a.createElement(ju,null,o.a.createElement(wu,null,o.a.createElement(bu.b,{sum:r,backgroundColor:vu,remainingTooltipContent:n(l,{todoIssueCount:a,totalIssueCount:r})},o.a.createElement(bu.a,{value:s,color:Ou,tooltipContent:n(f,{completedIssueCount:s,totalIssueCount:r})}),o.a.createElement(bu.a,{value:i,color:hu,tooltipContent:n(d,{inProgressIssueCount:i,totalIssueCount:r})}))),o.a.createElement(Eu,null,o.a.createElement(P.FormattedMessage,Su({},gu.completionPercentageText,{values:{completionPercentage:o.a.createElement(ku,null,c)}}))))}));function _u(e){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Au(e,t){return(Au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mu(e);if(t){var o=Mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ru(this,n)}}function Ru(e,t){return!t||"object"!==_u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}(n,e);var t=Du(n);function n(){return xu(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Tu(e.prototype,t),n&&Tu(e,n)}(n,[{key:"hasIssues",value:function(){return this.props.allIssues.length>0}},{key:"hasContent",value:function(){var e=this.props,t=e.noValueText,n=e.addClickCount;return this.hasIssues()||n>0||!!t}},{key:"renderEmptyValue",value:function(){var e=this.props,t=e.noValueText,n=e.addClickCount,r=e.intl.formatMessage;return this.hasIssues()||null===t||0!==n?null:o.a.createElement(f.c,null,r(t))}},{key:"renderIssues",value:function(){var e=this.props,t=e.ProgressSummary,n=e.Issues,r=e.allIssues,i=r.length>=2?o.a.createElement(t,null):null;return r.length>0?o.a.createElement(o.a.Fragment,null,i,o.a.createElement(n,null)):null}},{key:"renderCreate",value:function(){var e=this.props,t=e.InlineCreate,n=e.addClickCount,r=e.AddExistingIssue,i=e.childPanelView;if(n>0)switch(i){case Mo.InlineCreate:return o.a.createElement(t,null);case Mo.AddExistingIssue:return o.a.createElement(r,null);default:return null}return null}},{key:"render",value:function(){var e=this.props,t=e.Heading,n=e.onAddChildClick;return this.hasContent()?o.a.createElement(o.a.Fragment,null,o.a.createElement(t,{onAddChildClick:n}),this.renderEmptyValue(),this.renderIssues(),this.renderCreate()):null}}]),n}(r.Component);Lu.defaultProps={addClickCount:0,noValueText:null},Lu.displayName="ChildIssuesPanel";var Nu=Object(d.a)([P.injectIntl,Object(i.connect)((function(e){return{Heading:Vs,InlineCreate:Ja,Issues:yu,ProgressSummary:Pu,AddExistingIssue:Yi,childPanelView:Fn(e),allIssues:xn(e),incompleteIssues:An(e),addClickCount:Nn(e),noValueText:or(e)}}),{})])(Lu);function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t){return(Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wu(e);if(t){var o=Wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}(n,e);var t=Ku(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).store=void 0;var o=r.props,i=o.issues,s=o.parentKey,a=o.childIssuesPanelType;r.store=function(e,t,n){return Object(vo.a)({appName:"".concat(t,"-child-issues-panel-").concat(n),rootReducer:Wo,rootEpic:e})}(function(e){return jn.combineEpics.apply(void 0,[Sr,Dr(e)].concat(bo(Ht()?[gr]:[]),[Cr,Lr,yr,yo,ao,dr,Fr,Ur(e)]))}(r.props.dataProvider),s,a),r.dispatchContext(),r.store.dispatch(uo()),r.dispatchEntities(),"classicSubtasks"!==a&&i.length>0&&r.store.dispatch(an());var c=e.fetchIssueTypesStatus;return c&&r.store.dispatch(Fo(c)),r}return function(e,t,n){t&&Uu(e.prototype,t),n&&Uu(e,n)}(n,[{key:"componentDidUpdate",value:function(e){if(!Object(Lt.a)(e,this.props)){var t=this.props,n=t.isIssueViewComplete,r=t.issues;t.quickAddClickCount>e.quickAddClickCount&&this.store.dispatch(Do()),(r.length||Bt()&&this.props.issueTypes.length)&&(Bt()&&this.store.dispatch(uo()),this.dispatchEntities()),Bt()&&(n!==e.isIssueViewComplete&&this.store.dispatch(function(e){return{type:"state.context.SET_IS_ISSUE_VIEW_COMPLETE",payload:e}}(n)),e.supportsIssueCreation!==this.props.supportsIssueCreation&&this.dispatchContext());var o=this.props.fetchIssueTypesStatus;o!==e.fetchIssueTypesStatus&&(this.store.dispatch(Fo(o||Kt.c)),this.dispatchEntities())}}},{key:"dispatchEntities",value:function(){var e=this.props,t=e.issueTypes,n=e.issues,r=e.epicLinkFieldKey;this.store.dispatch(function(e){return{type:Gt,payload:e}}({issueTypes:t.map((function(e){return function(e,t){var n=e.fields,r=gn(e,["fields"]),o=!!n&&On(n),i=!!n&&Object.keys(n).includes(t);return yn(yn({},r),{},{hasRequiredField:o,hasEpicLinkField:i})}(e,r)})),issues:n}))}},{key:"dispatchContext",value:function(){var e=this.props,t=e.supportsIssueCreation,n=e.baseUrl,r=e.locale,o=e.user,i=e.parentKey,s=e.customFieldIdRank,a=e.epicLinkFieldKey,c=e.parentId,u=e.projectId,l=e.projectType,f=e.messages,d=e.onNavigateToNewIssue,p=e.onChange,m=e.childIssuesPanelType,y=e.isIssueViewComplete,b=null,g=null;if(Ht()&&null!==l){var v=Object(Mt.f)().appEditions;b=Object(Ft.getApplicationForProject)(l),g=Object(Ft.getEdition)(b,v)}this.store.dispatch(function(e){return{type:co,payload:e}}({baseUrl:n,locale:r,user:o,projectId:u,parentId:c,parentKey:i,customFieldIdRank:s,epicLinkFieldKey:a,supportsIssueCreation:t,messages:f,onNavigateToNewIssue:d,onChange:p,childIssuesPanelType:m,isIssueViewComplete:y,projectType:l,application:b,edition:g,requiresFullCreate:!1}))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.onAddChildClick,r=e.childIssuesPanelType,i=e.analyticsSource,s=e.issueHierarchyLevel;return(o.a.createElement(Dt.a,{store:this.store,locale:t,hasIntlProvider:!Wt()},o.a.createElement(Ut.b,{sourceName:"childIssuesPanel",sourceType:Ut.m,attributes:{childIssuesPanelType:r,issueHierarchyLevel:s-1,analyticsSource:"issue-view (".concat(i,")")}},o.a.createElement(Rt.a,null,o.a.createElement(Nu,{onAddChildClick:n}),o.a.createElement(Nt.FlagsDispatcher,{mapper:pn})))))}}]),n}(r.Component);Hu.defaultProps={issues:[],issueTypes:[],isIssueViewComplete:!1},Hu.displayName="ChildIssuesPanel";var Gu=Object(Vt.cb)(Hu),qu=Object(P.defineMessages)({title:{id:"issue.children-issues.title",defaultMessage:"Child issues"}}),zu=Object(d.a)([Object(i.connect)((function(e){return{childIssuesPanelType:"nextGenChildren",baseUrl:Object(ve.f)(e),locale:Object(ve.D)(e),user:Object(ve.a)(e),projectId:Object(l.B)(e),projectType:Object(l.E)(e),parentKey:Object(ve.B)(e),parentId:Object(ve.A)(e),customFieldIdRank:Object(u.b)(St.Z)(e),issueTypes:Object(It.j)(e),issues:Tt(e),supportsIssueCreation:Object(It.k)(e),quickAddClickCount:xt(e),isIssueViewComplete:Object(l.m)(e),messages:qu,onNavigateToNewIssue:Object(ve.G)(e),fetchIssueTypesStatus:Object(At.a)(e),issueHierarchyLevel:Object(It.e)(e),analyticsSource:Object(ve.b)(e)}}),(function(e){return{onChange:function(t){switch(t.type){case En.CHILD_ISSUE_ADDED:e(Object(kt.h)(t.meta.childIssue));break;case En.ISSUE_CHILDREN_ORDER_CHANGED:e(Object(kt.k)(t.meta))}},onAddChildClick:function(){return e(Object(kt.i)())}}}))])(Gu),Yu=n("./src/packages/issue/issue-view/src/actions/applink-authentication-actions.js"),Qu=n("./src/packages/issue/issue-view/src/actions/confluence-pages-actions.js"),Ju=n("./src/packages/issue/issue-view/src/selectors/confluence-app-links-selector.js"),$u=n("./src/packages/issue/issue-view/src/selectors/confluence-pages-selector.js"),Zu=n("./node_modules/@atlaskit/icon--current/glyph/lock-filled.js"),Xu=n.n(Zu),el=n("./node_modules/@atlaskit/icon--current/glyph/warning.js"),tl=n.n(el),nl=n("./src/packages/issue/issue-view/src/common/constants/remote-link-error-type.js"),rl=_.default.div(["height:100%;margin-left:","px;transform:scale(",");margin-right:","px;"],U.f/4,(function(e){return e.show?1:0}),-U.f),ol=_.default.div(["display:inline-block;vertical-align:middle;margin-top:","px;width:","px;height:","px;margin-left:","px;"],U.f,4*U.f,3*U.f,U.f),il=function(e){var t=e.show,n=e.invert,r=e.onClick;return(o.a.createElement(rl,{show:t,invert:n},o.a.createElement(ol,null,o.a.createElement(pi.b,{iconBefore:o.a.createElement(tc.a,null),appearance:"subtle",onClick:r,spacing:"none"}))))};function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dl(e);if(t){var o=dl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fl(this,n)}}function fl(e,t){return!t||"object"!==sl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}il.displayName="DeleteButton";var pl=_.default.div(["display:flex;align-items:center;"]),ml=Object(_.default)(pl)(["width:100%;height:100%;position:relative;"]),yl=_.default.div(["margin-left:-2px;"]),bl=_.default.div(["margin-left:-1px;"]),gl=_.default.div(["padding-left:","px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],U.f/2),vl=_.default.div(["padding-left:","px;overflow:hidden;"],U.f),hl=_.default.div(["padding-left:","px;"],U.f),Ol=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(n,e);var t=ll(n);function n(){var e;al(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).onDeleteClick=function(t){var n=e.props,r=n.onDeleteClick,o=n.globalId;t.stopPropagation(),r(o)},e.authenticateApplink=function(t){var n=e.props,r=n.error,o=n.repairLinkHref,i=n.onAuthenticateApplink;r===nl.b&&o&&i&&i(o),t.stopPropagation()},e.openRepairApplink=function(t){var n=e.props.repairLinkHref;n&&window.open(n,"_blank"),t.stopPropagation()},e.openConfluenceLink=function(t){window.open(e.props.href,"_blank"),t.stopPropagation()},e.renderErrorIcon=function(){return o.a.createElement(yl,null,o.a.createElement(tl.a,{primaryColor:M.colors.Y300}))},e.renderPadlockIcon=function(){return o.a.createElement(bl,null,o.a.createElement(Xu.a,{primaryColor:M.colors.B300}))},e.renderErrorText=function(){return o.a.createElement(gl,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.loading-error",defaultMessage:"We couldn't load this page."}))},e.renderAuthRequiredText=function(){return o.a.createElement(gl,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.auth-required",defaultMessage:"Authenticate with Confluence to see this page."}))},e.renderMissingApplinkText=function(){return o.a.createElement(gl,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.missing-applink",defaultMessage:"Confluence site not linked."}))},e}return function(e,t,n){t&&cl(e.prototype,t),n&&cl(e,n)}(n,[{key:"renderIcon",value:function(){return this.props.error===nl.b?this.renderPadlockIcon():this.renderErrorIcon()}},{key:"renderText",value:function(){var e=this.props.error;return e===nl.b?this.renderAuthRequiredText():e===nl.a?this.renderMissingApplinkText():this.renderErrorText()}},{key:"renderAuthorizationRepairLink",value:function(){return o.a.createElement(hl,null,o.a.createElement(pi.b,{appearance:"link",spacing:"none",onClick:this.authenticateApplink},o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.auth-repair-link",defaultMessage:"Authenticate"})))}},{key:"renderApplinkRepairLink",value:function(){return o.a.createElement(hl,null,o.a.createElement(pi.b,{appearance:"link",spacing:"none",onClick:this.openRepairApplink},o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.applink-repair-link",defaultMessage:"Repair"})))}},{key:"renderRepairLink",value:function(){var e=this.props,t=e.error,n=e.href;if(e.repairLinkHref){var r;t===nl.a?r=this.renderApplinkRepairLink():t===nl.b&&(r=this.renderAuthorizationRepairLink());var i=n?o.a.createElement(vl,null,"\u2022"):null;return(o.a.createElement(o.a.Fragment,null,r,i))}return null}},{key:"renderLink",value:function(){return o.a.createElement(hl,null,o.a.createElement(pi.b,{appearance:"link",spacing:"none",onClick:this.openConfluenceLink},o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.open-link",defaultMessage:"Open in Confluence"})))}},{key:"renderDeleteButton",value:function(){var e=this.props,t=e.isHovering,n=e.isFocused;return(o.a.createElement(il,{show:t||n,onClick:this.onDeleteClick,invert:n}))}},{key:"render",value:function(){return o.a.createElement(ml,null,this.renderIcon(),this.renderText(),this.renderRepairLink(),this.renderLink(),this.renderDeleteButton())}}]),n}(r.Component);Ol.displayName="ConfluencePageLineCardError";var jl=n("./node_modules/@atlaskit/icon-object/glyph/blog/16.js"),wl=n.n(jl),El=n("./node_modules/@atlaskit/icon-object/glyph/page/16.js"),kl=n.n(El),Sl=n("./src/packages/issue/issue-view/src/common/constants/confluence-page-type.js");function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _l(e,t){return(_l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Al(e);if(t){var o=Al(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tl(this,n)}}function Tl(e,t){return!t||"object"!==Il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dl=_.default.div(["display:flex;align-items:center;"]),Rl=Object(_.default)(Dl)(["padding-left:","px;"],U.f),Ml=Object(_.default)(Dl)(["width:100%;height:100%;position:relative;"]),Ll=_.default.div(["height:","px;padding-right:2px;"],3.5*U.f),Nl=_.default.div([""," padding-left:","px;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.isFocused&&"color: ".concat(M.colors.B400,";")}),U.f),Fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_l(e,t)}(n,e);var t=xl(n);function n(){var e;Cl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDeleteClick=function(t){var n=e.props,r=n.onDeleteClick,o=n.globalId;t.stopPropagation(),r(o)},e}return function(e,t,n){t&&Pl(e.prototype,t),n&&Pl(e,n)}(n,[{key:"renderPageIcon",value:function(){var e=this.props.pageType===Sl.a,t=e?o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card.blog-icon",defaultMessage:"Confluence blog post"}):o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.line-card.page-icon",defaultMessage:"Confluence page"});return o.a.createElement(nt.a,{content:t,position:"bottom"},e?o.a.createElement(wl.a,null):o.a.createElement(kl.a,null))}},{key:"renderPageTitle",value:function(){var e=this.props,t=e.pageTitle,n=e.isFocused;return(o.a.createElement(Nl,{isFocused:n},t))}},{key:"renderLastUpdateAvatar",value:function(){var e=this.props,t=e.userDisplayName,n=e.userAvatarUrl;return n?t?o.a.createElement(Rl,null,o.a.createElement(nt.a,{content:t,position:"bottom"},o.a.createElement(Ll,null,o.a.createElement(Xa.a,{name:t,src:n,size:"small",enableTooltip:!1})))):o.a.createElement(Rl,null,o.a.createElement(Xa.a,{src:n,size:"small"})):null}},{key:"renderDeleteButton",value:function(){var e=this.props,t=e.isHovering,n=e.isFocused;return(o.a.createElement(il,{show:t||n,invert:n,onClick:this.onDeleteClick}))}},{key:"render",value:function(){return o.a.createElement(Ml,null,this.renderPageIcon(),this.renderPageTitle(),this.renderLastUpdateAvatar(),this.renderDeleteButton())}}]),n}(r.Component);Fl.displayName="ConfluencePageLineCard";var Ul=Fl;function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wl(e,t){return(Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ql(e);if(t){var o=ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gl(this,n)}}function Gl(e,t){return!t||"object"!==Vl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}(n,e);var t=Hl(n);function n(){var e;Kl(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={modalOpen:!1,linkToDeleteId:null},e.onCancelDelete=function(){e.setState({modalOpen:!1,linkToDeleteId:null})},e.onConfirmDelete=function(){var t=e.props.onDeleteConfluencePageLink,n=e.state.linkToDeleteId;null!=n&&t(n),e.setState({modalOpen:!1,linkToDeleteId:null})},e.onDeleteClick=function(t){e.setState({modalOpen:!0,linkToDeleteId:t})},e.handleErrorLineCardClick=function(e){e.link&&e.link.href&&window.open(e.link.href,"_blank")},e.handleLineCardClick=function(e){e.href&&window.open(e.href,"_blank")},e.handleClick=function(t,n){e.props.onClick&&e.props.onClick(t,n),t.error?e.handleErrorLineCardClick(t):e.handleLineCardClick(t)},e.renderErrorLineCard=function(t,n,r){return o.a.createElement(Ol,{globalId:t.link.globalId,error:t.error,href:t.link.href,repairLinkHref:t.repairLink?t.repairLink.href:null,onAuthenticateApplink:e.props.onAuthenticateApplink,onDeleteClick:e.onDeleteClick,isHovering:n,isFocused:r})},e.renderLineCard=function(t,n,r){return o.a.createElement(Ul,{globalId:t.globalId,pageTitle:t.title,pageType:t.type,userDisplayName:t.lastUpdatedContext&&t.lastUpdatedContext.user.displayName,userAvatarUrl:t.lastUpdatedContext&&t.lastUpdatedContext.user.avatarUrl,onDeleteClick:e.onDeleteClick,isHovering:n,isFocused:r})},e}return function(e,t,n){t&&Bl(e.prototype,t),n&&Bl(e,n)}(n,[{key:"render",value:function(){var e=this;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(Za.a,{items:this.props.pages,groupId:this.props.groupId,onClick:this.handleClick},(function(t,n,r,o){return o.error?e.renderErrorLineCard(o,t,r):e.renderLineCard(o,t,r)})),this.state.modalOpen&&o.a.createElement(Ee.a,{appearance:"danger",headerMessage:o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.title",defaultMessage:"Delete the Confluence page link?"}),contentMessage:o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.content",defaultMessage:"You can add the page later again if you need to."}),confirmActionText:o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.confirmation-text",defaultMessage:"Delete"}),cancelActionText:o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.cancellation-text",defaultMessage:"Cancel"}),onConfirm:this.onConfirmDelete,onCancel:this.onCancelDelete})))}}]),n}(r.Component);zl.displayName="ConfluencePageLineCardGroup";var Yl=n("./node_modules/lodash/range.js"),Ql=n.n(Yl),Jl=n("./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js"),$l=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js"),Zl=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js"),Xl=n("./src/packages/issue/issue-view/src/common/skeleton/text-line-mask-view.js");function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rf(e,t){return(rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=af(e);if(t){var o=af(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sf(this,n)}}function sf(e,t){return!t||"object"!==ef(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rf(e,t)}(n,e);var t=of(n);function n(){return tf(this,n),t.apply(this,arguments)}return function(e,t,n){t&&nf(e.prototype,t),n&&nf(e,n)}(n,[{key:"getItems",value:function(){return Ql()(this.props.itemCount).map((function(e){return o.a.createElement(Xl.a,{key:e,fontSize:20,lineHeight:41,intrusion:0})}))}},{key:"render",value:function(){var e=this.props,t=e.paddingTopInPixels,n=e.paddingBottomInPixels;return(o.a.createElement(Zl.a,null,o.a.createElement($l.b,null),o.a.createElement(Jl.a,{paddingTop:t,paddingBottom:n},this.getItems())))}}]),n}(r.Component);function uf(e){return(uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t){return(df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yf(e);if(t){var o=yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mf(this,n)}}function mf(e,t){return!t||"object"!==uf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yf(e){return(yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}cf.defaultProps={paddingTopInPixels:0,paddingBottomInPixels:0},cf.displayName="ItemLineCardGroup";var bf=Object(P.defineMessages)({label:{id:"issue.confluence-links-add-label",defaultMessage:"Link a Confluence Page"}}),gf=_.default.span(["margin-left:auto;"]),vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&df(e,t)}(n,e);var t=pf(n);function n(){return lf(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ff(e.prototype,t),n&&ff(e,n)}(n,[{key:"render",value:function(){return o.a.createElement(gf,null,o.a.createElement(Qi.a,{label:this.props.intl.formatMessage(bf.label),onClick:this.props.onClick}))}}]),n}(r.Component);vf.defaultProps={onClick:h.a},vf.displayName="AddButton";var hf,Of=Object(P.injectIntl)(vf),jf=n("./src/packages/issue/issue-view/src/actions/fetch-recently-visited-confluence-pages-actions.js"),wf=Object(Ie.createSelector)(l.H,$u.h,$u.j,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.recentlyVisitedConfluencePages||[],o=t.concat(n).map((function(e){return e.href}));return r.filter((function(e){return!o.includes(e.href)}))})),Ef="addconfluencelink.error.duplicate",kf="addconfluencelink.error.page.forbidden",Sf="addconfluencelink.error.issueId.invalid",If="addconfluencelink.error.no.matching.app.link",Cf="addconfluencelink.error.pageid.notfound",Pf="addconfluencelink.error.page.unauthorized",_f="addconfluencelink.error.url.invalid",xf="addconfluencelink.error.url.required",Tf=Object(P.defineMessages)({fieldLabel:{id:"issue.views.confluence-pages.link.label",defaultMessage:"Search pages or paste in a link"},fieldPlaceholder:{id:"issue.views.confluence-pages.link.placeholder",defaultMessage:"Search pages or paste in a link"},genericErrorText:{id:"issue.views.confluence-pages.link.error.generic",defaultMessage:"We're having trouble. Check your connection and try again."},duplicateErrorText:{id:"issue.views.confluence-pages.link.error.duplicate",defaultMessage:"That page is already linked to this issue."},forbiddenErrorText:{id:"issue.views.confluence-pages.link.error.forbidden",defaultMessage:"You don't have permission to link to Confluence pages."},issueIdErrorText:{id:"issue.views.confluence-pages.link.error.issue-id",defaultMessage:"We're having trouble. Check your connection and try again."},noMatchingApplinkErrorText:{id:"issue.views.confluence-pages.link.error.no-matching-app-link",defaultMessage:"You don't have an application link set up for that Confluence site."},pageIdNotFoundErrorText:{id:"issue.views.confluence-pages.link.error.page-id-not-found",defaultMessage:"We can't find that page. It might be deleted or restricted."},unauthorizedErrorText:{id:"issue.views.confluence-pages.link.error.unauthorized",defaultMessage:"You need to authorize this pages' Confluence site."},urlInvalidErrorText:{id:"issue.views.confluence-pages.link.error.url-invalid",defaultMessage:"That URL doesn't look right. Try entering it again."},urlRequiredErrorText:{id:"issue.views.confluence-pages.link.error.url-required",defaultMessage:"That URL doesn't look right. Try entering it again."},linkButton:{id:"issue.views.confluence-pages.link.link-button",defaultMessage:"Link"},cancelButton:{id:"issue.views.confluence-pages.link.cancel-button",defaultMessage:"Cancel"}});function Af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Df=(Af(hf={},Ef,Tf.duplicateErrorText),Af(hf,kf,Tf.forbiddenErrorText),Af(hf,Sf,Tf.issueIdErrorText),Af(hf,If,Tf.noMatchingApplinkErrorText),Af(hf,Cf,Tf.pageIdNotFoundErrorText),Af(hf,Pf,Tf.unauthorizedErrorText),Af(hf,_f,Tf.urlInvalidErrorText),Af(hf,xf,Tf.urlRequiredErrorText),hf),Rf=function(e){return Df[e]||Tf.genericErrorText},Mf=n("./src/packages/issue/issue-view/src/views/common/select-validation-wrapper/select-validation-wrapper.js"),Lf=n("./node_modules/@atlaskit/icon--current/glyph/link-filled.js"),Nf=n.n(Lf),Ff=_.default.div(["display:flex;align-items:center;height:34px;"]),Uf=_.default.div(["margin-right:","px;line-height:1;"],2*U.f),Vf=_.default.div(["display:flex;flex-direction:column;"]),Kf=_.default.div(["line-height:1.25em;font-size:14px;font-weight:500;"]);function Bf(e){return(Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return(Gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yf(e);if(t){var o=Yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zf(this,n)}}function zf(e,t){return!t||"object"!==Bf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yf(e){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gf(e,t)}(n,e);var t=qf(n);function n(){return Wf(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Hf(e.prototype,t),n&&Hf(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.onSelect;return(o.a.createElement(Ff,{onClick:function(){return n&&n(t)}},o.a.createElement(Uf,null,o.a.createElement(Nf.a,{size:"medium",primaryColor:M.colors.B200})),o.a.createElement(Vf,null,o.a.createElement(Kf,null,o.a.createElement(f.b,null,t)))))}}]),n}(r.PureComponent);Qf.displayName="LinkItem";var Jf=Qf,$f=n("./node_modules/@atlaskit/icon-object/glyph/blog/24.js"),Zf=n.n($f),Xf=n("./node_modules/@atlaskit/icon-object/glyph/page/24.js"),ed=n.n(Xf),td=_.default.div(["display:flex;align-items:center;height:34px;"]),nd=_.default.div(["margin-right:","px;line-height:1;"],2*U.f),rd=_.default.div(["display:flex;flex-direction:column;"]),od=_.default.div(["line-height:1.25em;font-size:14px;font-weight:500;"]),id=_.default.div(["font-size:12px;color:",";"],M.colors.N200);function sd(e){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dd(e);if(t){var o=dd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fd(this,n)}}function fd(e,t){return!t||"object"!==sd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ud(e,t)}(n,e);var t=ld(n);function n(){return ad(this,n),t.apply(this,arguments)}return function(e,t,n){t&&cd(e.prototype,t),n&&cd(e,n)}(n,[{key:"render",value:function(){var e=this;if(!this.props.page)return null;var t=this.props.page,n=t.title,r=t.space,i=t.type,s=t.href;return(o.a.createElement(td,{onClick:function(){return e.props.onSelect&&e.props.onSelect(s)}},o.a.createElement(nd,null,i===Sl.a?o.a.createElement(Zf.a,null):o.a.createElement(ed.a,null)),o.a.createElement(rd,null,o.a.createElement(od,null,o.a.createElement(f.b,null,n)),o.a.createElement(id,null,o.a.createElement(f.b,null,r)))))}}]),n}(r.PureComponent);pd.displayName="ConfluencePageItem";var md=pd,yd=Object(P.defineMessages)({enterOrSelectConfluenceLink:{id:"issue.views.confluence-pages.link.selector.placeholder",defaultMessage:"Search pages or paste in a link"},noOptionsMessage:{id:"issue.views.confluence-pages.link.selector.noOptionsMessage",defaultMessage:"No recently visited pages"}}),bd=_.default.div(["height:46px;"]);function gd(e){return(gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(e,t){return(Od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ed(e);if(t){var o=Ed(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wd(this,n)}}function wd(e,t){return!t||"object"!==gd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ed(e){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kd(){return(kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Sd=function(e){var t=e.innerProps,n=e.innerRef,r=e.getStyles,i=e.data,s=r("option",e);return o.a.createElement(bd,{style:s},o.a.createElement("div",kd({},t,{ref:n}),i.page?o.a.createElement(md,kd({key:"item_key-".concat(i.page.href)},i)):o.a.createElement(Jf,{href:Object(Ft.toHref)(e.value)})))};Sd.displayName="Option";var Id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Od(e,t)}(n,e);var t=jd(n);function n(){var e;vd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isMenuOpen:!1,value:void 0},e.onKeyDown=function(t){switch(t.keyCode){case Go()("enter"):e.props.onEnter&&!e.state.isMenuOpen&&(e.props.onEnter(),t.stopPropagation())}},e.onMenuOpen=function(){return e.setState({isMenuOpen:!0})},e.onMenuClose=function(){return e.setState({isMenuOpen:!1})},e.handleChange=function(t){t&&t.page&&e.props.onSelect&&e.props.onSelect(),e.setState({value:t}),e.props.onChange(t?t.value:null)},e}return function(e,t,n){t&&hd(e.prototype,t),n&&hd(e,n)}(n,[{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.pages,r=t.intl.formatMessage,i=t.link,s=t.isLoading,a=n.map((function(e){return{label:e.title,value:e.href,page:e}}));return o.a.createElement(Mf.a,{validationState:this.props.validationState||"default",validationMessage:this.props.validationMessage},o.a.createElement(zo.a,{isClearable:!0,isDisabled:s,isLoading:s,onChange:this.handleChange,value:""!==i&&e?e:null,components:{Option:Sd},options:a,placeholder:r(yd.enterOrSelectConfluenceLink),validationState:this.props.validationState||"default",getOptionLabel:function(e){return e.page?e.page.href:e.value},maxMenuHeight:256,autoFocus:!0,menuPlacement:"auto",minMenuHeight:100,onKeyDown:this.onKeyDown,onMenuOpen:this.onMenuOpen,onMenuClose:this.onMenuClose,noOptionsMessage:function(){return r(yd.noOptionsMessage)}}))}}]),n}(r.Component);Id.defaultProps={isLoading:!1,link:void 0},Id.displayName="LinkSelect";var Cd=Id;function Pd(){return(Pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){Td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ad(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Dd=Object(ha.a)(pi.b,{target:"eplslgz0"})("margin-left:",U.f,"px !important;"),Rd=function(e,t){var n=e(t),r=n.buttonStyles;return xd(xd({},Ad(n,["buttonStyles"])),{},{buttonStyles:xd(xd({},r),{},{marginLeft:"".concat(U.f,"px !important;")})})},Md=function(e){return o.a.createElement(pi.b,Pd({},e,{theme:Rd}))};Md.displayName="StyledButtonStyled";var Ld=Object(Oa.a)(y.isEmotionRemoved,Md,Dd),Nd=_.default.div(["margin-top:","px;display:flex;justify-content:flex-end;"],U.f);function Fd(e){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vd(e,t){return(Vd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wd(e);if(t){var o=Wd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bd(this,n)}}function Bd(e,t){return!t||"object"!==Fd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wd(e){return(Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vd(e,t)}(n,e);var t=Kd(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onChildContainerRefSet=function(e){r.childContainer=e},r.onChange=function(e){var t=r.props,n=t.isInvalid,o=t.onInvalidLinkModified,i=da()(e),s=cs()(i);r.setState({isDisabled:s,link:i}),n&&o()},r.onSubmitClicked=function(){r.onSubmit(),r.props.onSubmitClickAnalytics()},r.onCancelClicked=function(){r.closeAndReset(),r.props.onCancelClickAnalytics()},r.onEnterPressed=function(){r.onSubmit(),r.props.onEnterKeyPressedAnalytics()},r.onEscPressed=function(){r.closeAndReset(),r.props.onEscapeKeyPressedAnalytics()},r.onSelect=function(e){r.setState({link:e,isDisabled:!1}),r.props.onSelectAnalytics()},r.childContainer=void 0,r.initialState={link:"",isDisabled:!0,showList:!1},r.state=r.initialState,r}return function(e,t,n){t&&Ud(e.prototype,t),n&&Ud(e,n)}(n,[{key:"componentDidMount",value:function(){Object(J.a)(this.childContainer),this.props.requestRecentlyViewedPages()}},{key:"componentDidUpdate",value:function(e){this.props.createLinkClickedCount!==e.createLinkClickedCount&&Object(J.a)(this.childContainer),this.props.linkedPagesCount>e.linkedPagesCount&&!this.props.isLoading&&e.isLoading&&this.resetAndFocus()}},{key:"onSubmit",value:function(){var e=this.state,t=e.isDisabled,n=e.link,r=this.props,o=r.isLoading,i=r.onSubmit;t||o||i(n)}},{key:"closeAndReset",value:function(){this.props.isLoading||(this.reset(),this.props.onCancel())}},{key:"resetAndFocus",value:function(){this.reset()}},{key:"reset",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.intl.formatMessage,r=e.errorMessage,i=e.isInvalid,s=e.isLoading,a=e.recentlyViewedPages,c=this.state,u=c.link,l=c.isDisabled;return o.a.createElement("div",{ref:this.onChildContainerRefSet},o.a.createElement(qo.a,{onEscape:this.onEscPressed},o.a.createElement(Cd,{pages:a,onChange:this.onChange,intl:t,validationMessage:i?n(Rf(r)):void 0,validationState:i?"error":"default",onSelect:this.props.onSelectAnalytics,onEnter:this.onEnterPressed,link:u,isLoading:s})),o.a.createElement(Nd,null,o.a.createElement(Ld,{appearance:"primary",onClick:this.onSubmitClicked,isDisabled:l,isLoading:s},n(Tf.linkButton)),o.a.createElement(Ld,{appearance:"subtle",onClick:this.onCancelClicked},n(Tf.cancelButton))))}}]),n}(r.Component);Hd.displayName="ConfluencePageCreateLinkView";var Gd=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onSubmitClickAnalytics:"clicked",onCancelClickAnalytics:"clicked"}),Object(Pr.f)("keyboardShortcut",{onEnterKeyPressedAnalytics:"pressed",onEscapeKeyPressedAnalytics:"pressed"}),Object(Pr.f)("confluencePagesCreateLinkView",{onSubmit:"onSubmit"}),Object(Pr.r)({onSubmitClickAnalytics:"linkConfluencePage",onCancelClickAnalytics:"cancelLinkConfluencePage",onEnterKeyPressedAnalytics:"linkConfluencePage",onEscapeKeyPressedAnalytics:"cancelLinkConfluencePage"}),Object(Pr.f)("recentlyVisitedPages",{onSelectAnalytics:"selected"}),Object(Pr.r)({onSelectAnalytics:"selectConfluencePage"}),Object(i.connect)((function(e){return{linkedPagesCount:Object($u.g)(e),errorMessage:Object($u.b)(e),isInvalid:Object($u.d)(e),isLoading:Object($u.e)(e),createLinkClickedCount:Object($u.a)(e),recentlyViewedPages:wf(e)}}),(function(e){return{onInvalidLinkModified:function(){return e(Object(Qu.j)())},onCancel:function(){return e(Object(Qu.q)())},onSubmit:function(t,n){return e(Object(Qu.k)(Object(Ft.toHref)(t),n))},requestRecentlyViewedPages:function(){return e(Object(jf.d)())}}}))])(Hd);function qd(e){return(qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qd(e,t){return(Qd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zd(e);if(t){var o=Zd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $d(this,n)}}function $d(e,t){return!t||"object"!==qd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zd(e){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xd=_.default.h3([""," margin:0;"],M.typography.h200()),ep=_.default.div(["margin:","px 0;padding-right:1px;"],U.f),tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qd(e,t)}(n,e);var t=Jd(n);function n(){var e;zd(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderHeading=function(){var t=e.props,n=t.canLinkConfluencePage,r=t.onAddButtonClicked;return(o.a.createElement(K.c,null,o.a.createElement(K.e,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.heading",defaultMessage:"Confluence pages"})),o.a.createElement(K.d,null,n&&e.hasLinkedPages()&&o.a.createElement(Of,{onClick:r}))))},e.renderLinkedPagesIfAny=function(){return e.hasAnyLinkedPageLoaded()&&e.props.linkedPages?o.a.createElement(zl,{groupId:"linked-confluence-pages",pages:e.props.linkedPages,onClick:e.props.onLinkedPageClicked,onAuthenticateApplink:e.props.onAuthenticateApplink,onDeleteConfluencePageLink:e.props.onDeleteConfluencePageLink}):null},e.renderMentionedPagesIfAny=function(){return e.hasAnyMentionedPageLoaded()&&e.props.mentionedPages?o.a.createElement(zl,{groupId:"mentioned-confluence-pages",pages:e.props.mentionedPages,onClick:e.props.onMentionedPageClicked,onAuthenticateApplink:e.props.onAuthenticateApplink,onDeleteConfluencePageLink:e.props.onDeleteConfluencePageLink}):null},e}return function(e,t,n){t&&Yd(e.prototype,t),n&&Yd(e,n)}(n,[{key:"shouldShowConfluencePages",value:function(){return this.props.isCreateLinkedPageOpened||this.hasLinkedPages()||this.hasMentionedPages()}},{key:"hasLinkedPages",value:function(){return Object(y.isBentoEnhancedPreviewEnabled)()&&this.props.isPreview?this.props.linkedPagesCachedCount>0:this.props.linkedPages&&this.props.linkedPages.length>0}},{key:"hasMentionedPages",value:function(){return Object(y.isBentoEnhancedPreviewEnabled)()&&this.props.isPreview?this.props.mentionedPagesCachedCount>0:this.props.mentionedPages&&this.props.mentionedPages.length>0}},{key:"hasAnyLinkedPageLoaded",value:function(){return this.props.linkedPages&&this.props.linkedPages.length>0}},{key:"hasAnyMentionedPageLoaded",value:function(){return this.props.mentionedPages&&this.props.mentionedPages.length>0}},{key:"renderLinkedPages",value:function(){return Object(y.isBentoEnhancedPreviewEnabled)()?o.a.createElement(ep,null,this.props.isPreview?o.a.createElement(cf,{itemCount:this.props.linkedPagesCachedCount}):this.renderLinkedPagesIfAny()):o.a.createElement(ep,null,this.props.linkedPages?this.renderLinkedPagesIfAny():o.a.createElement(cf,{itemCount:this.props.linkedPagesCachedCount}))}},{key:"renderMentionedPages",value:function(){return Object(y.isBentoEnhancedPreviewEnabled)()?o.a.createElement(ep,null,o.a.createElement(Xd,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.mentioned-on",defaultMessage:"mentioned on"})),this.props.isPreview?o.a.createElement(cf,{itemCount:this.props.mentionedPagesCachedCount}):this.renderMentionedPagesIfAny()):o.a.createElement(ep,null,o.a.createElement(Xd,null,o.a.createElement(P.FormattedMessage,{id:"issue.details.confluence-pages.mentioned-on",defaultMessage:"mentioned on"})),this.props.mentionedPages?this.renderMentionedPagesIfAny():o.a.createElement(cf,{itemCount:this.props.mentionedPagesCachedCount}))}},{key:"renderCreateLinkedPage",value:function(){return this.props.isCreateLinkedPageOpened?o.a.createElement(Gd,null):null}},{key:"renderConfluencePageFragment",value:function(){return o.a.createElement(o.a.Fragment,null,this.renderHeading(),this.hasLinkedPages()&&this.renderLinkedPages(),this.hasMentionedPages()&&this.renderMentionedPages(),this.renderCreateLinkedPage())}},{key:"render",value:function(){return this.props.isConfluencePageLinksEnabled&&this.shouldShowConfluencePages()?this.renderConfluencePageFragment():null}}]),n}(r.Component);tp.defaultProps={isConfluencePageLinksEnabled:!1,linkedPagesCachedCount:0,mentionedPagesCachedCount:0},tp.displayName="ConfluencePagesView";var np=Object(d.a)([Object(Pr.f)("ItemLineCardGroup",{onMentionedPageClicked:"clicked",onLinkedPageClicked:"clicked"}),Object(Pr.r)({onMentionedPageClicked:"MentionedConfluencePage",onLinkedPageClicked:"LinkedConfluencePage"}),Object(Pr.f)("DeleteConfluencePage",{onDeleteConfluencePageLink:"clicked"}),Object(Pr.r)({onDeleteConfluencePageLink:function(e){return{name:"onDeleteConfluencePageLink",globalId:e}}}),Object(i.connect)((function(e){return{isCreateLinkedPageOpened:Object($u.f)(e),linkedPages:Object($u.h)(e),linkedPagesCachedCount:Object($u.g)(e),mentionedPages:Object($u.j)(e),mentionedPagesCachedCount:Object($u.i)(e),isConfluencePageLinksEnabled:Object($u.c)(e),canLinkConfluencePage:Object(Ju.a)(e),isPreview:Object(l.s)(e)}}),(function(e){return{onAuthenticateApplink:function(t){return e(Object(Yu.c)(t))},onDeleteConfluencePageLink:function(t){return e(Object(Qu.n)(t))},onAddButtonClicked:function(){return e(Object(Qu.p)())}}}))])(tp),rp=n("./src/packages/issue/issue-view/src/selectors/classic-project-epic-selector.js"),op=Object(P.defineMessages)({noValueText:{id:"issue.placeholder-for-empty-epic-issues-field",defaultMessage:"There are no issues in this epic"},title:{id:"issue.epic-issues-title",defaultMessage:"Issues in this epic"}}),ip=Object(d.a)([Object(i.connect)((function(e){return{childIssuesPanelType:"classicProjectEpicChildren",baseUrl:Object(ve.f)(e),locale:Object(ve.D)(e),user:Object(ve.a)(e),projectId:Object(l.B)(e),projectType:Object(l.E)(e),parentId:Object(ve.A)(e),parentKey:Object(ve.B)(e),epicLinkFieldKey:Object(l.f)(e),issueTypes:Object(At.c)(e),issues:Tt(e),messages:op,quickAddClickCount:_t(e),supportsIssueCreation:Object(rp.a)(e),isIssueViewComplete:Object(l.m)(e),onNavigateToNewIssue:Object(ve.G)(e),fetchIssueTypesStatus:Object(At.a)(e)}}),(function(e){return{onChange:function(t){switch(t.type){case En.CHILD_ISSUE_ADDED:e(Object(kt.h)(t.meta.childIssue))}},onAddChildClick:function(){return e(Object(kt.i)())}}}))])(Gu),sp=n("./src/packages/forge/forge-ui-async/src/ui/extension-point/async.js"),ap=n("./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js"),cp=function(e){var t=e.isCompactMode,n=e.context,r=function(e){return function(t){var n=t.extension.environmentType,r=t.title,i=t.children;return(o.a.createElement(f.d,{isCompactMode:e},o.a.createElement(K.c,null,o.a.createElement(K.e,null,o.a.createElement(ge.a,{extensionName:r,extensionEnvType:n}))),i))}}(t);return o.a.createElement(sp.a,{module:"jira:issuePanel",decorator:r,context:n})};cp.displayName="ForgeUiIssuePanel";var up=Object(d.a)([Object(i.connect)((function(e){return{context:Object(ap.b)(e)}}),{})])(cp),lp=n("./src/packages/platform/utils/constants/src/project-types.js"),fp=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/with-link-actions/index.js"),dp=n("./src/packages/issue/issue-view/src/actions/issue-links-actions.js"),pp=n("./src/packages/issue/issue-view/src/selectors/issue-links-selector.js"),mp=n("./src/packages/issue/issue-view/src/selectors/issue-links-type-selector.js"),yp=n("./node_modules/lodash/once.js"),bp=n.n(yp),gp=n("./node_modules/@atlaskit/page/GridColumn.js"),vp=n("./src/packages/platform/observability/browser-metrics/src/index.js"),hp=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/iframe-redirect/index.js"),Op=n("./src/packages/linked-issue-modal/src/async.js"),jp=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js"),wp=n("./src/packages/issue/issue-view/src/views/constants.js"),Ep=n("./src/packages/issue/issue-view/src/views/common/with-container-width/index.js"),kp=n("./node_modules/@atlaskit/button--current/components/ButtonGroup.js"),Sp=_.default.div(["min-width:200px;"]),Ip=function(e){var t=e.selectItems,n=e.selectedItem,r=e.onChange;return(o.a.createElement(Sp,null,o.a.createElement(Ks.a,{options:t,defaultValue:n,styles:Qo.c,onChange:r})))};Ip.displayName="IssueLinkTypeSelect",Ip.defaultProps={selectedItem:null};var Cp=n("./node_modules/lodash/keys.js"),Pp=n.n(Cp),_p=n("./src/packages/platform/utils/constants/src/issue-link-types.js"),xp=Object(P.defineMessages)({createLinkedIssueButtonLabel:{id:"issue.linked-issue-create.button-label",defaultMessage:"Create linked issue"},createLinkedIssueDialogTitle:{id:"issue.linked-issue-create.dialog-title",defaultMessage:"Create linked issue"}}),Tp=n("./node_modules/lodash/get.js"),Ap=n.n(Tp),Dp=n("./src/packages/issue/issue-view/src/common/model/linked-issue-type.js");function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lp=function(e,t){var n={},r=Pn()(Ap()(e,["fields","issuelinks"]),(function(e){return Ap()(e.outwardIssue||e.inwardIssue,"id")===t}));if(void 0!==r){var o=function(e){return e.outwardIssue?Dp.a:Dp.c}(r);n={issueLink:{id:r.id,direction:o,linkType:{id:Ap()(r,["type","id"],""),label:o===Dp.a?Ap()(r,["type","inward"],""):Ap()(r,["type","outward"],"")}}}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:Object(Ft.toIssueId)(e.id),key:Object(Ft.toIssueKey)(e.key),summary:Ap()(e,["fields","summary"],""),issueTypeIconUrl:Ap()(e,["fields","issuetype","iconUrl"],"")},n)},Np=function(e,t,n){var r=Lp(e,t);if(void 0===r.issueLink)return{issueLinks:{},linkedIssues:{}};var o=r.issueLink;return{issueLinks:Mp({},"".concat(o.id),{id:o.id,linkedIssueKey:r.key,direction:o.direction,typeName:o.linkType.label,typeId:o.linkType.id}),linkedIssues:Mp({},"".concat(r.key),{id:r.id,issueKey:r.key,issueLink:Object(_r.g)(n,r.key),issueSummary:r.summary,issueTypeIconUrl:r.issueTypeIconUrl})}};function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Up(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Vp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Up(i,r,o,s,a,"next",e)}function a(e){Up(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qp(e);if(t){var o=qp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gp(this,n)}}function Gp(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qp(e){return(qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zp="issue.views.issue-base-content.issue-links.add.create-linked-issue-button.view",Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wp(e,t)}(n,e);var t=Hp(n);function n(){var e;Kp(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).showCreateLinkedIssueDialog=Vp(regeneratorRuntime.mark((function t(){var n,r,o,i,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.baseUrl,o=n.sourceIssueId,i=n.sourceIssueKey,s=n.onLinkedIssueCreated,e.showLoadingIndicator(),t.prev=2,t.next=5,Object(ma.a)({name:"wrm/require"});case 5:return a=t.sent,t.next=8,new Promise((function(e){a("wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue",e)}));case 8:return t.next=10,Object(ma.a)({name:"quick-edit/create-linked-issue/create-linked-issue-dialog"});case 10:t.sent.show({sourceIssueId:o,sourceIssueKey:i}).getQuickForm().bind("issueCreated",(function(e,t){var n=t.createdIssueDetails;s(Np(n,o,r))})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),e.hideLoadingIndicator(),j.a.safeError(zp,t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])}))),e.onCreateLinkedIssueClick=function(t,n){Object(Pr.m)(n,{name:"createLinkedIssue"}),e.showCreateLinkedIssueDialog()},e.showLoadingIndicator=Vp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ma.a)({name:"quick-edit/util/loading-indicator"});case 3:e.sent.showLoadingIndicator(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.a.safeError(zp,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),e.hideLoadingIndicator=Vp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ma.a)({name:"quick-edit/util/loading-indicator"});case 3:e.sent.hideLoadingIndicator(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.a.safeError(zp,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),e}return function(e,t,n){t&&Bp(e.prototype,t),n&&Bp(e,n)}(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage;return(o.a.createElement(pi.b,{spacing:"compact",onClick:this.onCreateLinkedIssueClick,appearance:"link",iconBefore:o.a.createElement(yi.a,{size:"small",label:e(xp.createLinkedIssueButtonLabel)})},e(xp.createLinkedIssueButtonLabel)))}}]),n}(r.Component);Yp.displayName="CreateLinkedIssueButton";var Qp=Object(d.a)([P.injectIntl,Object(Pr.f)("createLinkedIssueButton",{onLinkedIssueCreated:"created"}),Object(i.connect)((function(e){return{baseUrl:Object(ve.f)(e),sourceIssueKey:Object(ve.B)(e),sourceIssueId:Object(Ft.toIssueId)(String(Object(ve.A)(e)))}}),(function(e){return{onLinkedIssueCreated:function(t,n){e(Object(dp.t)(t)),e(Object(dp.s)()),function(e,t){var n=e.issueLinks,r=e.linkedIssues,o=Pp()(n)[0];if(void 0!==o){var i=n[o],s={action:"created",actionSubjectId:r[i.linkedIssueKey].id,attributes:{linkTypeName:Object(_p.a)(i.typeName),linkTypeId:i.typeId,issueLinkId:o}};Object(Pr.k)(t,s)}}(t,n)}}}))])(Yp);function Jp(e){return function(e){if(Array.isArray(e))return $p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zp=/^([A-Z][A-Z0-9]+)-([0-9]+)$/i,Xp=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.sections,o=void 0===n?[]:n;return o.map((function(e){return e.issues})).filter((function(e){return!!e})).reduce((function(t,n){return t.concat(n.map((function(t){return{content:"".concat(t.key," ").concat(t.summaryText),value:t.key,elemBefore:Object(r.createElement)("img",{src:"".concat(t.img),width:16,height:16}),fullObject:t,filterValues:[e],iconUrl:t.img}})))}),[]).reduce((function(e,t){return e.findIndex((function(e){return e.value===t.value}))<0?[].concat(Jp(e),[t]):e}),[])}},em=function(e,t,n){return function(e){if(e){var t=Zp.exec(e);return!(!t||3!==t.length)}return!1}(n)?function(e,t,n){return Object(mr.d)(Object(_r.a)(e,t,n))}(e,t,Object(Ft.toIssueKey)(n)).map(Xp(n)).catch((function(){return pr.Observable.of([])})):pr.Observable.of([])},tm=function(e,t,n){return Object(mr.d)(Object(_r.m)(e,t,n)).map(Xp(n))},nm=/^(([A-Z][A-Z0-9]+)-([0-9]+))($|\?.*)/,rm=function(e,t){var n=e;if(void 0===n||void 0===t)return t||"";if(n.endsWith("/")||(n+="/"),n+="browse/",0!==t.indexOf(n))return t;var r=t.slice(n.length).match(nm);return null===r?t:r[1]||""},om=Object(P.defineMessages)({searchPlaceholder:{id:"issue.issue-links-search-placeholder",defaultMessage:"Search for issues"},openIssues:{id:"issue.issue-links-search-open-issues",defaultMessage:"Open Issues"},exactKey:{id:"issue.issue-links-exact-key",defaultMessage:"Exact key"},selfLinkInvalidIssue:{id:"issue.issue-link-invalid-self-link",defaultMessage:"You cannot link an issue to itself"},singleInvalidIssue:{id:"issue.issue-link-invalid-single",defaultMessage:"We can't find an issue with the key"},multipleInvalidIssues:{id:"issue.issue-link-invalid-plural",defaultMessage:"We can't find issues with the keys"},noHistoryResults:{id:"issue.issue-link-no-history-results",defaultMessage:"Type to search for an issue summary or key"}});function im(e){return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cm(e,t){return(cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function um(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fm(e);if(t){var o=fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lm(this,n)}}function lm(e,t){return!t||"object"!==im(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dm=function(){return""!==window.location.port?"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port):"".concat(window.location.protocol,"//").concat(window.location.hostname)},pm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cm(e,t)}(n,e);var t=um(n);function n(){var e;sm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getErrorMessage=function(e,t,n){return n.includes(e)?"".concat(t.formatMessage(om.selfLinkInvalidIssue)," (").concat(e,")"):1===n.length?"".concat(t.formatMessage(om.singleInvalidIssue)," ").concat(n[0]):n.length>1?"".concat(t.formatMessage(om.multipleInvalidIssues)," ").concat(n.join(", ")):void 0},e.fetchSuggestions=function(e,t,n,r,o){var i=dm(),s=rm(i,r);return tm(t,n,s).map((function(t){return t.length?[{heading:e,items:t}]:[{items:[{content:o,isDisabled:!0,value:""}]}]}))},e.onChange=function(t,n){null!=n&&null!=n.action&&("select-option"===n.action?Object(vp.c)().markStartOfInteraction({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_SELECTED_ISSUE,cancelExisting:!0}):"remove-value"===n.action&&Object(vp.c)().markStartOfInteraction({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_REMOVED_ISSUE,cancelExisting:!0})),e.props.onChange(t)},e.onDataRequest=function(e){e.isInitial||Object(vp.c)().markStartOfInteraction({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},e.onDataLoaded=function(e){e.isInitial||Object(vp.c)().markTimeToFinishTask({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_INPUT_RESULT})},e.stripQueryValueToIssueKey=function(e){var t=dm();return rm(t,e)},e}return function(e,t,n){t&&am(e.prototype,t),n&&am(e,n)}(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.value.length,n=e.value.length;n<t?Object(vp.c)().markTimeToFinishTask({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_SELECTED_ISSUE}):n>t&&Object(vp.c)().markTimeToFinishTask({key:wp.c.ISSUE_LINKS.TIME_TO_REFLECT_REMOVED_ISSUE})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.baseUrl,i=t.issueKey,s=t.intl,a=t.invalidSelections,c=s.formatMessage(om.openIssues);return o.a.createElement(Qo.a,{fieldId:"issue-link-search",classNamePrefix:"issue-links-search",value:n,fetchSuggestions:function(t){return e.fetchSuggestions(c,r,i,t,s.formatMessage(om.noHistoryResults)).toPromise()},onChangeMulti:this.onChange,canCreateNewItem:!0,formatCreateLabel:function(e){return"".concat(e," (").concat(s.formatMessage(om.exactKey),")")},placeholder:s.formatMessage(om.searchPlaceholder),invalidMessage:this.getErrorMessage(i,s,a),changeQueryValue:this.stripQueryValueToIssueKey,isMulti:!0,autoFocus:!0,errorMessagePosition:"bottom",onDataLoaded:this.onDataLoaded,onDataRequest:this.onDataRequest})}}]),n}(r.Component);pm.displayName="IssueSearchSelect";var mm=Object(P.injectIntl)(pm),ym=_.default.div(["display:flex;flex-direction:",";justify-content:space-around;align-content:stretch;> *{margin-top:","px;}>:not(:last-child){margin-right:",";}"],(function(e){return e.isCompact?"column":"row"}),U.f,(function(e){return e.isCompact?"0":"".concat(U.f,"px")})),bm=_.default.div(["flex:1;flex-basis:auto;"]),gm=_.default.div(["margin-top:","px;display:flex;flex-wrap:wrap;justify-content:flex-end;margin-left:auto;"],U.f),vm=_.default.div(["flex-grow:1;margin-left:-","px;"],1.5*U.f);function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Om=function(e,t,n,r){return{issueLinks:hm({},e,{id:e,linkedIssueKey:n.key,direction:t.direction,typeName:t.label,typeId:t.id}),linkedIssues:hm({},"".concat(n.key),{id:n.key,issueKey:n.key,issueLink:Object(_r.g)(r,n.key),issueSummary:n.summaryText?n.summaryText:"",issueTypeIconUrl:n.img?n.img:""})}};function jm(e){return(jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_m(e);if(t){var o=_m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){return!t||"object"!==jm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}(n,e);var t=Cm(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).getInitialState=function(){return{newIssueLinks:[],issueLinkType:r.transformIssueLinkTypesForSelect()[0],isDisabled:!0}},r.onIssueLinkTypeChange=function(e){return r.setState({issueLinkType:e})},r.onIssueSearchChangeWithUserInput=function(e){var t=!1,n=[],o=r.updateInvalidSelections(e),i=e.map((function(e){return e.fullObject||o&&o.includes(e.value)||(t=!0,n.push((function(){return r.query$.next(e)}))),Em(Em({},e),{},{tag:{elemBefore:e.elemBefore}})})),s=!(!t&&cs()(o)&&!cs()(i));r.setState({newIssueLinks:i,isDisabled:s,invalidSelections:o}),n.map((function(e){return e()}))},r.onIssueSearchChange=function(e){r.onIssueSearchChangeWithUserInput(e)},r.onSave=function(){var e=r.state,t=e.issueLinkType,n=e.newIssueLinks,o=r.props.issueLinks;if(t&&n&&n.length>0){var i=t.fullObject&&t.fullObject.label,s=(o&&o[i]||[]).map((function(e){return e.linkedIssueKey}));Object(vp.c)().markStartOfInteraction({key:wp.c.ISSUE_LINKS.TIME_TO_RENDER_LINKED_ISSUE}),n.map((function(e){return e.fullObject?e:Em(Em({},e),{},{fullObject:{key:e.value}})})).filter((function(e){return!s.includes(e.fullObject.key)})).forEach((function(e,n){var o="OPTIMISTIC_LINKED_ISSUE_".concat(Date.now(),"_").concat(n);r.props.onAdd({optimisticId:o,linkedIssueKey:e.fullObject.key,issueLinkType:t.fullObject,issueLinks:Om(o,t.fullObject,e.fullObject,r.props.baseUrl)})})),r.props.onClose()}},r.updateInvalidSelections=function(e){var t=e?e.map((function(e){return e.value})):[];return r.state.invalidSelections?r.state.invalidSelections.filter((function(e){return t.includes(e)})):[]},r.handleUpdate=function(e){var t=e.issue,n=e.results.map((function(e){return Em(Em({},e),{},{tag:{elemBefore:e.elemBefore}})}));0===n.length?r.setState((function(e){return{newIssueLinks:e.newIssueLinks.slice(),isDisabled:!0,invalidSelections:e.invalidSelections?e.invalidSelections.concat(t):[t]}})):r.setState((function(e){var r=e.newIssueLinks.slice(),o=n[0],i=r.findIndex((function(e){return e.value===o.value}));r[i]=o;var s=e.invalidSelections&&e.invalidSelections.filter((function(e){return e!==t}));return{newIssueLinks:r,isDisabled:s&&s.length>0,invalidSelections:s}}))},r.transformIssueLinkTypesForSelect=function(){return r.props.issueLinkTypes.map((function(e){return{label:e.label,value:e.id+e.direction,fullObject:e}}))},r.subscription=void 0,r.query$=void 0,r.addLinkContainer=void 0,r.state=r.getInitialState(),r.query$=new pr.Subject,r.subscription=r.query$.flatMap((function(t){return em(e.baseUrl,e.issueKey,t.content).map((function(e){return{issue:t.content,results:e}}))})).subscribe(r.handleUpdate),r}return function(e,t,n){t&&Sm(e.prototype,t),n&&Sm(e,n)}(n,[{key:"componentDidMount",value:function(){this.addLinkContainer&&Object(J.a)(this.addLinkContainer)}},{key:"componentDidUpdate",value:function(e){e.quickAddClickedCount!==this.props.quickAddClickedCount&&Object(J.a)(this.addLinkContainer)}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.transformIssueLinkTypesForSelect(),n=this.props,r=n.baseUrl,i=n.issueKey,s=n.containerWidth,a=n.onClose,c=n.canCreateLinkedIssue,u=this.state,l=u.issueLinkType,f=u.newIssueLinks,d=u.isDisabled,p=u.invalidSelections,m=void 0===p?[]:p,y=s&&s<=480;return o.a.createElement("div",{ref:function(t){e.addLinkContainer=t}},o.a.createElement(ym,{isCompact:y},o.a.createElement(Ws.a,null,o.a.createElement(Ip,{selectItems:t,selectedItem:l,onChange:this.onIssueLinkTypeChange})),o.a.createElement(bm,null,o.a.createElement(mm,{value:f,baseUrl:r,issueKey:i,onChange:this.onIssueSearchChange,invalidSelections:m}))),o.a.createElement(gm,null,c&&o.a.createElement(vm,{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.add.issue-links-add-view.create-linked-issue"},o.a.createElement(Qp,null)),o.a.createElement(kp.a,null,o.a.createElement("div",{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.add.issue-links-add-view.link-button"},o.a.createElement(pi.b,{appearance:"primary",onClick:this.onSave,isDisabled:d},o.a.createElement(P.FormattedMessage,{id:"issue.issue-links-add-button-label",defaultMessage:"Link"}))),o.a.createElement(pi.b,{appearance:"subtle",onClick:a},o.a.createElement(P.FormattedMessage,{id:"issue.issue-links-cancel-button-label",defaultMessage:"Cancel"})))))}}]),n}(r.Component);xm.displayName="AddIssueLinkView",xm.defaultProps={issueLinks:null,quickAddClickedCount:0,containerWidth:null,onAdd:h.a,onClose:h.a},xm.displayName="AddIssueLinkView";var Tm=Object(d.a)([Object(Pr.q)({onAdd:{action:"added"}}),Object(i.connect)((function(e){return{quickAddClickedCount:Object(pp.j)(e),canCreateLinkedIssue:Object(pp.a)(e)}}),(function(e){return{onAdd:function(t,n){return e(Object(dp.E)(t,n))}}})),Ep.a])(xm),Am=Object(P.defineMessages)({label:{id:"issue.issue-links-add-label",defaultMessage:"Link an issue"}}),Dm=_.default.span(["margin-left:auto;"]);function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nm(e,t){return(Nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vm(e);if(t){var o=Vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Um(this,n)}}function Um(e,t){return!t||"object"!==Rm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vm(e){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Km=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nm(e,t)}(n,e);var t=Fm(n);function n(){return Mm(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Lm(e.prototype,t),n&&Lm(e,n)}(n,[{key:"render",value:function(){return o.a.createElement(Dm,null,o.a.createElement(Qi.a,{label:this.props.intl.formatMessage(Am.label),onClick:this.props.onClick}))}}]),n}(r.Component);Km.defaultProps={onClick:h.a},Km.displayName="AddIssueLinkButton";var Bm=Object(P.injectIntl)(Km),Wm=Object(P.defineMessages)({removeIssueLinkHeader:{id:"issues.confirm-delete-issuelink-modal-header",defaultMessage:"Remove the link to {issueKey}?"},removeIssueLinkContent:{id:"issues.confirm-delete-issuelink-modal-text",defaultMessage:"You can add it again later if you need to."},removeIssueLinkButton:{id:"issues.conirm-delete-issue-link-confirm-btn-text",defaultMessage:"Remove"},issueLinkFailureHeader:{id:"issue.issue-links-failure-header",defaultMessage:"We couldn't link the issue"},issueLinkFailureContent:{id:"issue.issue-links-failure-content",defaultMessage:"Wait a few moments, then give it another try."}}),Hm=_.default.h3(["",";margin:0;"],M.typography.h200()),Gm=_.default.div(["margin:","px 0;padding-right:1px;"],U.f),qm=_.default.div(["margin:","px 0;padding-right:1px;"],U.f);function zm(e){return(zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){oy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jm(e){return function(e){if(Array.isArray(e))return $m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ey(e,t){return(ey=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ry(e);if(t){var o=ry(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ny(this,n)}}function ny(e,t){return!t||"object"!==zm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ry(e){return(ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?Object.keys(e).reduce((function(t,n){return e[n].length+t}),0):0},sy=bp()((function(){var e,t=(oy(e={},lp.n,[]),oy(e,lp.d,[]),oy(e,lp.l,[]),e);return Object(y.isJSWToJSDLinkedIssueModalEnabled)()&&(t[lp.n].push(lp.l),t[lp.d].push(lp.l)),Object(y.isJSDToJSWLinkedIssueModalEnabled)()&&t[lp.l].push(lp.n,lp.d),t})),ay=function(e,t,n){return!n&&sy()[e].indexOf(t)>-1},cy=Object(Pr.d)("removeLinkedIssue",Pr.h.MODAL)(Ee.b),uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ey(e,t)}(n,e);var t=ty(n);function n(){var e;Zm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hasDeleteModal:!1,hasLinkedIssueModal:!1,groupId:null,linkedIssue:null,issueKey:null},e.onLinkedIssueModalClose=function(){e.setState({hasLinkedIssueModal:!1,linkedIssue:null})},e.getLinkByGroupAndIssueKey=function(t,n){return(e.props.issueLinks&&t&&e.props.issueLinks[t]||[]).find((function(e){return e.linkedIssueKey===n}))},e.showLinkedIssueModal=function(t,n,r){e.setState({hasLinkedIssueModal:!0,linkedIssue:{id:t,issueKey:n,projectType:r}})},e.renderIssueLinkInlineMessage=function(t){var n=e.props,r=n.intl,o=n.retryLinkedIssue,i=n.cancelLinkedIssue;return eu(r,r.formatMessage(Wm.issueLinkFailureHeader),r.formatMessage(Wm.issueLinkFailureContent),(function(){return o(t)}),(function(){return i(t)}))},e}return function(e,t,n){t&&Xm(e.prototype,t),n&&Xm(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.issueLinks,n=e.onIssueLinkRendered,r=e.hasLinks,o=e.onMountCreatePermissionFetching;r&&n(iy(t)),o()}},{key:"componentDidUpdate",value:function(e){var t=this.props.displayAddIssueLinks,n=!e.displayAddIssueLinks&&t,r=e.displayAddIssueLinks&&!t;n&&Object(vp.c)().markTimeToFinishTask({key:wp.c.ISSUE_LINKS.TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT}),r&&Object(vp.c)().markTimeToFinishTask({key:wp.c.ISSUE_LINKS.TIME_TO_RENDER_LINKED_ISSUE})}},{key:"onIssueClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.issueKey,r=e.issueLink,o=e.projectType,i=void 0===o?void 0:o,s=arguments.length>1?arguments[1]:void 0;if(n){var a=this.props,c=a.isModal,u=a.onIssueLinkClicked,l=a.projectType,f=a.linkActions;u&&u(t,i,iy(this.props.issueLinks)),Object($a.d)(s)&&(ay(l,i,c)?this.showLinkedIssueModal(t,Object(Ft.toIssueKey)(n),i):r&&Object(hp.a)(r,s.metaKey,f.push))}}},{key:"onDeleteConfirm",value:function(e,t){var n=this.getLinkByGroupAndIssueKey(e,t);if(n){var r=n.id;this.props.deleteLinkedIssue(r);var o=this.flattenedIssueLinks().findIndex((function(e){return e.id===r}));this.props.onRemoveIssueLinkInitiated(o)}this.modalClosedStateChanges()}},{key:"onDeleteCancel",value:function(){this.modalClosedStateChanges()}},{key:"onDeleteAction",value:function(e,t){this.setState({groupId:e,issueKey:t,hasDeleteModal:!0})}},{key:"getRemovalConfirmationText",value:function(e){var t=this.props.intl.formatMessage;return{confirmationHeader:t(Wm.removeIssueLinkHeader,{issueKey:e}),confirmationContent:t(Wm.removeIssueLinkContent)}}},{key:"modalClosedStateChanges",value:function(){this.setState({groupId:null,issueKey:null,hasDeleteModal:!1})}},{key:"flattenedIssueLinks",value:function(){var e=this.props.issueLinks;return e?Object.keys(e).reduce((function(t,n){return[].concat(Jm(t),Jm(e[n]))}),[]):[]}},{key:"renderDeleteConfirmationModal",value:function(){var e=this,t=this.props.intl.formatMessage,n=this.state,r=n.groupId,i=n.issueKey,s=this.getRemovalConfirmationText(i),a=s.confirmationHeader,c=s.confirmationContent;return o.a.createElement("div",null,o.a.createElement(cy,{appearance:"warning",headerMessage:a,contentMessage:c,onConfirm:function(){return e.onDeleteConfirm(r,i)},onCancel:function(){return e.onDeleteCancel()},externalId:"issue.issueLinks.delete",confirmActionText:t(Wm.removeIssueLinkButton)}),o.a.createElement(Pr.i,null))}},{key:"renderGroup",value:function(e,t){var n=this,r=this.props.projectType,i=t.map((function(e){return Qm(Qm({},e.linkedIssue),{},{isLoading:e.isLoading,hasError:e.hasError,errorInlineMessage:e.hasError?n.renderIssueLinkInlineMessage(e.id):void 0})}));return o.a.createElement(Gm,{key:e},o.a.createElement(Hm,{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.issue-links-view.relationship-heading"},e),o.a.createElement(zc,{issues:i,projectType:r,groupId:e,isInteractive:this.props.isIssueViewComplete,onClick:function(e,t){return n.onIssueClick(e,t)},onDelete:function(e,t){return n.onDeleteAction(e,Object(Ft.toIssueKey)(t))}}))}},{key:"renderHeading",value:function(){var e=this.props,t=e.hasLinks,n=e.canAddIssueLinks,r=e.onIssueLinkAddClick;return(o.a.createElement(K.c,null,o.a.createElement(K.e,null,o.a.createElement(P.FormattedMessage,{id:"issue.issue-links-heading",defaultMessage:"Linked issues"})),o.a.createElement(K.d,null,n&&t&&o.a.createElement(Bm,{onClick:r}))))}},{key:"renderExistingLinks",value:function(){var e=this,t=this.props.issueLinks;return o.a.createElement("div",null,t&&Object.keys(t).sort().map((function(n){return e.renderGroup(n,t[n])})))}},{key:"renderAddIssueLink",value:function(){var e=this.props,t=e.issueLinkTypes,n=e.baseUrl,r=e.issueKey,i=e.onIssueLinkAddClosed,s=e.issueLinks;return(o.a.createElement(qm,null,o.a.createElement("div",null,o.a.createElement(Tm,{issueLinkTypes:t,baseUrl:n,issueKey:r,onClose:i,issueLinks:s}))))}},{key:"renderLinkedIssueModal",value:function(){var e=this.props.projectType,t=this.state.linkedIssue;if(!t)return null;var n=t.id,r=t.issueKey,i=t.projectType;return(o.a.createElement(jp.a,null,o.a.createElement(gp.a,{medium:12},o.a.createElement(Op.a,{issueId:parseInt(n,10),issueKey:r,sourceProjectType:e,targetProjectType:i,onClose:this.onLinkedIssueModalClose}))))}},{key:"render",value:function(){var e=this.props,t=e.issueLinks,n=e.hasLinks,r=e.displayAddIssueLinks,i=n&&!cs()(t),s=this.state.hasDeleteModal,a=this.state.hasLinkedIssueModal;return o.a.createElement("div",null,i||r?this.renderHeading():null,i?this.renderExistingLinks():null,r?this.renderAddIssueLink():null,s?this.renderDeleteConfirmationModal():null,a?this.renderLinkedIssueModal():null)}}]),n}(r.Component);function ly(e){return function(e){if(Array.isArray(e))return fy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}uy.displayName="IssueLinksView",uy.defaultProps={issueLinks:null,issueLinkTypes:[],isIssueViewComplete:!1,onIssueLinkClicked:h.a,onIssueLinkRendered:h.a,onIssueLinkAddClick:h.a,onIssueLinkAddClosed:h.a},uy.displayName="IssueLinksView";var dy=Object(d.a)([P.injectIntl,Object(Pr.q)({deleteLinkedIssue:{action:"deleted"}}),Object(Pr.e)("linkedIssue"),Object(N.a)((function(e){return{onIssueLinkClicked:function(t,n,r){return e("linked-issue-clicked",{targetIssueId:t,targetProjectType:Mt.i.apply(void 0,ly(lp.j))(n),linkedIssuesCount:r})},onIssueLinkRendered:function(t){return e("linked-issue-render",{linkedIssuesCount:t})},onRemoveIssueLinkInitiated:function(t){return e("linked-issue-removed",{indexOfDeletedLink:t})}}})),fp.a,Object(i.connect)((function(e){return{canAddIssueLinks:Object(mp.a)(e),hasLinks:Object(pp.b)(e),issueLinks:Object(pp.h)(e),issueLinkTypes:Object(mp.b)(e),isModal:Object(ve.u)(e),baseUrl:Object(ve.f)(e),issueKey:Object(ve.B)(e),externalId:"issue.issue-links",displayAddIssueLinks:Object(pp.k)(e),projectType:Object(l.E)(e),isIssueViewComplete:Object(l.m)(e)}}),(function(e){return{deleteLinkedIssue:function(t,n){return e(Object(dp.v)(t,n))},cancelLinkedIssue:function(t){return e(Object(dp.C)(t))},retryLinkedIssue:function(t){return e(Object(dp.F)(t))},onIssueLinkAddClick:function(){return e(Object(dp.r)())},onIssueLinkAddClosed:function(){return e(Object(dp.s)())},onMountCreatePermissionFetching:function(){return e(Object(dp.x)())}}}))])(uy),py=n("./src/packages/issue/issue-view/src/actions/link-incident-actions.js"),my=Object(Ie.createSelector)(l.e,(function(e){return e.incidentManagement})),yy=Object(Ie.createSelector)(my,(function(e){return e.createMajorIncident})),by=(Object(Ie.createSelector)(yy,(function(e){return e.clickedCount})),Object(Ie.createSelector)(l.H,(function(e){return e.incidentManagement}))),gy=Object(Ie.createSelector)(by,(function(e){return e.showCreateMajorIncidentModal})),vy=Object(Ie.createSelector)(l.e,(function(e){return e.incidentManagement})),hy=Object(Ie.createSelector)(vy,(function(e){return e.createLinkedIncident})),Oy=(Object(Ie.createSelector)(hy,(function(e){return e.errorMessage})),Object(Ie.createSelector)(hy,(function(e){return e.isInvalid})),Object(Ie.createSelector)(hy,(function(e){return e.isLoading})),Object(Ie.createSelector)(hy,(function(e){return e.clickedCount}))),jy=Object(Ie.createSelector)(l.H,(function(e){return e.incidentManagement})),wy=Object(Ie.createSelector)(jy,(function(e){return e.showCreateIncidentPanel})),Ey=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js"),ky=n("./src/packages/servicedesk/incident-management/issue-view/link-incident/src/async.js");function Sy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cy=Object(d.a)([Object(i.connect)((function(e){return{issueKey:Object(ve.B)(e),issueId:Object(ve.A)(e),projectKey:Object(ve.J)(e),projectId:Object(l.B)(e),isCreateVisible:wy(e),isCreateMajorIncidentModalVisible:gy(e),createLinkedIncidentCount:Oy(e)}}),(function(e){return{onCreateLinkedIncidentClick:function(){return e(Object(py.g)())},onCloseLinkedIncidentPanelClick:function(){return e(Object(py.h)())},onCloseCreateMajorIncidentModal:function(){return e(Object(py.f)())}}}))])((function(e){var t=e.issueKey,n=e.useFieldValue,r=void 0===n?Ey.c:n,i=e.issueId,s=e.isCreateVisible,a=e.isCreateMajorIncidentModalVisible,c=e.createLinkedIncidentCount,u=e.onCreateLinkedIncidentClick,l=e.onCloseLinkedIncidentPanelClick,f=e.onCloseCreateMajorIncidentModal,d=e.projectId,p=e.projectKey;return Sy(r({issueKey:t,fieldKey:St.jb}),1)[0]&&void 0!==i?o.a.createElement(ky.a,{issueKey:t,issueId:i,projectId:d,projectKey:p,isCreateVisible:s,isCreateMajorIncidentModalVisible:a,createLinkedIncidentCount:c,onCreateLinkedIncidentClick:u,onCloseLinkedIncidentPanelClick:l,onCloseCreateMajorIncidentModal:f}):null})),Py=n("./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js"),_y=Object(P.defineMessages)({title:{id:"issue.portfolio-child-issues.title",defaultMessage:"Child issues"},noValueText:{id:"issue.placeholder-for-empty-child-issues-field",defaultMessage:"There are no child issues."}}),xy=Object(d.a)([Object(i.connect)((function(e){return{childIssuesPanelType:"portfolioChildren",baseUrl:Object(ve.f)(e),locale:Object(ve.D)(e),user:Object(ve.a)(e),projectId:Object(l.B)(e),projectType:Object(l.E)(e),parentKey:Object(ve.B)(e),parentId:Object(ve.A)(e),issues:Tt(e),isIssueViewComplete:Object(l.m)(e),messages:_y}}),(function(e){return{onNavigateToNewIssue:function(t){var n=t.fromIssueKey,r=t.toIssueKey;return e(Object(Py.f)({fromIssueKey:n,toIssueKey:r}))},onChange:function(t){switch(t.type){case En.CHILD_ISSUE_ADDED:e(Object(kt.h)(t.meta.childIssue))}}}}))])(Gu),Ty=n("./src/packages/platform/utils/constants/src/analytics-sources.js"),Ay=n("./src/packages/issue/issue-view/src/actions/request-panel-metadata-actions.js"),Dy=n("./src/packages/issue/issue-view/src/selectors/request-panel-metadata-selector.js"),Ry=n("./node_modules/@atlaskit/router/dist/esm/controllers/subscribers/route/index.js"),My=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/viewing/index.js"),Ly=n("./src/packages/platform/services/spa-apdex-analytics/src/index.js"),Ny=n("./src/packages/platform/services/spa-apdex-analytics/src/marks.js"),Fy=n("./src/packages/servicedesk/common/src/itsm-practices/index.js"),Uy=n("./node_modules/@atlassian/servicedesk-frontend-apdex/dist/servicedesk-frontend-apdex.min.js"),Vy=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/fields/index.js"),Ky=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js");function By(e){return(By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e,t){return(Gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yy(e);if(t){var o=Yy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zy(this,n)}}function zy(e,t){return!t||"object"!==By(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yy(e){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gy(e,t)}(n,e);var t=qy(n);function n(){var e;Wy(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onExpand=function(t,n){e.props.onExpand(),Object(Ut.u)(n,"showRequestDetails")},e.onCollapse=function(t,n){e.props.onCollapse(),Object(Ut.u)(n,"hideRequestDetails")},e}return function(e,t,n){t&&Hy(e.prototype,t),n&&Hy(e,n)}(n,[{key:"renderShowDetailsButton",value:function(){return o.a.createElement(Ky.a,{externalId:"showdetailslink.expand",appearance:"link",onClick:this.onExpand},o.a.createElement(P.FormattedMessage,{id:"request.text-on-show-details-button",defaultMessage:"Show details"}))}},{key:"renderHideDetailsButton",value:function(){return o.a.createElement(Ky.a,{externalId:"showdetailslink.collapse",appearance:"link",onClick:this.onCollapse},o.a.createElement(P.FormattedMessage,{id:"request.text-on-hide-details-button",defaultMessage:"Hide details"}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.isContentExpanded?this.renderHideDetailsButton():this.renderShowDetailsButton())}}]),n}(r.Component);Qy.displayName="ContentSectionExpander";var Jy=Object(P.defineMessages)({viewRequest:{id:"issue.view-request",defaultMessage:"View request in portal"}}),$y=_.default.div(["display:flex;align-items:center;padding-left:","px;"],4*U.f+U.f/2),Zy=_.default.a(["font-size:12px;"]);function Xy(e){return(Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nb(e,t){return(nb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ib(e);if(t){var o=ib(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ob(this,n)}}function ob(e,t){return!t||"object"!==Xy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ib(e){return(ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sb=Object(Ut.a)("link",{onClick:"clicked"})(Zy),ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nb(e,t)}(n,e);var t=rb(n);function n(){var e;eb(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onClick=function(e,t){Object(Ut.u)(t,"viewRequestInHelpCenter")},e}return function(e,t,n){t&&tb(e.prototype,t),n&&tb(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.link;return(o.a.createElement($y,null,o.a.createElement(sb,{href:n,target:"_blank",onClick:this.onClick},t.formatMessage(Jy.viewRequest))))}}]),n}(r.Component);ab.displayName="HelpCenter";var cb=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),ub=n("./src/packages/issue/issue-view/src/common/model/request-channel-type.js"),lb=Object(P.defineMessages)({portal:{id:"issue.portal-channel",defaultMessage:"Portal"},email:{id:"issue.email-channel",defaultMessage:"Email"},api:{id:"issue.api-channel",defaultMessage:"API"},jira:{id:"issue.jira-channel",defaultMessage:"Jira"},deployment:{id:"issue.deployment-channel",defaultMessage:"Deployment"},anonymousportal:{id:"issue.anonymousportal-channel",defaultMessage:"Anonymous Portal"},unknown:{id:"issue.unknown-channel",defaultMessage:"Unknown"},requestRaised:{id:"issue.request-raised",defaultMessage:"raised this request"},via:{id:"issue.via",defaultMessage:"via"},noReporter:{id:"issue.reporter.text-when-no-value-is-provided",defaultMessage:"Anonymous"}}),fb=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/mixins.js"),db=_.default.div(["display:flex;padding-right:","px;"],U.f),pb=_.default.div(["display:flex;align-items:center;min-width:0;"]),mb=_.default.div(["font-weight:600;padding-right:","px;flex-shrink:0;"],U.f/2),yb=_.default.div(["font-weight:600;padding-left:","px;"],U.f/2),bb=_.default.div(["",";min-width:0;"],fb.a),gb=_.default.div(["padding-left:","px;"],U.f/2),vb=Object(cb.a)((function(e){return{avatarUrl:"",name:e.formatMessage(lb.noReporter)}})),hb=Object(cb.a)((function(e,t){var n=t.displayName;return{avatarUrl:t.avatarUrls["48x48"],name:n}})),Ob=function(e){var t=e.intl,n=e.reporter,r=e.requestChannel,i=vb(t);n&&(i=hb(t,n));var s=i,a=s.name,c=s.avatarUrl,u=function(e,t){switch(e){case ub.f:return t.formatMessage(lb.portal);case ub.d:return t.formatMessage(lb.email);case ub.b:return t.formatMessage(lb.api);case ub.e:return t.formatMessage(lb.jira);case ub.c:return t.formatMessage(lb.deployment);case ub.a:return t.formatMessage(lb.anonymousportal);case ub.g:return t.formatMessage(lb.unknown);default:return}}(r,t);return o.a.createElement(pb,null,o.a.createElement(db,null,o.a.createElement(Xa.a,{src:c,size:"small"})),o.a.createElement(mb,null,a),o.a.createElement(bb,null,t.formatMessage(lb.requestRaised)),void 0!==u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(gb,null,t.formatMessage(lb.via)),o.a.createElement(yb,null,u)))};Ob.displayName="ReporterAndChannel";var jb=Ob,wb=_.default.div(["margin-top:","px;margin-bottom:","px;display:flex;flex-direction:column;border-radius:","px;border:1px solid #dfe1e6;background-color:",";padding:16px;",";"],U.f,3*U.f,U.f/2,M.colors.N0,(function(e){var t=e.isExpanded,n=e.hasContentItems;return t&&n&&"padding-bottom: 0"})),Eb=_.default.div(["display:flex;justify-content:space-between;"]),kb=_.default.div(["",";"],(function(e){return e.hasContentItems&&"margin-top: ".concat(2*U.f,"px")})),Sb=_.default.div(["margin-bottom:","px;"],3*U.f);function Ib(e){return(Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pb(e,t){return(Pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tb(e);if(t){var o=Tb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xb(this,n)}}function xb(e,t){return!t||"object"!==Ib(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tb(e){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pb(e,t)}(n,e);var t=_b(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onExpand=function(){r.setState({isExpanded:!0})},r.onCollapse=function(){r.setState({isExpanded:!1})},r.getMetricKey=function(e){if(r.props.isInServiceDeskReport)return"servicedesk.reports.custom.issue";var t=Object(Fy.l)(e);return Object(y.isItsmPracticesEnabled)()&&t!==Fy.e?"servicedesk.queues.".concat(t,".issue"):"servicedesk.queues.issue"},r.props.fetchRequestPanelMetadata(),r.state={isExpanded:!0},r}return function(e,t,n){t&&Cb(e.prototype,t),n&&Cb(e,n)}(n,[{key:"componentDidMount",value:function(){if(!this.props.isLoading&&(this.props.isInServiceDeskQueue||this.props.isInServiceDeskReport)&&(!Object(y.isJsdAgentViewEnabled)()||!__SPA__)){var e=this.props.baseUrl,t=window.location.pathname.replace(e,"");Object(Uy.end)(t)}}},{key:"render",value:function(){var e=this,t=this.state.isExpanded,n=this.props,r=n.requestPanelItems,i=n.isInServiceDeskReport,s=n.isInServiceDeskQueue,c=n.isLoading,u=n.LayoutItemsComponent,l=r.length>0;return o.a.createElement(My.f,{location:Vy.b},o.a.createElement(wb,{isExpanded:t,hasContentItems:l},!c&&(s||i)&&Object(y.isJsdAgentViewEnabled)()&&__SPA__&&o.a.createElement(Ry.a,null,(function(t){var n=t.match;return(o.a.createElement(Ly.f,{metricKey:e.getMetricKey(n&&n.params&&n.params.practiceType),withMarks:[Ny.a],isExpectedToHaveSsr:!1}))})),o.a.createElement(My.c,{location:"panel-header-expand"},o.a.createElement(Eb,null,o.a.createElement(jb,{intl:this.props.intl,reporter:this.props.reporter&&this.props.reporter.value,requestChannel:this.props.requestChannel}),l&&o.a.createElement(Qy,{isContentExpanded:t,onExpand:this.onExpand,onCollapse:this.onCollapse}))),(l&&t||!l)&&this.props.requestUrl&&o.a.createElement(ab,{intl:this.props.intl,link:this.props.requestUrl}),t&&o.a.createElement(kb,{hasContentItems:l},o.a.createElement(u,{layoutItems:r,area:a.b,ItemContainer:Sb}))))}}]),n}(r.Component);Ab.defaultProps={LayoutItemsComponent:I},Ab.displayName="RequestDetailsPanelView";var Db=function(e){var t=Object(ve.b)(e);return t&&t.valueOf()===Ty.a.SERVICEDESK_QUEUES_ISSUE},Rb=function(e){var t=Object(ve.b)(e);return t&&t.valueOf()===Ty.a.SERVICEDESK_REPORTS_ISSUE},Mb=Object(d.a)([P.injectIntl,Object(i.connect)((function(e){return{baseUrl:Object(ve.f)(e),reporter:Object(u.q)(p.u)(e),requestChannel:Object(Dy.b)(e),isLoading:Object(l.r)(e),isInServiceDeskQueue:Db(e),isInServiceDeskReport:Rb(e),requestUrl:Object(Dy.c)(e),LayoutItemsComponent:C}}),(function(e){return function(e){return{fetchRequestPanelMetadata:function(){return e(Object(Ay.c)())},onOpenPanel:function(t,n,r){var o={title:r&&r.title||n,type:n,key:t,payload:r};e(Object(g.d)(o))}}}(e)}))])(Ab),Lb=n("./src/packages/issue/issue-view/src/selectors/subtask-types-selector.js"),Nb=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),Fb=Object(P.defineMessages)({title:{id:"issue.subtasks-heading",defaultMessage:"Subtasks"},createSubtaskErrorHeader:{id:"issue.subtask-error-header",defaultMessage:"We couldn't create the subtask"},createSubtaskErrorContent:{id:"issue.subtask-error-content",defaultMessage:"Wait a few moments, then give it another try."}}),Ub=Object(d.a)([Object(i.connect)((function(e){return{childIssuesPanelType:"classicSubtasks",baseUrl:Object(ve.f)(e),locale:Object(ve.D)(e),user:Object(ve.a)(e),projectId:Object(l.B)(e),projectType:Object(l.E)(e),parentKey:Object(ve.B)(e),parentId:Object(ve.A)(e),issueTypes:Object(Lb.c)(e),issues:Object(Nb.d)(e),messages:Fb,supportsIssueCreation:Object(Nb.a)(e),quickAddClickCount:Pt(e),isIssueViewComplete:Object(l.m)(e),onNavigateToNewIssue:Object(ve.G)(e),fetchIssueTypesStatus:Object(At.a)(e)}}),(function(e){return{onChange:function(t){switch(t.type){case En.CHILD_ISSUE_ADDED:e(Object(kt.m)(t.meta.childIssue))}},onAddChildClick:function(){return e(Object(kt.i)())}}}))])(Gu),Vb=n("./src/packages/issue/issue-view/src/actions/web-links-actions.js"),Kb=n("./src/packages/issue/issue-view/src/selectors/web-links-selector.js"),Bb=Object(P.defineMessages)({headerMessage:{id:"issue.details.web-links.delete-confirmation-modal.title",defaultMessage:"Delete the web link?"},contentMessage:{id:"issue.details.web-links.delete-confirmation-modal.content",defaultMessage:"You can add the link later again if you need to."},confirmActionText:{id:"issue.details.web-links.delete-confirmation-modal.confirmation-text",defaultMessage:"Delete"},cancelActionText:{id:"issue.details.web-links.delete-confirmation-modal.cancellation-text",defaultMessage:"Cancel"}}),Wb=function(e){var t=e.intl,n=e.onDelete,r=e.onCancel;return(o.a.createElement(Ee.b,{appearance:"danger",headerMessage:t.formatMessage(Bb.headerMessage),contentMessage:t.formatMessage(Bb.contentMessage),confirmActionText:t.formatMessage(Bb.confirmActionText),cancelActionText:t.formatMessage(Bb.cancelActionText),onConfirm:n,onCancel:r}))};Wb.displayName="DeleteModal";var Hb=Object(P.injectIntl)(Wb),Gb=n("./node_modules/shortid/index.js"),qb=n("./node_modules/@atlaskit/icon--current/glyph/world.js"),zb=n.n(qb),Yb=n("./src/packages/platform/ui/flags/src/model/index.js"),Qb=Object(P.defineMessages)({createErrorHeading:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.create-error-heading",defaultMessage:"We couldn't create the web link"},deleteErrorHeading:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.delete-error-heading",defaultMessage:"We couldn't delete the web link"},errorBody:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.create-error-body",defaultMessage:"Wait a few moments, then give it another try."},retryAction:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.retry-action",defaultMessage:"Try again"},cancelAction:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.cancel-action",defaultMessage:"Cancel"}}),Jb=function(e){return e.stopPropagation()},$b=function(e){var t=e.errorHeading,n=e.errorBody,r=e.onRetry,i=e.onCancel,s=e.intl;return(o.a.createElement("div",{onClick:Jb,onKeyPress:Jb},eu(s,s.formatMessage(t),s.formatMessage(n),r,i)))};$b.displayName="ErrorMessage";var Zb=we()([Object(Pr.f)("webLinks",{onRetry:"retry"}),Object(i.connect)(null,(function(e,t){var n=t.webLink;return{onCreateWebLinkRetry:function(){e(Object(Vb.o)(n.id))},onCreateWebLinkCancel:function(){e(Object(Vb.q)(n.id))},onDeleteWebLinkRetry:function(){e(Object(Vb.s)(n.id))},onDeleteWebLinkCancel:function(){e(Object(Vb.l)(n.id))}}}),(function(e,t,n){return{intl:n.intl,errorHeading:n.webLink.createFailed?Qb.createErrorHeading:Qb.deleteErrorHeading,errorBody:Qb.errorBody,onRetry:function(e,r,o){n.webLink.createFailed?(t.onCreateWebLinkRetry(),Object(Pr.m)(o,{name:"createRetry"})):(t.onDeleteWebLinkRetry(),Object(Pr.m)(o,{name:"deleteRetry"}))},onCancel:n.webLink.createFailed?t.onCreateWebLinkCancel:t.onDeleteWebLinkCancel}})),P.injectIntl])($b),Xb=_.default.div(["display:flex;align-items:center;"]),eg=Object(_.default)(Xb)(["width:100%;height:100%;position:relative;"]),tg=_.default.div(["flex:1;overflow:hidden;align-items:center;"]),ng=_.default.div([""," padding-left:","px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.isFocused&&"color: ".concat(M.colors.B400,";")}),U.f),rg=_.default.div(["margin-left:","px;margin-right:","px;"],U.f/4,U.f/4);function og(e){return(og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ig(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ag(e,t){return(ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lg(e);if(t){var o=lg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ug(this,n)}}function ug(e,t){return!t||"object"!==og(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lg(e){return(lg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fg=function(e){return!(!e.createFailed&&!e.deleteFailed)},dg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ag(e,t)}(n,e);var t=cg(n);function n(){var e;ig(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={validIconUrl:!1},e.onDeleteClick=function(t){var n=e.props,r=n.onDelete,o=n.webLink.id;t.stopPropagation(),r(o)},e}return function(e,t,n){t&&sg(e.prototype,t),n&&sg(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.webLink.iconUrl;if(this.props.webLink.deleteFailed){var n=this.props,r=n.onDeleteWebLinkRetry,o=n.onDeleteWebLinkCancel;this.showErrorFlag(Qb.deleteErrorHeading,r,o)}if(null!=t){var i=new Image;i.onload=function(){return e.setState({validIconUrl:!0})},i.onerror=function(){return e.setState({validIconUrl:!1})},i.src=t}}},{key:"componentDidUpdate",value:function(e){if(!e.webLink.createFailed&&this.props.webLink.createFailed){var t=this.props,n=t.onCreateWebLinkRetry,r=t.onCreateWebLinkCancel;this.showErrorFlag(Qb.createErrorHeading,n,r)}}},{key:"showErrorFlag",value:function(e,t,n){var r=this.props,o=r.showFlag,i=r.dismissFlag,s=Object(Nt.toFlagId)(Object(Gb.generate)());o(function(e,t,n,r){return{id:e,title:t,description:Qb.errorBody,type:"warning",isAutoDismiss:!0,actions:[{content:Qb.retryAction,onClick:n},{content:Qb.cancelAction,onClick:r}]}}(s,e,(function(){i({id:s,command:Yb.a}),t()}),(function(){i({id:s,command:Yb.a}),n()})))}},{key:"shouldRenderDeleteButton",value:function(){var e=this.props,t=e.webLink;return e.canDelete&&!(t.isCreating||fg(t))}},{key:"renderLinkIcon",value:function(){var e=this.props.webLink,t=e.iconUrl,n=e.linkText,r=void 0===n?"":n;return this.state.validIconUrl?o.a.createElement(Xa.a,{src:t,size:"small",appearance:"square"}):o.a.createElement(rg,null,o.a.createElement(zb.a,{label:r}))}},{key:"renderLinkText",value:function(){var e=this.props,t=e.webLink,n=e.isFocused,r=t.linkText,i=t.href;return o.a.createElement(tg,null,o.a.createElement(nt.a,{content:i,truncate:!0,position:"bottom"},o.a.createElement(ng,{isFocused:n},r||i)))}},{key:"renderDeleteButton",value:function(){var e=this.props,t=e.isHovering,n=e.isFocused;return(o.a.createElement(il,{show:t||n,invert:n,onClick:this.onDeleteClick}))}},{key:"render",value:function(){var e=this.props.webLink;return(o.a.createElement(eg,null,this.renderLinkIcon(),this.renderLinkText(),this.shouldRenderDeleteButton()&&this.renderDeleteButton(),fg(e)&&o.a.createElement(Zb,{webLink:e})))}}]),n}(r.Component);dg.displayName="WebLinkLineCard";var pg=dg;function mg(){return(mg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yg=function(e){return o.a.createElement(Nt.FlagServiceSubscriber,null,(function(t){var n=t.showFlag,r=t.dismissFlag;return(o.a.createElement(pg,mg({showFlag:n,dismissFlag:r},e)))}))};yg.displayName="WithFlagSubscriber";var bg=we()([Object(Pr.f)("webLinks",{onCreateWebLinkRetry:"retry",onDeleteWebLinkRetry:"retry"}),Object(i.connect)(null,(function(e,t){var n=t.webLink;return{onCreateWebLinkRetry:function(t){e(Object(Vb.o)(n.id)),Object(Pr.m)(t,{name:"createRetry"})},onCreateWebLinkCancel:function(){e(Object(Vb.q)(n.id))},onDeleteWebLinkRetry:function(t){e(Object(Vb.s)(n.id)),Object(Pr.m)(t,{name:"deleteRetry"})},onDeleteWebLinkCancel:function(){e(Object(Vb.l)(n.id))}}}))])(yg),gg=_.default.div(["div[class*='item-line-card-view__Card']:focus{border-bottom-color:",";}"],M.colors.N30);function vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Og=function(e){var t=vg(Object(r.useState)(!1),2),n=t[0],i=t[1],s=vg(Object(r.useState)(null),2),a=s[0],c=s[1],u=function(e){i(!0),c(e)},l=function(){i(!1),c(null)},f=l,d=e.canDelete;return o.a.createElement(gg,null,o.a.createElement(Ut.k,{onMount:function(t){return Object(Ut.r)(t,"webLinkLineCardGroup rendered",{linkCount:e.links.length})}}),o.a.createElement(Za.a,{items:e.links,groupId:"web-links",onClick:function(t,n){e.onClick&&e.onClick(t,n),n&&n.currentTarget&&n.currentTarget.blur(),function(e){e.href&&window.open(e.href,"_blank")}(t)}},(function(e,t,n,r){return function(e){var t=e.link,n=e.isHovering,r=e.isFocused;return(o.a.createElement(bg,{webLink:t,isHovering:n,isFocused:r,onDelete:u,canDelete:d}))}({link:r,isHovering:e,isFocused:n})})),n?o.a.createElement(Hb,{onDelete:function(){a&&e.onDelete(a),l()},onCancel:f}):null)};Og.displayName="WebLinkLineCardGroup";var jg=Og,wg=Object(d.a)([Object(Pr.f)("webLinkCard",{onClick:"clicked",onDelete:"deleted"}),Object(Pr.r)({onClick:"visitWebLink",onDelete:"deleteWebLink"}),Object(i.connect)(null,(function(e){return{onDelete:function(t){return e(Object(Vb.s)(t))}}}))])(jg),Eg=Object(P.defineMessages)({label:{id:"issue.web-links-add-label",defaultMessage:"Link to a web page"}}),kg=_.default.span(["margin-left:auto;"]),Sg=function(e){var t=e.intl,n=e.onClick;return(o.a.createElement(kg,null,o.a.createElement(Qi.a,{label:t.formatMessage(Eg.label),onClick:n})))};Sg.displayName="AddButton";var Ig=Object(P.injectIntl)(Sg),Cg=n("./node_modules/url-parse/index.js"),Pg=n.n(Cg),_g=function(e){var t=new Pg.a(e.trim(),"null").origin,n="null"===t?"":"".concat(t,"/favicon.ico");return Object(Ft.toHref)(n)},xg=function(e){var t=e.trim();return/^(((https?):)?\/\/)[^\s/$.?#].[^\s]*$/i.test(t)},Tg=n("./node_modules/@atlaskit/icon--current/glyph/error.js"),Ag=n.n(Tg),Dg=n("./node_modules/@atlaskit/textfield/dist/esm/components/Textfield.js"),Rg=_.default.span(["color:",";font-weight:600;font-size:","px;"],M.colors.N300,1.5*U.f),Mg=_.default.div(["flex:auto;"]);function Lg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ng=function(e){var t=e.headingText,n=Lg(e,["headingText"]);return(o.a.createElement(Mg,null,o.a.createElement(Rg,null,t),o.a.createElement(Dg.a,n)))};Ng.displayName="InlineField";var Fg=Object(P.defineMessages)({url:{id:"issue.views.web-links.addLink.label.url",defaultMessage:"URL"},linkText:{id:"issue.views.web-links.addLink.label.linkText",defaultMessage:"Link text"},linkTextPlaceholder:{id:"issue.views.web-links.addLink.label.linkTextPlaceholder",defaultMessage:"Add a description..."},invalidUrlMessage:{id:"issue.views.web-links.addLink.label.invalidUrlMessage",defaultMessage:"Enter a valid URL starting with http:// or https://"},errorIconLabel:{id:"issue.views.web-links.addLink.label.errorIcon",defaultMessage:"Error icon"}}),Ug=_.default.div(["margin-top:","px;display:flex;"],2*U.f),Vg=_.default.div(["margin-right:","px;flex:1;"],U.f),Kg=_.default.div(["margin-left:","px;flex:1;"],U.f),Bg=_.default.div(["align-items:center;color:",";display:flex;margin-top:","px;"],(function(e){return e.colour}),U.f/2),Wg=_.default.div(["margin-left:","px;"],U.f/2);function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zg(e,t){return(zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jg(e);if(t){var o=Jg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qg(this,n)}}function Qg(e,t){return!t||"object"!==Hg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jg(e){return(Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zg(e,t)}(n,e);var t=Yg(n);function n(){var e;Gg(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isHrefFocused:!0},e}return function(e,t,n){t&&qg(e.prototype,t),n&&qg(e,n)}(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.href,r=t.linkText,i=t.onHrefChange,s=t.intl,a=t.onLinkTextChange,c=t.isHrefValid;return o.a.createElement(Ug,null,o.a.createElement(Vg,null,o.a.createElement(Ng,{value:n,headingText:s.formatMessage(Fg.url),autoFocus:!0,placeholder:"https://www.example.com",onChange:i,onBlur:function(){e.setState({isHrefFocused:!1})},onFocus:function(){return e.setState({isHrefFocused:!0})},isInvalid:!c}),!c&&!this.state.isHrefFocused&&o.a.createElement(Bg,{colour:M.colors.R400},o.a.createElement(Ag.a,{label:s.formatMessage(Fg.errorIconLabel),role:"presentation"}),o.a.createElement(Wg,null,s.formatMessage(Fg.invalidUrlMessage)))),o.a.createElement(Kg,null,o.a.createElement(Ng,{value:r,headingText:s.formatMessage(Fg.linkText),autoFocus:!1,placeholder:s.formatMessage(Fg.linkTextPlaceholder),onChange:a})))}}]),n}(r.Component);$g.displayName="InlineFields";var Zg=Object(P.injectIntl)($g),Xg=Object(P.defineMessages)({linkButton:{id:"issue.views.web-links.link.link-button",defaultMessage:"Link"},cancelButton:{id:"issue.views.web-links.link.cancel-button",defaultMessage:"Cancel"}}),ev=(M.colors.N10,Object(_.default)(pi.b)(["margin-left:","px !important;"],U.f)),tv=_.default.div(["margin-top:","px;display:flex;justify-content:flex-end;"],U.f);function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iv(e,t){return(iv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cv(e);if(t){var o=cv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return av(this,n)}}function av(e,t){return!t||"object"!==nv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cv(e){return(cv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uv={href:"",linkText:"",isDisabled:!0,isHrefValid:!0},lv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iv(e,t)}(n,e);var t=sv(n);function n(){var e;rv(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state=uv,e.onChildContainerRefSet=function(t){e.childContainer=t},e.onHrefChange=function(t){var n=t.target.value;e.updateDisabledState(n),e.setState({href:n,isHrefValid:xg(n)})},e.onLinkTextChange=function(t){var n=t.target.value.slice(0,255);n!==e.state.linkText&&(e.updateDisabledState(e.state.href),e.setState({linkText:n}))},e.onSubmit=function(){var t=e.state,n=t.href,r=t.linkText,o=n.trim(),i=_g(o);e.props.onSubmit(o,cs()(r.trim())?o:r.trim(),i)},e.childContainer=void 0,e.closeAndReset=function(){e.resetState(),e.props.onCancel()},e}return function(e,t,n){t&&ov(e.prototype,t),n&&ov(e,n)}(n,[{key:"componentDidMount",value:function(){Object(J.a)(this.childContainer),this.updateDisabledState(this.state.href)}},{key:"componentDidUpdate",value:function(e){this.props.createLinkClickedCount!==e.createLinkClickedCount&&(Object(J.a)(this.childContainer),this.focusOnInput()),this.props.linkedPagesCount>e.linkedPagesCount&&(this.resetState(),this.focusOnInput())}},{key:"focusOnInput",value:function(){if(null!==this.childContainer){var e=this.childContainer.querySelector("input");null!==e&&e.focus()}}},{key:"updateDisabledState",value:function(e){var t=cs()(e)||!xg(e);this.setState({isDisabled:t})}},{key:"resetState",value:function(){this.setState(uv)}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.state,n=t.href,r=t.linkText,i=t.isDisabled,s=t.isHrefValid,a=i?null:this.onSubmit;return o.a.createElement("div",{ref:this.onChildContainerRefSet},o.a.createElement(qo.a,{onEscape:this.closeAndReset,onEnter:a},o.a.createElement(Zg,{href:n,linkText:r,isHrefValid:s,onHrefChange:this.onHrefChange,onLinkTextChange:this.onLinkTextChange})),o.a.createElement(tv,null,o.a.createElement(ev,{appearance:"primary",onClick:this.onSubmit,isDisabled:i},e(Xg.linkButton)),o.a.createElement(ev,{appearance:"subtle",onClick:this.closeAndReset},e(Xg.cancelButton))))}}]),n}(r.Component);lv.displayName="WebLinkCreateLinkView";var fv=Object(d.a)([P.injectIntl,Object(Pr.f)("button",{onSubmit:"clicked",onCancel:"clicked"}),Object(Pr.r)({onSubmit:"webLinkSubmit",onCancel:"webLinkCancel"}),Object(i.connect)((function(e){return{linkedPagesCount:Object(Kb.e)(e),createLinkClickedCount:Object(Kb.b)(e)}}),(function(e){return{onCancel:function(){return e(Object(Vb.u)())},onSubmit:function(t,n,r){return e(Object(Vb.n)(Object(Ft.toHref)(t),n,r))}}}))])(lv),dv=Object(P.defineMessages)({heading:{id:"issue.details.web-links.heading",defaultMessage:"Web links"}}),pv=_.default.div(["margin:","px 0;padding-right:1px;"],U.f);function mv(e){return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gv(e,t){return(gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ov(e);if(t){var o=Ov(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hv(this,n)}}function hv(e,t){return!t||"object"!==mv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ov(e){return(Ov=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gv(e,t)}(n,e);var t=vv(n);function n(){return yv(this,n),t.apply(this,arguments)}return function(e,t,n){t&&bv(e.prototype,t),n&&bv(e,n)}(n,[{key:"renderHeading",value:function(){var e=this.props,t=e.intl,n=e.isCreateWebLinkOpened,r=e.onAddButtonClicked,i=e.links,s=e.canAddWebLinks,a=Boolean(i&&i.length);return n||a?o.a.createElement(K.c,null,o.a.createElement(K.e,null,t.formatMessage(dv.heading)),o.a.createElement(K.d,null,s&&o.a.createElement(Ig,{onClick:r}))):null}},{key:"renderLineCards",value:function(){var e=this.props,t=e.links,n=e.canAddWebLinks;return t&&t.length?o.a.createElement(pv,null,o.a.createElement(wg,{links:t,canDelete:n})):null}},{key:"renderCreateLinkView",value:function(){return this.props.isCreateWebLinkOpened?o.a.createElement(fv,null):null}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.renderHeading(),this.renderLineCards(),this.renderCreateLinkView())}}]),n}(r.Component);jv.displayName="WebLinksView";var wv=Object(d.a)([P.injectIntl,Object(Pr.r)({onAddButtonClicked:"addWebLink"}),Object(i.connect)((function(e){return{isCreateWebLinkOpened:Object(Kb.c)(e),links:Object(Kb.f)(e),canAddWebLinks:Object(Kb.a)(e)}}),(function(e){return{onAddButtonClicked:function(){return e(Object(Vb.v)())}}}))])(jv);function Ev(e){return(Ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iv(e,t){return(Iv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_v(e);if(t){var o=_v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pv(this,n)}}function Pv(e,t){return!t||"object"!==Ev(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _v(e){return(_v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iv(e,t)}(n,e);var t=Cv(n);function n(){return kv(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Sv(e.prototype,t),n&&Sv(e,n)}(n,[{key:"maybeWrapInSectionWrapper",value:function(e){var t=this.props.isCompactMode;return e?o.a.createElement(f.d,{isCompactMode:t},e):e}},{key:"renderEcosystemContentPanels",value:function(){if(Object(y.isForgeQuickAddEnabled)()){var e=this.props,t=e.contentPanels,n=e.isCompactMode,r=t.map((function(e,t){if(e.type===c.b){var r=e,i=r.name,s=r.extension;return(o.a.createElement(Oe,{key:t,name:i,extension:s,isCompactMode:n,externalId:"issue.ecosystem.content-panel.forge"}))}return(o.a.createElement(ye,{key:t,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,externalId:"issue.ecosystem.content-panel"}))}));return o.a.createElement(o.a.Fragment,null,r)}return this.props.contentPanels.map((function(e){return o.a.createElement(ye,{key:e.name,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,externalId:"issue.ecosystem.content-panel"})}))}},{key:"renderForgeUIPanel",value:function(){var e=this.props.isCompactMode;return(o.a.createElement(up,{isCompactMode:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isComplete,r=t.fields,i=t.isCompactMode,c=Object.keys(r),u=c.includes(s.P)?o.a.createElement(dy,null):null,d=c.includes("subtasks")?o.a.createElement(Ub,null):null,m=Object(l.p)(r)?o.a.createElement(ip,null):null,g=c.includes(p.e)?o.a.createElement(zu,null):null,v=Object(y.isBentoEnhancedPreviewEnabled)()?o.a.createElement(Et,null):null,h=n?o.a.createElement(Et,null):v,O=c.includes(p.t)?o.a.createElement(xy,null):null;return o.a.createElement(b.a,null,(function(t){var n=t.layoutDescriptor;return(o.a.createElement(f.a,{isCompactMode:i},function(e){var t=e.content,n=t.visibleContentItems,r=t.requestPanelContentItems;return(o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(Mb,{requestPanelItems:r}),o.a.createElement(C,{layoutItems:n,area:a.a})))}(n),e.maybeWrapInSectionWrapper(h),e.maybeWrapInSectionWrapper(m),e.maybeWrapInSectionWrapper(g),e.maybeWrapInSectionWrapper(O),e.maybeWrapInSectionWrapper(d),e.maybeWrapInSectionWrapper(o.a.createElement(Cy,null)),e.maybeWrapInSectionWrapper(u),e.maybeWrapInSectionWrapper(o.a.createElement(np,null)),e.maybeWrapInSectionWrapper(o.a.createElement(wv,null)),!Object(y.isForgeQuickAddEnabled)()&&Object(y.isForgeUiIntegrationEnabled)()&&e.renderForgeUIPanel(),e.maybeWrapInSectionWrapper(e.renderEcosystemContentPanels())))}))}}]),n}(r.Component);xv.displayName="ContentItems",xv.defaultProps={isComplete:!1,isCompactMode:!1,contentPanels:[],fields:{}},xv.displayName="ContentItems";t.a=Object(d.a)([Object(i.connect)((function(e){return{contentPanels:Object(y.isForgeQuickAddEnabled)()?Object(m.f)(e):Object(m.b)(e),isComplete:Object(l.m)(e),fields:Object(u.t)(e)}}),{})])(xv)},"./src/packages/issue/issue-view/src/views/issue-base/context/approval-panel/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return k}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/servicedesk/approval-panel/async.js"),a=n("./src/packages/issue/issue-view/src/actions/approval-action/index.js"),c=n("./src/packages/issue/issue-view/src/actions/context-item-actions.js"),u=n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),d=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),p=n("./src/packages/issue/issue-view/src/common/util/get-element/index.js"),m=n("./src/packages/issue/issue-view/src/configurations.js"),y=n("./src/packages/issue/issue-view/src/selectors/approval-selector/index.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){return o.a.createElement(s.a,e)};h.displayName="AsyncApprovalGlancePanelContainer";var O=Object(d.a)([Object(i.connect)((function(e,t){var n=t.payload&&t.payload.approvalFieldId||"",r=Object(y.d)(e,n)||"",o=Object(f.z)(r)(e),i=Object(f.o)(m.z)(e)||{};return{fieldId:r,approvalFieldId:n,approval:Object(y.e)(e,n),baseUrl:Object(l.f)(e),issueKey:Object(l.B)(e),fieldMetaKey:Object(f.l)(r)(e)||"",fieldAutoCompleteUrl:Object(f.d)(r)(e)||"",hasLinkedFieldEditPermissions:o,portalElement:Object(p.a)()||document.body,issueStatusId:i.id}}),(function(e){return{renderApproverList:function(){e(Object(u.o)())},onApproverListUpdated:function(t,n){e(Object(a.g)(t,n))},onHidePanel:function(){e(Object(c.c)())},onAddApproverError:function(){e(Object(a.c)())},onRemoveApproverError:function(){e(Object(a.d)())}}}),(function(e,t,n){return g(g(g(g({},n),e),t),{},{onApproverListUpdated:function(n){t.onApproverListUpdated(e.fieldId,n)}})}))])(h),j=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),w=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),E=function(e){return o.a.createElement(s.b,e)};E.displayName="ApprovalPanelContainer";var k=Object(d.a)([Object(i.connect)((function(e){var t=j.ib,n=Object(y.d)(e,t)||"",r=Object(f.z)(n)(e);return{approval:Object(y.e)(e,t),baseUrl:Object(l.f)(e),issueId:Object(l.A)(e),fieldId:t,isSimplifiedProject:Object(w.t)(e),hasLinkedFieldEditPermissions:r,canCurrentUserApprove:Object(y.b)(e,t)}}),(function(e){return{onOpenPanel:function(t,n){e(Object(c.d)({key:j.c,type:j.c,title:n,payload:{approvalFieldId:t}}))},onSaveApprovalAnswerError:function(){e(Object(a.e)())},onSaveApprovalAnswerSuccess:function(){e(Object(a.f)())},onZeroApprovalRequired:function(){e(Object(a.h)())}}}))])(E)},"./src/packages/issue/issue-view/src/views/issue-base/context/context-items/common/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js"),o=function(e,t,n){return e.reduce((function(e,o){var i=o.payload;if(o.type===r.g&&i&&i.tabId){var s=t[i.tabId];e.push(s.name)}return i&&i.fieldId&&n[i.fieldId]&&e.push(n[i.fieldId].title),e}),[])},i=function(e,t){if(!e||e.length<=0)return"";if(1===e.length)return e[0];var n=e.slice(-1)[0],r=e.slice(0,-1);return"".concat(r.join(", ")," ").concat(t," ").concat(n)}},"./src/packages/issue/issue-view/src/views/issue-base/context/context-items/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),a=n("./src/packages/issue/issue-view/src/actions/context-items-actions.js"),c=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),u=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),d=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),p=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),m=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),y=n("./src/packages/issue/issue-view/src/layout-descriptor/index.js"),b=n("./node_modules/lodash/isEqual.js"),g=n.n(b),v=n("./node_modules/lodash/noop.js"),h=n.n(v),O=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),j=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/animations/slide-down-on-mount.js"),w=n("./src/packages/forge/forge-ui-async/src/ui/extensions/async.js"),E=n("./src/packages/forge/forge-ui/src/constants.js"),k=n("./node_modules/reselect/lib/index.js"),S=n("./src/packages/issue/issue-view/src/selectors/tab-selector.js"),I=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js"),C=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),P=n("./src/packages/issue/issue-view/src/common/state/selectors/field-visibility-selector.js"),_=function(e){return Object(k.createSelector)(C.t,(function(e){return e}),(function(t,n){return e.filter((function(e){var t=e.type,r=e.payload;return!!r&&(e.type===I.g?Object(S.b)(n,r.tabId):!(!Object(P.a)(t)||void 0===r.fieldId)&&Object(P.b)({fieldType:t,fieldId:r.fieldId,state:n}))}))}))},x=n("./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js"),T=n("./src/packages/issue/issue-view/src/feature-flags.js"),A=n("./src/packages/issue/issue-view/src/views/constants.js"),D=n("./node_modules/lodash/flow.js"),R=n.n(D),M=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),L=n("./src/packages/issue/issue-view/src/actions/context-item-actions.js"),N=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),F=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),U=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),V=n("./src/packages/issue/issue-view/src/common/constants/index.js"),K=n("./src/packages/issue/issue-view/src/common/model/connect-field-type.js"),B=n("./src/packages/issue/issue-view/src/views/issue-base/get-layout-item-map.js"),W=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),H=n("./node_modules/@atlaskit/icon--current/glyph/folder.js"),G=n.n(H),q=n("./node_modules/@atlaskit/theme/index.js"),z=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),Y=n("./src/packages/issue/issue-view/src/common/model/tab-type.js"),Q=n("./src/packages/issue/issue-glance/src/index.js"),J=Object(p.a)()(Q.a);function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Z(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e,t){return e.items.reduce((function(e,n){switch(n.type){case Y.a:return[].concat(Z(e),[Object(C.m)(n.id)(t)]);default:return z.h.safeError("issue.views.issue-base.context.tab-glance","Unknown tab item '".concat(JSON.stringify(n),"'"),new F.a({eventNameSuffix:V.E,type:F.i,app:F.e})),e}}),[]).join(", ")},te=function(){return o.a.createElement(G.a,{primaryColor:q.colors.N500,label:""})};te.displayName="TabIcon";var ne=Object(W.a)((function(e){return{tabItems:e}})),re=function(e){if(void 0!==e.shouldHideTab)return null;e.tabId;var t=$(e,["tabId"]);return(o.a.createElement(J,t))};re.displayName="TabGlance";var oe=Object(i.connect)((function(){var e=Object(S.c)();return function(t,n){var r=e(t,n.tabId);return r?{title:r.name,content:ee(r,t),onClickPayload:ne(r.items),Icon:te}:{shouldHideTab:!0}}}),{})(re);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(n,e);var t=le(n);function n(){var e;ae(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onOpenPanel=function(t){var n=e.props.item,r=n.key,o=n.type,i={title:t&&t.title||o,type:o,key:r,payload:t};e.props.onOpenPanel(i)},e}return function(e,t,n){t&&ce(e.prototype,t),n&&ce(e,n)}(n,[{key:"render",value:function(){var e=this.props.item,t=e.type,n=e.payload;if(t===I.g)return n&&n.tabId?o.a.createElement(oe,{tabId:n.tabId,onOpenPanel:this.onOpenPanel}):(U.a.safeError("context.context-item.view","Could not find payload for Tab Item when trying to render TabGlance",new F.a({eventNameSuffix:V.E,type:F.i,app:F.e})),null);var r=Object(B.a)()[t],i=r&&r.item;return i?o.a.createElement(i,se({},n,{onOpenPanel:this.onOpenPanel,area:K.c})):(U.a.safeError("issue",'Could not find a matching component for "'.concat(t,'"'),new F.a({eventNameSuffix:V.E,type:F.i,app:F.e})),null)}}]),n}(r.Component);pe.displayName="ContextItemView";var me=R()(Object(M.f)("contextPanel",{onOpenPanel:"viewed"}),Object(i.connect)((function(){return{}}),{onOpenPanel:function(e,t){return Object(M.m)(t,{name:"issue",attributes:{contextPanelKey:e.key,contextPanelType:e.type,tabItemsCount:e.payload&&e.payload.tabItems&&e.payload.tabItems.length}}),Object(L.d)(e)}}),Object(N.a)())(pe),ye=n("./src/packages/issue/issue-view/src/views/issue-base/context/ecosystem/index.js"),be=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-items/common/utils.js"),ge=n("./node_modules/react-intl/lib/index.es.js"),ve=n("./node_modules/@atlaskit/icon--current/glyph/chevron-up.js"),he=n.n(ve),Oe=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),je=Object(ge.defineMessages)({showLessText:{id:"issue.views.issue-base.context.context-items.expander.show-less-button.show-less-text",defaultMessage:"Show less"}}),we=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),Ee=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js"),ke=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),Se=Object(we.default)(Ee.a)(["& > span{color:",";& > span:first-child{align-self:auto;margin-left:","px;margin-right:","px;}}&&,&:hover,&:focus{height:inherit;text-align:left;}"],q.colors.B400,-ke.f,-ke.f/2),Ie=function(e){var t=e.onCollapse,n=e.intl;return o.a.createElement(Se,{externalId:"showmorelink.collapse",appearance:"subtle",iconBefore:o.a.createElement(he.a,{primaryColor:q.colors.B400,size:"large"}),alt:n.formatMessage(je.showLessText),shouldFitContainer:!0,onClick:function(e,n){t(),Object(Oe.u)(n,"showLess")},"data-test-id":"issue.views.issue-base.context.context-items.expander.show-less-button.container"},o.a.createElement(ge.FormattedMessage,je.showLessText))};Ie.displayName="ShowLessButton";var Ce=Object(ge.injectIntl)(Ie),Pe=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-items/view/expander/show-more-button/index.js"),_e=we.default.div(["margin-left:","px;margin-bottom:","px;"],-ke.f,1.5*ke.f);function xe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Te=function(e){var t=e.isShowMoreExpanded,n=e.onCollapse,r=xe(e,["isShowMoreExpanded","onCollapse"]);return(o.a.createElement("div",null,o.a.createElement(_e,null,t?o.a.createElement(Ce,{onCollapse:n}):o.a.createElement(Pe.a,r))))};Te.displayName="ContextItemsExpander";var Ae=Te,De=Object(p.a)([Object(i.connect)((function(e,t){return{visibleSecondaryContextItemNameList:Object(be.a)(t.visibleSecondaryContextItems,Object(S.d)(e),Object(C.t)(e))}}),{})])(Ae),Re=we.default.div(["padding-bottom:0;"]),Me=we.default.div(["margin-top:","px;padding-bottom:0;"],(function(){return Object(T.isSideBySideLabelsAndFieldsEnabled)()?"0":"".concat(-ke.f)})),Le=we.default.div(["padding-top:","px;box-shadow:inset 0 2px 0 0 ",";margin-left:","px;"],ke.f,q.colors.N30,-ke.f);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(n,e);var t=Ke(n);function n(){var e;Fe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={layoutDescriptor:e.props.layoutDescriptor,visibleSecondaryContextItems:e.props.visibleSecondaryContextItems,contextItemsMap:{}},e.onExpand=function(){e.props.onSecondaryContextItemsVisibilityToggle(!0),e.setState({layoutDescriptor:e.props.layoutDescriptor,visibleSecondaryContextItems:e.props.visibleSecondaryContextItems})},e.onCollapse=function(){e.props.onSecondaryContextItemsVisibilityToggle(!1),e.setState({layoutDescriptor:e.props.layoutDescriptor,visibleSecondaryContextItems:e.props.visibleSecondaryContextItems})},e}return function(e,t,n){t&&Ue(e.prototype,t),n&&Ue(e,n)}(n,[{key:"componentDidMount",value:function(){this.onRender(),this.onUpdateLayoutDescriptor()}},{key:"componentDidUpdate",value:function(e,t){this.shouldUpdateItemVisibility(e,t)&&this.onUpdateLayoutDescriptor()}},{key:"onUpdateLayoutDescriptor",value:function(){this.setState({layoutDescriptor:this.props.layoutDescriptor,visibleSecondaryContextItems:this.props.visibleSecondaryContextItems}),this.onRender()}},{key:"onRender",value:function(){var e=this.props.layoutDescriptor.context,t=e.primaryContextItems,n=e.secondaryContextItems,r=t.concat(n);this.props.onRendered(r)}},{key:"shouldUpdateItemVisibility",value:function(e,t){var n="VISIBLE"===this.props.secondaryContextItemVisibility,r=e.layoutDescriptor.context.primaryContextItems,o=this.props.layoutDescriptor.context.primaryContextItems,i=!g()(t.contextItemsMap,this.state.contextItemsMap),s=!n&&r.length<o.length,a=!n&&r.length===o.length&&!g()(r,o);if(Object(T.isShowMoreContextItemsFixEnabled)()){var c=e.layoutDescriptor.context.secondaryContextItems,u=this.props.layoutDescriptor.context.secondaryContextItems,l=!g()(e.visibleSecondaryContextItems,this.props.visibleSecondaryContextItems)&&g()(c,u);return i||s||a||l}return i||s||a}},{key:"renderContextItem",value:function(e){var t=this.state.contextItemsMap[e];return void 0!==t?o.a.createElement(me,{item:t,key:e}):null}},{key:"renderPrimaryItems",value:function(){var e=this,t=this.state.layoutDescriptor.context.primaryContextItems.map((function(t){return e.renderContextItem(t.key)}));return o.a.createElement(Re,{"data-test-id":"issue.views.issue-base.context.context-items.primary-items"},t)}},{key:"renderSecondaryItems",value:function(){var e=this,t=this.state.layoutDescriptor.context.secondaryContextItems.map((function(t){return e.renderContextItem(t.key)}));return o.a.createElement(j.a,null,o.a.createElement(Me,null,t))}},{key:"renderForgeGlances",value:function(){return o.a.createElement(w.a,{module:"jira:issueGlance",context:this.props.forgeContext,render:function(e){return e?e.map((function(e){var t=e.id,n=e.properties,r=n.title,i=n.label,s=n.status,a=e.environmentType;return(o.a.createElement(ye.c,{key:"forgeGlanceAnimatedPanel-".concat(t),appKey:E.f,moduleKey:t,name:r,label:i,status:s,extensionEnvType:a}))})):null}})}},{key:"render",value:function(){var e="HIDDEN"!==this.props.secondaryContextItemVisibility,t=Object(T.isShowMoreContextItemsFixEnabled)()?this.state.visibleSecondaryContextItems:this.props.visibleSecondaryContextItems,n=t.length;return o.a.createElement("div",{"data-test-id":"issue.views.issue-base.context.context-items"},this.renderPrimaryItems(),!Object(T.isForgeInReduxStoreEnabled)()&&Object(T.isForgeUiIntegrationEnabled)()&&this.renderForgeGlances(),e?this.renderSecondaryItems():null,o.a.createElement(O.a,{name:A.f},o.a.createElement("div",null,n>0&&o.a.createElement(De,{isShowMoreExpanded:e,onExpand:this.onExpand,onCollapse:this.onCollapse,visibleSecondaryContextItems:t,fieldCount:n}))),o.a.createElement(Le,null))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.layoutDescriptor.context,n=t.primaryContextItems,r=t.secondaryContextItems,o={};return n.concat(r).forEach((function(e){o[e.key]=e})),{contextItemsMap:o}}}]),n}(r.Component);He.displayName="ContextItems",He.defaultProps={forgeExtensions:[],onRendered:h.a},He.displayName="ContextItems";var Ge=Object(p.a)([Object(i.connect)((function(e,t){return{visibleSecondaryContextItems:_(t.layoutDescriptor.context.secondaryContextItems)(e),forgeContext:Object(x.b)(e)}}),{})])(He);function qe(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){return function(t){Object(M.k)(t,{action:"viewed",actionSubjectId:e})}},nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(n,e);var t=Ze(n);function n(){return Qe(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Je(e.prototype,t),n&&Je(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"render",value:function(){return null}}]),n}(r.Component);nt.displayName="ChangeboardingTrigger";var rt=function(e){var t=e.layoutDescriptor,n=e.isProjectAdmin,r=t.context,i=r.primaryContextItems,s=r.secondaryContextItems;if([].concat(qe(i),qe(s)).filter((function(e){return e.type===I.g})).length>0){var a=n?"bentoTabsProjectAdminChangeboarding":"bentoTabsChangeboarding",c=R()(Object(M.f)(a,{onMount:"onMount"}),Object(M.e)(a))(nt);return o.a.createElement(c,{onMount:tt(a)})}return null};function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var it=function(e){var t=e.isCompletedLoading,n=e.isProjectAdmin,r=!e.hasJsd;return o.a.createElement(y.a,null,(function(i){var s=i.layoutDescriptor;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(Ge,ot({layoutDescriptor:s},e)),t&&r&&o.a.createElement(rt,{layoutDescriptor:s,isProjectAdmin:n})))}))};it.displayName="ContextItemsWithLayoutDescriptor";t.a=Object(p.a)([Object(s.a)((function(e){return{onRendered:function(t){var n=t.filter((function(e){return e.type===u.s})).map((function(e){return e.payload}));n.length>0&&e("ecosystem.glances",Object(c.e)(n))}}})),Object(i.connect)((function(e){var t=Object(l.C)(e)||{};return{secondaryContextItemVisibility:Object(m.c)(e)?"VISIBLE":"HIDDEN",isProjectAdmin:Object(d.c)(e),isCompletedLoading:Object(f.m)(e),hasJsd:!!t["jira-servicedesk"]}}),(function(e){return{onSecondaryContextItemsVisibilityToggle:function(t){return e(t?Object(a.d)():Object(a.c)())}}}))])(it)},"./src/packages/issue/issue-view/src/views/issue-base/context/context-items/view/expander/show-more-button/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/@atlaskit/icon--current/glyph/chevron-down.js"),a=n.n(s),c=n("./node_modules/@atlaskit/theme/index.js"),u=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),f=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-items/common/utils.js"),d=Object(i.defineMessages)({showMorePlural:{id:"issue.views.issue-base.context.context-items.expander.show-more-button.show-more-plural",defaultMessage:"Show {fieldCount} more fields"},showMoreNotPlural:{id:"issue.views.issue-base.context.context-items.expander.show-more-button.show-more-not-plural",defaultMessage:"Show {fieldCount} more field"},showMoreAnd:{id:"issue.views.issue-base.context.context-items.expander.show-more-button.show-more-and",defaultMessage:"and"},showMoreAltText:{id:"issue.views.issue-base.context.context-items.expander.show-more-button.show-more-alt-text",defaultMessage:"Show more"}}),p=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),b=p.default.small(["display:block;margin-top:","px;margin-bottom:","px;text-overflow:ellipsis;overflow:hidden;color:",";font-size:","px;line-height:",";"],-y.f/2,y.f/2,c.colors.N200,1.5*y.f,y.f/6),g=Object(p.default)(m.a)(["& > span{color:",";& > span:first-child{align-self:auto;margin-left:","px;margin-right:","px;}}&&,&:hover,&:focus{height:inherit;text-align:left;}"],c.colors.B400,-y.f,-y.f/2);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){var t=e.visibleSecondaryContextItemNameList,n=e.fieldCount,r=e.onExpand,s=e.intl,p=n>1?d.showMorePlural:d.showMoreNotPlural,m=Object(f.b)(t,s.formatMessage(d.showMoreAnd));return o.a.createElement(u.a,{content:m},o.a.createElement(g,{externalId:"showmorelink.expand",appearance:"subtle",iconBefore:o.a.createElement(a.a,{primaryColor:c.colors.B400,size:"large"}),alt:s.formatMessage(d.showMoreAltText),shouldFitContainer:!0,onClick:function(e,t){r(),Object(l.u)(t,"showMore")},"data-test-id":"issue.views.issue-base.context.context-items.expander.show-more-button.container"},o.a.createElement(i.FormattedMessage,v({},p,{values:{fieldCount:n}})),o.a.createElement(b,null,m)))};h.displayName="ShowMoreButton";var O=Object(i.injectIntl)(h)},"./src/packages/issue/issue-view/src/views/issue-base/context/context-panel/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/lodash/flow.js"),i=n.n(o),s=n("./src/packages/issue/issue-view/src/actions/context-item-actions.js"),a=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),c=n("./src/packages/issue/issue-view/src/selectors/context-panel-selector.js"),u=n("./src/packages/issue/issue-view/src/views/issue-base/get-layout-item-map.js"),l=n("./node_modules/react/index.js"),f=n.n(l),d=n("./node_modules/@atlaskit/icon--current/glyph/arrow-left.js"),p=n.n(d),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),y=n("./src/packages/issue/issue-view/src/common/model/layout-item-type.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/index.js"),v=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/styled.js"),h=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),O=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),j=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),w=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),E=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),k=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),S=n("./src/packages/issue/issue-view/src/common/constants/index.js"),I=n("./src/packages/issue/issue-view/src/common/model/tab-type.js"),C=n("./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js"),P="issue.views.issue-base.context.tab-panel",_=function(e,t){var n=Object(u.a)();return e.reduce((function(e,r){switch(r.type){case I.a:var o=Object(C.a)(Object(O.v)(r.id,t));if(!o||!Object.keys(n).includes(o))return k.h.safeError(P,"Could not find a matching component for field '".concat(o||"(unknown type)","' with id '").concat(r.id,"'"),new E.a({eventNameSuffix:S.E,type:E.i,app:E.e})),e;var i=n[o].item;return e.push({fieldType:o,component:f.a.createElement(i,{key:r.id,fieldId:r.id})}),e;default:return k.h.safeError(P,"Unknown tab item '".concat(JSON.stringify(r),"'"),new E.a({eventNameSuffix:S.E,type:E.i,app:E.e})),e}}),[])},x=n("./node_modules/react-intl/lib/index.es.js"),T=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/error-state/index.js"),A=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-panel/view/styled.js"),D=Object(x.defineMessages)({emptyStateHeader:{id:"issue.context.tab-panel.empty-state.header",defaultMessage:"No fields to show"},emptyStateMessage:{id:"issue.context.tab-panel.empty-state.message",defaultMessage:"If you expect to see fields here, ask your Jira admin to check permissions and field configuration."},emptyStateMessageAdmin:{id:"issue.context.tab-panel.empty-state.message.admin",defaultMessage:"If you expect to see fields here, check your permission and field configuration settings."}}),R=n("./node_modules/styled-components/dist/styled-components.browser.es.js").default.div(["padding:","px ","px ","px ","px;overflow:auto;height:100%;"],2*m.f,m.f,m.f,1.25*m.f);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(n,e);var t=B(n);function n(){return U(this,n),t.apply(this,arguments)}return function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.renderedItems,n=e.tabItems,r=new Set(t.map((function(e){return e.fieldType}))),o=n.map((function(e){return e.id})).filter((function(e){return!r.has(e)}));this.props.onComponentMounted({renderedFieldsCount:r.size,unrenderedFieldsCount:o.length,unrenderedFieldTypes:o.join(",")})}},{key:"render",value:function(){var e=this.props,t=e.renderedItems,n=e.isProjectAdmin,r=e.contentWidth,o=e.intl.formatMessage;return t.every((function(e){return null==e.component}))?f.a.createElement(T.a,{size:"narrow",isSubtle:!0,header:o(D.emptyStateHeader),description:o(n?D.emptyStateMessageAdmin:D.emptyStateMessage)}):Object(b.isIndividualScrollingEnabled)()?f.a.createElement(R,null,f.a.createElement(A.c,{maxWidth:r},t.map((function(e){return e.component})))):f.a.createElement(R,null,t.map((function(e){return e.component})))}}]),n}(l.Component);G.displayName="TabPanel";var q=Object(w.a)([x.injectIntl,Object(h.f)("fieldTab",{onComponentMounted:"rendered"}),Object(r.connect)((function(e,t){return{onComponentMounted:function(e,n){Object(h.m)(n,{name:t.panelKey,attributes:N({contextPanelType:t.type},e)})}}}),{})])(G),z=Object(w.a)([Object(h.b)({attributes:{contextPanelType:y.g}}),Object(r.connect)((function(e,t){var n=t.type,r=t.panelKey,o=t.payload.tabItems;return{renderedItems:_(o,Object(O.t)(e)),tabItems:o,type:n,panelKey:r,isProjectAdmin:Object(j.c)(e)}}),{})])(q);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t=X(n);function n(){return J(this,n),t.apply(this,arguments)}return function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.panel,r=e.onHidePanel,o=e.isOpen,i=e.layoutItemEntryMap,s=e.styles,a=e.scrollContainer,c=null;if(n){var u=i[n.type];c=n.type===y.g?z:u&&u.panel}var d=Object(b.isIndividualScrollingEnabled)()?A.b:l.Fragment,h=f.a.createElement(f.a.Fragment,null,f.a.createElement(A.a,{onClick:Object(b.isIndividualScrollingEnabled)()?void 0:r,tabIndex:Object(b.isIndividualScrollingEnabled)()?void 0:0,"data-test-id":"issue.views.issue-base.context.context-panel.back"},f.a.createElement(d,{maxWidth:s.headerWidth,onClick:r,tabIndex:"0"},f.a.createElement(A.d,null,f.a.createElement(p.a,{size:"medium",label:"Return"})),f.a.createElement(v.c,null,n&&n.title))),c?f.a.createElement(c,Q({contentWidth:s.contentWidth},n?{type:n.type,panelKey:n.key,payload:n.payload}:null)):null);return f.a.createElement(g.a,{width:Object(b.isIndividualScrollingEnabled)()?s.panelWidth:(t||0)+m.f,scrollContainer:a,isOpen:o},h)}}]),n}(l.Component);ne.displayName="ContextPanel",ne.displayName="ContextPanel";var re=i()(Object(r.connect)((function(e){return{isOpen:Object(c.b)(e),panel:Object(c.a)(e),layoutItemEntryMap:Object(u.a)()}}),{onHidePanel:s.c}),Object(a.a)())(ne)},"./src/packages/issue/issue-view/src/views/issue-base/context/context-panel/view/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=n("./src/packages/issue/issue-view/src/common/constants/index.js"),a=n("./src/packages/issue/issue-view/src/feature-flags.js"),c=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/styled.js"),u=r.default.div(["flex-shrink:0;background:",";",""],o.colors.N0,(function(){return Object(a.isIndividualScrollingEnabled)()?"\n            outline: 0;\n            min-height: 40px;\n        ":"\n            display: flex;\n            align-items: center;\n            width: 100%;\n            position: relative;\n            box-shadow: inset 0 ".concat(-s.F,"px 0 0 ").concat(o.colors.N30,";\n            height: 40px;\n            &:hover {\n                cursor: pointer;\n            }\n            &:focus {\n                box-shadow: 0 0 0 ").concat(s.F,"px ").concat(o.colors.B100,";\n                outline: 0;\n            }\n        ")})),l=r.default.div(["display:flex;align-items:center;position:relative;box-sizing:border-box;box-shadow:inset 0 ","px 0 0 ",";margin-left:","px;padding-left:","px;"," &:hover{cursor:pointer;}&:focus{box-shadow:inset 0 0 0 ","px ",";outline:0;}"],-s.F,o.colors.N30,-c.b,c.b,(function(e){var t=e.maxWidth;return"max-width: ".concat(t,"px;")}),s.F,o.colors.B100),f=r.default.div(["height:100%;display:inline-block;width:100%;",""],(function(e){var t=e.maxWidth;return"max-width: ".concat(t,"px;")})),d=r.default.button(["display:flex;height:28px;width:28px;border:none;border-radius:50%;background:",";color:",";align-items:center;padding-left:2px;margin-left:","px;&:hover{cursor:pointer;}"],o.colors.N30,o.colors.N60,i.f/2)},"./src/packages/issue/issue-view/src/views/issue-base/context/ecosystem/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return Et})),n.d(t,"e",(function(){return ge})),n.d(t,"d",(function(){return Ht})),n.d(t,"c",(function(){return Rt})),n.d(t,"a",(function(){return dt}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/noop.js"),s=n.n(i),a=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),u=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),l=n("./src/packages/issue/issue-view/src/feature-flags.js"),f=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/@atlaskit/icon--current/glyph/arrow-left.js"),m=n.n(p),y=n("./node_modules/@atlassian/connect-module-core/dist/es6/index.js"),b=n("./src/packages/common-legacy-do-not-add-anything-new/src/ecosystem/default-connect-iframe-provider.js"),g=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),v=n("./src/packages/issue/issue-view/src/actions/ecosystem-glance-actions.js"),h=n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js"),O=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),j=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),w=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),E=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js"),k=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),S=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-timeout-view.js"),I=n("./src/packages/issue/issue-view/src/selectors/status-selector.js"),C=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-panel/view/styled.js"),P=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/styled.js"),_=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),x=_.default.div(["",";width:100%;height:100%;overflow:auto;position:relative;padding:","px;"],(function(e){var t=e.panelWidth;return"min-width: ".concat(t,"px;")}),c.f);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(n,e);var t=L(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).handleHideGlancePanel=function(){var e=r.props,t=e.appKey,n=e.moduleKey,o=e.glance,i=e.onGlanceHideAnalytics,s=e.onHideGlance;i(Object(O.d)(t,n,o.status)),s()},r.state={connectHost:window.connectHost},r}return function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;this.state.connectHost||(g.h.safeInfo("issue.ecosystem.glance.panel","Delayed initialization of ecosystem glance panel"),Object(E.b)((function(t){return e.setState({connectHost:t})})))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.appKey!==e.appKey,r=this.props.moduleKey!==e.moduleKey,o=this.state.connectHost!==t.connectHost,i=this.props.statusCategory!==e.statusCategory,s=this.props.refreshedOn!==e.refreshedOn,a=this.props.styles!==e.styles;return n||r||o||i||a||s}},{key:"render",value:function(){var e=this.props,t=e.glance,n=e.glance.options.origin,r=e.panelWidth,i=e.refreshedOn,s=e.statusCategory,a=this.props,c=a.appKey,u=a.moduleKey,f=a.styles,d=new b.a;return Object(l.isIndividualScrollingEnabled)()?o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,null,o.a.createElement(C.b,{maxWidth:f.headerWidth,onClick:this.handleHideGlancePanel,tabIndex:"0"},o.a.createElement(C.d,null,o.a.createElement(m.a,{size:"medium",label:"Return"})),o.a.createElement(P.c,null,t.name))),this.state.connectHost&&o.a.createElement(x,{panelWidth:f.contentWidth},o.a.createElement(C.c,{maxWidth:f.contentWidth},o.a.createElement(y.a,{key:"connect-iFrame-".concat(n,"-").concat(s,"-").concat(i),connectHost:this.state.connectHost,appKey:c,moduleKey:u,url:t.options.url,options:d.convertConnectOptions(t.options),height:"100%",width:"100%",connectIframeProvider:d,timeoutIndicator:function(){return o.a.createElement(S.a,{appName:t.name,appKey:c})}})))):o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{onClick:this.handleHideGlancePanel,tabIndex:"0"},o.a.createElement(C.d,null,o.a.createElement(m.a,{size:"medium",label:"Return"})),o.a.createElement(P.c,null,t.name)),this.state.connectHost&&o.a.createElement(x,{panelWidth:r},o.a.createElement(y.a,{key:"connect-iFrame-".concat(n,"-").concat(s,"-").concat(i),connectHost:this.state.connectHost,appKey:c,moduleKey:u,url:t.options.url,options:d.convertConnectOptions(t.options),height:"100%",width:"100%",connectIframeProvider:d,timeoutIndicator:function(){return o.a.createElement(S.a,{appName:t.name,appKey:c})}})))}}]),n}(r.Component);U.displayName="GlancePanel",U.defaultProps={refreshedOn:0,onGlanceHideAnalytics:s.a},U.displayName="GlancePanel";var V=Object(w.a)([Object(a.a)((function(e){return{onGlanceHideAnalytics:function(t){return e("hide",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}}})),Object(d.connect)((function(e,t){return{glance:Object(k.l)(t.appKey,t.moduleKey)(e),statusCategory:Object(I.b)(e),refreshedOn:Object(j.d)(e)}}),(function(e){return{onHideGlance:function(){e(Object(v.c)()),e(Object(h.m)())}}}))])(U),K=n("./src/packages/forge/forge-ui-async/src/ui/extension/async.js"),B=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),W=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js");function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(n,e);var t=Y(n);function n(){var e;G(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onHideForgeGlance=function(){(0,e.props.onHideForgeGlance)()},e}return function(e,t,n){t&&q(e.prototype,t),n&&q(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.forgeExtension,n=e.forgeExtension.properties.title,i=e.issueKey,s=e.issueId,a=e.issueType,c=e.projectKey,u=e.projectId,f=e.panelWidth,d=e.styles,p=Object(l.isIndividualScrollingEnabled)()?C.b:r.Fragment,y=Object(l.isIndividualScrollingEnabled)()?C.c:r.Fragment;return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{onClick:Object(l.isIndividualScrollingEnabled)()?void 0:this.onHideForgeGlance,tabIndex:Object(l.isIndividualScrollingEnabled)()?void 0:0},o.a.createElement(p,{maxWidth:d.headerWidth,onClick:this.onHideForgeGlance,tabIndex:"0"},o.a.createElement(C.d,null,o.a.createElement(m.a,{size:"medium",label:"Return"})),o.a.createElement(P.c,null,n))),o.a.createElement(x,{panelWidth:Object(l.isIndividualScrollingEnabled)()?d.contentWidth:f},o.a.createElement(y,{maxWidth:d.contentWidth},o.a.createElement(K.a,{context:{issueKey:i,issueId:s,issueType:a,projectKey:c,projectId:u},extension:t,module:"jira:issueGlance"}))))}}]),n}(r.Component);$.displayName="ForgeGlancePanel",$.displayName="ForgeGlancePanel";var Z=Object(w.a)([Object(d.connect)((function(e){return{issueKey:Object(B.B)(e),issueId:Object(B.A)(e),issueType:Object(W.f)(e),projectKey:Object(B.J)(e),projectId:Object(j.B)(e)}}),{onHideForgeGlance:v.c})])($),X=n("./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(n,e);var t=oe(n);function n(){var e;te(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onHideForgeGlance=function(){(0,e.props.onHideForgeGlance)()},e}return function(e,t,n){t&&ne(e.prototype,t),n&&ne(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.glance,n=t.title,i=t.extension,s=e.context,a=e.panelWidth,c=e.styles,u=Object(l.isIndividualScrollingEnabled)()?C.b:r.Fragment,f=Object(l.isIndividualScrollingEnabled)()?C.c:r.Fragment;return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{onClick:Object(l.isIndividualScrollingEnabled)()?void 0:this.onHideForgeGlance,tabIndex:Object(l.isIndividualScrollingEnabled)()?void 0:0},o.a.createElement(u,{maxWidth:c.headerWidth,onClick:this.onHideForgeGlance,tabIndex:"0"},o.a.createElement(C.d,null,o.a.createElement(m.a,{size:"medium",label:"Return"})),o.a.createElement(P.c,null,n))),o.a.createElement(x,{panelWidth:Object(l.isIndividualScrollingEnabled)()?c.contentWidth:a},o.a.createElement(f,{maxWidth:c.contentWidth},o.a.createElement(K.a,{context:s,extension:i,module:"jira:issueGlance"}))))}}]),n}(r.Component);ae.displayName="ForgeGlancePanel",ae.displayName="ForgeGlancePanel";var ce=Object(w.a)([Object(d.connect)((function(e){return{context:Object(X.b)(e)}}),{onHideForgeGlance:v.c})])(ae);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(n,e);var t=pe(n);function n(){return le(this,n),t.apply(this,arguments)}return function(e,t,n){t&&fe(e.prototype,t),n&&fe(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onMount({width:Object(l.isIndividualScrollingEnabled)()?this.props.styles.panelWidth:this.props.width||0})}},{key:"getPanelWidth",value:function(){return Object(l.isIndividualScrollingEnabled)()?0:(this.props.width||0)+c.f}},{key:"renderLegacyGlance",value:function(){var e=this.props,t=e.glanceType,n=e.glance,r=e.styles;switch(t){case u.a:return o.a.createElement(V,{panelWidth:this.getPanelWidth(),styles:r,appKey:n.appKey,moduleKey:n.moduleKey,key:"issue.ecosystem.glance.panel_".concat(n.appKey,"_").concat(n.moduleKey)});case u.b:return o.a.createElement(Z,{panelWidth:this.getPanelWidth(),styles:r,key:"issue.forge.glance.panel_".concat(n.appKey,"_").concat(n.moduleKey),forgeExtension:n});default:return null}}},{key:"renderGlance",value:function(){var e=this.props,t=e.glance,n=e.styles;switch(t.glanceType){case u.a:return o.a.createElement(V,{panelWidth:this.getPanelWidth(),styles:n,appKey:t.appKey,moduleKey:t.moduleKey,key:"issue.ecosystem.glance.panel_".concat(t.appKey,"_").concat(t.moduleKey)});case u.b:return o.a.createElement(ce,{panelWidth:this.getPanelWidth(),styles:n,key:"issue.forge.glance.panel_".concat(t.appKey,"_").concat(t.moduleKey),glance:t});default:return null}}},{key:"render",value:function(){var e=this.props,t=e.openedGlance,n=e.glance,r=e.scrollContainer,i=e.styles,s=!!t&&t.appKey===n.appKey&&t.moduleKey===n.moduleKey;return o.a.createElement(f.a,{width:Object(l.isIndividualScrollingEnabled)()?i.panelWidth:this.getPanelWidth(),isOpen:s,scrollContainer:r},Object(l.isForgeInReduxStoreEnabled)()?this.renderGlance():this.renderLegacyGlance())}}]),n}(r.Component);be.defaultProps={openedGlance:null,onMount:s.a},be.displayName="GlanceAnimatedPanel";var ge=Object(a.a)((function(e){return{onMount:function(t){return e("mounted",t)}}}))(be),ve=n("./node_modules/react-intl/lib/index.es.js"),he=n("./node_modules/@atlaskit/badge--current/components/index.js"),Oe=n("./node_modules/@atlaskit/icon--current/glyph/arrow-right.js"),je=n.n(Oe),we=n("./node_modules/@atlaskit/icon--current/glyph/shortcut.js"),Ee=n.n(we),ke=n("./node_modules/@atlaskit/lozenge/Lozenge/index.js"),Se=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/jira-bridge.js"),Ie=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/animations/mount-animator.js"),Ce=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/async-icon/index.js"),Pe=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),_e="click_through",xe="open_panel",Te=n("./src/packages/issue/issue-view/src/common/service/issue/ecosystem-extensions-transformer.js"),Ae=n("./src/packages/issue/issue-view/src/ecosystem/broadcast-connect-event.js"),De=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-event.js"),Re=n("./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js"),Me=n("./src/packages/issue/issue-view/src/views/common/field-heading/field-heading-view.js"),Le=n("./node_modules/@atlaskit/theme/index.js"),Ne=_.default.div(["display:flex;flex-direction:column;"]),Fe=_.default.div(["position:relative;overflow:hidden;display:flex;border-radius:",";margin-left:-","px;margin-bottom:","px;height:","px;width:100%;",";&:hover{background:",";cursor:pointer;}&:focus{box-shadow:0 0 0 2px ",";outline:0;background:",";}"],(function(){return Object(l.isIssueGlanceViewStylingAdjustmentsEnabled)()?"3px":"5px"}),c.f,3*c.f,4*c.f,(function(){return Object(l.isIssueGlanceViewStylingAdjustmentsEnabled)()&&"transition: background-color 0.2s ease-in-out , border-color 0.2s ease-in-out;"}),(function(){return Object(l.isIssueGlanceViewStylingAdjustmentsEnabled)()?" ".concat(Le.colors.N30):"".concat(Le.colors.N20)}),Le.colors.B100,(function(){return Object(l.isIssueGlanceViewStylingAdjustmentsEnabled)()?" ".concat(Le.colors.N30):"".concat(Le.colors.N20)})),Ue=_.default.div(["overflow:hidden;margin-top:","px;margin-bottom:","px;margin-left:","px;height:24px;width:24px;align-items:center;"],.5*c.f,.5*c.f,c.f),Ve=_.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;line-height:","px;padding-left:","px;"],4*c.f,c.f),Ke=_.default.div(["font-weight:600;display:inline;"]),Be=_.default.div(["color:",";display:flex;align-items:center;",";"],Le.colors.N70,(function(){return Object(l.isIssueGlanceViewStylingAdjustmentsEnabled)()&&"margin-right: ".concat(c.f,"px;")})),We=_.default.div(["position:absolute;right:0;width:","px;height:","px;background-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,"," 25%);"],7*c.f,4*c.f,Le.colors.N20),He=_.default.div(["position:absolute;right:0;margin:","px ","px;height:26px;width:26px;background:",";color:",";border-radius:50%;align-items:center;padding:2px 0 0 2px;"],c.f/4,c.f,Le.colors.N30,Le.colors.N60),Ge=Object(_.keyframes)(["0%{right:-28px;}100%{right:0;}"]),qe=_.default.div(["position:absolute;animation:"," 0.15s ease-in-out;"],Ge),ze=n("./node_modules/lodash/omitBy.js"),Ye=n.n(ze);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){return[_e,xe].find((function(t){return t===e}))||xe},Xe=function(e){var t=Ye()(e,(function(e){return null==e}));return void 0===t.workMode?t:Je(Je({},t),{},{workMode:Ze(t.workMode)})};function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(n,e);var t=at(n);function n(){var e;ot(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isHovering:!1,update:void 0},e.onGlanceUpdate=function(t,n,r){r.addonKey===e.props.appKey&&r.moduleKey===e.props.moduleKey&&e.setState({update:Xe(r.data)})},e.getGlanceIcon=function(){return e.state.update&&e.state.update.icon?e.state.update.icon:e.props.icon},e.getGlanceWorkMode=function(){return e.state.update&&e.state.update.workMode||e.props.workMode},e.eventHandlers={onMouseEnter:function(){return e.setState({isHovering:!0})},onMouseLeave:function(){return e.setState({isHovering:!1})},onFocus:function(){return e.setState({isHovering:!0})},onBlur:function(){return e.setState({isHovering:!1})}},e.handleOpenGlancePanel=function(){var t=e.props,n=t.appKey,r=t.moduleKey,o=t.status,i=t.onGlanceShowAnalytics,s=t.onOpenGlancePanel,a=t.onClickThroughGlancePanel,c=e.getGlanceWorkMode();c===xe?(i(Object(O.d)(n,r,o)),s(n,r)):c===_e&&a(n,r)},e.container=void 0,e.renderStatus=function(){var t=e.state.update&&e.state.update.status?e.state.update.status:e.props.status;if(!t)return null;var n=t.value,r=t.type;if(n.label)switch(r){case"lozenge":return o.a.createElement(ke.a,{appearance:n.type},n.label);case"icon":return o.a.createElement(Ce.a,{url:Object(Te.a)(e.props.glance.options.origin,n.label),alt:n.type,width:24,height:24});case"badge":var i=parseInt(n.label,10);return i>=0?o.a.createElement(he.a,{appearance:"default",value:i}):null;default:return null}return null},e.renderContent=function(){if(e.state.update&&e.state.update.content)return o.a.createElement(Ve,null,e.state.update.content);var t=e.props,n=t.label,r=t.name;return n.value===r?o.a.createElement(Ve,null,o.a.createElement(ve.FormattedMessage,{id:"issue.ecosystem.context.rich-glance-label",defaultMessage:"Open {label}",values:{label:o.a.createElement(Ke,null,n.value)}})):o.a.createElement(Ve,null,n.value)},e}return function(e,t,n){t&&it(e.prototype,t),n&&it(e,n)}(n,[{key:"componentDidMount",value:function(){Se.a.addUpdateIssueGlanceListener(this.onGlanceUpdate)}},{key:"componentWillUnmount",value:function(){Se.a.removeUpdateIssueGlanceListener(this.onGlanceUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.glance,i=this.getGlanceIcon();return o.a.createElement(Ne,{innerRef:function(t){e.container=t},"data-test-id":"issue.views.issue-base.context.ecosystem-glance-panel"},o.a.createElement(Me.a,null,o.a.createElement(Me.b,null,n)),o.a.createElement(Pe.a,{onEnter:this.handleOpenGlancePanel},o.a.createElement(Fe,rt({onClick:this.handleOpenGlancePanel,tabIndex:"0"},this.eventHandlers),i&&o.a.createElement(Ue,null,o.a.createElement(Ce.a,{url:Object(Te.a)(r.options.origin,i.url),alt:i.alt,width:24,height:24})),this.renderContent(),o.a.createElement(Be,null,this.renderStatus()),this.state.isHovering&&o.a.createElement(Ie.a,{mountAnimation:qe},o.a.createElement(We,null,o.a.createElement(He,null,this.getGlanceWorkMode()===_e?o.a.createElement(Ee.a,{size:"medium",label:""}):o.a.createElement(je.a,{size:"medium",label:""})))))))}}]),n}(r.Component);lt.displayName="ConnectGlance",lt.defaultProps={icon:null,openedGlance:null,status:null,workMode:xe,onGlanceShowAnalytics:s.a},lt.displayName="ConnectGlance";var ft=function(e,t){Object(Ae.a)(De.a,{addon_key:e,key:t})},dt=Object(w.a)([Object(a.a)((function(e){return{onGlanceShowAnalytics:function(t){return e("show",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}}})),Object(d.connect)((function(e,t){return{openedGlance:Object(Re.a)(e),glance:Object(k.l)(t.appKey,t.moduleKey)(e),onClickThroughGlancePanel:Object(l.isReducedIssueRerendersEnabled)()?ft:function(e,t){Object(Ae.a)(De.a,{addon_key:e,key:t})}}}),(function(e){return{onOpenGlancePanel:function(t,n){e(Object(v.d)(t,n)),Object(Ae.a)(De.b,{addon_key:t,key:n})}}}))])(lt),pt=n("./node_modules/redux/es/index.js"),mt=n("./src/packages/issue/issue-view/src/views/connect-field.js"),yt=n("./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-inline-edit-view.js"),bt=_.default.div(["width:100%;&:focus{outline:none;}"]);function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var wt=function(e){var t=e.extension,n=e.context,r=e.fieldId,i=e.value,s=(e.intl,jt(e,["extension","context","fieldId","value","intl"]));if(!t)return g.h.safeError("jiraForgeUi.consumer.issue-view.custom-field.view","forge extension passed to ForgeCustomField component is null or undefined",ht({fieldId:r},n)),null;var a=t.properties.data.type,c=ht({value:i},s),u="string"===a?"text":a;return o.a.createElement(yt.a,gt({},c,{type:u,customReadView:function(){return o.a.createElement(bt,null,o.a.createElement(K.a,{extension:t,context:ht(ht({},n),{},{fieldValue:i}),module:"jira:customField"}))}}))};wt.displayName="ForgeCustomField";var Et=Object(pt.compose)(Object(mt.a)((function(e,t){return{fieldId:t.fieldId}})),Object(d.connect)((function(e,t){var n=t.fieldId;return{extension:Object(X.c)(n)(e),context:Object(X.b)(e)}}),{}))(wt),kt=n("./src/packages/forge/forge-ui/src/ui/extension-title/index.js");function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(n,e);var t=xt(n);function n(){var e;Ct(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isHovering:!1},e.eventHandlers={onMouseEnter:function(){return e.setState({isHovering:!0})},onMouseLeave:function(){return e.setState({isHovering:!1})},onFocus:function(){return e.setState({isHovering:!0})},onBlur:function(){return e.setState({isHovering:!1})}},e.onOpenGlancePanel=function(){var t=e.props,n=t.appKey,r=t.moduleKey;(0,t.onOpenGlancePanel)(n,r)},e}return function(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(n,[{key:"renderStatus",value:function(){if(!this.props.status)return null;var e=this.props.status,t=e.value,n=e.type;if(t.label)switch(n){case"lozenge":return o.a.createElement(ke.a,{appearance:t.type},t.label);case"badge":var r=parseInt(t.label,10);return r>=0?o.a.createElement(he.a,{appearance:"default",value:r}):null;default:return null}return null}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.label,r=e.extensionEnvType;return(o.a.createElement(Ne,null,o.a.createElement(Me.a,null,o.a.createElement(Me.b,null,o.a.createElement(kt.a,{extensionName:t,extensionEnvType:r}))),o.a.createElement(Pe.a,{onEnter:this.onOpenGlancePanel},o.a.createElement(Fe,It({onClick:this.onOpenGlancePanel,tabIndex:"0"},this.eventHandlers),o.a.createElement(Ve,null,n),o.a.createElement(Be,null,this.renderStatus()),this.state.isHovering&&o.a.createElement(Ie.a,{mountAnimation:qe},o.a.createElement(We,null,o.a.createElement(He,null,o.a.createElement(je.a,{size:"medium",label:""}))))))))}}]),n}(r.Component);Dt.displayName="ForgeGlance",Dt.displayName="ForgeGlance";var Rt=Object(w.a)([Object(d.connect)(null,(function(e){return{onOpenGlancePanel:function(t,n){e(Object(v.d)(t,n))}}}))])(Dt);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kt(this,n)}}function Kt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(n,e);var t=Vt(n);function n(){var e;Nt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isHovering:!1},e.eventHandlers={onMouseEnter:function(){return e.setState({isHovering:!0})},onMouseLeave:function(){return e.setState({isHovering:!1})},onFocus:function(){return e.setState({isHovering:!0})},onBlur:function(){return e.setState({isHovering:!1})}},e.onOpenGlancePanel=function(){var t=e.props,n=t.appKey,r=t.moduleKey;(0,t.onOpenGlancePanel)(n,r)},e}return function(e,t,n){t&&Ft(e.prototype,t),n&&Ft(e,n)}(n,[{key:"renderStatus",value:function(){var e=this.props.status,t=void 0===e?{}:e;switch(t.type){case"lozenge":return o.a.createElement(ke.a,{appearance:t.value.type},t.value.label);case"badge":var n=parseInt(t.value,10);return n>=0?o.a.createElement(he.a,{appearance:"default",value:n}):null;default:return null}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.label,r=e.extension.environmentType;return(o.a.createElement(Ne,null,o.a.createElement(Me.a,null,o.a.createElement(Me.b,null,o.a.createElement(kt.a,{extensionName:t,extensionEnvType:r}))),o.a.createElement(Pe.a,{onEnter:this.onOpenGlancePanel},o.a.createElement(Fe,Lt({onClick:this.onOpenGlancePanel,tabIndex:"0"},this.eventHandlers),o.a.createElement(Ve,null,n),o.a.createElement(Be,null,this.renderStatus()),this.state.isHovering&&o.a.createElement(Ie.a,{mountAnimation:qe},o.a.createElement(We,null,o.a.createElement(He,null,o.a.createElement(je.a,{size:"medium",label:""}))))))))}}]),n}(r.Component);Wt.displayName="ForgeGlance",Wt.displayName="ForgeGlance";var Ht=Object(w.a)([Object(d.connect)(null,(function(e){return{onOpenGlancePanel:function(t,n){e(Object(v.d)(t,n))}}}))])(Wt)},"./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/issue/issue-view/src/common/constants/index.js"),c=n("./src/packages/issue/issue-view/src/common/util/dom-util/index.js"),u=n("./src/packages/issue/issue-view/src/feature-flags.js");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=n("./node_modules/styled-components/dist/styled-components.browser.es.js").default.div(["position:absolute;right:0;top:0;width:","px;",";transition:",";overflow:hidden;opacity:",";visibility:",";"],(function(e){return e.show?e.width:0}),(function(e){return null!=e.height?"height: ".concat(e.height,"px"):""}),(function(e){return e.show?"width 0.5s cubic-bezier(0.15, 1, 0.3, 1)":"width 0.5s cubic-bezier(0.15, 1, 0.3, 1), opacity 0, 0.5s, visibility 0, 0.5s"}),(function(e){return e.show?1:0}),(function(e){return e.show?"visible":"hidden"})),d=Object(r.forwardRef)((function(e,t){return o.a.createElement(f,l({innerRef:t},e),e.children)})),p=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/styled.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=2*a.F,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,e);var t=g(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).getGlanceOffsetTop=function(e){if(e){var t=e.getBoundingClientRect().top,n=O,r=document.getElementById(a.A)||document.getElementById(a.z);return r&&e.contains(r)&&(n=r.getBoundingClientRect().bottom+O-t),n=Math.max(n,O)}},o.getGlanceOffsetTopOld=function(e){var t=o.panelPositionerRef.current;if(e&&t){var n=e.getBoundingClientRect().top,r=t.getBoundingClientRect().top-n,i=a.F,s=i,c=document.getElementById(a.z);return c&&e.contains(c)&&(s=c.getBoundingClientRect().bottom+i-n),s=Math.max(s,i),Math.max(r,s)}},o.setSidePanelPosition=function(e){if(e){var t=e.panelTop,n=e.panelHeight;o.currentPosition.panelTop!==t&&o.fixedPanelRef.current&&(o.currentPosition.panelTop=t,o.fixedPanelRef.current.style.top=null!=t?"".concat(t,"px"):""),o.currentPosition.panelHeight!==n&&o.panelPositionerRef.current&&(o.currentPosition.panelHeight=n,o.panelPositionerRef.current.style.height=null!=n?"".concat(n,"px"):"")}},o.calculateSidePanelPosition=function(){var e=o.getScrollContainer(),t=Object(c.a)(e);if(null!=e&&null!=t){var n=Math.min(window.innerHeight,t),r=(Object(u.isIndividualScrollingEnabled)()?o.getGlanceOffsetTop(e):o.getGlanceOffsetTopOld(e))||0,l=r+e.getBoundingClientRect().top,f=Math.max(n-l,n-r);return f<=0&&s.h.safeError("issue.views.issue-base.context.side-panel","panel height is <= 0: panelHeight='".concat(f),new i.a({eventNameSuffix:a.E,type:i.i,app:i.e})),{panelTop:l,panelHeight:f<0?void 0:f}}},o.updateSidePanelPosition=function(){if(o.props.isOpen){var e=o.calculateSidePanelPosition();o.setSidePanelPosition(e)}},o.currentPosition={panelTop:void 0,panelHeight:void 0},o.fixedPanelRef=void 0,o.panelPositionerRef=void 0,o.scrollContainerCached=null,o.panelPositionerRef=Object(r.createRef)(),o.fixedPanelRef=Object(r.createRef)(),o}return function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(n,[{key:"componentDidMount",value:function(){this.updateSidePanelPosition(),this.attachSidePanelListeners()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.updateSidePanelPosition(),Object(u.isIndividualScrollingEnabled)()&&this.props.scrollContainer!==e.scrollContainer&&(this.detachSidePanelListeners(),this.updateSidePanelPosition(),this.attachSidePanelListeners())}},{key:"componentWillUnmount",value:function(){this.detachSidePanelListeners()}},{key:"getScrollContainer",value:function(){return Object(u.isIndividualScrollingEnabled)()&&this.props.scrollContainer?this.props.scrollContainer:(this.scrollContainerCached||(this.scrollContainerCached=Object(c.b)(this.panelPositionerRef.current,!1)),this.scrollContainerCached)}},{key:"attachSidePanelListeners",value:function(){var e=this.getScrollContainer();e&&(e===document.body?document.addEventListener("scroll",this.updateSidePanelPosition):e.addEventListener("scroll",this.updateSidePanelPosition),window.addEventListener("resize",this.updateSidePanelPosition,{passive:!0}))}},{key:"detachSidePanelListeners",value:function(){var e=this.getScrollContainer();e&&(e.removeEventListener("scroll",this.updateSidePanelPosition),window.removeEventListener("resize",this.updateSidePanelPosition))}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.children,i=e.width,s=Object(u.isIndividualScrollingEnabled)()?p.b:r.Fragment;return o.a.createElement(d,{ref:this.panelPositionerRef,width:i,show:t},o.a.createElement(p.a,{innerRef:this.fixedPanelRef},o.a.createElement(s,null,n)))}}]),n}(r.Component);j.displayName="SidePanel",j.displayName="SidePanel"},"./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/styled.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/styled.js").b,a=r.default.div(["width:inherit;height:inherit;opacity:1;background-color:",";display:flex;flex-direction:column;position:fixed;overflow:hidden;",";"],o.colors.N0,(function(e){var t=e.top;return null!=t&&"top: ".concat(t,"px;")})),c=r.default.div(["display:flex;flex-direction:column;height:100%;padding-left:","px;"],s),u=r.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;height:30px;margin:","px ","px 0;"],i.f,i.f)},"./src/packages/issue/issue-view/src/views/issue-base/context/status-and-approvals-wrapper/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return Ie}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/platform/services/refs-store/src/index.js"),s=n("./src/packages/issue/issue-view/src/views/constants.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),f=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),d=n("./src/packages/issue/issue-view/src/configurations.js"),p=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-actions.js"),m=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-save-actions.js"),y=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/flagged-selector.js"),b=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),g=n("./src/packages/issue/issue-view/src/selectors/status-selector.js"),v=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),h=n("./node_modules/react-intl/lib/index.es.js"),O=n("./node_modules/@atlaskit/icon--current/glyph/flag-filled.js"),j=n.n(O),w=n("./node_modules/@atlaskit/theme/index.js"),E=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),k=n("./node_modules/lodash/noop.js"),S=n.n(k),I=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),C=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),P=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),_=25*P.f,x=C.default.div(["margin-top:","px;display:inline-flex;vertical-align:baseline;margin-left:-","px;height:","px;"],P.f/2,P.f/4,3*P.f),T=C.default.span(["color:",";display:inline-block;overflow:hidden;line-height:","px;text-overflow:ellipsis;white-space:nowrap;max-width:","px;"],w.colors.N90,3*P.f,_);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(n,e);var t=L(n);function n(){var e;D(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={hasOverflow:!1},e.altStatusLabel=null,e.renderAltStatus=function(){return o.a.createElement(T,{innerRef:function(t){e.altStatusLabel=t}},e.props.name)},e.renderAltStatusWithTooltip=function(){return o.a.createElement(I.a,{content:e.props.name,position:"bottom"},e.renderAltStatus())},e}return function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(n,[{key:"componentDidMount",value:function(){this.updateOverflow()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({hasOverflow:!1})}},{key:"componentDidUpdate",value:function(){this.updateOverflow()}},{key:"updateOverflow",value:function(){if(!this.altStatusLabel)return!1;var e=this.altStatusLabel.clientWidth>=_;return e!==this.state.hasOverflow&&this.setState({hasOverflow:e}),e}},{key:"render",value:function(){return o.a.createElement(x,{onClick:this.props.onClick,"data-test-id":"issue.views.issue-base.foundation.status.alt-view"},this.props.icon,this.state.hasOverflow?this.renderAltStatusWithTooltip():this.renderAltStatus())}}]),n}(r.Component);U.defaultProps={onClick:S.a},U.displayName="AltStatusField";var V=Object(h.defineMessages)({flagged:{id:"issue.status-field.flagged",defaultMessage:"Flagged"}});function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(n,e);var t=G(n);function n(){return B(this,n),t.apply(this,arguments)}return function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage(V.flagged);return(o.a.createElement(U,{onClick:this.props.onClick,name:e,icon:o.a.createElement(j.a,{size:"medium",primaryColor:w.colors.R300,label:e})}))}}]),n}(r.Component);Y.displayName="FlaggedField";var Q=Object(E.a)((function(e){return{onClick:function(){e("click")}}}))(Object(h.injectIntl)(Y)),J=n("./node_modules/@atlaskit/icon--current/glyph/check.js"),$=n.n(J),Z=function(e){return o.a.createElement(U,{name:e.name,icon:o.a.createElement($.a,{size:"medium",label:e.name,primaryColor:w.colors.G400})})},X=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js"),ee=n("./src/packages/issue/fields/status/src/index.js"),te=n("./src/packages/issue/issue-view/src/feature-flags.js"),ne=C.default.div([""]);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(e){var t=re(Object(i.b)(),2)[1].register,n=Object(r.useCallback)((function(e){t(s.h,e)}),[t]);return o.a.createElement(ne,{innerRef:n},o.a.createElement(ee.StatusField,e))};ie.displayName="StatusWithRef";var se=Object(X.a)(te.isItsmChangeOnboardingTourEnabled,ie,ee.StatusField),ae=C.default.div(["padding-top:","px;"],1.5*P.f),ce=C.default.div(["display:flex;flex-wrap:wrap;padding-bottom:","px;"],P.f),ue=C.default.div(["padding-right:","px;"],P.f);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(n,e);var t=me(n);function n(){var e;fe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onStatusSubmitted=function(t,n,r,o){Object(c.t)(o,"issueStatus updated",{oldValId:t.id,oldStatusCategoryId:t.statusCategory.id,oldStatusCategoryName:t.statusCategory.name,newValId:n.id,newStatusCategoryId:n.statusCategory.id,newStatusCategoryName:n.statusCategory.name,hasScreen:r.transition.hasScreen,isConditional:r.transition.isConditional,newStatusField:!0,issueHierarchyLevel:e.props.issueHierarchyLevel})},e}return function(e,t,n){t&&de(e.prototype,t),n&&de(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onExperienceSuccess()}},{key:"render",value:function(){var e=this.props,t=e.issueKey,n=e.initialValue,r=e.isEditable,i=e.isFlagged,s=e.projectType,a=e.resolution,c=e.onStatusChanged,u=e.onEditCancel;return(o.a.createElement(ae,null,o.a.createElement(ce,null,o.a.createElement(ue,{"data-test-id":"issue.views.issue-base.foundation.status.status-field-wrapper"},o.a.createElement(se,{issueKey:t,projectType:s,initialValue:n,isEditable:r,appearance:"button",onSubmit:this.onStatusSubmitted,onSuccess:c,onEditCancel:u,preFetchTransitions:!0})),i&&o.a.createElement(Q,{externalId:"issue.status.flagged"}),a&&!i&&o.a.createElement(Z,{name:a}))))}}]),n}(r.Component);ge.displayName="StatusView",ge.displayName="StatusView";var ve={canContainMediaContent:!1,isOptimistic:!1,isRichTextField:!1,shouldSaveDraft:!1,shouldDiscardChangeOnFailure:!1,onSaveFailureFlagType:null,onSaveSuccessFlagType:null,saveField:function(){return Promise.resolve()}},he=Object(f.a)([Object(a.connect)((function(e){return{issueKey:Object(u.B)(e),initialValue:Object(g.c)(e),isFlagged:Object(y.b)(e),isEditable:Object(l.m)(e),resolution:Object(g.a)(e),issueHierarchyLevel:Object(b.e)(e),projectType:Object(l.E)(e)}}),(function(e){return{onStatusChanged:function(t,n){e(Object(m.h)(d.z,ve,t)),e(Object(m.j)(d.z,t,{viaDialog:n}))},onEditCancel:function(){e(Object(p.j)(d.z,ve))}}})),Object(v.f)(d.z),Object(v.e)(d.z)])(ge),Oe=n("./src/packages/issue/issue-view/src/views/issue-base/context/approval-panel/index.js"),je=C.default.div([""]),we=C.default.div(["margin-bottom:","px;"],2*P.f);function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(e){var t=Ee(Object(i.b)(),2)[1].register,n=Object(r.useCallback)((function(e){t(s.g,e)}),[t]);return o.a.createElement(je,{innerRef:n},o.a.createElement(we,{key:"STATUS_AND_APPROVAL","data-test-id":"issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"},o.a.createElement(he,{key:"WRAPPED_STATUS"}),e.shouldShowApprovalPanel&&o.a.createElement(Oe.b,null)))};Se.displayName="StatusAndApprovalsWithRef";var Ie=function(e){return o.a.createElement(we,{key:"STATUS","data-test-id":"issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"},o.a.createElement(he,{key:"STATUS"}),e.shouldShowApprovalPanel&&o.a.createElement(Oe.b,null))};Ie.displayName="StatusAndApprovalsWithoutRef"},"./src/packages/issue/issue-view/src/views/issue-base/foundation/color/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),c=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),l=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),f=n("./src/packages/issue/issue-view/src/feature-flags.js"),d=n("./src/packages/issue/issue-view/src/views/connect-field.js"),p=n("./node_modules/reselect/lib/index.js"),m=n("./src/packages/issue/epic-color/src/index.js"),y=n("./src/packages/issue/issue-view/src/selectors/issue-types-selector.js"),b=Object(p.createSelector)(Object(c.q)(a.K),(function(e){return e&&e.value.id})),g=Object(p.createSelector)(Object(c.e)(a.l),Object(c.e)(a.u),(function(e,t){return e&&e.key||t&&t.key})),v=(Object(p.createSelector)(b,g,y.d,(function(e,t,n){if(!n)return!1;var r=n.find((function(t){return t.id===e}));return!(!r||!r.fields)&&t in r.fields})),function(e){return Object(m.g)(Object(m.i)(e))}),h=function(e){return Object(m.h)(Object(m.f)(e))},O=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),j=n("./node_modules/@atlaskit/color-picker/dist/esm/index.js"),w=Object(m.j)((function(e){return e.primary})),E=[{label:"purple",value:w[m.a.PURPLE]},{label:"blue",value:w[m.a.BLUE]},{label:"green",value:w[m.a.GREEN]},{label:"teal",value:w[m.a.TEAL]},{label:"yellow",value:w[m.a.YELLOW]},{label:"orange",value:w[m.a.ORANGE]},{label:"grey",value:w[m.a.GREY]},{label:"darkPurple",value:w[m.a.DARK_PURPLE]},{label:"darkBlue",value:w[m.a.DARK_BLUE]},{label:"darkGreen",value:w[m.a.DARK_GREEN]},{label:"darkTeal",value:w[m.a.DARK_TEAL]},{label:"darkYellow",value:w[m.a.DARK_YELLOW]},{label:"darkOrange",value:w[m.a.DARK_ORANGE]},{label:"darkGrey",value:w[m.a.DARK_GREY]}],k=Object(i.defineMessages)({readOnlyLabel:{id:"issue.views.issue-base.foundation.read-only-label",defaultMessage:"Read-only Color, {color} selected"},label:{id:"issue.views.issue-base.foundation.label",defaultMessage:"Edit color"},purple:{id:"issue.views.issue-base.foundation.purple",defaultMessage:"purple"},darkPurple:{id:"issue.views.issue-base.foundation.dark-purple",defaultMessage:"dark purple"},blue:{id:"issue.views.issue-base.foundation.blue",defaultMessage:"blue"},darkBlue:{id:"issue.views.issue-base.foundation.dark-blue",defaultMessage:"dark blue"},green:{id:"issue.views.issue-base.foundation.green",defaultMessage:"green"},darkGreen:{id:"issue.views.issue-base.foundation.dark-green",defaultMessage:"dark green"},teal:{id:"issue.views.issue-base.foundation.teal",defaultMessage:"teal"},darkTeal:{id:"issue.views.issue-base.foundation.dark-teal",defaultMessage:"dark teal"},yellow:{id:"issue.views.issue-base.foundation.yellow",defaultMessage:"yellow"},darkYellow:{id:"issue.views.issue-base.foundation.dark-yellow",defaultMessage:"dark yellow"},orange:{id:"issue.views.issue-base.foundation.orange",defaultMessage:"orange"},darkOrange:{id:"issue.views.issue-base.foundation.dark-orange",defaultMessage:"dark orange"},grey:{id:"issue.views.issue-base.foundation.grey",defaultMessage:"grey"},darkGrey:{id:"issue.views.issue-base.foundation.dark-grey",defaultMessage:"dark grey"}}),S=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),I=n("./node_modules/@atlaskit/theme/index.js"),C=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),P=(n("./node_modules/focus-visible/dist/focus-visible.js"),S.default.div(["margin-left:-2px;padding-top:","px;padding-right:","px;height:","px;button:focus{box-shadow:none;}"],C.f,C.f,4*C.f)),_=S.default.div(["position:absolute;top:1px;left:1px;width:","px;height:","px;border-radius:3px;background:",";"],3*C.f,3*C.f,(function(e){return e.selectedColor})),x=S.default.button(["display:inline-block;position:relative;width:","px;height:","px;border:2px solid transparent;box-sizing:border-box;border-radius:6px;border-color:transparent;background-color:transparent;padding:0;outline:none;transition:box-shadow 0.2s cubic-bezier(0.47,0.03,0.49,1.38);&:focus.focus-visible{border-color:",";}"],3.75*C.f,3.75*C.f,I.colors.B100);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=M(n);function n(){var e;A(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){var n=e.props,r=n.onChange,o=n.onConfirm;r(t),o()},e.generatePalette=Object(O.a)((function(e,t){return e.map((function(e){var n=e.value,r=e.label;return{value:n,label:t.formatMessage(k[r])}}))})),e}return function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.intl,r=e.isEditable;return(o.a.createElement(P,{"data-test-id":"issue.views.issue-base.foundation.color.color-picker-wrapper"},r?o.a.createElement(j.a,{label:n.formatMessage(k.label),popperProps:{positionFixed:!0,modifiers:{offset:{offset:"-10 5"}}},cols:E.length/2,selectedColor:t,palette:this.generatePalette(E,n),onChange:this.onChange}):o.a.createElement(U,{intl:n,value:t,palette:this.generatePalette(E,n)})))}}]),n}(r.Component);F.displayName="ColorPicker",F.displayName="UnsafeColorPicker";var U=function(e){var t=e.palette.filter((function(t){return t.value===e.value}))[0].label,n=e.intl.formatMessage(k.readOnlyLabel,{color:t});return o.a.createElement(x,{"aria-label":n},o.a.createElement(_,{selectedColor:e.value}))};U.displayName="ReadOnlyColorPicker";var V=function(e,t){var n=Object(c.q)(t.fieldId)(e),r=!!n&&n.schema.custom===a.u;return{fieldId:t.fieldId,transformFromStateValue:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(m.g)(Object(m.e)(e)):Object(m.g)(Object(m.i)(e))}(e,r)},transformToStateValue:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(m.d)(Object(m.f)(e)):Object(m.h)(Object(m.f)(e))}(e,r)}}},K=Object(l.a)([i.injectIntl,Object(d.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:v,transformToStateValue:h}}))])(F),B=Object(l.a)([i.injectIntl,Object(d.a)((function(e,t){return V(e,t)}))])(F);t.a=Object(l.a)([Object(s.connect)((function(e){return Object(f.isColorPickerEnabledInClassic)()?{field:Object(u.t)(e)?Object(c.e)(a.l)(e):Object(c.e)(a.u)(e)}:{field:Object(c.e)(a.l)(e)}}),{})])((function(e){if(e.field){var t=Object(f.isColorPickerEnabledInClassic)()?B:K;return(o.a.createElement(t,{fieldId:e.field.key}))}return null}))},"./src/packages/issue/issue-view/src/views/issue-base/foundation/configuration-button/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/@atlaskit/button--current/components/Button.js"),c=n("./node_modules/@atlaskit/icon--current/glyph/settings.js"),u=n.n(c),l=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),f=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),d=n("./node_modules/reselect/lib/index.js"),p=n("./src/packages/platform/utils/constants/src/project-types.js"),m=n("./src/packages/issue/issue-view/src/configurations.js"),y=n("./src/packages/issue/issue-view/src/selectors/classic-project-config-selector.js"),b=n("./src/packages/issue/issue-view/src/selectors/request-type-selector.js"),g=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),v=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),h=m.M[p.n],O=Object(d.createSelector)(g.f,y.a,v.C,v.E,b.a,(function(e,t,n,r,o){return n&&t?r===p.l?o?"".concat(e,"/servicedesk/admin/").concat(n,"/request-types/request-type/").concat(o):m.M[p.l]:"".concat(e,"/plugins/servlet/project-config/").concat(n,"/issuelayout?screenId=").concat(t):r?m.M[r]:h})),j=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),w=n("./src/packages/issue/issue-view/src/selectors/issue-actions-selector.js"),E=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/messages.js"),k=Object(i.defineMessages)({configureTooltipAdmin:{id:"issue.details.configuration-button.configure-fields.tooltip-admin",defaultMessage:"Configure fields"},configureTooltipEndUser:{id:"issue.details.configuration-button.configure-fields.tooltip-end-user",defaultMessage:"Contact your admin to change the field order & layout"},configureTooltipAdminNoRequestType:{id:"issue.details.configuration-button.configure-fields.tooltip-admin-no-request-type",defaultMessage:"You can\u2019t configure the layout of an issue while it doesn\u2019t have a request type."}}),S=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),I=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),C=S.default.div(["margin:","px ","px 0 0;display:block;min-width:0;max-width:50%;[type='button']{padding:0;font-size:12px;span{margin:0;text-overflow:unset;}span[class*='Icon__IconWrapper']{width:16px;}}"],I.f/2,1.5*I.f),P=Object(r.memo)((function(e){var t=e.classicConfigurationLinkMode,n=e.configScreenUrl,r=e.intl.formatMessage,i=function(e,t){switch(e){case w.e:return{tooltipText:t(k.configureTooltipAdmin),isDisabled:!1};case w.c:return{tooltipText:t(k.configureTooltipEndUser),isDisabled:!0};case w.a:return{tooltipText:t(k.configureTooltipAdminNoRequestType),isDisabled:!0};case w.b:return{tooltipText:"",isDisabled:!0};case w.d:default:return{isHidden:!0}}}(t,r);if(i.isHidden)return null;var s=i.tooltipText,c=i.isDisabled,d=r(E.a.configure);return o.a.createElement(C,null,o.a.createElement(l.a,{position:"mouse",mousePosition:"left",content:s},o.a.createElement(a.b,{target:"_blank",isDisabled:c,appearance:"subtle-link",iconBefore:o.a.createElement(u.a,{label:""}),href:n,rel:"noopener noreferrer",onClick:function(e,t){return Object(f.u)(t,"configureButton")}},d)))}));t.a=Object(j.a)([Object(s.connect)((function(e){return{classicConfigurationLinkMode:Object(w.h)(e),configScreenUrl:O(e)}}),{}),i.injectIntl])(P)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/lodash/noop.js"),a=n.n(s),c=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),u=n("./src/packages/issue/issue-view/src/common/model/view-mode-type.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),d=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),p=n("./src/packages/issue/issue-view/src/feature-flags.js"),m=n("./src/packages/issue/issue-view/src/selectors/clickthrough-banner-selector.js"),y=n("./src/packages/issue/issue-view/src/views/constants.js"),b=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/index.js"),g=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/modal-close-button.js"),v=n("./src/packages/platform/utils/types/src/index.js"),h=n("./src/packages/project-settings/issue-restrictions/async.js"),O=n("./src/packages/issue/issue-view/src/common/state/selectors/application-selector.js"),j=n("./node_modules/reselect/lib/index.js"),w=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),E=n("./src/packages/issue/issue-view/src/configurations.js"),k=Object(w.q)(E.n),S=Object(j.createSelector)(k,(function(e){return e&&e.value&&e.value.issuerestrictions&&e.value.issuerestrictions.projectrole||[]})),I=Object(j.createSelector)(k,(function(e){return e&&e.value&&e.value.shouldDisplay||!1})),C=h.a,P=Object(d.a)([Object(i.connect)((function(e){return{currentIssueRestriction:S(e),isIssueRestrictionDisplayForIssue:I(e),hasError:!!Object(f.h)(e),projectKey:Object(f.C)(e),issueKey:Object(l.B)(e),edition:Object(O.a)(e)}}),{})])((function(e){var t=e.currentIssueRestriction,n=e.isIssueRestrictionDisplayForIssue,r=e.hasError,i=e.issueKey,s=e.projectKey,a=e.edition;return!r&&n?o.a.createElement(h.c,{entityKey:Object(v.toIssueKey)(i),currentRestrictions:t,restrictionType:C,projectKeyOrId:Object(v.toProjectKey)(s),edition:a}):null})),_=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js"),x=n("./node_modules/react-async-component/commonjs/index.js"),T=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),A=n("./node_modules/@atlaskit/button--current/components/Button.js"),D=n("./node_modules/@atlaskit/icon--current/glyph/lock-filled.js"),R=n.n(D),M=n("./node_modules/@atlaskit/icon--current/glyph/unlock.js"),L=n.n(M),N=n("./node_modules/@atlaskit/theme/index.js"),F=n("./src/packages/issue/fields/security-level/src/common/ui/styled.js"),U=Object(T.default)(F.a)(["color:",";"],N.colors.N30),V=function(e){var t=e.initialValue?R.a:L.a;return o.a.createElement(A.b,{appearance:"subtle",spacing:"default",isDisabled:!0,iconBefore:o.a.createElement(U,null,o.a.createElement(t,null))})};V.displayName="Loading";var K=Object(x.asyncComponent)({resolve:function(){return n.e("async-security-level-field").then(n.bind(null,"./src/packages/issue/fields/security-level/src/ui/main.js")).then((function(e){return e.SecurityLevelEditView}))},LoadingComponent:V}),B=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-save-actions.js"),W=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/security-level-selector.js");function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=Object(d.a)([Object(i.connect)((function(e){return{securityLevelItems:Object(W.a)(e),isSecurityLevelEnabledForIssue:Object(W.d)(e),isSecurityLevelEditable:Object(W.c)(e),error:Object(f.h)(e),issueKey:Object(l.B)(e)}}),(function(e){return{onSuccess:function(t){return e(Object(B.j)(E.w,t))}}}))])((function(e){var t=e.securityLevelItems,n=e.isSecurityLevelEnabledForIssue,r=e.isSecurityLevelEditable,i=e.error,s=e.issueKey,a=e.onSuccess,c=H(Object(_.c)({issueKey:s,fieldKey:E.w}),1)[0];return!i&&n?o.a.createElement(K,{issueKey:s,initialValue:c||null,allowedValues:t,isEditable:r,onSuccess:a}):null})),z=n("./src/packages/growth/share-button/src/index.js"),Y=n("./src/packages/growth/share-button/src/constants.js"),Q=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),J=function(e){var t=e.summary,n=e.issueAri,r=e.issueUrl,i=e.resourceOwner,s=e.subProductId;return(o.a.createElement(z.b,{integrationType:Y.a.BENTO_ISSUE,triggerButtonStyle:"icon-only",productId:i,subProductId:s,shareLink:r,shareTitle:t,shareContentType:"issue",objectAri:n}))};J.displayName="ShareView";var $=Object(d.a)([Object(i.connect)((function(e){return{issueAri:Object(f.u)(e),resourceOwner:Object(f.F)(),summary:Object(w.o)(E.C)(e)||"",subProductId:Object(f.G)(e),issueUrl:Object(Q.a)(e)}}),{})])(J),Z=z.a,X=T.default.div(["flex-shrink:0;"]),ee=Object(d.a)([Object(i.connect)((function(e){return{isLoading:Object(f.r)(e),error:Object(f.h)(e),loggedInAccountId:Object(l.a)(e)}}),{})])((function(e){var t=e.error,n=void 0===t?null:t,r=e.isLoading,i=e.loggedInAccountId;return!n&&i?o.a.createElement(X,null,r?o.a.createElement(Z,{triggerButtonStyle:"icon-only"}):o.a.createElement($,null)):null})),te=Object(w.q)(E.F),ne=Object(j.createSelector)(te,(function(e){return!!e})),re=n("./node_modules/@atlaskit/icon--current/glyph/watch.js"),oe=n.n(re),ie=n("./src/packages/issue/issue-view/src/common/component/loading-component-wrapper/index.js"),se=T.default.div(["display:flex;margin:4px 25px 4px 8px;"]),ae=function(){return Object(ie.a)(o.a.createElement("div",null,o.a.createElement(se,null,o.a.createElement(oe.a,{size:"medium",primaryColor:N.colors.N30}))))},ce=Object(x.asyncComponent)({resolve:function(){return n.e("async-issue-watchers").then(n.bind(null,"./src/packages/issue/issue-view/src/views/watchers/view.js"))},LoadingComponent:ae}),ue=Object(d.a)([Object(i.connect)((function(e){return{isWatchesPresent:ne(e),isLoading:Object(f.r)(e),error:Object(f.h)(e),loggedInAccountId:Object(l.a)(e)}}),{})])((function(e){var t=e.isWatchesPresent,n=e.isLoading,r=e.error,i=e.loggedInAccountId;return!r&&!!i?!t||n?o.a.createElement(ae,null):o.a.createElement(ce,null):null})),le=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/styled.js"),fe=function(e){var t,n=e.isProjectSimplified,r=e.error,i=void 0===r?null:r,s=e.onClose,l=void 0===s?a.a:s,f=e.renderFeedback,d=void 0===f?function(){return null}:f,m=e.shouldShowCloseButton,v=void 0!==m&&m,h=e.isClickthroughBannerHidden,O=void 0!==h&&h,j=e.issueDeleteCallbacks,w=void 0===j?{}:j,E=e.viewModeOptions,k=void 0===E?{viewModeSwitchEnabled:!1}:E,S=e.applicationKey,I=k&&k.viewMode===u.b,C=n&&I&&!i;if(d){var _=O?d(S,!0):void 0;null!=_&&(t=o.a.createElement(c.a,{name:y.d},o.a.createElement(le.a,null,_)))}return(o.a.createElement(le.b,null,o.a.createElement(le.c,{maxResponsiveWidth:C?210:0},v?o.a.createElement(g.a,{onClose:l}):null,o.a.createElement(b.a,{externalId:"issue.opsbar",issueDeleteCallbacks:w,viewModeOptions:k,onClose:l}),o.a.createElement(ee,null),o.a.createElement(ue,null),Object(p.isIssueRestrictionEnabled)()&&o.a.createElement(P,null),o.a.createElement(q,null),t)))};fe.displayName="HeaderActionsView",fe.displayName="HeaderActionsView";var de=Object(d.a)([Object(i.connect)((function(e){return{error:Object(f.h)(e),applicationKey:Object(l.d)(e),isProjectSimplified:Object(f.t)(e),isClickthroughBannerHidden:Object(m.a)(e)}}),{})])(fe)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/styled.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),i=2.5*o.f,s=r.default.div(["min-height:","px;margin-right:0;margin-bottom:","px;height:100%;align-items:center;max-width:100%;display:flex;justify-content:flex-end;padding-right:1px;"],4*o.f,o.f/4),a=r.default.div(["display:flex;flex-flow:row-reverse;"," [dir='rtl'] &{padding-right:","px;padding-left:","px;}"],(function(e){return e.maxResponsiveWidth?"flex: 1 0 auto; justify-content: space-between; max-width: ".concat(e.maxResponsiveWidth,"px;"):"flex-shrink: 0; > * { margin-left: ".concat(o.f,"px; &:last-child { margin-left: 0; } }")}),2*o.f,i),c=Object(r.default)(a)(["user-select:none;"]),u=r.default.div(["flex-shrink:0;"])},"./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-breadcrumbs/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Qt}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),a=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),c=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),u=n("./src/packages/issue/issue-view/src/views/common/with-compact-mode/index.js"),l=n("./node_modules/react-intl/lib/index.es.js"),f=n("./node_modules/lodash/flow.js"),d=n.n(f),p=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),m=n("./node_modules/@atlaskit/button--current/components/Button.js"),y=n("./node_modules/@atlaskit/icon--current/glyph/arrow-left-circle.js"),b=n.n(y),g=n("./node_modules/@atlaskit/router/dist/esm/ui/link/index.js"),v=n("./node_modules/@atlaskit/theme/index.js"),h=n("./src/packages/issue/issue-view/src/feature-flags.js"),O=Object(l.defineMessages)({back:{id:"issue.views.issue-base.foundation.back-button.back",defaultMessage:"Back"}}),j=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),w=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),E=j.default.div(["margin-right:","px;margin-left:-","px;"],1.5*w.f,1.5*w.f),k=d()(l.injectIntl,Object(p.r)({onClick:"backFromIssueView"}),Object(p.f)("button",{onClick:"clicked"}))((function(e){var t=e.url,n=e.intl.formatMessage;return(o.a.createElement(E,null,o.a.createElement(m.b,{href:t,appearance:"subtle",onClick:e.onClick,component:Object(h.isJsdAgentViewEnabled)()&&__SPA__?g.a:void 0,iconBefore:o.a.createElement(b.a,{size:"small",primaryColor:v.colors.N300})},n(O.back))))})),S=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),I=n("./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js"),C=n("./src/packages/issue/issue-view/src/actions/issue-preview-actions.js"),P=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),_=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),x=n("./src/packages/issue/issue-view/src/configurations.js"),T=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),A=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),D=n("./src/packages/issue/issue-view/src/selectors/project-selector.js"),R=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),M=n("./node_modules/lodash/noop.js"),L=n.n(M),N=n("./node_modules/@atlaskit/breadcrumbs/components/Breadcrumbs.js"),F=n("./node_modules/@atlaskit/breadcrumbs/components/BreadcrumbsItem.js"),U=n("./src/packages/platform/utils/types/src/index.js"),V=n("./src/packages/issue/issue-view/src/actions/assign-issue-parent-modal-actions.js"),K=n("./src/packages/issue/issue-view/src/selectors/assign-issue-parent-modal-selector.js"),B=n("./src/packages/issue/issue-view/src/selectors/issue-types-selector.js"),W=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),H=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),G=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenuStateless.js"),q=n("./node_modules/@atlaskit/icon--current/glyph/edit-filled.js"),z=n.n(q),Y=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),Q=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),J=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/async-icon/index.js"),$=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),Z=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),X=Object(l.defineMessages)({triggerTooltipAddEpic:{id:"issue.details.issue-parent-switcher-trigger-tooltip-add-epic",defaultMessage:"{issueTypeName} - Add {target}"},triggerTooltipChangeEpic:{id:"issue.details.issue-parent-switcher-trigger-tooltip-change-epic",defaultMessage:"{issueTypeName} - Change {target}"},triggerTooltipAddParent:{id:"issue.details.issue-parent-switcher-trigger-tooltip-add-parent",defaultMessage:"{issueTypeName}Add parent"},triggerTooltipChangeParent:{id:"issue.details.issue-parent-switcher-trigger-tooltip-change-parent",defaultMessage:"{issueTypeName}Change parent"},dropdownEmpty:{id:"issue.details.issue-parent-switcher-dropdown-empty",defaultMessage:"No {target} has been created in this project. Create your first "},dropdownTitleEpic:{id:"issue.details.issue-parent-switcher-dropdown-title-epic",defaultMessage:"Recent {target}"},removeEpic:{id:"issue.details.issue-parent-switcher-remove-epic",defaultMessage:"Remove {target}"},viewEpics:{id:"issue.details.issue-parent-switcher-view-epics",defaultMessage:"View all {target}"},dropdownTitle:{id:"issue.details.issue-parent-switcher-dropdown-title",defaultMessage:"Recent parents"},removeParent:{id:"issue.details.issue-parent-switcher-remove-parent",defaultMessage:"Remove parent"},viewParents:{id:"issue.details.issue-parent-switcher-view-parents",defaultMessage:"View all parents"}}),ee=j.default.div(["border-bottom:1px solid ",";"],v.colors.N30),te=j.default.div(["display:flex;justify-content:center;align-items:center;min-width:","px;min-height:","px;overflow:hidden;"],21*w.f,23.375*w.f),ne=j.default.div(["width:","px;padding:","px;& button,& span{padding:0;margin:0;vertical-align:initial;}"],25*w.f,1.5*w.f),re=function(e,t){window.WRM&&window.WRM.require(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],(function(){window.JIRA.Forms.createCreateIssueForm({pid:e,issueType:t}).asDialog({id:"software-create-issue-dialog"}).show()}))};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=Object(Z.a)("dropdownItem",{onClick:"clicked"})(W.a),me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(n,e);var t=le(n);function n(){var e;ae(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:Boolean(e.props.isOpen),isLoading:!e.props.issueParents.length},e.onOpenChange=function(t,n){var r=t.isOpen,o=t.event,i=e.props,s=i.clickRef,a=i.onOpenChange,c=i.onToggle,u=s&&s.current&&o&&s.current.button.contains(o.target);c(n),e.toggleMenu(r),a&&!u&&a(r)},e.onItemClick=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,o){var i=e.props,s=i.projectId,a=i.issueTypes,c=i.issues,u=i.issueTypeName,l=i.onSelect,f=i.setIssueParent,d=i.onViewAllParentsClick,p=i.onClick;switch(t){case"add parent":case"change parent":f(c,n.parentId);break;case"remove parent":f(c);break;case"open modal":d();break;case"create parent":var m=String((a.find((function(e){return e.name===u}))||{}).id);s&&m||$.a.safeError("issue-parent-switcher.create.issue.failure","Failed to create the first epic via global issue create",{projectId:s,issueTypeId:m}),re(s,m)}p(o.update({userAction:t})),l&&l(),!n.keepMenuOpen&&e.toggleMenu(!1)}},e}return function(e,t,n){t&&ce(e.prototype,t),n&&ce(e,n)}(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.issueParents,r=t.isOpen;r!==e.isOpen&&r!==this.state.isOpen&&this.toggleMenu(r),n!==e.issueParents&&this.state.isLoading&&this.setState({isLoading:!1})}},{key:"getMessageContent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.props,o=r.issueTypeName,i=r.issueHierarchyLevel,s=r.intl.formatMessage,a="Epic"!==o?"":"".concat("Epic".toLowerCase()).concat(n?"s":"");return o&&0===i?s(e,{target:a}):s(t)}},{key:"getTooltipContent",value:function(){var e=this.props,t=e.isOrphan,n=e.issueTypeName,r=e.issueHierarchyLevel,o=e.intl.formatMessage;if(n&&0===r){var i="Epic"!==n?n:"Epic".toLowerCase();return o(t?X.triggerTooltipAddEpic:X.triggerTooltipChangeEpic,{issueTypeName:n,target:i})}return o(t?X.triggerTooltipAddParent:X.triggerTooltipChangeParent,{issueTypeName:n?"".concat(n," - "):""})}},{key:"toggleMenu",value:function(e){var t=this.props,n=t.issueParents,r=t.fetchIssueParents;this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isOpen:e},e&&!n.length?{isLoading:!0}:{}),(function(){e&&!n.length&&r()}))}},{key:"renderTriggerButton",value:function(){var e=this.props,t=e.isDisabled,n=e.isOrphan,r=e.issueTypeName,i=e.issueTypeIconUrl,s=this.getTooltipContent(),a=o.a.createElement(m.b,{isDisabled:t,spacing:"compact",appearance:"subtle",iconBefore:!n&&i?o.a.createElement(J.a,{alt:r||"",url:i}):o.a.createElement(z.a,{size:"small",label:s})});return n?a:o.a.createElement(Q.a,{position:"top",content:s,delay:0},a)}},{key:"renderIssueParentItem",value:function(e){var t=e.id,n=e.key,r=e.summary,i=e.issueType,s=i.name,a=i.iconUrl,c=o.a.createElement(J.a,{alt:s||"",url:a});return o.a.createElement(pe,{key:n,elemBefore:c,onClick:this.onItemClick("".concat(this.props.isOrphan?"add":"change"," parent"),{parentId:t})},n," ",r)}},{key:"renderDropdownItemGroup",value:function(e){var t=this;return this.state.isLoading?o.a.createElement(te,null,o.a.createElement(Y.a,{size:"large"})):o.a.createElement(H.a,{title:this.getMessageContent(X.dropdownTitleEpic,X.dropdownTitle)},e.map((function(e){return t.renderIssueParentItem(e)})))}},{key:"renderDropdownMenu",value:function(){var e=this.props,t=e.isOrphan,n=e.issueTypeName,r=e.issueHierarchyLevel,i=e.issueParents,s=e.issueKey,a=e.intl.formatMessage,c=n&&"Epic"!==n?n:"Epic".toLowerCase(),u=(i||[]).filter((function(e){return e.key!==s})).slice(0,5);return 0!==r||this.state.isLoading||i.length?o.a.createElement(o.a.Fragment,null,(this.state.isLoading||u.length>0)&&o.a.createElement(ee,null,this.renderDropdownItemGroup(u)),o.a.createElement(H.a,null,!t&&0===r&&o.a.createElement(pe,{onClick:this.onItemClick("remove parent")},this.getMessageContent(X.removeEpic,X.removeParent,!1)),o.a.createElement(pe,{onClick:this.onItemClick("open modal")},this.getMessageContent(X.viewEpics,X.viewParents)))):o.a.createElement(ne,null,a(X.dropdownEmpty,{target:c}),o.a.createElement(m.b,{appearance:"link",spacing:"compact",onClick:this.onItemClick("create parent",{keepMenuOpen:!0})},c),".")}},{key:"render",value:function(){return o.a.createElement(G.a,{isOpen:this.state.isOpen,trigger:this.renderTriggerButton(),onOpenChange:this.onOpenChange},this.renderDropdownMenu())}}]),n}(r.Component);me.displayName="IssueParentSwitcher",me.defaultProps={isDisabled:!1,isOrphan:!1,issueTypes:[],issues:[],issueParents:[],isOpen:!1,issueKey:"",issueTypeName:"",issueTypeIconUrl:"",issueHierarchyLevel:0,clickRef:null,projectId:null,fetchIssueParents:L.a,setIssueParent:L.a,onOpenChange:L.a,onSelect:L.a,onViewAllParentsClick:L.a},me.displayName="IssueParentSwitcher";var ye=Object(l.injectIntl)(me),be=Object(c.a)([Object(p.r)({onToggle:"toggled",onClick:"clicked"}),Object(i.connect)((function(e){return{projectId:Object(a.B)(e),issueTypes:Object(B.d)(e),issues:Object(K.a)(e),issueParents:Object(a.A)(e)}}),(function(e){return{fetchIssueParents:function(){e(Object(V.k)())},setIssueParent:function(t,n){e(n?Object(V.o)(t,n):Object(V.r)(t))},onViewAllParentsClick:function(){e(Object(V.q)())}}}))])(ye),ge=function(e){return null===e?"":e.length>27?"".concat(e.slice(0,27),"..."):e},ve=Object(l.defineMessages)({addParent:{id:"issue.details.add-parent",defaultMessage:"Add {target}"},copy:{id:"issue.details.copy-to-clipboard",defaultMessage:"Copy the link to this issue"},rootProjectsLink:{id:"issue.details.root-projects-link",defaultMessage:"Projects"}}),he=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),Oe=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js");function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ie=function(e){return e?"\n    & ".concat("> div:last-child"," {\n        max-width: 200px;\n    }"):""},Ce=Object(he.a)("div",{target:"e18k4ulk0"})({name:"sgt9w1",styles:"display:flex;flex-grow:0;overflow:visible;"}),Pe=Object(he.a)("span",{target:"e18k4ulk1"})("padding-right:",w.f,"px;display:flex;"),_e=Object(he.a)("span",{target:"e18k4ulk2"})("border-radius:",w.a,"px;overflow:hidden;"),xe=Object(he.a)(m.b,{target:"e18k4ulk3"})("opacity:0;transition:opacity 0.2s ease,transform 0.2s ease;transform:translate(-8px,0);",Ce,":hover &{opacity:1;transform:translate(0,0);}&:focus{opacity:1;transform:translate(0,0);}"),Te=Object(he.a)("div",{target:"e18k4ulk4"})("display:flex;margin-left:-",w.f/2,"px;",(function(e){return Ie(e.shouldTruncate)})),Ae=Object(he.a)("div",{target:"e18k4ulk5"})({name:"1id8hns",styles:"max-width:300px;"}),De=j.default.div(["display:flex;flex-grow:0;overflow:visible;&:hover .breadcrumbs_copy_link_button{opacity:1;transform:translate(0,0);}"]),Re=j.default.span(["padding-right:","px;display:flex;"],w.f),Me=j.default.span(["border-radius:","px;overflow:hidden;"],w.a),Le=function(e,t){var n=e(t),r=n.buttonStyles;return Ee(Ee({},Se(n,["buttonStyles"])),{},{buttonStyles:Ee(Ee({},r),{},{opacity:0,transition:"opacity 0.2s ease, transform 0.2s ease",transform:"translate(-8px, 0)","&:focus":{opacity:1,transform:"translate(0,0)"}})})},Ne=function(e){return o.a.createElement(m.b,je({className:"breadcrumbs_copy_link_button"},e,{theme:Le}))};Ne.displayName="CopyLinkButtonStyled";var Fe=j.default.div(["display:flex;margin-left:-","px;",""],w.f/2,(function(e){return Ie(e.shouldTruncate)})),Ue=j.default.div(["max-width:300px;"]),Ve=Object(Oe.a)(h.isEmotionRemoved,De,Ce),Ke=Object(Oe.a)(h.isEmotionRemoved,Re,Pe),Be=Object(Oe.a)(h.isEmotionRemoved,Me,_e),We=Object(Oe.a)(h.isEmotionRemoved,Ne,xe),He=Object(Oe.a)(h.isEmotionRemoved,Fe,Te),Ge=Object(Oe.a)(h.isEmotionRemoved,Ue,Ae);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(n,e);var t=Je(n);function n(){var e;ze(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1},e.breadcrumbsItemRef=Object(r.createRef)(),e.onOpenChange=function(t){t!==e.state.isOpen&&e.setState({isOpen:t})},e.onClick=function(t){t.preventDefault(),e.setState((function(e){return{isOpen:!e.isOpen}}))},e}return function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.issueTypeName,n=e.intl.formatMessage,r=t&&"Epic"!==t?t:"Epic".toLowerCase();return o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-add-parent"},o.a.createElement(be,{clickRef:this.breadcrumbsItemRef,isOpen:this.state.isOpen,isOrphan:!0,issueTypeName:t,onOpenChange:this.onOpenChange}),o.a.createElement(F.a,{ref:this.breadcrumbsItemRef,text:ge(n(ve.addParent,{target:r})),onClick:this.onClick,hasSeparator:!0})))}}]),n}(r.Component);Xe.defaultProps={issueTypeName:"Epic"},Xe.displayName="BreadcrumbAddParent";var et=Object(l.injectIntl)(Xe),tt=n("./node_modules/@atlaskit/icon--current/glyph/copy.js"),nt=n.n(tt),rt=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/field-copy-text/view.js"),ot=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),it=n("./src/packages/issue/issue-view/src/common/component/permalink-button/index.js"),st=n("./src/packages/issue/issue-view/src/actions/change-issue-type-actions.js"),at=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),ct=n("./node_modules/reselect/lib/index.js"),ut=Object(ct.createSelector)(a.D,T.i,(function(e,t){var n=e&&e.issueTypes||[];return t.length?n.filter((function(e){return t.includes(e.id)})):n})),lt=n("./node_modules/@atlaskit/droplist/components/Droplist.js"),ft=n("./node_modules/@atlaskit/item/components/Item.js"),dt=n("./node_modules/@atlaskit/item/components/ItemGroup.js"),pt=Object(l.defineMessages)({changeType:{id:"issue.details.change-issue-type",defaultMessage:"{issueType} - Change issue type"},changeTypeGroupName:{id:"issue.details.change-issue-type-groupname",defaultMessage:"Change Issue Type"}});function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(n,e);var t=vt(n);function n(){var e;yt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={showList:e.props.isOpen},e.onOpenChange=function(t){var n=t.isOpen;e.setState({showList:!!n})},e.itemClick=function(t){return function(){e.props.changeIssueType(e.props.issueKey,e.props.issueId,e.props.currentType,t),e.setState({showList:!1})}},e.toggleList=function(t,n){var r=e.props.projectKey,o=e.state.showList;r&&(o?e.setState({showList:!1}):(e.props.toggleListAnalytics(n),e.props.loadIssueTypes(r),e.setState({showList:!0})))},e}return function(e,t,n){t&&bt(e.prototype,t),n&&bt(e,n)}(n,[{key:"createIssueTypeEntry",value:function(e,t){var n=o.a.createElement(J.a,{url:e.iconUrl,alt:e.name});return(o.a.createElement(ft.a,{key:e.id,elemBefore:n,isDisabled:t,onClick:this.itemClick(e)},e.name))}},{key:"createTriggerButton",value:function(e,t,n){return o.a.createElement(Q.a,{position:"top",content:e.formatMessage(pt.changeType,{issueType:t&&t.name?t.name:""}),delay:0},o.a.createElement(m.b,{spacing:"compact",appearance:"subtle",onClick:this.toggleList,iconBefore:n}))}},{key:"renderIssueTypes",value:function(e){var t=this,r=this.props.currentType;if(e&&e.length>0){var o=e.filter((function(e){return e.id!==r.id})).filter((function(e){return n.filterSubTaskTypePredicate(r,e)})).map((function(e){return t.createIssueTypeEntry(e,!1)}));return o.unshift(this.createIssueTypeEntry(r,!0)),o}return null}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.intl,r=e.issueTypes,i=e.currentType,s=null==r||0===r.length;return o.a.createElement(lt.a,{trigger:this.createTriggerButton(n,i,t),appearance:"default",position:"bottom left",isTriggerNotTabbable:!0,isLoading:s,onOpenChange:this.onOpenChange,isOpen:this.state.showList},o.a.createElement(dt.a,{title:n.formatMessage(pt.changeTypeGroupName)},this.renderIssueTypes(r)))}}],[{key:"filterSubTaskTypePredicate",value:function(e,t){return!e.subtask||t.subtask}}]),n}(r.Component);jt.displayName="IssueTypeChanger",jt.defaultProps={isOpen:!1},jt.displayName="UnsafeIssueTypeChanger";var wt=Object(l.injectIntl)(Object(at.a)()(jt)),Et=d()(Object(p.r)({toggleListAnalytics:"changeIssueTypeDropdown"}),Object(p.f)("change-issue-type",{changeIssueType:"changeIssueType"}),Object(i.connect)((function(e){return{issueTypes:ut(e),currentType:Object(A.g)(e),projectKey:Object(a.C)(e),issueKey:Object(s.B)(e),issueId:Object(a.k)(e)}}),(function(e){return{loadIssueTypes:function(t){return e(Object(st.h)(t))},changeIssueType:function(t,n,r,o,i){return e(Object(st.l)(t,n,r,o,i))}}})))(wt),kt=Object(l.defineMessages)({uneditableIssueType:{id:"issue.details.uneditable-issue-type",defaultMessage:"{issueTypeName} - You cannot edit this issue type in this project."}}),St=Object(l.injectIntl)(Object(at.a)()((function(e){var t=e.intl,n=e.issueTypeIconUrl,r=e.issueTypeName;return(o.a.createElement(Q.a,{position:"top",content:t.formatMessage(kt.uneditableIssueType,{issueTypeName:r}),truncate:!0,delay:0},o.a.createElement(m.b,{spacing:"compact",appearance:"subtle",iconBefore:o.a.createElement(J.a,{url:n}),isDisabled:!0})))}))),It=function(e){var t=e.isSimplifiedProject,n=void 0!==t&&t,r=e.isIssueTypeFieldEditable,i=void 0!==r&&r,s=e.issueKey,a=void 0===s?Object(U.toIssueKey)(""):s,c=e.issueSummary,u=void 0===c?"":c,l=e.issueTypeName,f=void 0===l?"":l,d=e.issueTypeIconUrl,p=void 0===d?"":d,m=e.relativeIssueUrl,y=void 0===m?"":m,b=e.fullIssueUrl,g=void 0===b?"":b,v=e.onClick,h=void 0===v?L.a:v,O=e.onCopyClick,j=void 0===O?L.a:O,w=(0,e.intl.formatMessage)(ve.copy),E=o.a.createElement(F.a,{key:"issueKeyBreadcrumbItem",href:y,onClick:h,text:a,target:"_blank"}),k=i?o.a.createElement(Et,{key:"issueTypeChanger",icon:o.a.createElement(J.a,{url:p,alt:f})}):o.a.createElement(St,{issueTypeName:f,issueTypeIconUrl:p}),S=n?o.a.createElement(Q.a,{content:"".concat(a,": ").concat(u),position:"top",delay:0},E):E;return o.a.createElement(it.a,null,(function(e){return o.a.createElement(He,{onMouseLeave:e.hide,onMouseEnter:e.show,onFocus:e.show,onBlur:e.hide,"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-current-issue-container"},k,S,function(e){return Object(ot.a)()&&e?o.a.createElement(it.b,{id:"BreadcrumbCurrentIssue",label:w,fullIssueUrl:g,onCopyClick:j,isVisible:e.isVisible}):o.a.createElement(rt.a,{label:w,tooltipDelay:0,tooltipLabel:w,tooltipLabelPosition:"top",shouldFitContainer:!0,value:g,hideFieldText:!0,remountOnChange:!0,onCopyClick:j},o.a.createElement(We,{appearance:"subtle-link",iconBefore:o.a.createElement(nt.a,{size:"small",label:w}),spacing:"compact"}))}(e))}))};It.displayName="BreadcrumbCurrentIssue";var Ct=Object(l.injectIntl)(It);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(n,e);var t=At(n);function n(){var e;_t(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isHovered:!1},e.onHoveredChange=function(t){return function(){e.setState({isHovered:t})}},e}return function(e,t,n){t&&xt(e.prototype,t),n&&xt(e,n)}(n,[{key:"renderBreadcrumbsItem",value:function(){var e=this.props,t=e.isSimplifiedProject,n=e.parentIssue,r=e.issueHierarchyLevel,i=e.onClick,s=n.key,a=n.summary,c=n.url;return o.a.createElement(Q.a,{content:"".concat(s,": ").concat(a),position:"top",delay:0},o.a.createElement(F.a,{href:c,onClick:i,text:t?ge(0===r?a:s):s,truncationWidth:t?void 0:300,hasSeparator:!0}))}},{key:"render",value:function(){var e=this.props,t=e.isSimplifiedProject,n=e.isDisabled,r=e.parentIssue,i=e.issueHierarchyLevel,s=r.key,a=r.issueTypeName,c=r.issueTypeIconUrl,u=this.renderBreadcrumbsItem();return t?o.a.createElement(He,{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-parent-issue-container",onMouseEnter:n?void 0:this.onHoveredChange(!0),onMouseLeave:n?void 0:this.onHoveredChange(!1),shouldTruncate:Object(h.isBreadcrumbTruncationBugfixEnabled)()},o.a.createElement(be,{isDisabled:n,issueKey:s,issueTypeName:a,issueTypeIconUrl:this.state.isHovered?"":c,issueHierarchyLevel:i,onSelect:this.onHoveredChange(!1)}),u):o.a.createElement("div",{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-parent-issue-container"},u)}}]),n}(r.Component);Mt.defaultProps={isSimplifiedProject:!1,isDisabled:!0,issueHierarchyLevel:0,onClick:L.a},Mt.displayName="BreadcrumbParentIssue";var Lt=function(e){var t=e.isSimplifiedProject,n=void 0!==t&&t,r=e.shouldShowProjectLevelBreadcrumb,i=void 0!==r&&r,s=e.projectName,a=void 0===s?"":s,c=e.projectUrl,u=void 0===c?"":c,l=e.projectAvatarUrl,f=void 0===l?"":l,d=e.onClick,p=void 0===d?L.a:d,m=Object(h.isBreadcrumbTruncationBugfixEnabled)(),y=Boolean(i&&a&&u),b=o.a.createElement(J.a,{url:f,alt:a}),g=o.a.createElement(Ke,null,o.a.createElement(Be,null,b)),v=n?g:o.a.createElement(Q.a,{content:a,position:"top",delay:0},g),O=o.a.createElement(F.a,{href:u,onClick:p,text:n?ge(a):a,truncationWidth:m||!n?0:void 0,iconBefore:m?g:v,hasSeparator:!0});return m?y&&o.a.createElement(Ge,null,o.a.createElement(Q.a,{content:a,position:"top",delay:0},O)):y&&(n?o.a.createElement(Q.a,{content:a,position:"top",delay:0},O):O)};function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(n,e);var t=Kt(n);function n(){var e;Ft(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onClick=function(t){e.props.onClick(t)},e.onProjectClick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey)){t.preventDefault();var n=e.props,r=n.projectUrl,o=n.onProjectClick;r&&o(r)}},e.onParentClick=function(t){return function(n){if(!(n.ctrlKey||n.metaKey||n.shiftKey)){n.preventDefault();var r=e.props;(0,r.onParentClick)({childIssueKey:r.issueKey,parentIssueKey:Object(U.toIssueKey)(t),onIssueKeyChange:e.props.onIssueKeyChange})}}},e.onRootBreadcrumbClick=function(t){t.ctrlKey||t.metaKey||t.shiftKey||(0,e.props.onRootBreadcrumbClick)()},e}return function(e,t,n){t&&Ut(e.prototype,t),n&&Ut(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onExperienceSuccess()}},{key:"render",value:function(){var e=this,t=this.props,n=t.error,r=t.isSimplifiedProject,i=t.isLoadingComplete,s=t.shouldShowProjectLevelBreadcrumb,a=t.shouldShowRootProjectsBreadcrumb,c=t.projectName,u=t.projectUrl,l=t.projectAvatarUrl,f=t.parentIssues,d=t.isIssueTypeFieldEditable,p=t.issueKey,m=t.issueSummary,y=t.issueTypeName,b=t.issueTypeIconUrl,g=t.relativeIssueUrl,v=t.fullIssueUrl,h=t.onCopyClick,O=t.intl.formatMessage,j=t.canLinkToParent,w=t.issueHierarchyLevel,E=t.parentLevelIssueTypeNames,k=f.length>0,S=j&&null===n&&i,I=r&&0===w&&S;return o.a.createElement(Ve,null,o.a.createElement(N.a,{maxItems:5},a&&o.a.createElement(F.a,{href:"/secure/BrowseProjects.jspa",text:O(ve.rootProjectsLink),onClick:this.onRootBreadcrumbClick}),o.a.createElement(Lt,{isSimplifiedProject:r,shouldShowProjectLevelBreadcrumb:s,projectName:c,projectUrl:u,projectAvatarUrl:l,onClick:this.onProjectClick}),k?f.map((function(t,n){return o.a.createElement(Mt,{key:n,isSimplifiedProject:r,isDisabled:!S,parentIssue:t,issueHierarchyLevel:w,onClick:e.onParentClick(t?t.key:"")})})):I&&o.a.createElement(et,{issueTypeName:E[0]}),o.a.createElement(Ct,{isSimplifiedProject:r,isIssueTypeFieldEditable:d,issueKey:p,issueSummary:m,issueTypeName:y,issueTypeIconUrl:b,relativeIssueUrl:g,fullIssueUrl:v,onClick:this.onClick,onCopyClick:h})))}}]),n}(r.Component);Ht.displayName="IssueBreadcrumbs",Ht.defaultProps={isSimplifiedProject:!1,isLoadingComplete:!1,issueSummary:"",issueTypeName:"",issueTypeIconUrl:"",issueHierarchyLevel:0,shouldShowRootProjectsBreadcrumb:!1,error:null,parentIssues:[],onCopyClick:L.a,onExperienceSuccess:L.a},Ht.displayName="IssueBreadcrumbs";var Gt=Object(c.a)([Object(p.d)("breadcrumbs",p.h.SCREEN),Object(R.f)("breadcrumbs"),Object(p.g)((function(e){var t=Object(s.b)(e);return{attributes:{issueHierarchyLevel:Object(T.e)(e),analyticsSource:"issue-view (".concat(t?t.toString():"undefined",")")}}})),Object(p.r)({onCopyClick:"copyUrlLink"}),Object(S.a)((function(e){return{onClick:function(){e("full.issue.view")},onParentClick:function(){e("parent-issue.view")},onProjectClick:function(){e("project.view")},onRootBreadcrumbClick:function(){e("projects-list.view")}}})),l.injectIntl,Object(i.connect)((function(e){var t=Object(a.t)(e);return{error:Object(a.h)(e),isSimplifiedProject:t,isLoadingComplete:Object(a.m)(e),issueKey:Object(s.B)(e),issueSummary:Object(_.o)(x.C)(e)||"",relativeIssueUrl:Object(A.h)(e),fullIssueUrl:Object(A.a)(e),issueTypeName:Object(A.f)(e),issueTypeIconUrl:Object(A.d)(e),parentIssues:Object(h.isReducedIssueRerendersEnabled)()?Object(A.b)(t)(e):Object(A.i)(t)(e),projectName:Object(D.e)(e),projectUrl:Object(P.j)(Object(s.f)(e),Object(s.J)(e)),projectAvatarUrl:Object(D.a)(e),isIssueTypeFieldEditable:Object(A.c)(e),canLinkToParent:Object(T.a)(e),issueHierarchyLevel:Object(T.e)(e),parentLevelIssueTypeNames:Object(T.g)(e),onIssueKeyChange:Object(s.G)(e)}}),(function(e){return{onParentClick:function(t){var n=t.childIssueKey,r=t.parentIssueKey;(0,t.onIssueKeyChange)({fromIssueKey:n,toIssueKey:r,meta:{location:"breadcrumbs"}}),e(Object(C.e)(n,[]))},onProjectClick:function(t){e(Object(I.g)(t))}}}))])(Ht),qt=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/styled.js"),zt=j.default.div(["display:flex;align-items:center;flex-grow:1;overflow:visible;font-size:",";[dir='rtl'] &{padding-left:0;padding-right:","px;}"],(function(e){return e.isCompact?"12px":null}),qt.d),Yt=function(e){var t=e.error,n=void 0===t?null:t,r=e.isCompact,i=e.backButtonUrl,s=e.shouldShowProjectLevelBreadcrumb,a=e.shouldShowRootProjectsBreadcrumb,c=void 0!==a&&a;return null!==n?null:o.a.createElement(qt.b,null,o.a.createElement(zt,{isCompact:r},void 0!==i&&o.a.createElement(k,{url:i}),o.a.createElement(Gt,{externalId:"issue",shouldShowProjectLevelBreadcrumb:s,shouldShowRootProjectsBreadcrumb:c})))};Yt.displayName="HeaderBreadcrumbsView";var Qt=Object(c.a)([Object(i.connect)((function(e){return{error:Object(a.h)(e),backButtonUrl:Object(s.e)(e)}}),{}),u.a])(Yt)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/header/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/noop.js"),s=n.n(i),a=n("./node_modules/@atlaskit/page/GridColumn.js"),c=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),u=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js"),l=n("./src/packages/issue/issue-view/src/views/common/with-compact-mode/index.js"),f=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/index.js"),d=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/index.js"),p=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-breadcrumbs/index.js"),m=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),b=2.5*y.f,g=m.default.div(["min-height:","px;margin-right:-","px;margin-bottom:","px;display:flex;justify-content:space-between;height:100%;align-items:center;"],4*y.f,b,y.f/4);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=w(n);function n(){return h(this,n),t.apply(this,arguments)}return function(e,t,n){t&&O(e.prototype,t),n&&O(e,n)}(n,[{key:"renderIssueActions",value:function(){var e=this.props,t=e.issueDeleteCallbacks,n=e.onClose,r=e.viewModeOptions;return(o.a.createElement(f.a,{externalId:"issue.opsbar",issueDeleteCallbacks:t,viewModeOptions:r,onClose:n}))}},{key:"render",value:function(){var e=this.props,t=e.shouldShowCloseButton,n=e.onClose,r=e.renderFeedback,i=e.isCompact,s=e.viewModeOptions,c=e.issueDeleteCallbacks,l=e.shouldShowProjectLevelBreadcrumb,f=e.shouldShowRootProjectsBreadcrumb;return(o.a.createElement(u.a,{isCompact:i},o.a.createElement(a.a,{medium:12},o.a.createElement(g,null,o.a.createElement(p.a,{shouldShowProjectLevelBreadcrumb:l,shouldShowRootProjectsBreadcrumb:f,isCompact:i}),o.a.createElement(d.a,{renderFeedback:r,issueDeleteCallbacks:c,viewModeOptions:s,onClose:n,shouldShowCloseButton:t})))))}}]),n}(r.Component);S.displayName="Header",S.defaultProps={issueDeleteCallbacks:{},shouldShowCloseButton:!1,shouldShowProjectLevelBreadcrumb:!1,shouldShowRootProjectsBreadcrumb:!1,renderFeedback:function(){return null},viewModeOptions:{viewModeSwitchEnabled:!1},onClose:s.a},S.displayName="HeaderItem";var I=Object(c.a)([l.a])(S)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/packages/issue/issue-view/src/feature-flags.js"),s=n("./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),u=n("./node_modules/@atlaskit/button--current/components/Button.js"),l=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenu.js"),f=n("./node_modules/@atlaskit/icon--current/glyph/more.js"),d=n.n(f),p=n("./node_modules/@atlaskit/theme/index.js"),m=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/component-with-condition.js");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var E=Object(c.keyframes)(["to{box-shadow:0 0 0 10px transparent;}"]),k=Object(a.defineMessages)({actionButton:{id:"issue.label-for-modal-action-button",defaultMessage:"Actions"}}),S=Object(s.a)(u.b,{target:"e1tzjop40"})("border-radius:4px;animation:",E," 1.45s 3 cubic-bezier(0.66,0,0,1);animation-delay:0.5s;box-shadow:0 0 0 0 ",p.colors.P300,";"),I=function(e,t){var n=e(t),r=n.buttonStyles;return O(O({},w(n,["buttonStyles"])),{},{buttonStyles:O(O({},r),{},{borderRadius:"4px",animation:"".concat(E," 1.45s 3 cubic-bezier(0.66, 0, 0, 1)"),animationDelay:"0.5s",boxShadow:"0 0 0 0 ".concat(p.colors.P300)})})},C=function(e){return o.a.createElement(u.b,v({},e,{theme:I}))};C.displayName="PulseButtonStyled";var P=Object(y.a)(i.isEmotionRemoved,C,S),_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=e?P:u.b,l=n.formatMessage(k.actionButton),f=Object(i.isForgeIssueActionEnabled)()?{isLoading:s,isDisabled:a}:{isDisabled:s};return o.a.createElement(m.a,{content:l,position:"top"},o.a.createElement(c,v({appearance:"subtle",spacing:"default",iconBefore:o.a.createElement(d.a,{label:t,size:"medium"}),isSelected:r},f)))};_.displayName="renderTrigger";var x=function(e){var t=e.shouldShowPulse,n=e.moreLabel,s=e.intl,a=e.isLoading,c=e.isDisabled,u=w(e,["shouldShowPulse","moreLabel","intl","isLoading","isDisabled"]),f=b(Object(r.useState)(!1),2),d=f[0],p=f[1],m=u.onOpenChange,y=Object(r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];p(r.isOpen),m&&m.apply(void 0,t)}),[m]),g=Object(i.isNavV3BentoActionDropdownFixEnabled)()?{isMenuFixed:!0,boundariesElement:"window"}:{isMenuFixed:Object(i.isIndividualScrollingEnabled)()};return o.a.createElement(l.a,v({appearance:"tall",position:"bottom right",trigger:_(t,n,s,d,a,c),onOpenChange:y},g,u))};x.displayName="DropdownMenu",x.defaultProps={shouldShowPulse:!1,isLoading:!1,isDisabled:!1,moreLabel:""};var T=Object(a.injectIntl)(x),A=n("./node_modules/react-redux/es/index.js"),D=n("./node_modules/lodash/noop.js"),R=n.n(D),M=n("./node_modules/@atlassiansox/engagekit/dist/cjs/spotlight/index.js"),L=n.n(M),N=n("./node_modules/@atlaskit/dropdown-menu/components/item/DropdownItem.js"),F=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),U=n("./node_modules/@atlaskit/icon--current/glyph/presence-active.js"),V=n.n(U),K=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),B=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),W=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),H=n("./src/packages/platform/utils/constants/src/analytics-sources.js"),G=n("./src/packages/platform/utils/constants/src/project-types.js"),q=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js"),z=n("./src/packages/common-legacy-do-not-add-anything-new/src/urls/old-issue-view-url.js"),Y=n("./src/packages/platform/utils/types/src/index.js"),Q=n("./node_modules/react-async-component/commonjs/index.js"),J=Object(Q.asyncComponent)({resolve:function(){return n.e("async-move-issue-action").then(n.bind(null,"./src/packages/issue-actions/move-issue/src/index.js"))}}),$=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),Z=n("./src/packages/project-settings/common/src/urls.js"),X=n("./src/packages/platform/services/issue/src/feature-flags.js"),ee=n("./src/packages/issue/issue-view/src/actions/assign-issue-parent-modal-actions.js"),te=n("./src/packages/issue/issue-view/src/actions/changeboarding-actions.js"),ne=n("./src/packages/issue/issue-view/src/actions/issue-delete-actions.js"),re=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),oe=n("./src/packages/issue/issue-view/src/common/messages/time.js"),ie=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),se=n("./src/packages/issue/issue-view/src/common/service/issue/issue-view-mode.js"),ae=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),ce=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),ue=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),le=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),fe=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),de=n("./src/packages/issue/issue-view/src/ecosystem/forge/forge-extensions-selector.js"),pe=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),me=n("./node_modules/reselect/lib/index.js"),ye=Object(me.createSelector)(ce.z,(function(e){return Boolean(e&&e.id)})),be=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),ge=n("./src/packages/issue/issue-view/src/selectors/changeboarding-selector.js"),ve=n("./src/packages/issue/issue-view/src/selectors/classic-project-config-selector.js"),he=n("./src/packages/issue/issue-view/src/selectors/clickthrough-banner-selector.js"),Oe=n("./src/packages/issue/issue-view/src/configurations.js"),je=n("./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js"),we=Object(me.createSelector)(ae.z,(function(e){return e&&e.includes(Oe.m)})),Ee=Object(me.createSelector)(je.e,we,(function(e,t){return e&&t})),ke=n("./src/packages/issue/issue-view/src/selectors/issue-actions-selector.js"),Se=n("./src/packages/issue/issue-view/src/selectors/request-type-selector.js"),Ie=n("./src/packages/issue/issue-view/src/selectors/ui-config-selector.js"),Ce=Object(me.createSelector)(ce.E,(function(e){return e===G.l})),Pe=Object(me.createSelector)(ce.t,Ce,ge.e,ke.k,Ie.a,(function(e,t,n,r,o){return t?!e&&!o:r&&n})),_e=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),xe=n("./src/packages/issue/issue-view/src/views/constants.js"),Te=n("./node_modules/@atlaskit/badge--current/components/index.js"),Ae=n("./src/packages/platform/utils/fetch/src/index.js"),De=n("./src/packages/platform/controllers/tenant-context/src/index.js"),Re=n("./node_modules/react-sweet-state/lib/esm/index.js");function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe={setTotalCount:function(e,t){return function(n){var r=n.setState,o=n.getState;r(Ne({},e,Le(Le({},o()[e]),{},{totalCount:t})))}}},Ue=Object(Re.c)({name:"issue-attachments",initialState:{},actions:Fe}),Ve=Object(me.createSelector)((function(e,t){return e[t.issueKey]}),(function(e){return e&&e.totalCount})),Ke=Object(Re.b)(Ue,{selector:Ve});function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ze(i,r,o,s,a,"next",e)}function a(e){ze(i,r,o,s,a,"throw",e)}s(void 0)}))}}var Qe=function(){return"\n  query attachmentsQuery($issueKey: String, $startAt: Long, $maxResults: Long, $orderField: AttachmentsOrderField, $orderDirection: OrderDirection) {\n    viewIssue(issueKey: $issueKey) {\n        attachments(startAt: $startAt, maxResults: $maxResults, orderField: $orderField, orderDirection: $orderDirection) {\n            nodes {\n                id\n                filename\n                mimetype\n                mediaApiFileId\n                createdDate\n                filesize\n            }\n            totalCount\n        }\n    }\n  }"},Je=function(){return"\n  query attachmentsQuery($issueKey: String) {\n    viewIssue(issueKey: $issueKey) {\n        attachments {\n            totalCount\n        }\n    }\n  }"},$e={startAt:0,maxResults:6,orderField:"CREATED",orderDirection:"DESC"},Ze=function(){var e=Ye(regeneratorRuntime.mark((function e(t,n,r){var o,i,s,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ge(Ge({},$e),r),e.next=3,Object(Ae.i)("".concat(n,"/rest/gira/1/"),{body:JSON.stringify({query:Qe(),variables:Ge({issueKey:t},s)})});case 3:if(a=e.sent,!((c=null==a||null===(o=a.data)||void 0===o||null===(i=o.viewIssue)||void 0===i?void 0:i.attachments)&&c.nodes&&c.totalCount)){e.next=7;break}return e.abrupt("return",a.data.viewIssue.attachments);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xe=function(){var e=Ye(regeneratorRuntime.mark((function e(t,n){var r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.i)("".concat(n,"/rest/gira/1/"),{body:JSON.stringify({query:Je(),variables:{issueKey:t}})});case 2:if(!(null==(s=e.sent)||null===(r=s.data)||void 0===r||null===(o=r.viewIssue)||void 0===o||null===(i=o.attachments)||void 0===i?void 0:i.totalCount)){e.next=5;break}return e.abrupt("return",s.data.viewIssue.attachments);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=Object($.a)("downloadAll",{onClick:"clicked"})(N.a),tt=Object(r.memo)((function(e){var t=e.baseUrl,n=e.issueId,r=e.children,i="".concat(t,"/secure/attachmentzip/").concat(n,".zip");return o.a.createElement(et,{href:i,onClick:function(e,t){return Object($.u)(t)}},r)})),nt=Object(a.defineMessages)({download:{id:"issue.details.issue-actions.attachment.download",defaultMessage:"Download all attachments"},viewAll:{id:"issue.details.issue-actions.attachment.view-all",defaultMessage:"See all attachments"}}),rt=n("./src/packages/issue/issue-view/src/actions/attachment-modal-actions.js"),ot=Object($.a)("viewAll",{onClick:"clicked"})(N.a),it=Object(r.memo)((function(e){var t=e.children,n=e.onClick;return o.a.createElement(ot,{onClick:function(e,t){n(),Object($.u)(t)}},t)})),st=Object(A.connect)(null,(function(e){return{onClick:function(){return e(Object(rt.d)())}}}))(it);function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lt=Object(a.injectIntl)((function(e){var t=e.intl.formatMessage,n=e.issueKey,s=ut(e,["intl","issueKey"]),a=at(function(e){var t=Be(Ke({issueKey:e}),2),n=t[0],o=t[1].setTotalCount,i=Be(Object(De.g)(),1)[0],s=Object(r.useCallback)(Ye(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe(e,i);case 2:(n=t.sent)&&o(e,n.totalCount);case 4:case"end":return t.stop()}}),t)}))),[i,e,o]);return Object(r.useEffect)((function(){void 0===n&&s()}),[s,n]),[n,s]}(n),1)[0];return o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,null,Object(i.isJsdViewAllAttachmentEnabled)()?o.a.createElement(st,s,t(nt.viewAll)):null,o.a.createElement(tt,s,t(nt.download),Object(i.isJsdViewAllAttachmentEnabled)()&&o.a.createElement(Te.a,null,a))))})),ft=n("./node_modules/@atlaskit/button--next/dist/esm/components/Button.js"),dt=n("./node_modules/@atlaskit/icon--next/glyph/cross.js"),pt=n.n(dt),mt=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/modal-dialog/index.js");function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt=function(e){var t=yt(function(e,t){var n=Be(Ke({issueKey:e}),2),o=n[0],i=n[1].setTotalCount,s=Be(Object(r.useState)(),2),a=s[0],c=s[1],u=Be(Object(De.g)(),1)[0],l=Object(r.useCallback)(function(){var t=Ye(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze(e,u,n);case 2:(r=t.sent)&&(i(e,r.totalCount),c(r.nodes));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[u,e,i]);return Object(r.useEffect)((function(){void 0===a&&l(t)}),[a,l,t]),[{totalCount:o,attachments:a},l]}(e.issueKey),2),n=t[0],i=n.totalCount,s=n.attachments,a=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,"Total count: ",i),o.a.createElement("div",null,"Fetched attachments: ",s&&s.length),o.a.createElement("button",{onClick:function(){return a({startAt:1})}},"Refresh Attachments"))},vt=Object(a.defineMessages)({heading:{id:"attachments-dialog.heading",defaultMessage:"Attachments"},close:{id:"attachments-dialog.close",defaultMessage:"Close"}}),ht=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),Ot=c.default.div(["padding:","px ","px ","px;display:flex;flex-direction:row;align-items:center;"],3*ht.f,3*ht.f,ht.f),jt=c.default.h1(["",";word-wrap:break-word;width:100%;margin-top:0;padding-left:","px;& > span{font-size:","px;}"],p.typography.h500(),ht.f,ht.e),wt=c.default.div(["padding:0 ","px ","px;"],ht.f,3*ht.f),Et=n("./node_modules/@atlaskit/icon--next/glyph/download.js"),kt=n.n(Et),St=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js"),It=Object(a.defineMessages)({downloadAll:{id:"attachments-dialog.download-button.download-all",defaultMessage:"Download all"}}),Ct=o.a.createElement(kt.a,{label:"",size:"medium"}),Pt=function(e){var t=e.onClick,n=e.intl;return o.a.createElement(St.a,{iconBefore:Ct,onClick:function(e,n){t(),Object($.u)(n,"downloadAll")}},o.a.createElement("span",null,n.formatMessage(It.downloadAll)))};Pt.displayName="DownloadButton";var _t=Object(a.injectIntl)(Pt),xt=function(e){var t=e.issueKey,n=e.onClose,r=e.onDownloadAll,i=e.intl.formatMessage;return o.a.createElement($.b,{sourceName:"attachments",sourceType:$.j},o.a.createElement(mt.g,{components:{Header:function(){return o.a.createElement(Ot,null,o.a.createElement(jt,null,i(vt.heading)),o.a.createElement(ft.a,{appearance:"subtle",iconBefore:o.a.createElement(pt.a,{label:"",size:"small"}),onClick:n}))}},onClose:n,shouldCloseOnEscapePress:!0,width:"large"},o.a.createElement(wt,null,o.a.createElement(_t,{onClick:r}),o.a.createElement(gt,{issueKey:t}))))};xt.displayName="AttachmentsDialog";var Tt,At,Dt,Rt=Object(a.injectIntl)(xt),Mt=n("./src/packages/issue/issue-view/src/selectors/attachment-selector.js"),Lt=Object(me.createSelector)(Mt.a,(function(e){return e.attachmentModal})),Nt=Object(me.createSelector)(Lt,(function(e){return e.isOpen})),Ft=Object(A.connect)((function(e){return{isOpen:Nt(e),issueKey:Object(ae.B)(e)}}),(function(e){return{hideModal:function(){return e(Object(rt.c)())}}}))((function(e){var t=e.isOpen,n=e.hideModal,r=e.issueKey;return t?o.a.createElement(Rt,{onClose:n,onDownloadAll:R.a,issueKey:r}):null})),Ut=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/confirmation-modal/index.js"),Vt=n("./node_modules/lodash/isEmpty.js"),Kt=n.n(Vt),Bt=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),Wt=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),Ht=Object(Wt.q)(Bt.k),Gt=Object(me.createSelector)(Ht,(function(e){return!!e&&!Kt()(e.value)})),qt=Object(a.defineMessages)({delete:{id:"issue.delete.confirm",defaultMessage:"Delete"},deleteHeading:{id:"issue.delete-heading",defaultMessage:"Delete {issueKey}?"},deleteWithSubtasksHeading:{id:"issue.delete-with-subtasks-heading",defaultMessage:"Delete {issueKey} and its subtasks?"},deleteWithChildrenHeading:{id:"issue.delete-with-children-heading",defaultMessage:"Delete {issueKey} and its child issues?"},cancel:{id:"issue.delete.cancel",defaultMessage:"Cancel"},deleteWarning:{id:"issue.delete-warning",defaultMessage:"You're about to permanently delete this issue, its comments and attachments, and all of its data."},deleteWithSubtasksWarning:{id:"issue.delete-with-subtasks-warning",defaultMessage:"You're about to permanently delete this issue and all its subtasks, its comments and attachments, and all of its data. You should move any subtasks you don't want to delete to another parent issue."},deleteWithChildrenWarning:{id:"issue.delete-with-children-warning",defaultMessage:"You're about to permanently delete this issue and all its child issues, its comments and attachments, and all of its data. You should move any child issues you don't want to delete to another parent issue."},deleteRecommendation:{id:"issue.delete-recommendation",defaultMessage:"If you're not sure, you can resolve or close this issue instead."}});function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=en(e);if(t){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=Object(W.d)("issueDelete",W.h.MODAL)((Dt=At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(n,e);var t=Zt(n);function n(){var e;Qt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onConfirmDeleteIssue=function(t,n){e.props.deleteConfirmAnalytics(n),e.props.triggerDeleteRequest(e.props.issueKey,n)},e.onCancel=function(t,n){e.props.deleteCancelAnalytics(n),e.props.triggerCloseDeleteIssueModal()},e.getChildConditionalDeleteHeading=function(){return e.props.shouldShowChildSpecificCopy?e.props.isSimplifiedProject?qt.deleteWithChildrenHeading:qt.deleteWithSubtasksHeading:qt.deleteHeading},e.getChildConditionalDeleteWarning=function(){return e.props.shouldShowChildSpecificCopy?e.props.isSimplifiedProject?qt.deleteWithChildrenWarning:qt.deleteWithSubtasksWarning:qt.deleteWarning},e}return function(e,t,n){t&&Jt(e.prototype,t),n&&Jt(e,n)}(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.isDeletingIssue&&this.props.isDeletingIssue&&(e.didIssueDeleteFail?this.props.issueDeleteCallbacks.onIssueDeleteFailure({issueId:this.props.issueId,issueKey:this.props.issueKey}):(this.props.triggerCloseDeleteIssueModal(),this.props.issueDeleteCallbacks.onIssueDeleteSuccess({issueId:this.props.issueId,issueKey:this.props.issueKey}),this.props.onClose()))}},{key:"render",value:function(){var e=this.props,t=e.issueKey,n=e.isDeletingIssue,r=e.intl.formatMessage;return this.props.isDeleteIssueModalOpen&&o.a.createElement(Ut.b,{headerMessage:o.a.createElement(a.FormattedMessage,Yt({},this.getChildConditionalDeleteHeading(),{values:{issueKey:t}})),appearance:"danger",contentMessage:o.a.createElement("span",null,o.a.createElement("p",null,r(this.getChildConditionalDeleteWarning())),o.a.createElement("p",null,r(qt.deleteRecommendation))),confirmActionText:r(qt.delete),cancelActionText:r(qt.cancel),onConfirm:this.onConfirmDeleteIssue,onCancel:this.onCancel,externalId:"issue.action.delete-confirmation-dialog",isLoading:n,isConfirmDisabled:n,isCancelDisabled:n},o.a.createElement(W.i,null))}}]),n}(r.Component),At.displayName="DeleteIssueView",At.defaultProps={issueDeleteCallbacks:{onIssueDeleteSuccess:R.a,onIssueDeleteFailure:R.a}},Tt=Dt))||Tt;tn.displayName="DeleteIssueView";var nn=Object(le.a)([a.injectIntl,Object(A.connect)((function(e){return{issueId:Object(ce.k)(e),issueKey:Object(ae.B)(e),isDeletingIssue:Object(ce.o)(e),isDeleteIssueModalOpen:Object(ce.n)(e),didIssueDeleteFail:Object(ce.b)(e),isSimplifiedProject:Object(ce.t)(e),shouldShowChildSpecificCopy:Object(ce.t)(e)?Object(pe.c)(e)&&Gt(e):Object(_e.b)(e)}}),(function(e){return{triggerCloseDeleteIssueModal:function(){e(Object(ne.f)())},triggerDeleteRequest:function(t,n){e(Object(ne.h)(t,n))}}})),Object(W.r)({deleteCancelAnalytics:"deleteIssueCancel",deleteConfirmAnalytics:"deleteIssueDelete"})])(tn),rn=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js");function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(n,e);var t=un(n);function n(){var e;sn(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).ecosystemModalLinkRef=void 0,e.setEcosystemModalLinkRef=function(t){e.ecosystemModalLinkRef=t},e.clickEcosystemModalLinkRef=function(){return e.ecosystemModalLinkRef&&e.ecosystemModalLinkRef.click()},e.renderEcosystemModalLink=function(t,n){return o.a.createElement("a",{href:t,className:n,ref:e.setEcosystemModalLinkRef,display:"none"},"")},e}return function(e,t,n){t&&an(e.prototype,t),n&&an(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.linkText,r=e.tooltip,i=e.href,s=e.styleClass;return(o.a.createElement(N.a,{key:t,onClick:this.clickEcosystemModalLinkRef,title:r},n,this.renderEcosystemModalLink(i,s)))}}]),n}(r.Component);dn.defaultProps={styleClass:null,tooltip:null},dn.displayName="EcosystemWebItem";var pn=n("./src/packages/forge/forge-ui/src/ui/extension-title/index.js"),mn=n("./src/packages/issue/issue-view/src/actions/forge-actions.js");function yn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var bn=function(e){var t=e.onClick,n=yn(e,["onClick"]);return(o.a.createElement(N.a,{key:n.id,onClick:function(){return t(n)}},o.a.createElement(pn.a,{extensionName:n.title,extensionEnvType:n.extension.environmentType})))};bn.displayName="ForgeActionView";var gn=Object(le.a)([Object(A.connect)(null,{onClick:mn.g})])(bn),vn=function(e){return e.type===rn.b?function(e){return{component:function(){return o.a.createElement(gn,e)},eventName:e.id,key:e.id,isAllowed:!0}}(e):function(e){return{component:function(){return o.a.createElement(dn,{href:e.url,linkText:e.name,styleClass:e.styleClass,id:e.name,tooltip:e.tooltip})},eventName:e.name,key:e.name,isAllowed:!0}}(e)},hn=n("./src/packages/forge/forge-ui-async/src/ui/extension-issue-action/async.js"),On=c.default.div(["display:none;"]),jn=function(e){var t=e.activeAction,n=e.context,r=e.onClose,i=e.onRendered;return t?o.a.createElement(On,null,o.a.createElement(hn.a,{context:n,extension:t.action.extension,module:"jira:issueAction",tearDown:r,onInitialRender:i,showErrorFlag:!0})):null};jn.displayName="ForgeActionRendererView";var wn=Object(le.a)([Object(A.connect)((function(e){return{activeAction:Object(de.a)(e),context:Object(de.b)(e)}}),{onClose:mn.f,onRendered:mn.h})])(jn),En=n("./src/packages/issue/issue-view/src/common/constants/index.js"),kn=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/flagged-selector.js"),Sn=n("./src/packages/issue/issue-view/src/views/connect-field.js");function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=An(e);if(t){var o=An(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dn=Object(a.defineMessages)({addFlag:{id:"issue.flag.add",defaultMessage:"Add flag"},removeFlag:{id:"issue.flag.remove",defaultMessage:"Remove flag"}}),Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(n,e);var t=xn(n);function n(){var e;Cn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).removeFlag=function(){e.props.onChange(!1),e.props.onConfirm(),e.props.onActionSelectedAnalytics("removeFlag")},e.addFlag=function(){e.props.onChange(!0),e.props.onConfirm(),e.props.onActionSelectedAnalytics("addFlag")},e}return function(e,t,n){t&&Pn(e.prototype,t),n&&Pn(e,n)}(n,[{key:"render",value:function(){return this.props.value?o.a.createElement(N.a,{key:"removeFlag",onClick:this.removeFlag},this.props.removeFlagMessage):o.a.createElement(N.a,{key:"addFlag",onClick:this.addFlag},this.props.addFlagMessage)}}]),n}(r.Component);Rn.displayName="FlagIssueActionView",Rn.displayName="FlagIssueActionView";var Mn=function(e){var t=e.baseUrl,n=e.issueKey,r=e.value;return function(e,t,n){return Object(Ae.e)(function(e){return"".concat(e,"/rest/greenhopper/1.0/xboard/issue/flag/flag.json")}(e),{method:"POST",body:JSON.stringify({flag:n,issueKeys:[t],commentVisibility:"",comment:""})}).toPromise()}(t,n,Object(kn.c)(r))},Ln=Object(Sn.a)((function(e,t){return{fieldId:Object(kn.a)(e),shouldDiscardChangeOnFailure:!0,transformFromStateValue:kn.c,transformToStateValue:kn.d,saveField:Mn,additionalProps:function(e,n){return{onActionSelectedAnalytics:t.onActionSelectedAnalytics,addFlagMessage:n.formatMessage(Dn.addFlag),removeFlagMessage:n.formatMessage(Dn.removeFlag)}},onSaveFailureFlagType:Object(kn.b)(e)?En.D:En.C}}))(Rn),Nn=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/messages.js");function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vn(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zn(e);if(t){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yn=c.default.div(["border-top:1px solid ",";"],p.colors.N30),Qn=c.default.div(["min-width:150px;"]),Jn=function(e){var t=document.getElementById("ghx-issue-fragment");window.AJS&&window.AJS.$(t).trigger(e)},$n=function(e){return e===G.l},Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(n,e);var t=Gn(n);function n(){var e;Bn(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={showMoveIssueModal:!1},e.getLinkToScreenConfigurationPage=function(){var t=e.props,n=t.baseUrl,r=t.projectKey,o=t.viewScreenId;return"".concat(n,"/plugins/servlet/project-config/").concat(r,"/issuelayout?screenId=").concat(o)},e.getLinkToRequestTypeConfigurationPage=function(t){var n=e.props,r=n.baseUrl,o=n.projectKey;return"".concat(r,"/servicedesk/admin/").concat(o,"/request-types/request-type/").concat(t)},e.getLinkToBentoToggle=function(){return"".concat(e.props.baseUrl,"/secure/ViewPersonalSettings.jspa")},e.getSwiftLinkAction=function(){var t=e.props,n=t.baseUrl,r=t.projectKey,o=t.projectType,i=t.issueTypeId,s=t.shouldShowSwiftLink,a=t.issueKey,c=t.intl.formatMessage;if(!s||!o)return null;var u=window.location,l=u.pathname,f=u.search,d=Object(Z.a)(Object(Y.toBaseUrl)(n),o,r,i,{url:"".concat(l).concat(f),title:c(Nn.a.swiftBacklink,{issueKey:a})});return{content:c(Nn.a.swiftLink),eventName:"swift-link",href:d,isAllowed:s}},e.getClassicConfigurationActions=function(){return[e.buildDropdownItem(e.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:e.props.onShowClassicConfigurationClick,href:e.props.requestTypeId?e.getLinkToRequestTypeConfigurationPage(e.props.requestTypeId):e.getLinkToScreenConfigurationPage(),target:"_blank",isDisabled:!e.props.requestTypeId&&!e.props.viewScreenId},e.props.intl.formatMessage(Nn.a.configure))},key:"configure",isAllowed:e.props.shouldShowClassicConfiguration}))]},e.shouldShowDownloadAll=function(){var t=e.props.projectType;return Object(i.isJsdDownloadAllEnabled)()&&$n(t)},e.createComponentAction=function(e){var t=e.key,n=e.component,r=e.isAllowed;return{key:t,component:n,isAllowed:void 0===r||r}},e.getAttachmentGroup=function(){var t=e.props,n=t.baseUrl,r=t.issueId,i=t.issueKey;return e.shouldShowDownloadAll()?o.a.createElement(Yn,null,o.a.createElement(lt,{baseUrl:Object(Y.toBaseUrl)(n),issueId:Object(Y.toIssueId)(r),issueKey:Object(Y.toIssueKey)(i)})):null},e}return function(e,t,n){t&&Wn(e.prototype,t),n&&Wn(e,n)}(n,[{key:"getIssueDeleteModalAction",value:function(){var e=this;return this.createComponentAction({key:"DeleteIssueModal",component:function(){return o.a.createElement(N.a,{onClick:e.props.onDeleteIssueClick},e.props.intl.formatMessage(Nn.a.delete))},isAllowed:this.props.canDeleteIssue})}},{key:"getMoveIssueAction",value:function(){var e=this;return Object(i.isMoveIssueDialogEnabled)()?this.createComponentAction({key:"MoveIssueModal",component:function(){return o.a.createElement(N.a,{onClick:function(){e.setState({showMoveIssueModal:!0})}},e.props.intl.formatMessage(Nn.a.move))},isAllowed:this.props.canMoveIssue}):{content:this.props.intl.formatMessage(Nn.a.move),eventName:"move",href:this.props.isSubtask?"".concat(this.props.baseUrl,"/secure/MoveSubTaskChooseOperation!default.jspa?id=").concat(this.props.issueId):"".concat(this.props.baseUrl,"/secure/MoveIssue!default.jspa?id=").concat(this.props.issueId),isAllowed:this.props.canMoveIssue}}},{key:"getEcosystemActions",value:function(){return this.props.ecosystemActions.map(vn)}},{key:"getAddToIssueDropdownItemGroup",value:function(){var e=this;if(!this.shouldShowAddToIssueDropdownGroup())return null;var t=this.props,n=t.onLogTimeClick,r=t.intl.formatMessage,i=this.createComponentAction({component:function(e){var t=e.onActionSelectedAnalytics;return o.a.createElement(N.a,{onClick:function(){n(),t("log-time")}},r(oe.a.logWork))},key:"LogTimeActionView"}),s=this.createComponentAction({component:Ln,key:"FlagIssueActionView"}),a=[].concat(Vn(this.props.canLogTime?[i]:[]),Vn(this.props.shouldShowFlagAction?[s]:[]),Vn(this.getEcosystemActions())).map((function(t){return e.buildDropdownItem(t)})).filter((function(e){return!!e}));return a.length<=0?null:o.a.createElement(F.a,null,o.a.createElement(o.a.Fragment,null,a))}},{key:"getIssueManipulationDropdownItemGroup",value:function(){var e=this,t=this.props,n=t.onLinkToParentClick,r=t.hasParent,i=t.intl.formatMessage,s=this.createComponentAction({component:function(e){var t=e.onActionSelectedAnalytics;return o.a.createElement(N.a,{onClick:function(){n(),t("link-to-parent")}},i(r?Nn.a.changeParentLevel:Nn.a.addToParentLevel))},key:"link-to-parent"}),a={content:i(Nn.a.convertToSubtask),eventName:"convert-to-subtask",href:"".concat(this.props.baseUrl,"/secure/ConvertIssue.jspa?id=").concat(this.props.issueId),isAllowed:this.props.shouldShowConvertToSubtask},c={content:i(Nn.a.convertToIssue),eventName:"convert-to-issue",href:"".concat(this.props.baseUrl,"/secure/ConvertSubTask.jspa?id=").concat(this.props.issueId),isAllowed:this.props.shouldShowConvertToIssue},u=[].concat(Vn(this.canLinkToParent()?[s]:[]),Vn(this.props.shouldShowConvertToSubtask?[a]:[]),Vn(this.props.shouldShowConvertToIssue?[c]:[]),[this.getMoveIssueAction(),{content:i(Nn.a.clone),eventName:"clone",href:"".concat(this.props.baseUrl,"/secure/CloneIssueDetails!default.jspa?id=").concat(this.props.issueId),isAllowed:this.props.canCloneIssue},this.getIssueDeleteModalAction()]).map((function(t){return e.buildDropdownItem(t)})).filter((function(e){return!!e}));return u.length<=0?null:this.shouldShowAddToIssueDropdownGroup()?o.a.createElement(Yn,null,o.a.createElement(F.a,null,o.a.createElement(o.a.Fragment,null,u))):o.a.createElement(F.a,null,o.a.createElement(o.a.Fragment,null,u))}},{key:"getIssueExportDropdownItemGroup",value:function(){var e=this,t=this.props,n=t.baseUrl,r=t.issueKey,i=t.intl.formatMessage,s=[this.createComponentAction({component:function(){var t="".concat(n,"/si/jira.issueviews:issue-html/").concat(r,"/").concat(r,".html");return(o.a.createElement(N.a,{onClick:e.props.onExportPrintClick,href:t,target:"_blank"},i(Nn.a.print)))},key:"PrintIssueActionView",isAllowed:!0}),this.createComponentAction({component:function(){var t="".concat(n,"/si/jira.issueviews:issue-xml/").concat(r,"/").concat(r,".xml");return(o.a.createElement(N.a,{onClick:e.props.onExportXmlClick,href:t,target:"_blank"},i(Nn.a.exportXML)))},key:"ExportXmlIssueActionView",isAllowed:!0}),this.createComponentAction({component:function(){var t="".concat(n,"/si/jira.issueviews:issue-word/").concat(r,"/").concat(r,".doc");return(o.a.createElement(N.a,{onClick:e.props.onExportDocClick,href:t,target:"_blank"},i(Nn.a.exportDOC)))},key:"ExportDocIssueActionView",isAllowed:!0})].map((function(t){return e.buildDropdownItem(t)}));return o.a.createElement(Yn,null,o.a.createElement(F.a,null,o.a.createElement(o.a.Fragment,null,s)))}},{key:"getIssueActionsDropdownItemGroup",value:function(){var e=this.props.intl.formatMessage,t=this.getProjectTypeSpecificIssueActions()||[];return 0===t.length?null:o.a.createElement(Yn,null,o.a.createElement(F.a,{title:e(Nn.a.newIssueView)},t))}},{key:"isSoftwareProjectType",value:function(){return this.props.projectType===G.n}},{key:"getIssueConfigurationDropdownItemGroup",value:function(){var e=this,t=this.props,n=t.shouldShowClassicConfiguration,r=t.viewModeOptions,i=t.intl.formatMessage,s=this.getClassicConfigurationActions(),a=this.getSwiftLinkAction(),c=this.createComponentAction({component:function(e){var t=e.onActionSelectedAnalytics;return o.a.createElement(N.a,{onClick:function(){r.viewModeSwitchEnabled&&r.onSwitchToSidebar?r.onSwitchToSidebar():function(){Jn("issue.details.view.switch-to-sidebar")}(),t("switch-to-sidebar")}},i(Nn.a.switchToSidebar))},key:"SwitchToSidebarActionView"}),u=this.createComponentAction({component:function(e){var t=e.onActionSelectedAnalytics;return o.a.createElement(N.a,{onClick:function(){r.viewModeSwitchEnabled&&r.onSwitchToModal?r.onSwitchToModal():function(){Jn("issue.details.view.switch-to-modal")}(),t("switch-to-modal")}},i(Nn.a.switchToModal))},key:"SwitchToModalActionView"}),l=this.props.analyticsSource?this.props.analyticsSource.valueOf():null,f=this.isSoftwareProjectType()&&l===H.a.SOFTWARE_ISSUE||r.viewModeSwitchEnabled,d=[].concat(Vn(f&&Object(se.b)(this.props.viewModeOptions.viewMode)?[u]:[]),Vn(f&&!Object(se.b)(this.props.viewModeOptions.viewMode)?[c]:[]),Vn(a?[a]:[])).map((function(t){return e.buildDropdownItem(t)})).filter((function(e){return!!e}));return n||d.length>0?o.a.createElement(Yn,null,o.a.createElement(F.a,null,d.length>0?o.a.createElement(o.a.Fragment,null,d):null,s)):null}},{key:"shouldShowOptOutForServiceDesk",value:function(){return this.props.shouldShowOptOut}},{key:"shouldShowOptOutForSoftwareAndCore",value:function(){var e=this.props,t=e.shouldShowOptOut;return!e.shouldShowChangeboarding&&t}},{key:"shouldShowTurnOffForNowForSoftwareAndCore",value:function(){var e=this.props,t=e.shouldShowOptOut,n=e.shouldShowChangeboarding,r=e.shouldShowTurnOffForNow;return Object(X.b)()?r:t&&n}},{key:"shouldShowTurnOffForNowForServiceDesk",value:function(){var e=this.props,t=e.isSimplified,n=e.shouldShowTurnOffForNow;return Object(X.b)()?n:!t}},{key:"getNewIssueActionsForServiceDesk",value:function(){var e=this,t=this.props,n=t.onOptOutClick,r=t.onFindOutMoreClick,i=t.shouldShowClickthroughLink,s=t.intl.formatMessage;return[this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:r,href:"//support.atlassian.com/jira-service-desk-cloud/docs/changes-to-requests-in-the-new-issue-view/",target:"_blank"},s(Nn.a.findOutMore))},key:"find-out-more"}),this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:n,href:e.getLinkToBentoToggle(),target:"_blank"},s(Nn.a.turnOffForNow))},key:"turn-off-for-now",isAllowed:this.shouldShowTurnOffForNowForServiceDesk()}),{content:s(Nn.a.turnOffNewIssueView),eventName:"opt-out",href:this.getLinkToBentoToggle(),target:"_blank",isAllowed:this.shouldShowOptOutForServiceDesk()},this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:e.props.onClickthroughClick,href:Object(z.a)()},e.props.intl.formatMessage(Nn.a.seeOldView))},key:"old-view-clickthrough",isAllowed:i})]}},{key:"getNewIssueActionsForSoftwareAndCore",value:function(){var e=this,t=this.props,n=t.shouldShowPulse,r=t.onStartTourClick,i=t.onFindOutMoreClick,s=t.onOptOutClick,a=t.onClickthroughClick,c=t.shouldShowClickthroughLink,u=t.intl.formatMessage,l=t.shouldShowChangeboarding;return[this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:r,elemBefore:n?o.a.createElement(V.a,{primaryColor:p.colors.P300}):null},u(Nn.a.startTour))},key:"start-tour",isAllowed:l}),this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:i,href:"//confluence.atlassian.com/display/JIRACORECLOUD/The+new+Jira+issue+view",target:"_blank"},u(Nn.a.findOutMore))},key:"find-out-more",isAllowed:l}),this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:s,href:e.getLinkToBentoToggle(),target:"_blank"},u(Nn.a.turnOffForNow))},key:"turn-off-for-now",isAllowed:this.shouldShowTurnOffForNowForSoftwareAndCore()}),{content:u(Nn.a.turnOffNewIssueView),eventName:"opt-out",href:this.getLinkToBentoToggle(),target:"_blank",isAllowed:this.shouldShowOptOutForSoftwareAndCore()},this.createComponentAction({component:function(){return o.a.createElement(N.a,{onClick:a,href:Object(z.a)()},u(Nn.a.seeOldView))},key:"old-view-clickthrough",isAllowed:c})]}},{key:"getProjectTypeSpecificIssueActions",value:function(){var e=this;return($n(this.props.projectType)?this.getNewIssueActionsForServiceDesk():this.getNewIssueActionsForSoftwareAndCore()).map((function(t){return e.buildDropdownItem(t)})).filter((function(e){return!!e}))}},{key:"shouldShowAddToIssueDropdownGroup",value:function(){var e=this.props,t=e.canLogTime,n=e.shouldShowFlagAction,r=e.ecosystemActions;return t||n||r.length>0}},{key:"canLinkToParent",value:function(){var e=this.props,t=e.parentLevelName,n=e.shouldShowAddParent,r=e.hasParentIssueTypeIds;return!!t&&n&&r}},{key:"buildDropdownItem",value:function(e){var t=this;if(e.component){var n=e,r=n.component,i=n.key;return!1!==e.isAllowed?o.a.createElement(r,{key:i,onActionSelectedAnalytics:function(e){return t.props.onActionSelectedAnalytics(e)}}):null}if(e.eventName){var s=e;return s.isAllowed?o.a.createElement(N.a,{onClick:function(){return t.props.onActionSelectedAnalytics(s.eventName)},key:s.eventName,href:s.href,target:s.target},s.content):null}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.baseUrl,r=t.intl,s=t.issueDeleteCallbacks,a=t.issueId,c=t.onActionSelectedAnalytics,u=t.onClose,l=t.shouldShowPulse,f=t.isDisabled,d=t.forgeActiveIssueAction,p=t.onOpenChange,m=r.formatMessage;if(!this.props.shouldShowActions)return null;var y=this.getAddToIssueDropdownItemGroup(),b=this.getIssueManipulationDropdownItemGroup(),g=this.getIssueExportDropdownItemGroup(),v=this.getIssueActionsDropdownItemGroup(),h=this.getIssueConfigurationDropdownItemGroup(),O=Object(i.isForgeIssueActionEnabled)()&&!!d&&d.isLoading,j=Object(i.isForgeIssueActionEnabled)()?{isLoading:O,isDisabled:f}:{isLoading:f},w=o.a.createElement(K.a,{name:xe.a},o.a.createElement(T,Un({shouldShowPulse:l,moreLabel:m(Nn.a.triggerButtonLabel),onItemActivated:c},j,{onOpenChange:p}),o.a.createElement(Qn,null,y,b,this.getAttachmentGroup(),g,v,h)),o.a.createElement(nn,{issueDeleteCallbacks:s,onClose:u}),Object(i.isMoveIssueDialogEnabled)()&&o.a.createElement(J,{baseUrl:Object(Y.toBaseUrl)(n),shouldShow:this.state.showMoveIssueModal,issueId:Object(Y.toIssueId)(a),onDone:function(){return e.setState({showMoveIssueModal:!1})}}),Object(i.isForgeIssueActionEnabled)()&&o.a.createElement(wn,null),Object(i.isJsdViewAllAttachmentEnabled)()&&o.a.createElement(Ft,null));return o.a.createElement(q.a,null,this.shouldShowDownloadAll()?o.a.createElement(o.a.Fragment,null,w,o.a.createElement(L.a,{engagementId:xe.a}),o.a.createElement($.k,{onMount:function(e){return Object($.r)(e,"downloadAllOnboarding mounted")}})):w)}}]),n}(r.Component);Zn.defaultProps={issueId:"",isSubtask:!1,issueDeleteCallbacks:{onIssueDeleteSuccess:R.a,onIssueDeleteFailure:R.a},isSimplified:!1,hasParentIssueTypeIds:!1,hasParent:!1,shouldShowChangeboarding:!1,shouldShowTurnOffForNow:!1,shouldShowPulse:!1,shouldShowConvertToSubtask:!1,shouldShowConvertToIssue:!1,shouldShowClickthroughLink:!1,shouldShowAddParent:!1,ecosystemActions:[],parentLevelName:null,viewModeOptions:{viewModeSwitchEnabled:!1}},Zn.displayName="IssueActions";var Xn=Object(le.a)([Object(W.f)("dropdownItem",{onStartTourClick:"clicked",onFindOutMoreClick:"clicked",onOptOutClick:"clicked",onClickthroughClick:"clicked",onShowClassicConfigurationClick:"clicked",onOpenChange:"clicked",onExportPrintClick:"clicked",onExportXmlClick:"clicked",onExportDocClick:"clicked"}),Object(W.r)({onStartTourClick:"startIssueChangeboardingTour",onFindOutMoreClick:"goToNewIssueDocs",onOptOutClick:"optOutFromNewIssue",onClickthroughClick:"clickthroughToOldIssue",onShowClassicConfigurationClick:"showClassicConfiguration",onOpenChange:"issueActionsOpenChanged",onExportPrintClick:"printIssue",onExportXmlClick:"exportIssueToXml",onExportDocClick:"exportIssueToDoc"}),Object(B.a)((function(e){return{onActionSelectedAnalytics:function(t){e(t)}}})),a.injectIntl,Object(A.connect)((function(e){return{requestTypeId:Object(Se.a)(e),analyticsSource:Object(ae.b)(e),isDisabled:Object(ce.r)(e),shouldShowFlagAction:Ee(e),shouldShowChangeboarding:Object(ge.e)(e),shouldShowClassicConfiguration:Object(ke.j)(e),viewScreenId:Object(ve.a)(e),shouldShowSwiftLink:Object(ke.l)(e),shouldShowPulse:Object(ge.b)(e),canCloneIssue:Object(je.b)(e),canDeleteIssue:Object(je.d)(e),canMoveIssue:Object(je.g)(e),shouldShowOptOut:Object(ke.k)(e),shouldShowConvertToSubtask:Object(ke.g)(e),shouldShowConvertToIssue:Object(ke.f)(e),shouldShowTurnOffForNow:Pe(e),shouldShowClickthroughLink:Object(X.b)()?Object(he.b)(e):Object(he.a)(e),shouldShowAddParent:Object(je.e)(e),isSubtask:Object(_e.c)(e),baseUrl:Object(ae.f)(e),issueId:Object(ce.k)(e),issueTypeId:Object(be.e)(e),issueKey:Object(ae.B)(e),projectKey:Object(ae.J)(e),projectType:Object(ce.E)(e),shouldShowActions:Object(ke.i)(e),canLogTime:Object(ue.b)(e),ecosystemActions:Object(i.isForgeIssueActionEnabled)()?Object(fe.k)(e):Object(fe.q)(e),parentLevelName:Object(pe.h)(e),hasParent:ye(e),hasParentIssueTypeIds:Object(pe.b)(e),isSimplified:Object(ce.t)(e),forgeActiveIssueAction:Object(de.a)(e)}}),(function(e){return{onLogTimeClick:function(){e(Object(re.bb)(ie.a,null))},onStartTourClick:function(){e(Object(te.g)(Date.now()))},onDeleteIssueClick:function(){e(Object(ne.j)())},onLinkToParentClick:function(){e(Object(ee.q)())}}}))])(Zn);t.a=function(e){return o.a.createElement(Xn,e)}},"./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/messages.js":function(e,t,n){"use strict";var r=n("./node_modules/react-intl/lib/index.es.js");t.a=Object(r.defineMessages)({move:{id:"issue.move",defaultMessage:"Move"},clone:{id:"issue.clone",defaultMessage:"Clone"},delete:{id:"issue.delete",defaultMessage:"Delete"},print:{id:"issue.print",defaultMessage:"Print"},exportXML:{id:"issue.export-xml",defaultMessage:"Export XML"},exportDOC:{id:"issue.export-doc",defaultMessage:"Export Word"},switchToModal:{id:"issue.switch-to-modal",defaultMessage:"Open issues in dialog"},switchToSidebar:{id:"issue.switch-to-sidebar",defaultMessage:"Open issues in sidebar"},newIssueView:{id:"issue.title-for-new-issue-actions",defaultMessage:"New Jira issue view"},swiftLink:{id:"issue.swift-link",defaultMessage:"Configure"},swiftBacklink:{id:"issue.swift-backlink-title",defaultMessage:"Back to {issueKey}"},startTour:{id:"issue.start-guided-tour",defaultMessage:"Show me the highlights"},findOutMore:{id:"issue.find-out-more",defaultMessage:"Find out more"},seeOldView:{id:"issue.see-old-view",defaultMessage:"See the old view"},turnOffNewIssueView:{id:"issue.turn-off-new-issue-view",defaultMessage:"Turn off new issue view"},turnOffForNow:{id:"issue.turn-off-issue-view-for-now",defaultMessage:"Turn off for now"},triggerButtonLabel:{id:"issue.label-for-issue-actions-button",defaultMessage:"Actions"},configure:{id:"issue.configure",defaultMessage:"Configure"},addToParentLevel:{id:"issue.add-to-parent-level",defaultMessage:"Add parent"},changeParentLevel:{id:"issue.change-parent-level",defaultMessage:"Change parent"},convertToSubtask:{id:"issue.convert-to-subtask",defaultMessage:"Convert to Subtask"},convertToIssue:{id:"issue.convert-to-issue",defaultMessage:"Convert to Issue"}})},"./src/packages/issue/issue-view/src/views/issue-base/foundation/meta-container/meta-container-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),l=n("./node_modules/reselect/lib/index.js"),f=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),d=Object(l.createSelector)(f.e,(function(e){return e.createdDate})),p=n("./src/packages/issue/issue-view/src/common/component/timestamp/index.js"),m=n("./node_modules/@atlaskit/theme/index.js"),y=i.default.div(["display:flex;margin-top:","px;"],s.f/2),b=i.default.small(["color:",";padding-top:","px;white-space:nowrap;margin-top:0;font-size:","px;line-height:",";"],m.colors.N200,s.f/4,1.5*s.f,s.f/6),g={whenDisplaySettingSwitchable:Object(i.css)([":hover{color:",";}"],m.colors.N500)},v=function(e){var t=e.text,n=e.date,r=e.timeZone;return(o.a.createElement(y,null,o.a.createElement(b,null,t,"\xa0",o.a.createElement(p.b,{value:n,timeZone:r,extraStyles:g,tooltipPosition:"right"}))))};v.displayName="AuditDate";var h=v,O=Object(u.a)([Object(c.connect)((function(e){return{timeZone:Object(f.y)(e)}}),{})])(h);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=S(n);function n(){return w(this,n),t.apply(this,arguments)}return function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(n,[{key:"render",value:function(){var e=this.props.date;return e&&o.a.createElement(O,{date:e,text:o.a.createElement(a.FormattedMessage,{id:"issue.created-date-text-short",defaultMessage:"Created"})})}}]),n}(r.Component);P.defaultProps={date:null},P.displayName="CreatedDate";var _=Object(u.a)([Object(c.connect)((function(e){return{date:d(e)}}),{})])(P),x=Object(l.createSelector)(f.e,(function(e){return e.updatedDate}));function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=M(n);function n(){return A(this,n),t.apply(this,arguments)}return function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(n,[{key:"render",value:function(){var e=this.props.date;return e&&o.a.createElement(O,{date:e,text:o.a.createElement(a.FormattedMessage,{id:"issue.updated-date-text-short",defaultMessage:"Updated"})})}}]),n}(r.Component);F.defaultProps={date:null},F.displayName="UpdatedDate";var U=Object(u.a)([Object(c.connect)((function(e){return{date:x(e)}}),{})])(F),V=i.default.div(["margin-top:","px;margin-right:","px;flex:1;"],s.f/2,2*s.f);t.a=function(){return o.a.createElement(V,null,o.a.createElement(_,null),o.a.createElement(U,null))}},"./src/packages/issue/issue-view/src/views/issue-base/foundation/modal-close-button.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/@atlaskit/button--current/components/Button.js"),a=n("./node_modules/@atlaskit/icon--current/glyph/cross.js"),c=n.n(a),u=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object(i.defineMessages)({label:{id:"issue.label-for-modal-close-button",defaultMessage:"Close"}}),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage(g.label),t=o.a.createElement(c.a,{label:e,size:"medium"});return o.a.createElement("div",null,o.a.createElement(u.a,{content:e,position:"top"},o.a.createElement(s.b,{appearance:"subtle",spacing:"default",iconBefore:t,onClick:this.props.onClose})))}}]),n}(r.PureComponent);v.displayName="ModalActionsCloseButton",t.a=Object(i.injectIntl)(v)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/@atlaskit/button--current/components/Button.js"),s=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/styled.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e);var t=y(n);function n(){return d(this,n),t.apply(this,arguments)}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.onClick,r=e.extraAttributes,a=e.label,u=e.compactMode,f=e.testId;return(o.a.createElement(s.a,c({},r,{"data-test-id":f}),o.a.createElement(i.b,{spacing:u?"none":"default",iconBefore:o.a.createElement(s.b,{compactMode:u},t),onClick:n,theme:function(e,t){var n=e(t);return l(l({},n),{},{buttonStyles:l(l({},n.buttonStyles),{},{margin:0})})}},!u&&a)))}}]),n}(r.Component);v.defaultProps={extraAttributes:{},label:"",compactMode:!0,testId:void 0},v.displayName="View"},"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),i=r.default.span(["margin-right:","px;"],o.f),s=r.default.span(["padding:","px;margin-left:","px;margin-right:","px;"],(function(e){return e.compactMode?o.f/2:0}),(function(e){return e.compactMode?0:-4}),(function(e){return e.compactMode?0:-2}))},"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/assets/incident-create-icon.svg":function(e,t,n){e.exports=n.p+"assets/incident-create-icon.b72a10e724bc55a4d580df6e4dc082f7.8.svg"},"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/assets/incident-icon.svg":function(e,t,n){e.exports=n.p+"assets/incident-icon.42c8f6da75b54a565bcc0061425abdb6.8.svg"},"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/lodash/flow.js"),i=n.n(o),s=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/growth-experiments/index.js"),c=n("./src/packages/issue/issue-view/src/actions/attachment-picker-actions.js"),u=n("./src/packages/issue/issue-view/src/actions/attachment-popup-actions.js"),l=n("./src/packages/issue/issue-view/src/actions/child-panel-actions.js"),f=n("./src/packages/issue/issue-view/src/actions/confluence-pages-actions.js"),d=n("./src/packages/issue/issue-view/src/actions/confluence-pages-xflow-actions.js"),p=n("./src/packages/issue/issue-view/src/actions/ecosystem-content-panel-actions.js"),m=n("./src/packages/issue/issue-view/src/actions/fetch-confluence-app-links-actions.js"),y=n("./src/packages/issue/issue-view/src/actions/issue-links-actions.js"),b=n("./src/packages/issue/issue-view/src/actions/link-incident-actions.js"),g=n("./src/packages/issue/issue-view/src/actions/web-links-actions.js"),v=n("./node_modules/react/index.js"),h=n.n(v),O=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t=e.fieldKey,n=e.propName,r=e.isEnabled,o=void 0===r?function(){return!0}:r,i=e.FieldValueSubscriber,s=void 0===i?O.a:i;return function(e){return function(r){if(!o())return h.a.createElement(e,r);var i=r.issueKey;return(h.a.createElement(s,{issueKey:i,fieldKey:t},(function(t){var o=w(w({},r),{},E({},n,t));return(h.a.createElement(e,o))})))}}},S=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),I=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),C=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),P=n("./src/packages/issue/issue-view/src/feature-flags.js"),_=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),x=n("./src/packages/issue/issue-view/src/selectors/attachment-selector.js"),T=n("./src/packages/issue/issue-view/src/selectors/classic-project-epic-selector.js"),A=n("./src/packages/issue/issue-view/src/selectors/confluence-app-links-selector.js"),D=n("./node_modules/reselect/lib/index.js"),R=(n("./src/packages/platform/observability/analytics-legacy-gasv2/src/safe-string.js"),n("./src/packages/platform/utils/constants/src/analytics-sources.js")),M=[R.c.AGILITY_BACKLOG,R.c.FULL_ISSUE,R.c.SERVICEDESK_QUEUES_ISSUE,R.c.STANDARD_ROADMAP_ISSUE,R.c.GLOBAL_ISSUE_NAVIGATOR_ISSUE,R.c.PROJECT_ISSUE_NAVIGATOR,R.c.SIMPLE_SOFTWARE_BOARD,R.c.SOFTWARE_ISSUE,R.c.SOFTWARE_BACKLOG_ISSUE],L=Object(D.createSelector)(A.a,I.u,I.b,(function(e,t,n){return!e&&!t&&function(e){return M.includes(e.toString())}(n)})),N=n("./src/packages/issue/issue-view/src/selectors/issue-links-type-selector.js"),F=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),U=n("./src/packages/issue/issue-view/src/selectors/web-links-selector.js"),V=n("./src/packages/issue/issue-view/src/views/common/with-container-width/index.js"),K=n("./node_modules/react-intl/lib/index.es.js"),B=n("./node_modules/lodash/noop.js"),W=n.n(B),H=n("./node_modules/@atlaskit/icon--current/glyph/attachment.js"),G=n.n(H),q=n("./node_modules/@atlaskit/icon--current/glyph/child-issues.js"),z=n.n(q),Y=n("./node_modules/@atlaskit/icon--current/glyph/issues.js"),Q=n.n(Y),J=n("./node_modules/@atlaskit/icon--current/glyph/page.js"),$=n.n(J),Z=n("./node_modules/@atlaskit/icon--current/glyph/subtask.js"),X=n.n(Z),ee=n("./node_modules/@atlaskit/icon--current/glyph/world.js"),te=n.n(ee),ne=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),re=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),oe=n("./src/packages/platform/observability/browser-metrics/src/index.js"),ie=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),se=n("./src/packages/wrm/src/index.js"),ae=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),ce=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),ue=n("./src/packages/issue/issue-view/src/common/skeleton/container-mask-view.js"),le=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-background-view.js"),fe=n("./src/packages/issue/issue-view/src/common/skeleton/skeleton-container-view.js"),de=ce.default.div(["display:flex;flex-direction:row;width:100%;"]),pe=Object(ce.default)(le.a)(["flex-grow:1;"]),me=Object(ce.default)(le.a)(["width:8px;"]),ye=ce.default.div(["width:32px;height:32px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjAgMCAzMiAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT4zMngzMl9yb3VuZGVkZWRnZTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9IjMyeDMyX3JvdW5kZWRlZGdlIiBmaWxsPSIjRkZGRkZGIj4gICAgICAgICAgICA8cGF0aCBkPSJNMywwIEMxLjM0MzE0NTc1LDMuMDQzNTkxODhlLTE2IC0yLjAyOTA2MTI1ZS0xNiwxLjM0MzE0NTc1IDAsMyBMMCwwIEwzLDAgWiBNMjksMCBMMzIsMCBMMzIsMyBDMzIsMS4zNDMxNDU3NSAzMC42NTY4NTQyLC0zLjA0MzU5MTg4ZS0xNiAyOSwwIFogTTMyLDI5IEwzMiwzMiBMMjksMzIgQzMwLjY1Njg1NDIsMzIgMzIsMzAuNjU2ODU0MiAzMiwyOSBaIE0zLDMyIEwwLDMyIEwwLDI5IEMyLjAyOTA2MTI1ZS0xNiwzMC42NTY4NTQyIDEuMzQzMTQ1NzUsMzIgMywzMiBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==);"]),be=function(){return h.a.createElement(fe.a,null,h.a.createElement(le.b,null),h.a.createElement(ue.a,{paddingTop:4,paddingBottom:9},h.a.createElement(de,null,h.a.createElement(ye,null),h.a.createElement(me,null),h.a.createElement(ye,null),h.a.createElement(me,null),h.a.createElement(ye,null),h.a.createElement(pe,null))))},ge=n("./src/packages/issue/issue-view/src/views/constants.js"),ve=n("./node_modules/lodash/differenceBy.js"),he=n.n(ve),Oe=n("./node_modules/@atlaskit/dropdown-menu/components/group/DropdownItemGroup.js"),je=n("./node_modules/@atlaskit/dropdown-menu/components/DropdownMenu.js"),we=n("./node_modules/@atlaskit/icon--current/glyph/add.js"),Ee=n.n(we),ke=n("./node_modules/@atlaskit/icon--current/glyph/addon.js"),Se=n.n(ke),Ie=n("./node_modules/@atlaskit/icon--current/glyph/more.js"),Ce=n.n(Ie),Pe=n("./node_modules/@atlaskit/theme/index.js"),_e=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),xe=n("./src/packages/common-legacy-do-not-add-anything-new/src/analytics-v2-wrapped-components/dropdown-item.js"),Te=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/async-icon/index.js"),Ae=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),De=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),Re=n("./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js"),Me=n("./src/packages/issue/issue-view/src/ecosystem/broadcast-connect-event.js"),Le=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-event.js"),Ne=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js");function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e){return function(e){if(Array.isArray(e))return Ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=3*Ae.f,$e=ce.default.span(["padding:","px;"],Ae.f/2),Ze=ce.default.div(["display:inline-flex;"]),Xe=ce.default.span(["color:",";"],Pe.colors.B400),et=Object(K.defineMessages)({quickAddAddonLabel:{id:"issue.quickadd.addon",defaultMessage:"Add app"},addMore:{id:"issue.quickadd.addon.add.more",defaultMessage:"Add apps"}}),tt=function(e){return!!e.tooltip&&!!e.iconUrl},nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(n,e);var t=ze(n);function n(){var e;He(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getExtensionsToShowIconsFor=function(){return e.props.availableAddons.filter(tt).slice(0,3)},e.getExtensionsToShowInDropdown=function(){return he()(e.props.availableAddons,e.getExtensionsToShowIconsFor(),"moduleKey")},e.transformExtension=function(t){var r=h.a.createElement(xe.b,{key:t.moduleKey,elemBefore:n.getIcon(t),onClick:e.itemSelected(t)},t.name);return t.tooltip?h.a.createElement(re.a,{content:t.tooltip,key:t.moduleKey},r):r},e.createDropdownItems=function(t){return h.a.createElement(Oe.a,null,t.map(e.transformExtension),e.props.canInstallAddons&&h.a.createElement(xe.b,{key:et.addMore.id,elemBefore:h.a.createElement(Xe,null,h.a.createElement(Ee.a,{label:e.props.intl.formatMessage(et.addMore)})),onClick:e.props.onAddExtensionsClick,href:"".concat(e.props.baseUrl,"/plugins/servlet/upm/marketplace/featured"),target:"_new"},h.a.createElement(Xe,null,e.props.intl.formatMessage(et.addMore))))},e.itemSelected=function(t){return function(){var n=Object(Re.a)(t.moduleKey,10),r="".concat(t.appKey,"_").concat(t.moduleKey);t.showByDefault||e.props.contentPanelsInIssue.includes("".concat(t.appKey,"_").concat(n))||e.props.contentPanelsInIssue.includes(r)?(e.props.onContentPanelFocusAnalytics(Object(De.b)(t.appKey,t.moduleKey)),e.props.onSelectContentPanel(r),e.sendQuickAddClickedEvent(!1,t.appKey,t.moduleKey)):(e.props.onContentPanelAddAnalytics(Object(De.b)(t.appKey,t.moduleKey)),e.props.onAddExtension(r),e.sendQuickAddClickedEvent(!0,t.appKey,t.moduleKey))}},e.sendQuickAddClickedEvent=function(t,n,r){e.props.onQuickAddClick(Le.c,{addon_key:n,key:r},{isNewToIssue:t.toString()})},e.transformExtensionToQuickIcon=function(t,r){return e.props.createItemView({id:t.appKey,label:t.tooltip||t.name,icon:n.getIcon(t),onClick:e.itemSelected(t),itemIndex:e.props.startIndex+r})},e.renderVisibleExtensionIcons=function(){return e.getExtensionsToShowIconsFor().map((function(t,n){return e.transformExtensionToQuickIcon(t,n)}))},e.renderDropdownExtensions=function(){var t=e.props,n=t.intl,r=t.canInstallAddons,o=e.getExtensionsToShowInDropdown();return o.length>0||r?h.a.createElement(je.a,{key:"ecosystem-actions-dropdown",boundariesElement:Object(P.isIndividualScrollingEnabled)()?"scrollParent":void 0,triggerType:"button",triggerButtonProps:{spacing:"none",theme:function(e,t){var n=e(t);return Be(Be({},n),{},{buttonStyles:Be(Be({},n.buttonStyles),{},{margin:0})})},iconBefore:h.a.createElement($e,null,h.a.createElement(Ce.a,{size:"medium",label:n.formatMessage(et.quickAddAddonLabel)}))}},e.createDropdownItems(o)):null},e}return function(e,t,n){t&&Ge(e.prototype,t),n&&Ge(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.availableAddons,n=e.contentPanelsInIssue,r=e.onContentPanelListLoadedAnalytics;t.length>0&&r(Object(De.c)(t,n))}},{key:"render",value:function(){var e=this.renderVisibleExtensionIcons(),t=this.renderDropdownExtensions();return h.a.createElement(Ze,null,[].concat(Ue(e),[t]))}}],[{key:"getIcon",value:function(e){var t=this;return e.iconUrl?h.a.createElement(Te.a,{title:e.name,url:e.iconUrl,width:Je,height:Je,fallback:function(){return t.getFallbackIcon({name:e.name})}}):this.getFallbackIcon({name:e.name})}}]),n}(v.Component);nt.defaultProps={canInstallAddons:!1,availableAddons:[],contentPanelsInIssue:[],onContentPanelListLoadedAnalytics:W.a,onContentPanelAddAnalytics:W.a,onContentPanelFocusAnalytics:W.a,onAddExtensionsClick:W.a,onQuickAddClick:W.a,onAddWebLinkClick:W.a},nt.getFallbackIcon=function(e){return h.a.createElement(Se.a,{size:"medium",label:e.name})},nt.displayName="UnsafeAddonsQuickAdd";var rt=function(e,t,n){Object(Me.a)(e,t,n)},ot=i()(Object(s.a)((function(e){return{onContentPanelListLoadedAnalytics:function(t){return e("load",Be({},t))},onContentPanelAddAnalytics:function(t){return e("add",Be({},t))},onContentPanelFocusAnalytics:function(t){return e("focus",Be({},t))}}})),Object(_e.r)({onAddExtensionsClick:"quickAddDropdownMenuItem",onAddWebLinkClick:"quickAddWebLink"}),Object(r.connect)((function(e){return{availableAddons:Object(Ne.c)(e),contentPanelsInIssue:Object(Ne.p)(e),baseUrl:Object(I.f)(e),canInstallAddons:Object(Ne.d)(e),onQuickAddClick:Object(P.isReducedIssueRerendersEnabled)()?rt:function(e,t,n){Object(Me.a)(e,t,n)}}}),(function(e){return{onAddWebLinkClick:function(){return e(Object(g.v)())}}})),Object(ae.a)())(Object(K.injectIntl)(nt)),it=n("./node_modules/@atlaskit/button--current/components/Button.js"),st=n("./node_modules/@atlaskit/icon--current/glyph/chevron-down.js"),at=n.n(st),ct=n("./node_modules/@atlaskit/icon--current/glyph/link.js"),ut=n.n(ct),lt=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/styled.js"),ft=ce.default.span(["display:flex;margin-right:","px;"],Ae.f),dt=ce.default.span(["padding:","px;"],Ae.f/2),pt=Object(v.memo)((function(e){var t=e.item,n=t.id,r=t.icon,o=t.label,i=t.onClick,s=t.testId,a=Object(v.useCallback)((function(e,t){Object(ie.u)(t,"createLink",{actionItemId:n,name:"linkDropdownListItem"}),i&&i()}),[n,i]);return h.a.createElement(xe.b,{id:n,elemBefore:r,onClick:a,"data-test-id":s},o)}));function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yt=function(e){var t=e.position,n=e.actions,r=e.tooltip,o=e.triggerButtonProps,i=h.a.createElement(it.b,mt({spacing:"none"},o,{"data-test-id":"issue.views.issue-base.foundation.quick-add.link-button.ui.link-dropdown-button"})),s=void 0!==r?h.a.createElement(re.a,{content:r,position:"bottom",hideTooltipOnClick:!0},i):i;return h.a.createElement(je.a,{key:"web-link-actions-dropdown",position:t,trigger:s,onOpenChange:function(e,t){var n=e.isOpen;Object(ie.u)(t,"moreLinksDropdownToggled",{isOpen:n,name:"linkDropdownListButton"})}},h.a.createElement(Oe.a,null,n.map((function(e){return h.a.createElement(pt,{key:e.id,item:e})}))))};yt.displayName="DropdownListButton";var bt=yt;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kt=function(e){var t=e.compactMode,n=e.actions,r=e.tooltipLabel;if(t){var o={iconBefore:h.a.createElement(dt,null,h.a.createElement(ut.a,{size:"medium",label:r}))};return(h.a.createElement(bt,{actions:n,triggerButtonProps:o,tooltip:r}))}var i=wt(n),s=i[0],a=s.id,c=s.onClick,u=s.label,l=s.tooltip,f=s.testId,d=i.slice(1),p=h.a.createElement(lt.b,{compactMode:t},h.a.createElement(ut.a,{size:"medium",label:l})),m=function(e,t){Object(ie.u)(t,"AddLink",{name:"AddLinkButton"}),c()};return 0===d.length?h.a.createElement(re.a,{content:l,position:"bottom",key:a},h.a.createElement(it.b,{spacing:"default",iconBefore:p,onClick:m,"data-test-id":f},u)):h.a.createElement(h.a.Fragment,null,h.a.createElement(re.a,{content:l,position:"bottom",key:a},h.a.createElement(it.b,{spacing:"default",iconBefore:p,onClick:m,"data-test-id":f,theme:function(e,t){var n=e(t);return Ot(Ot({},n),{},{buttonStyles:Ot(Ot({},n.buttonStyles),{},{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"2px solid ".concat(Pe.colors.N40),margin:0})})}},u)),h.a.createElement(bt,{actions:d,position:"bottom right",tooltip:r,triggerButtonProps:{iconBefore:h.a.createElement(dt,null,h.a.createElement(at.a,{size:"medium",label:r})),theme:function(e,t){var n=e(t);return Ot(Ot({},n),{},{buttonStyles:Ot(Ot({},n.buttonStyles),{},{borderTopLeftRadius:0,borderBottomLeftRadius:0,margin:0})})}}}))},St=function(e){var t=e.actions,n=vt(e,["actions"]);return 0===t.length?null:h.a.createElement(ft,null,h.a.createElement(kt,gt({actions:t},n)))};St.displayName="LinkButtonWithWrapper";var It=St,Ct=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-item/index.js"),Pt=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/assets/incident-create-icon.svg"),_t=n.n(Pt),xt=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/assets/incident-icon.svg"),Tt=n.n(xt),At=Object(K.defineMessages)({addAttachmentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-attachment-label",defaultMessage:"Add attachment"},createSubtaskTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-subtask-label",defaultMessage:"Create subtask"},addIssueLinkTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-issue-link-label",defaultMessage:"Link issue"},createChildTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-child-label",defaultMessage:"Add a child issue"},linkConfluencePageTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-label",defaultMessage:"Link a Confluence page"},linkConfluencePageXFlowTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-xflow-label",defaultMessage:"Link a Confluence page"},createIssueInEpicTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-issue-in-epic-label",defaultMessage:"Create issue in epic"},addAttachmentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-attachment-button-label",defaultMessage:"Attach"},createSubtaskLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-subtask-button-label",defaultMessage:"Create subtask"},addIssueLinkLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-issue-link-button-label",defaultMessage:"Link issue"},createChildLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-child-button-label",defaultMessage:"Add a child issue"},linkConfluencePageLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-button-label",defaultMessage:"Link Confluence page"},linkConfluencePageXFlowLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-button-xflow-label",defaultMessage:"Link Confluence page"},createIssueInEpicLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-issue-in-epic-button-label",defaultMessage:"Create issue in epic"},linkIncidentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-incident-label",defaultMessage:"Link major incident"},linkIncidentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-incident-tooltip",defaultMessage:"Link major incident"},createIncidentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-incident-label",defaultMessage:"Create major incident"},createIncidentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-incident-tooltip",defaultMessage:"Create major incident"},addWebLinkLabel:{id:"issue.foundation.quick-add.quick-add-items.add-web-link-label",defaultMessage:"Add web link"},addWebLinkTooltip:{id:"issue.foundation.quick-add.quick-add-items.add-web-link-tooltip",defaultMessage:"Link web pages and more"},linkDropdownButtonLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.web-link-dropdown-label",defaultMessage:"Link web pages and more"},linkDropdownButtonCompactLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.web-link-dropdown-compact-label",defaultMessage:"Link issues, web pages, and more"}}),Dt=ce.default.div(["margin-bottom:","px;padding:","px 0;display:inline-flex;"],Ae.f/2,Ae.f/2),Rt=ce.default.img(["height:","px;width:","px;"],3*Ae.f,3*Ae.f);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(n,e);var t=Kt(n);function n(){var e;Ft(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldUseCompactButtons:!1},e.componentDidMount=function(){e.props.fetchConfluenceAppLinks(),e.setShouldUseCompactButtons(),e.props.shouldFireLinkConfluencePageXFlowExposureEvent&&Object(a.b)()},e.componentDidUpdate=function(){e.setShouldUseCompactButtons()},e.setQuickAddRef=function(t){e.quickAddRef=t},e.setShouldUseCompactButtons=function(){var t=!e.props.containerWidth||e.props.containerWidth<=e.updateAndGetQuickAddExpandedWidth();e.state.shouldUseCompactButtons!==t&&e.setState({shouldUseCompactButtons:t})},e.getQuickAddRefClientWidth=function(){return e.quickAddRef?e.quickAddRef.clientWidth:0},e.updateAndGetQuickAddExpandedWidth=function(){return e.quickAddExpandedWidth<e.getQuickAddRefClientWidth()&&(e.quickAddExpandedWidth=e.getQuickAddRefClientWidth()),e.quickAddExpandedWidth},e.quickAddExpandedWidth=0,e.quickAddRef=void 0,e.sendAnalyticsEventFunc=function(t,n,r){return function(){r(),e.props.triggerButtonClickAnalytics(t,n,4)}},e.createItemView=function(t){var n=t.id,r=t.tooltip,o=t.label,i=t.icon,s=t.onClick,a=t.itemIndex,c=t.testId;return(h.a.createElement(re.a,{content:r,position:"bottom",key:n},h.a.createElement(Ct.a,{key:n,id:n,icon:i,onClick:e.sendAnalyticsEventFunc(n,a,s),label:o,compactMode:e.state.shouldUseCompactButtons,testId:c})))},e.renderSkeleton=function(){return h.a.createElement(be,null)},e.onAddIssueLinkClick=function(){Object(oe.c)().markStartOfInteraction({key:ge.c.ISSUE_LINKS.TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT,cancelExisting:!0}),e.props.onAddIssueLinkClick()},e.getQuickAddActionData=function(){var t=e.props,n=t.intl,r=t.canCreateAttachment,o=t.shouldShowCreateSubtaskButton,i=t.shouldShowIssueInEpicButton,s=t.canCreateIssueLink,a=t.onAddAttachmentClick,c=t.onCreateSubtaskClick,u=t.onCreateIssueInEpicClick,l=t.onChildCreateClick,f=t.supportsChildCreation,d=t.isServiceDesk,p=t.canLinkConfluencePage,m=t.canLinkConfluencePageXFlow,y=t.onLinkConfluencePageClick,b=t.onLinkConfluencePageXFlowClick,g=t.onCreateMajorIncidentClick,v=t.incidentLinking,O=t.incidentEscalate,j=t.onLinkIncidentClick,w=t.canAddWebLinks,E=t.onAddWebLinkClick,k=t.projectType,S=[{id:"attachment",tooltip:n.formatMessage(At.addAttachmentTooltip),label:n.formatMessage(At.addAttachmentLabel),icon:h.a.createElement(G.a,{size:"medium",label:n.formatMessage(At.addAttachmentTooltip)}),onClick:a,itemIndex:0,shouldRender:!d&&r,testId:""},{id:"create-subtask",tooltip:n.formatMessage(At.createSubtaskTooltip),label:n.formatMessage(At.createSubtaskLabel),icon:h.a.createElement(X.a,{size:"medium",label:n.formatMessage(At.createSubtaskTooltip)}),onClick:c,itemIndex:1,shouldRender:o,testId:""},{id:"create-issue-in-epic",tooltip:n.formatMessage(At.createIssueInEpicTooltip),label:n.formatMessage(At.createIssueInEpicLabel),icon:h.a.createElement(z.a,{size:"medium",label:n.formatMessage(At.createIssueInEpicTooltip)}),onClick:u,itemIndex:1,shouldRender:i,testId:""},{id:"create-child",tooltip:n.formatMessage(At.createChildTooltip),label:n.formatMessage(At.createChildLabel),icon:h.a.createElement(z.a,{size:"medium",label:n.formatMessage(At.createChildTooltip)}),onClick:l,itemIndex:1,shouldRender:f,testId:""},{id:"create-incident",tooltip:n.formatMessage(At.createIncidentTooltip),label:n.formatMessage(At.createIncidentLabel),icon:h.a.createElement(h.a.Fragment,null,h.a.createElement(ie.h,{eventName:"escalateMajorIncidentButton viewed",componentName:"BentoQuickAddItems"}),h.a.createElement(Rt,{src:_t.a})),onClick:g,itemIndex:3,shouldRender:!!O,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.create-incident"}].filter((function(e){return e.shouldRender})).map(e.createItemView),I=[{id:"issue-links",tooltip:n.formatMessage(At.addIssueLinkTooltip),label:n.formatMessage(At.addIssueLinkLabel),icon:h.a.createElement(Q.a,{size:"medium",label:n.formatMessage(At.addIssueLinkTooltip)}),onClick:e.onAddIssueLinkClick,itemIndex:2,shouldRender:s,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-issue"},{id:"link-confluence-page",tooltip:n.formatMessage(At.linkConfluencePageTooltip),label:n.formatMessage(At.linkConfluencePageLabel),icon:h.a.createElement($.a,{size:"medium",label:n.formatMessage(At.linkConfluencePageTooltip)}),onClick:y,itemIndex:3,shouldRender:p,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-page"},{id:"link-confluence-page-xflow",tooltip:n.formatMessage(At.linkConfluencePageXFlowTooltip),label:n.formatMessage(At.linkConfluencePageXFlowLabel),icon:h.a.createElement($.a,{size:"medium",label:n.formatMessage(At.linkConfluencePageXFlowTooltip)}),onClick:function(){return b(k)},itemIndex:3,shouldRender:m,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-page-xflow"},{id:"link-incident",tooltip:n.formatMessage(At.linkIncidentTooltip),label:n.formatMessage(At.linkIncidentLabel),icon:h.a.createElement(Rt,{src:Tt.a}),onClick:j,itemIndex:3,shouldRender:!!v,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-incident"},{id:"add-web-link",tooltip:n.formatMessage(At.addWebLinkTooltip),label:n.formatMessage(At.addWebLinkLabel),icon:h.a.createElement(te.a,{size:"medium",label:n.formatMessage(At.addWebLinkTooltip)}),onClick:E,itemIndex:3,shouldRender:w,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-web"}].filter((function(e){return e.shouldRender})),C=e.state.shouldUseCompactButtons,P=C?At.linkDropdownButtonCompactLabel:At.linkDropdownButtonLabel,_=n.formatMessage(P),x=h.a.createElement(It,{key:"quick-add-web-link-button",compactMode:C,actions:I,tooltipLabel:_}),T=h.a.createElement(ot,{key:"quick-add-content-panel",externalId:"issue.ecosystem.quick-add-content-panel",onSelectContentPanel:function(t){e.props.onSelectContentPanel(t),e.props.triggerButtonClickAnalytics("select_contentpanel",3,4)},onAddExtension:function(t){e.props.onAddExtension(t),e.props.triggerButtonClickAnalytics("add_contentpanel",3,4)},createItemView:e.createItemView,startIndex:S.length});return[].concat(Lt(S),[x,T])},e}return function(e,t,n){t&&Ut(e.prototype,t),n&&Ut(e,n)}(n,[{key:"render",value:function(){var e=this;if(this.props.isPreview)return this.renderSkeleton();var t=this.props.locale,n=this.getQuickAddActionData();return h.a.createElement(ne.a,{name:ge.e},n.length?h.a.createElement(se.b,{modules:[Object(se.d)(t)]},(function(){return h.a.createElement(Dt,{innerRef:e.setQuickAddRef},n)})):h.a.createElement("div",null))}}]),n}(v.Component);Ht.displayName="QuickAddItems",Ht.defaultProps={shouldFireLinkConfluencePageXFlowExposureEvent:!1,canCreateIssueLink:!1,canCreateSubtask:!1,canCreateAttachment:!1,canLinkConfluencePage:!1,canLinkConfluencePageXFlow:!1,canAddWebLinks:!1,triggerButtonClickAnalytics:W.a},Ht.displayName="UnsafeQuickAddItems";var Gt=Object(K.injectIntl)(Object(ae.a)()(Ht));t.a=i()(k({fieldKey:S.jb,propName:"incidentEscalate"}),k({fieldKey:S.jb,propName:"incidentLinking"}),Object(r.connect)((function(e){var t=Object(F.a)(e),n=Object(T.a)(e),r=Object(_.k)(e),o=Object(C.q)(e),i=n&&!r&&o,s=t&&!r&&!i,c=Object(a.A)()&&Object(a.p)()&&L(e),u=Object(a.A)()&&Object(a.n)()&&L(e);return{locale:Object(I.D)(e),canCreateAttachment:Object(x.b)(e),shouldFireLinkConfluencePageXFlowExposureEvent:c,shouldShowCreateSubtaskButton:s,shouldShowIssueInEpicButton:i,supportsChildCreation:r,canCreateIssueLink:Object(N.a)(e),isPreview:Object(C.s)(e),isServiceDesk:Object(I.v)(e),canLinkConfluencePage:Object(A.a)(e),canAddWebLinks:Object(U.a)(e),canLinkConfluencePageXFlow:u,projectType:Object(C.E)(e),issueKey:Object(I.B)(e)}}),(function(e){return{fetchConfluenceAppLinks:function(){return e(Object(m.c)())},onAddAttachmentClick:function(){return Object(P.isMediaPickerUseIsOpenEnabled)()?e(Object(u.d)()):e(Object(c.j)())},onCreateSubtaskClick:function(){return e(Object(l.n)())},onCreateIssueInEpicClick:function(){return e(Object(l.l)())},onAddIssueLinkClick:function(){return e(Object(y.r)())},onChildCreateClick:function(){return e(Object(l.j)())},onLinkConfluencePageClick:function(){return e(Object(f.p)())},onLinkConfluencePageXFlowClick:function(t){return e(Object(d.b)(t))},onLinkIncidentClick:function(){return e(Object(b.g)())},onCreateMajorIncidentClick:function(){return e(Object(b.e)())},onAddWebLinkClick:function(){return e(Object(g.v)())},onAddExtension:function(t){return e(Object(p.j)(t))},onSelectContentPanel:function(t){return e(Object(p.l)(t))}}})),Object(s.a)((function(e){return{triggerButtonClickAnalytics:function(t,n,r){return e("".concat(t,".click"),{index:n,actions:r})}}})),V.a)(Gt)},"./src/packages/issue/issue-view/src/views/issue-base/foundation/summary/summary-view.js":function(e,t,n){"use strict";var r=n("./src/packages/issue/issue-view/src/configurations.js"),o=n("./src/packages/issue/issue-view/src/views/connect-field.js"),i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/react-intl/lib/index.es.js"),c=n("./node_modules/lodash/flow.js"),u=n.n(c),l=n("./node_modules/lodash/noop.js"),f=n.n(l),d=n("./node_modules/@atlaskit/inline-edit--current/dist/esm/InlineEditStateless.js"),p=n("./src/packages/platform/observability/browser-metrics/src/index.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),y=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/inline-edit/messages.js"),b=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),g=n("./src/packages/issue/issue-view/src/views/constants.js"),v=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/text-area/index.js"),h=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),O=n("./node_modules/@atlaskit/theme/index.js"),j=Object(h.css)(["@media screen and (-webkit-min-device-pixel-ratio:0){word-break:break-word;}@media screen and (-webkit-transition){word-break:break-word;}@-moz-document url-prefix(){overflow-wrap:anywhere;}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){word-break:break-all;}"]),w=h.default.h1(["",";width:100%;margin:0;padding:0;color:",";",";"],O.typography.h700(),O.colors.heading,j),E=function(e){var t=e.value,n=e.onChange;return(s.a.createElement(w,{"data-test-id":"issue.views.issue-base.foundation.summary.heading.writeable"},s.a.createElement(v.a,{shouldAutoFocus:!0,value:t,onChange:n})))};E.displayName="SummaryFieldView";var k=E,S=function(e){var t=e.value;return(s.a.createElement(w,{"data-test-id":"issue.views.issue-base.foundation.summary.heading"},t))};S.displayName="SummaryReadOnlyView";var I=S;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,e);var t=T(n);function n(){var e;P(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onCancel=function(){document&&document.activeElement&&document.activeElement.blur(),Object(p.c)().markStartOfInteraction({key:g.c.SUMMARY.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),e.props.onCancel()},e.onConfirm=function(){document&&document.activeElement&&document.activeElement.blur(),Object(p.c)().markStartOfInteraction({key:g.c.SUMMARY.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM}),e.props.onConfirm()},e.onEditRequest=function(){Object(p.c)().markStartOfInteraction({key:g.c.SUMMARY.TIME_TO_RENDER_EDIT_VIEW}),e.props.onEditRequest()},e}return function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onExperienceSuccess()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditing,r=t.value;if(!e.isEditing||!n){var o=e.isEditing&&!n;!e.isEditing&&n&&Object(p.c)().markTimeToFinishTask({key:g.c.SUMMARY.TIME_TO_RENDER_EDIT_VIEW}),o&&(Object(p.c)().markTimeToFinishTask({key:g.c.SUMMARY.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),e.value===r&&Object(p.c)().markTimeToFinishTask({key:g.c.SUMMARY.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM}))}}},{key:"renderReadView",value:function(){return s.a.createElement(I,{value:this.props.value})}},{key:"renderEditView",value:function(){return s.a.createElement(k,{value:this.props.value,onChange:this.props.onChange})}},{key:"render",value:function(){var e=this.props.intl;return(s.a.createElement(m.a,{onEnter:this.onConfirm,onEscape:this.onCancel},s.a.createElement(d.a,{label:this.props.label,isLabelHidden:!0,readView:this.renderReadView(),editView:this.props.isEditable&&this.renderEditView(),value:this.props.value,isEditing:this.props.isEditing,invalidMessage:this.props.invalidMessage,isInvalid:!!this.props.invalidMessage,onCancel:this.onCancel,onConfirm:this.onConfirm,onEditRequested:this.onEditRequest,isFitContainerWidthReadView:!this.props.isMobile,editButtonLabel:e.formatMessage(y.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(y.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(y.a.cancelButtonLabel,{fieldName:this.props.label})})))}}]),n}(i.Component);R.displayName="SummaryInlineEditView",R.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:"",invalidMessage:null,onExperienceSuccess:f.a},R.displayName="SummaryInlineEditView";var M=u()(Object(b.f)(r.C),Object(b.e)(r.C),a.injectIntl)(R);t.a=Object(o.a)((function(){return{fieldId:r.C}}))(M)},"./src/packages/issue/issue-view/src/views/issue-base/get-layout-item-map.js":function(e,t,n){"use strict";var r=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),o=n("./src/packages/platform/ui/asset-tracking/assets-glance/src/index.js"),i=n("./src/packages/development/releases-glance/src/view/deployment-release-panel/index.js"),s=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/react-intl/lib/index.es.js"),l=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/lodash/flow.js"),d=n.n(f),p=n("./node_modules/lodash/noop.js"),m=n.n(p),y=n("./src/packages/platform/observability/browser-metrics/src/index.js"),b=n("./src/packages/issue/issue-view/src/common/component/section-heading/section-heading-view.js"),g=n("./src/packages/issue/issue-view/src/common/messages/drafts.js"),v=n("./src/packages/issue/issue-view/src/common/model/connect-field-type.js"),h=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),O=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),j=n("./src/packages/issue/issue-view/src/configurations.js"),w=n("./src/packages/issue/issue-view/src/selectors/drafts/selectors.js"),E=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),k=n("./src/packages/issue/issue-view/src/views/common/field-heading/field-heading-view.js"),S=n("./src/packages/issue/issue-view/src/views/constants.js"),I=n("./src/packages/platform/utils/fetch/src/index.js"),C=n("./src/packages/issue/issue-view/src/actions/attachment-viewer-actions.js"),P=n("./src/packages/issue/issue-view/src/actions/editor-actions.js"),_=n("./src/packages/issue/issue-view/src/common/constants/index.js"),x=n("./src/packages/issue/issue-view/src/common/service/mentions/index.js"),T=n("./src/packages/issue/issue-view/src/common/service/mentions/get-mention-encoder.js"),A=n("./src/packages/issue/issue-view/src/common/state/selectors/activity-provider-selector.js"),D=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),R=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),M=n("./src/packages/issue/issue-view/src/common/util/get-element/index.js"),L=n("./node_modules/reselect/lib/index.js"),N=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),F=Object(L.createSelector)(D.A,N.B,(function(e,t){return{objectId:e,containerId:t}})),U=n("./src/packages/issue/issue-view/src/selectors/tab-selector.js"),V=n("./src/packages/issue/issue-view/src/views/connect-field.js"),K=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),B=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/inline-edit/messages.js"),W=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),H=n("./src/packages/issue/issue-view/src/common/component/inline-edit/index.js"),G=n("./src/packages/issue/issue-view/src/common/component/renderer/index.js"),q=Object(u.defineMessages)({nonEditablePlaceholderText:{id:"issue.views.field.rich-text.nonEditablePlaceholderText",defaultMessage:"None"}}),z=n("./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js");function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=K.default.div(["width:100%;"]),ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(n,e);var t=Z(n);function n(){return Q(this,n),t.apply(this,arguments)}return function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(n,[{key:"render",value:function(){return c.a.createElement(te,{"data-test-id":"issue.views.field.rich-text.editor-container"},c.a.createElement(z.b,{baseUrl:this.props.baseUrl,portalElement:this.props.portalElement,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,contextIdentifier:this.props.contextIdentifier,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,emojiProvider:this.props.emojiProvider,externalId:this.props.externalId,defaultValue:this.props.value,onCancel:this.props.onCancel,onBlur:this.props.onBlur,onSave:this.props.onSave,onChange:this.props.onChange,isDisabled:this.props.isDisabled,isInvalid:this.props.isInvalid,isExpanded:this.props.isExpanded,shouldFocus:this.props.shouldFocus,onSaveFailure:this.props.onSaveFailure,onChangeFailure:this.props.onChangeFailure,onPaste:this.props.onPaste}))}}]),n}(a.Component);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ne.displayName="RichTextFieldView",ne.defaultProps={isDisabled:!1,isInvalid:!1,isExpanded:!1,shouldFocus:!1,value:null,mediaContext:null,mentionEncoder:null,emojiProvider:null,onPaste:m.a},ne.displayName="RichTextFieldView";var le=K.default.div(["width:100%;"]),fe=["isEditable","isEditing","externalId","noValueText","mediaContext"],de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(n,e);var t=ae(n);function n(){var e;oe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onMouseDownEditView=function(){e.mouseDownSelection=window.getSelection().toString()},e.onEditRequested=function(){var t=window.getSelection().toString(),n=t&&0!==t.length,r=e.mouseDownSelection&&0!==e.mouseDownSelection.length;n||r||e.props.onEditRequest()},e.getEditValue=function(){return e.props.adfValue},e.getNonEditablePlaceholderText=function(){return e.props.intl.formatMessage(q.nonEditablePlaceholderText)},e.mouseDownSelection=void 0,e}return function(e,t,n){t&&ie(e.prototype,t),n&&ie(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onExperienceSuccess()}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!fe.every((function(n){return t.props[n]===e[n]}))}},{key:"renderContent",value:function(){return c.a.createElement(le,null,c.a.createElement(G.a,{mediaContext:this.props.mediaContext,mentionEncoder:this.props.mentionEncoder,mentionProvider:this.props.mentionProvider,contextIdentifier:this.props.contextIdentifier,adf:Object(W.e)(this.props.adfValue),placeholder:this.props.isEditable?this.props.noValueText:this.getNonEditablePlaceholderText(),onMediaFileClick:this.props.onMediaFileClick}))}},{key:"renderReadView",value:function(){var e=this.props,t=e.intl,n=e.isEditable,r=e.isMobile,o=e.fieldId;return(c.a.createElement("div",{onMouseDown:this.onMouseDownEditView,role:"presentation","data-test-id":"issue.views.field.rich-text.".concat(o)},c.a.createElement(H.a,{label:"",isLabelHidden:!0,readView:this.renderContent(),onEditRequested:this.onEditRequested,isEditing:!1,editButtonLabel:t.formatMessage(B.a.editButtonLabel,{fieldName:""}),confirmButtonLabel:t.formatMessage(B.a.confirmButtonLabel,{fieldName:""}),cancelButtonLabel:t.formatMessage(B.a.cancelButtonLabel,{fieldName:""}),editView:n?c.a.createElement("div",null):null,onConfirm:m.a,onCancel:m.a,isFitContainerWidthReadView:!r})))}},{key:"renderEditView",value:function(){return c.a.createElement(ne,{baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,portalElement:this.props.portalElement,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,contextIdentifier:this.props.contextIdentifier,activityProvider:this.props.activityProvider,externalId:this.props.externalId,isDisabled:void 0,isExpanded:!0,shouldFocus:!0,value:this.getEditValue(),onCancel:this.props.onCancel,onChange:this.props.onChange,onBlur:this.props.onBlur,onSave:this.props.onConfirm,onSaveFailure:this.props.onSaveFailure,onChangeFailure:this.props.onChangeFailure,onPaste:this.props.onPaste})}},{key:"render",value:function(){return this.props.isEditing?this.renderEditView():this.renderReadView()}}]),n}(a.Component);de.displayName="RichTextInlineEditView",de.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,adfValue:void 0,mentionEncoder:null,contextIdentifier:void 0,onMediaFileClick:m.a,onExperienceSuccess:m.a},de.displayName="RichTextInlineEditView";var pe=Object(u.injectIntl)(de),me=Object(u.defineMessages)({noValueText:{id:"issue.placeholder-for-empty-issue-description-field",defaultMessage:"Add a description..."}});function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he=function(e){var t=e.onEditRequest,n=e.onConfirm,r=e.isEditing;Object(a.useEffect)((function(){r?Object(y.c)().markTimeToFinishTask({key:S.c.DESCRIPTION.TIME_TO_RENDER_EDIT_VIEW}):(Object(y.c)().markTimeToFeedback({key:S.c.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION}),Object(y.c)().markTimeToFeedback({key:S.c.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION}))}),[r]);var o=Object(a.useCallback)((function(){Object(y.c)().markStartOfInteraction({key:S.c.DESCRIPTION.TIME_TO_RENDER_EDIT_VIEW,cancelExisting:!0}),t()}),[t]),i=Object(a.useCallback)((function(){Object(y.c)().markStartOfInteraction({key:S.c.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION,cancelExisting:!0}),Object(y.c)().markStartOfInteraction({key:S.c.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION,cancelExisting:!0}),n()}),[n]);return c.a.createElement(pe,ve({},e,{onEditRequest:o,onConfirm:i}))};he.displayName="DescriptionField";var Oe=d()(Object(E.e)(j.g),Object(V.a)((function(){return{fieldId:j.g,shouldSaveDraft:!0,isOptimistic:!0,saveField:function(e){return function(e,t,n){var r="".concat(e,"/rest/internal/3/issue/").concat(t,"/description"),o=JSON.stringify(n);return Object(I.j)(r,{body:o})}(e.baseUrl,e.issueKey,e.value)},canContainMediaContent:!0,onSaveFailureFlagType:_.N,additionalProps:function(e,t){var n=Object(D.f)(e);return{baseUrl:n,portalElement:Object(U.a)(j.g)(e)?Object(M.b)()||document.body:void 0,adfValue:Object(h.g)(j.g)(e),htmlValue:Object(h.i)(j.g)(e),isInvalid:Object(h.k)(j.g)(e),invalidMessage:Object(h.j)(j.g)(e),mediaContext:Object(R.a)(e),mentionProvider:Object(x.b)(e),contextIdentifier:F(e),mentionEncoder:Object(T.a)(n),activityProvider:Object(A.a)(e),externalId:"issue.descriptionHtml",noValueText:t.formatMessage(me.noValueText)}},additionalCallbacks:function(e){return{onExpandedFailure:function(){return e(Object(P.e)())},onSaveFailure:function(){return e(Object(P.f)())},onChangeFailure:function(){return e(Object(P.d)())},onMediaFileClick:function(t){return e(Object(C.d)(be(be({},t),{},{location:j.g})))}}}}})))(he);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(n,e);var t=Se(n);function n(){return we(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ee(e.prototype,t),n&&Ee(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.onExperienceSuccess()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditing,r=t.isWaiting,o=t.hasDraft,i=!(e.isEditing||n||r||o),s=i&&e.hasDraft&&!e.isWaiting,a=i&&!e.hasDraft&&e.isWaiting;s?Object(y.c)().markTimeToFinishTask({key:S.c.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION}):a&&Object(y.c)().markTimeToFinishTask({key:S.c.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION})}},{key:"render",value:function(){var e=this.props,t=e.area,n=e.label,r=e.hasDraft,o=e.isEditing,i=e.isWaiting,s=e.intl,a=t===v.a?b.c:k.a,u=t===v.a?b.e:k.b;return c.a.createElement(c.a.Fragment,null,c.a.createElement(a,null,c.a.createElement(b.b,null,c.a.createElement(u,null,n),!r||o||i?null:c.a.createElement(b.a,null,"\u2022 ".concat(s.formatMessage(g.a.draftIndicator))))),c.a.createElement(Oe,null))}}]),n}(a.Component);Pe.defaultProps={area:v.c,onExperienceSuccess:m.a},Pe.displayName="Description",Pe.displayName="Description";var _e=d()(u.injectIntl,Object(E.f)("description-container"),Object(E.e)(j.g),Object(O.a)(),Object(l.connect)((function(e){return{label:Object(h.m)(j.g)(e),hasDraft:Object(w.a)(j.g)(e),isEditing:Object(h.A)(j.g)(e),isWaiting:Object(h.C)(j.g)(e)}}),{}),Object(O.a)())(Pe),xe=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),Te=n("./src/packages/issue/issue-view/src/common/styles/index.js"),Ae=n("./node_modules/react-dom/index.js"),De=n.n(Ae),Re=n("./node_modules/@atlaskit/field-text-area/index.js");function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=K.default.div(["",";"],Object(Te.h)("textarea")),We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(n,e);var t=Ue(n);function n(){var e;Le(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){e.props.onChange(t.target.value)},e.editView=Object(a.createRef)(),e.textarea=void 0,e}return function(e,t,n){t&&Ne(e.prototype,t),n&&Ne(e,n)}(n,[{key:"componentDidMount",value:function(){if(this.editView&&this.editView.current){var e=De.a.findDOMNode(this.editView.current);e instanceof HTMLElement&&(this.textarea=e.querySelector("textarea"))}}},{key:"componentWillUnmount",value:function(){this.textarea=null}},{key:"render",value:function(){var e=function(e){return e?e.split(/\r\n|\r|\n/).length:0}(this.props.value);if(this.textarea){var t=this.textarea.scrollHeight,n=window.getComputedStyle(this.textarea),r=Number.parseFloat(n.getPropertyValue("line-height"));Number.isNaN(r)||(e=Math.round(t/r))}var o=this.props.scrollRows||e,i=this.props.area===v.a?20:5,s=Math.min(i,Math.max(2,o));return c.a.createElement(Be,null,c.a.createElement(Re.a,{ref:this.editView,value:this.props.value,onChange:this.onChange,isInvalid:!!this.props.invalidMessage,invalidMessage:this.props.invalidMessage,shouldFitContainer:!0,autoFocus:!0,isLabelHidden:!0,label:"",minimumRows:s}))}}]),n}(a.Component);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}We.displayName="TextAreaField",We.defaultProps={value:"",invalidMessage:null,scrollRows:null,area:v.c},We.displayName="TextAreaField";var $e=K.default.div(["[class*='CompactWrapper'] > *{margin-left:0;}[class*='ContentWrapper']{padding-left:0;padding-right:0;}"]),Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(n,e);var t=Ye(n);function n(){var e;Ge(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){e.props.onChange(t)},e.onConfirm=function(){var t=e.props.value;e.props.onChange(Object(W.f)(t)),e.props.onConfirm()},e.readView=void 0,e}return function(e,t,n){t&&qe(e.prototype,t),n&&qe(e,n)}(n,[{key:"renderReadView",value:function(){var e=this,t=this.props,n=t.value,r=t.noValueText,o=t.area;return n&&0!==n.trim().length?o===v.a||o===v.b?c.a.createElement(Te.f,{innerRef:function(t){e.readView=t}},n&&Object(W.f)(n)):c.a.createElement(Te.e,{innerRef:function(t){e.readView=t},maxRows:5},n):c.a.createElement(Te.c,null,r)}},{key:"renderEditView",value:function(){var e;if(this.readView){var t=this.readView.scrollHeight,n=window.getComputedStyle(this.readView),r=Number.parseFloat(n.getPropertyValue("line-height"));e=Math.round(t/r)}return(c.a.createElement(We,{value:this.props.value,onChange:this.onChange,invalidMessage:this.props.invalidMessage,scrollRows:e,area:this.props.area}))}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.area,r=e.label;return(c.a.createElement($e,null,n===v.a?c.a.createElement(b.c,null,c.a.createElement(b.e,null,r)):c.a.createElement(k.a,null,c.a.createElement(k.b,null,r)),c.a.createElement(xe.a,{onEscape:this.props.onCancel},c.a.createElement(H.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:this.props.isEditing,onConfirm:this.onConfirm,onCancel:this.props.onCancel,onEditRequested:this.props.onEditRequest,isFitContainerWidthReadView:!0,isConfirmOnBlurDisabled:this.props.isConfirmOnBlurDisabled,editButtonLabel:t.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:t.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:t.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(a.Component);Ze.displayName="TextAreaInlineEditView",Ze.defaultProps={isEditable:!1,isEditing:!1,isConfirmOnBlurDisabled:!1,value:"",label:"",noValueText:null,invalidMessage:null},Ze.displayName="TextAreaInlineEditView";var Xe=Object(u.injectIntl)(Ze),et=Object(u.defineMessages)({noValue:{id:"issue.common.multi-line-text.text-for-edit-view-when-no-value-is-provided",defaultMessage:"None"}}),tt=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,n){return{noValueText:n.formatMessage(et.noValue),area:t.area}}}}))(Xe),nt=n("./src/packages/issue/issue-view/src/views/common/with-container-width/index.js"),rt=Object(u.defineMessages)({noValueText:{id:"issue.multiline-field.empty-placeholder",defaultMessage:"None"}});function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut=function(e){var t=e.label,n=e.area,r=e.hasDraft,o=e.intl,i=e.isEditing,s=e.containerWidth,a=at(e,["label","area","hasDraft","intl","isEditing","containerWidth"]),u=r&&!i,l=n===v.a?b.c:k.a,f=n===v.a?b.e:k.b;return c.a.createElement("div",{width:s},c.a.createElement(l,null,c.a.createElement(b.b,null,c.a.createElement(f,null,t),u?c.a.createElement(b.a,null,"\u2022 ".concat(o.formatMessage(g.a.draftIndicator))):null)),c.a.createElement(pe,st({isEditing:i},a)))};ut.displayName="MultilineField";var lt=Object(V.a)((function(e,t){return{fieldId:t.fieldId,shouldSaveDraft:!0,isOptimistic:!0,saveField:function(e){var n=e.baseUrl,r=e.issueKey,o=e.value;return function(e,t,n,r){var o="".concat(e,"/rest/api/3/issue/").concat(t);return Object(I.j)(o,{body:JSON.stringify({fields:ct({},n,r)})})}(n,r,t.fieldId,o)},canContainMediaContent:!0,onSaveFailureFlagType:_.N,additionalProps:function(e,n){var r=Object(D.f)(e);return{baseUrl:r,portalElement:Object(U.a)(t.fieldId)(e)?Object(M.b)()||document.body:void 0,adfValue:Object(h.g)(t.fieldId)(e),hasDraft:Object(w.a)(t.fieldId)(e),htmlValue:Object(h.i)(t.fieldId)(e),isInvalid:Object(h.k)(t.fieldId)(e),invalidMessage:Object(h.j)(t.fieldId)(e),mediaContext:Object(R.a)(e),mentionProvider:Object(x.b)(e),mentionEncoder:Object(T.a)(r),activityProvider:Object(A.a)(e),externalId:"issue.".concat(t.fieldId),noValueText:n.formatMessage(rt.noValueText),area:t.area}},additionalCallbacks:function(e){return{onExpandedFailure:function(){return e(Object(P.e)())},onSaveFailure:function(){return e(Object(P.f)())},onChangeFailure:function(){return e(Object(P.d)())},onMediaFileClick:function(n){return e(Object(C.d)(it(it({},n),{},{location:t.fieldId})))}}}}}))(Object(nt.a)(Object(u.injectIntl)(ut))),ft=Object(l.connect)((function(e,t){return{isRichTextField:Object(h.F)(t.fieldId)(e)}}),{})((function(e){var t=e.isRichTextField,n=e.fieldId,r=e.area,o=void 0===r?v.c:r;return t?c.a.createElement(lt,{fieldId:n,area:o}):c.a.createElement(tt,{fieldId:n,area:o})})),dt=n("./src/packages/development/dev-info-panel/src/index.js"),pt=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js"),mt=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),yt=n("./src/packages/issue/issue-view/src/selectors/status-selector.js");function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(n,e);var t=jt(n);function n(){return vt(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ht(e.prototype,t),n&&ht(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.canViewDevTools,n=gt(e,["canViewDevTools"]);return n.issueId&&t?c.a.createElement(dt.a,n):null}}]),n}(a.Component);kt.displayName="AllDevInfoPanel",kt.defaultProps={issueStatusCategory:null,issueId:void 0,analyticsSource:void 0,summary:""},kt.displayName="AllDevInfoPanel";var St=Object(mt.a)([Object(l.connect)((function(e){return{baseUrl:Object(D.f)(e),issueKey:Object(D.B)(e),issueId:Object(N.k)(e),issueStatusCategory:Object(yt.b)(e),projectId:Object(N.B)(e),projectType:Object(N.E)(e),isSimplifiedProject:Object(N.t)(e),locale:Object(D.D)(e),analyticsSource:Object(D.b)(e),canViewDevTools:Object(pt.g)(e),hasSoftwareAccess:Object(D.m)(e),summary:Object(h.o)(j.C)(e),user:Object(D.a)(e)}}),{})])(kt),It=n("./src/packages/issue/issue-view/src/views/issue-base/context/approval-panel/index.js"),Ct=n("./src/packages/platform/ui/asset-tracking/assets-onboarding/src/index.js"),Pt=n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js");function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(n,e);var t=Dt(n);function n(){return xt(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Tt(e.prototype,t),n&&Tt(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.locale,n=e.baseUrl,r=e.onInstallAppDone;return(c.a.createElement(Ct.a,{baseUrl:n,locale:t,onInstallAppDone:r}))}}]),n}(a.Component);Lt.displayName="AssetsOnboardingPanel",Lt.displayName="AssetsOnboardingView";var Nt=Object(mt.a)([Object(l.connect)((function(e){return{locale:Object(D.D)(e),baseUrl:Object(D.f)(e)}}),(function(e){return{onInstallAppDone:function(){e(Object(Pt.o)())}}}))])(Lt),Ft=n("./src/packages/platform/ui/asset-tracking/assets-item/src/index.js");function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(n,e);var t=Wt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Kt(e.prototype,t),n&&Kt(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.locale,n=e.baseUrl,r=e.onOpenPanel,o=e.issueId,i=e.fieldId,s=e.reporter,a=e.fieldName;return(c.a.createElement(Ft.a,{locale:t,baseUrl:n,onOpenPanel:r,issueId:o,fieldId:i,reporter:s,fieldName:a}))}}]),n}(a.Component);qt.displayName="AssetsPanel",qt.defaultProps={onOpenPanel:m.a},qt.displayName="AssetsPanelView";var zt=Object(mt.a)([Object(l.connect)((function(e,t){return{locale:Object(D.D)(e),baseUrl:Object(D.f)(e),issueId:Object(D.A)(e),reporter:Object(h.o)(j.u)(e),fieldName:Object(h.m)(t.fieldId)(e),fieldId:t.fieldId}}),{})])(qt),Yt=n("./node_modules/lodash/memoize.js"),Qt=n.n(Yt),Jt=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),$t=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),Zt=n("./src/packages/issue/smart-field-prefetch/src/index.js"),Xt=n("./src/packages/platform/utils/constants/src/fetch-default-options-with-strict-mode.js");function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=n("./src/packages/issue/issue-view/src/common/util/scroll/index.js"),on=n("./src/packages/issue/issue-view/src/feature-flags.js"),sn=n("./src/packages/issue/issue-view/src/selectors/issue-actions-permissions-selector.js"),an=n("./node_modules/@atlaskit/avatar--current/components/Avatar.js"),cn=n("./node_modules/@atlaskit/inline-edit--current/dist/esm/InlineEditStateless.js"),un=n("./node_modules/@atlaskit/input/index.js"),ln=n("./src/packages/issue/fields/components/user-picker/src/index.js"),fn=n("./src/packages/profilecard-next/src/async.js"),dn=n("./src/packages/issue/issue-view/src/views/common/with-profilecard-next/index.js"),pn=n("./node_modules/@atlaskit/theme/index.js"),mn=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),yn=K.default.div(["padding-right:","px;padding-top:1px;& span[role='img']{background-color:"," !important;}"],mn.f,pn.colors.N30),bn=K.default.div(["align-items:center;display:flex;padding-top:1px;"]);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=In(e);if(t){var o=In(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cn=K.default.div([""," margin-bottom:24px;"],(function(e){return!e.isEditing&&"\n        & > div > div > div > div > div {\n            min-height: 32px !important;\n        }\n        & > div > div > div > div > div > div {\n            padding: 0;\n            padding-left: 6px;\n            height: 32px;\n        }\n    "})),Pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(n,e);var t=kn(n);function n(){var e;jn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shouldTrackAssigneeInteractions=function(){return e.props.fieldId===s.g},e.onChange=function(t){e.shouldTrackAssigneeInteractions()&&Object(y.c)().markStartOfInteraction({key:S.c.ASSIGNEE.TIME_TO_REFLECT_SELECTED,cancelExisting:!0,isReducedRerendersEnabled:Object(on.isReducedIssueRerendersEnabled)()}),e.props.onChange(t)},e.onDataRequest=function(t){!t&&e.shouldTrackAssigneeInteractions()&&Object(y.c)().markStartOfInteraction({key:S.c.ASSIGNEE.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},e.onDataLoaded=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.shouldTrackAssigneeInteractions()&&Object(y.c)().markTimeToFinishTask({key:t?S.c.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS:S.c.ASSIGNEE.TIME_TO_REFLECT_INPUT_RESULT,collectors:[function(e){return hn(hn({},e),{},{resultsLength:n})}]})},e.onEditRequested=function(){e.shouldTrackAssigneeInteractions()&&Object(y.c)().markStartOfInteraction({key:S.c.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),e.props.onEditRequest()},e}return function(e,t,n){t&&wn(e.prototype,t),n&&wn(e,n)}(n,[{key:"componentDidUpdate",value:function(e){if(this.shouldTrackAssigneeInteractions()){var t=this.props,n=t.value,r=t.isEditing;!1===e.isEditing&&!1===r&&e.value!==n&&Object(y.c)().markTimeToFinishTask({key:S.c.ASSIGNEE.TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT}),e.isEditing&&!r&&e.value!==n&&Object(y.c)().markTimeToFinishTask({key:S.c.ASSIGNEE.TIME_TO_REFLECT_SELECTED}),!e.isEditing&&r&&setTimeout((function(){Object(y.c)().markTimeToFeedback({key:S.c.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS})}),0)}}},{key:"getActions",value:function(){var e=this.props.fieldId;return e===s.bb?[fn.d,fn.c]:e===s.g?[fn.d,fn.a]:void 0}},{key:"renderReadView",value:function(){var e=this.props.value||this.props.emptyOption||{avatarUrl:"",name:""};return(c.a.createElement(dn.a,{userAccount:e,analyticsData:{trigger:this.props.fieldId},position:"left-start",actions:this.getActions()},c.a.createElement(bn,null,c.a.createElement(yn,null,c.a.createElement(an.a,{borderColor:"transparent",src:e.avatarUrl,size:"small"})),c.a.createElement(un.a,{isEditing:!1,value:e.name}))))}},{key:"renderEditView",value:function(){var e=this.props,t=e.portalElement,n=e.emptyOption,r=e.initialOptions,o=e.fetchSuggestions,i=e.fieldId,s=e.value,a=e.onCancel,u={portalElement:t,emptyOption:n,initialOptions:r,fetchSuggestions:o,fieldId:i,value:s,onCancel:a,onSelection:e.onConfirm,width:"100%",onDataRequest:this.onDataRequest,onDataLoaded:this.onDataLoaded,onChange:this.onChange};return c.a.createElement(xe.a,{onEscape:a},c.a.createElement(ln.a,u))}},{key:"render",value:function(){var e=this.props.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,this.props.label)),c.a.createElement(Cn,{isEditing:this.props.isEditing,"data-test-id":"issue.views.field.user.".concat(this.props.fieldId)},c.a.createElement(cn.a,{editView:this.props.isEditable?this.renderEditView():null,readView:this.renderReadView(),areActionButtonsHidden:!0,disableEditViewFieldBase:!0,shouldConfirmOnEnter:!0,isEditing:this.props.isEditing,isInvalid:!!this.props.invalidMessage,invalidMessage:this.props.invalidMessage,isLabelHidden:!0,label:this.props.label,onCancel:m.a,onConfirm:m.a,onEditRequested:this.onEditRequested,onFocus:m.a,isFitContainerWidthReadView:!this.props.isMobile,editButtonLabel:e.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(a.Component);Pn.displayName="UserInlineEditView",Pn.defaultProps={isMobile:!1,label:"",initialOptions:[],emptyOption:null,invalidMessage:null,value:null},Pn.displayName="UserInlineEditView";var _n=Object(u.injectIntl)(Pn),xn=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),Tn=function(e,t,n,r,o,i){if(null!=e){var s=e({action:"access",actionSubject:"fieldPrefetchCache",actionSubjectId:r}),a={fieldSelectionSessionId:r,fieldFetchSessionId:i,prefetchSessionId:n,cacheHit:t,fieldId:o};Object(xn.r)(s,"".concat("fieldPrefetchCache"," ").concat("access"),r,a)}},An=function(e,t,n,r,o){return Tn(e,!0,t,n,o,r)},Dn=function(e,t,n,r){return Tn(e,!1,t,n,r)},Rn=function(e){return e?function(e){return{avatarUrl:e.avatarUrls&&e.avatarUrls["48x48"],id:e.accountId,name:e.displayName}}(e):null},Mn=function(e){return e?function(e){return{avatarUrls:{"48x48":e.avatarUrl},displayName:e.name,accountId:e.id}}(e):null};function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e){return function(e){if(Array.isArray(e))return qn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zn=Object(u.defineMessages)({assignToMe:{id:"issue.assignee.text-for-logged-in-user",defaultMessage:"Assign to me"},unassignedOption:{id:"issue.assignee.text-when-no-value-is-provided",defaultMessage:"Unassigned"}}),Yn=Object(r.a)((function(e){return{avatarUrl:"",name:e.formatMessage(zn.unassignedOption)}})),Qn=Object(r.a)((function(e,t){return e?[{avatarUrl:e.avatarUrl,id:e.id,name:e.displayName,displayName:t.formatMessage(zn.assignToMe)}]:[]})),Jn=Object(r.a)((function(e,t){return e?[{avatarUrl:"",id:null,name:t.formatMessage(zn.unassignedOption),displayName:t.formatMessage(zn.unassignedOption)}]:[]})),$n=Object(r.a)((function(e,t,n,r){var o=!(t&&e&&e.id===t.accountId)&&r?Qn(e,n):[],i=t?Jn(e,n):[];return[].concat(Gn(o),Gn(i))})),Zn=function(e,t){return!!e&&t.toLowerCase().startsWith(e.toLowerCase())},Xn=function(e,t){return Object(r.a)((function(n){var r=Zn(n,t.formatMessage(zn.assignToMe)),o=Zn(n,t.formatMessage(zn.unassignedOption))?Jn(e,t):[],i=r?Qn(e,t):[];return[].concat(Gn(o),Gn(i))}))},er=Object(r.a)((function(e,t,n){return function(r,o){if(!e)return Promise.resolve([]);var i=Xn(t,n)(r),s=null!=o?"&sessionId=".concat(o):"";return Object(I.c)("".concat(e).concat(r).concat(s)).then((function(e){var t=e.map(Rn).filter(Boolean);return[].concat(Gn(i),Gn(t))}))}})),tr=Qt()((function(e,t){return function(n,r){if(!n&&null!=e){var o=e.prefetchSessionId,i=e.prefetched,s=e.fieldValuePromise,a=e.sessionId,c=t.createAnalyticsEvent;if(i&&null!==s&&null!==a){var u=t.getDefaultOptions(n);return An(c,o,r||"",a,j.c),s.then((function(e){return e.map(Rn).filter(Boolean)})).then((function(e){return[].concat(Gn(u),Gn(e))}))}return Dn(c,o,r||"",j.c),t.fetchSuggestions(n,r)}return t.fetchSuggestions(n,r)}}),(function(e,t){return"".concat(e&&e.prefetchSessionId||"","_").concat(t.issueKey)})),nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(n,e);var t=Bn(n);function n(){var e;Un(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).assigneeContainer=void 0,e}return function(e,t,n){t&&Vn(e.prototype,t),n&&Vn(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.initFieldOptions()}},{key:"componentDidUpdate",value:function(){this.assigneeContainer&&this.props.isEditing&&Object(rn.a)(this.assigneeContainer)}},{key:"renderWithCachedValue",value:function(){var e=this.props,t=Object(Zt.b)(e.issueKey,j.c);return c.a.createElement(t,{fieldId:j.c},(function(t){var n=tr(t,e),r=(e.createAnalyticsEvent,e.getDefaultOptions,e.initFieldOptions,e.intl,e.issueKey,Fn(e,["createAnalyticsEvent","getDefaultOptions","initFieldOptions","intl","issueKey"]));return c.a.createElement(_n,Nn({},r,{fetchSuggestions:n,fieldId:j.c}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.initFieldOptions,t.createAnalyticsEvent,t.getDefaultOptions,t.intl,t.issueKey,Fn(t,["initFieldOptions","createAnalyticsEvent","getDefaultOptions","intl","issueKey"]));return c.a.createElement($t.a,{name:S.b},c.a.createElement("div",{ref:function(t){e.assigneeContainer=t}},Object(on.isBentoSmartPrefetchEnabled)()?this.renderWithCachedValue():c.a.createElement(_n,Nn({},n,{fieldId:j.c}))))}}]),n}(a.Component);nr.displayName="AssigneeView",nr.displayName="AssigneeView";var rr=function(e,t){return"".concat(e,"/rest/api/3/user/assignable/search?issueKey=").concat(t,"&recommend=true&query=")},or=function(e){var t=e.baseUrl,n=e.issueKey,r=e.value,o=e.saveFieldData;return function(e,t,n,r){return Object(I.j)(function(e,t,n){return n?"".concat(e,"/rest/api/3/issue/").concat(t,"/assignee?sessionId=").concat(n):"".concat(e,"/rest/api/3/issue/").concat(t,"/assignee")}(e,t,r),tn(tn({},Xt.a),{},{body:JSON.stringify({accountId:n})}))}(t,n,null==r?null:r.accountId,o)},ir=function(e){return e&&e.accountId},sr=d()(Object(Jt.a)(),Object(E.e)(j.c),Object(V.a)((function(e,t){return function(e){return{fieldId:e.fieldId,transformFromStateValue:Rn,transformToStateValue:Mn,saveField:or,additionalProps:function(t,n){var r=Object(N.x)(t);return{portalElement:Object(U.a)(e.fieldId)(t)?Object(M.a)()||document.body:void 0,fetchSuggestions:er(rr(Object(D.f)(t),Object(D.B)(t)),r,n),issueKey:Object(D.B)(t),getDefaultOptions:Xn(r,n),isEditable:Object(sn.a)(t),emptyOption:Yn(n),initialOptions:$n(r,Object(h.n)(e.fieldId)(t),n,Object(pt.d)(t)),analyticsAttributeIdRetriever:ir}}}}(t)})))(nr),ar=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js"),cr=n("./src/packages/issue/fields/field-base/src/services/field-config-service/main.js"),ur=n("./src/packages/issue/fields/field-base/src/services/edit-field-service/main.js"),lr=n("./src/packages/issue/fields/components/field-heading/src/index.js");function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr=function(e){if(!e)return null;var t=e.id,n=e.value,r=e.child;return{value:t,label:n,child:r&&{value:r.id,label:r.value}}},yr=function(e){return e.map((function(e){return{value:e.id,label:e.value}}))},br=function(e){return e.reduce((function(e,t){var n=t.id,r=t.children;return dr(dr({},e),{},pr({},n,r?yr(r):[]))}),{})},gr=n("./node_modules/@atlaskit/form/dist/esm/Messages.js"),vr=n("./node_modules/@atlaskit/select--current/Select.js"),hr=Object(u.defineMessages)({noOptionsSelected:{id:"issue-field-cascading-select.cascading-select-view.no-options-selected",defaultMessage:"None"},errorMessage:{id:"issue-field-cascading-select.cascading-select-view.error-message",defaultMessage:"The value could not be saved"}}),Or=K.default.div(["display:flex;flex-direction:",";"],(function(e){return e.areOptionsOnSameRow?"row":"column"})),jr=K.default.div(["flex-basis:0;flex-grow:1;"]),wr=function(e,t){return!e||0===t.length};function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr={control:function(e,t){return t.isFocused?Ir(Ir({},e),{},{backgroundColor:"transparent"}):Ir(Ir({},e),{},{backgroundColor:"transparent",borderColor:"transparent"})},dropdownIndicator:function(e){return Ir(Ir({},e),{},{color:pn.colors.N70})}},_r=Object(u.injectIntl)((function(e){var t=e.value,n=e.allowedValues,r=e.allowedChildValues,o=e.onChange,i=e.isInvalid,s=void 0!==i&&i,u=e.areOptionsOnSameRow,l=void 0!==u&&u,f=e.intl,d=Er(function(e){return e?[{label:e.label,value:e.value},e.child||null]:[null,null]}(t),2),p=d[0],m=d[1],y=Er(Object(a.useState)(p),2),b=y[0],g=y[1],v=Er(Object(a.useState)(m),2),h=v[0],O=v[1],j=Er(Object(a.useState)(p&&r[p.value]||[]),2),w=j[0],E=j[1],k=Er(Object(a.useState)(wr(t,w)),2),S=k[0],I=k[1],C=Object(a.useRef)(null);return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(gr.a,null,f.formatMessage(hr.errorMessage)),c.a.createElement(Or,{areOptionsOnSameRow:l},c.a.createElement(jr,null,c.a.createElement(vr.a,{defaultValue:p,value:b,options:n,onChange:function(e,n,i){var s=n.action;switch(O(null),s){case"select-option":o(e,null,i),g(e),E(r[e.value]||[]),I(wr(t,w)),C&&C.current&&C.current.focus();break;case"clear":o(null,null,i),g(null),E([])}},isClearable:!0,autoFocus:!0,openMenuOnFocus:!0,styles:Pr,placeholder:f.formatMessage(hr.noOptionsSelected)})),w.length>0&&c.a.createElement(jr,null,c.a.createElement(vr.a,{defaultValue:m,value:h,options:w,onChange:function(e,t,n){switch(t.action){case"select-option":o(Ir(Ir({},b),{},{child:e}),null,n),O(e);break;case"clear":o(b,null,n),O(null)}},isClearable:!0,autoFocus:S,openMenuOnFocus:!0,styles:Pr,placeholder:f.formatMessage(hr.noOptionsSelected),ref:C}))))})),xr=Object(u.defineMessages)({noOptionsSelected:{id:"issue-field-cascading-select.no-options-selected",defaultMessage:"None"}}),Tr=K.default.div(["z-index:300;position:relative;"]);function Ar(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Lr=function(e,t){return e&&e.child?"".concat(e.label," - ").concat(e.child.label):e?e.label:t.formatMessage(xr.noOptionsSelected)},Nr=function(e){var t=e.label,n=e.isEditable,r=e.isMobile,o=e.allowedValues,i=e.areOptionsOnSameRow,s=e.intl,u=Mr(e,["label","isEditable","isMobile","allowedValues","areOptionsOnSameRow","intl"]),l=Dr(Object(ur.a)(u),2),f=l[0],d=f.value,p=f.error,m=l[1].saveValue,y=Dr(Object(a.useState)(mr(d)),2),b=y[0],g=y[1],v=Dr(Object(a.useState)(mr(d)),2),h=v[0],O=v[1],j=Dr(Object(a.useState)(!1),2),w=j[0],E=j[1],k=Dr(Object(a.useState)(Lr(b,s)),2),S=k[0],I=k[1],C=Object(a.useCallback)((function(e){I(Lr(e,s))}),[s]),P=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ar(i,r,o,s,a,"next",e)}function a(e){Ar(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C(b)}),[b,C]),Object(a.useEffect)((function(){p&&E(!0)}),[p]),Object(a.useEffect)((function(){g(mr(d))}),[d]),c.a.createElement("div",null,c.a.createElement(lr.a,null,c.a.createElement(lr.b,null,t)),c.a.createElement(H.a,{isLabelHidden:!0,label:t,readView:function(){return b?c.a.createElement("div",null,S):c.a.createElement(Te.c,null,S)}(),editView:n?function(){return c.a.createElement(Tr,null,c.a.createElement(_r,{value:b,allowedValues:yr(o),allowedChildValues:br(o),onChange:P,isInvalid:!!p,areOptionsOnSameRow:i,isEditable:n}))}():null,onConfirm:function(e){m(function(e){if(!e)return null;var t=e.label,n=e.value,r=e.child||void 0;return{id:n,value:t,child:r&&{id:r.value,value:r.label}}}(b),null,e),E(!1),C(b),Object(xn.u)(e,"cascadingSelect",{hasChild:!(!b||!b.child||null==b.child),isEmpty:!b}),O(b)},onCancel:function(){E(!1),g(h)},onEditRequested:function(){return E(!0)},isEditing:w,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!r}))};Nr.displayName="CascadingSelectInlineEditView",Nr.defaultProps={initialValue:null,isMobile:!1,areOptionsOnSameRow:!1,fieldType:s.j};var Fr=Object(u.injectIntl)(Nr),Ur=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/view-experience/index.js");function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wr=function(e){var t=e.issueKey,n=e.fieldKey,r=e.label,o=Kr(Object(ar.c)({issueKey:t,fieldKey:n}),1)[0],i=Kr(Object(cr.a)(t,n),1)[0];return c.a.createElement(Fr,Vr({},e,{allowedValues:i&&i.allowedValues||[],isEditable:i&&i.isEditable||!1,label:i&&i.title||r,initialValue:o}))};Wr.displayName="CascadingSelectView";var Hr=Object(mt.a)([Object(l.connect)((function(e,t){var n=t.fieldId,r=t.area;return{fieldKey:n,fieldType:s.j,error:Object(N.h)(e),issueKey:Object(D.B)(e),isMobile:Object(D.t)(e),label:Object(h.m)(n)(e),areOptionsOnSameRow:r===v.a||r===v.b}}),{})])(Object(Ur.d)()(Wr)),Gr=n("./node_modules/lodash/isEmpty.js"),qr=n.n(Gr),zr=n("./node_modules/@atlaskit/tag/Tag/index.js"),Yr=n("./node_modules/@atlaskit/tag-group/TagGroup/index.js"),Qr=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),Jr=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/html-view/check-for-href.js");function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ro(e);if(t){var o=ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return no(this,n)}}function no(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oo=K.default.div(["margin:-4px;width:100%;"]),io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(n,e);var t=to(n);function n(){var e;Zr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleTagSelected=function(t){Object(Jr.a)(t.target,t.currentTarget)&&(t.stopPropagation(),e.props.onClick&&e.props.onClick())},e.handleTagMouseDown=function(e){e.preventDefault(),Object(Jr.a)(e.target,e.currentTarget)&&e.stopPropagation()},e.renderTag=function(t){var n=c.a.createElement(zr.a,{appearance:e.props.tagAppearance,text:void 0!==t.content?t.content:t.label,color:t.color,href:e.props.shouldHideLinks?void 0:t.href,elemBefore:t.elemBefore});return e.props.isUserTag?c.a.createElement(dn.a,{userAccount:t,analyticsData:{trigger:"user-tag"},position:"left-start"},n):n},e}return function(e,t,n){t&&Xr(e.prototype,t),n&&Xr(e,n)}(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.noValueText;return n&&!qr()(n)?c.a.createElement(oo,null,c.a.createElement(Yr.a,null,n.map((function(t){return c.a.createElement("div",{onClick:e.handleTagSelected,onMouseDown:e.handleTagMouseDown,onKeyPress:e.handleTagSelected,key:null!=t.key?t.key:t.value,role:"presentation"},e.renderTag(t))})))):c.a.createElement(Te.c,null,r)}}]),n}(a.Component);io.defaultProps={isUserTag:!1,shouldHideLinks:!1,value:null,noValueText:null,tagAppearance:"default"},io.displayName="TagView";var so=Object(Qr.f)("tagView",{onClick:"clicked"})(io),ao=n("./node_modules/@atlaskit/select--current/CheckboxSelect.js"),co=n("./src/packages/issue/issue-view/src/views/common/select-validation-wrapper/select-validation-wrapper.js");function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bo(e);if(t){var o=bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yo(this,n)}}function yo(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(n,e);var t=mo(n);function n(){return lo(this,n),t.apply(this,arguments)}return function(e,t,n){t&&fo(e.prototype,t),n&&fo(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.invalidMessage,n=e.options,r=e.placeholder,o=e.onChange,i=e.value;return(c.a.createElement(co.a,{validationState:null!=t?"error":null,validationMessage:t},c.a.createElement(ao.a,{options:n,placeholder:r,onChange:o,value:i,tabSelectsValue:!1,autoFocus:!0})))}}]),n}(a.Component);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ko(e);if(t){var o=ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eo(this,n)}}function Eo(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}go.displayName="CheckboxFieldView",go.defaultProps={value:[],options:[],placeholder:null,invalidMessage:null},go.displayName="CheckboxFieldView";var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(n,e);var t=wo(n);function n(){return ho(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Oo(e.prototype,t),n&&Oo(e,n)}(n,[{key:"renderReadView",value:function(){return c.a.createElement(so,{value:this.props.value,noValueText:this.props.noValueText,tagAppearance:this.props.tagAppearance,shouldHideLinks:this.props.isMobile})}},{key:"renderEditView",value:function(){return c.a.createElement(go,{value:this.props.value,options:this.props.options,onChange:this.props.onChange,placeholder:this.props.placeholder,invalidMessage:this.props.invalidMessage})}},{key:"render",value:function(){var e=this.props.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,this.props.label)),c.a.createElement(xe.a,{onEscape:this.props.onCancel},c.a.createElement(H.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:this.props.isEditing,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,onEditRequested:this.props.onEditRequest,isFitContainerWidthReadView:!this.props.isMobile,editButtonLabel:e.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(a.Component);So.displayName="CheckboxInlineEditView",So.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,options:[],value:[],label:"",placeholder:null,noValueText:null,tagAppearance:"default",invalidMessage:null},So.displayName="CheckboxInlineEditView";var Io=Object(u.injectIntl)(So),Co=Object(u.defineMessages)({noValue:{id:"issue.context-items.text-for-edit-view-when-no-value-is-provided",defaultMessage:"None"},version_no_value_placeholder:{id:"issue.version.text-no-value",defaultMessage:"Select version"}}),Po=function(e){return{label:e.value,value:e.id}},_o=function(e){return e?e.map(Po):[]},xo=function(e){return e&&e.map((function(e){return{id:e.value,value:e.label}}))},To=Object(u.defineMessages)({placeholder:{id:"issue.checkbox-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),Ao=Qt()((function(e){return function(e){return e&&e.map(Po)||[]}(e)})),Do=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:_o,transformToStateValue:xo,additionalProps:function(e,n){return{options:Ao(Object(h.c)(t.fieldId)(e)),placeholder:n.formatMessage(To.placeholder,{fieldName:Object(h.m)(t.fieldId)(e)}),noValueText:n.formatMessage(Co.noValue)}}}}))(Io),Ro=n("./src/packages/platform/utils/constants/src/fetch-default-options.js"),Mo=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js");function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo=function(e,t,n,r,o){return!t||t.length<=1?Promise.resolve(t):function(e,t,n){var r,o=new Promise((function(e){r=setTimeout((function(){Mo.h.safeWarn("smarts.fields.ranking","FRS has timeout after ".concat(5e3,"ms")),e(t)}),n)})),i=e().then((function(e){return r&&clearTimeout(r),e}));return Promise.race([o,i])}((function(){return function(e,t,n,r,o){var i=t.map((function(e){return Fo({},e.id,e)})).reduce((function(e,t){return No(No({},e),t)}),{}),s=Object(Mo.f)(),a=s.atlassianAccountId,c=s.cloudId,u=s.baseUrl,l="".concat(u,"/gateway/api/fields/v2/recommendations/");return Object(I.c)(l,No(No({},Ro.a),{},{method:"POST",body:JSON.stringify({context:{objectId:n,containerId:r,principalId:a,product:"jira",tenantId:c,sessionId:o},fieldId:e,fieldObjects:t.map((function(e){return{id:e.id,value:e.name}}))})})).then((function(e){return e.fieldObjects.map((function(e){var t=e.id;return i[t]}))})).catch((function(n){return Mo.h.safeError("smarts.fields.ranking","error while ranking ".concat(e," via FRS"),n),t}))}(e,t,n,r,o)}),t,5e3)},Vo=Object(u.defineMessages)({placeholder:{id:"issue.components.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select component"},createNewItem:{id:"issue.components.create-new-component-message",defaultMessage:"Create new component"}}),Ko=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/jql/helpers.js"),Bo=function(e,t){var n=t.baseUrl,r=t.projectKey;return e.map((function(e){var t="project = ".concat(Object(Ko.b)(r)," AND component = ").concat(Object(Ko.b)(e.name));return{href:Object(Ko.a)(n,t),content:e.name,value:e.id}}))},Wo=function(e){return[{items:e.map((function(e){return{content:e.name,value:e.id}}))}]},Ho=function(e){return e.map((function(e){return{name:e.content,id:e.value}}))},Go=n("./node_modules/@atlaskit/icon--current/glyph/add.js"),qo=n.n(Go),zo=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/iframe-redirect/index.js"),Yo=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/index.js"),Qo=n("./src/packages/issue/issue-view/src/views/field/select/common/select-inline-edit/select-field/styled.js"),Jo=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/mixins.js"),$o=K.default.span(["display:flex;flex-direction:column;margin:0 ","px;padding:","px 0;overflow:hidden;flex-grow:1;"],mn.f,mn.f/4),Zo=K.default.span(["",";flex-grow:1;"],Jo.a),Xo=K.default.span(["display:inline-block;color:",";font-size:12px;margin-top:","px;"],pn.colors.N300,mn.f/2),ei=function(e){var t=e.option;return(c.a.createElement(Qo.e,null,null!=t.elemBefore?t.elemBefore:null,c.a.createElement($o,null,c.a.createElement(Zo,null,t.label),null!=t.description?c.a.createElement(Xo,null,t.description):null)))};function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ei.displayName="RichOptionView";var oi=K.default.div(["display:flex;align-items:center;"]),ii=K.default.span(["margin-left:","px;flex-grow:1;"],mn.f),si=K.default.div(["display:flex;align-items:center;color:",";padding:6px 12px;&:hover{background-color:",";}&:active{background-color:",";}"],pn.colors.B400,pn.colors.N20,pn.colors.B75),ai={option:function(e,t){return ni(ni(ni({},e),t.data.__isNew__?ni(ni({},t.isFocused?{"> .issue-view__select-footer":{"background-color":pn.colors.N20}}:{}),{},{position:"sticky",bottom:0,"background-color":"".concat(pn.colors.N0," !important"),"border-top":"2px solid rgba(9, 30, 66, 0.13)",padding:0,"padding-top":"".concat(mn.f,"px"),"padding-bottom":0,overflow:"visible",":after":{content:'""',display:"block",position:"absolute",bottom:"-".concat(8,"px"),left:0,width:"100%",height:"".concat(8,"px"),"background-color":pn.colors.N0,"border-bottom-left-radius":"".concat(mn.f/2,"px"),"border-bottom-right-radius":"".concat(mn.f/2,"px")}}):{}),t.data.isAkSelectOption?{"text-align":"center","padding-top":"".concat(mn.f,"px"),"padding-bottom":"".concat(2*mn.f,"px")}:{})}},ci=n("./src/packages/issue/fields/components/inline-edit/src/index.js"),ui=K.default.div([""," flex-grow:1;width:","%;box-sizing:border-box;"],(function(e){return e.isEditing?"":"\n        & > div > div > div > div > div > div {\n            min-height: ".concat(4*mn.f,"px !important;\n        }\n        & > div > div > div > div > div > div > div {\n            padding: 0 6px;\n        }\n    ")}),100-lr.d),li=function(e){return c.a.createElement(lr.c,null,c.a.createElement(lr.a,null,c.a.createElement(lr.b,null,e.label)),c.a.createElement(ui,{isEditing:e.isEditing},c.a.createElement(ci.a,e)))};li.displayName="IssueContextField";var fi=li;function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gi(this,n)}}function gi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(n,e);var t=bi(n);function n(){var e;pi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t,n){var r=e.props,o=r.onChange,i=r.onConfirm;o&&o(t,n),i()},e}return function(e,t,n){t&&mi(e.prototype,t),n&&mi(e,n)}(n,[{key:"renderEditView",value:function(){var e=this.props,t=e.fieldId,n=e.value,r=e.fetchSuggestions,o=e.placeholder,i=e.isEditing,s=e.isMulti,a=e.invalidMessage,u=e.hasAutocomplete,l=e.debounceFetchSuggestionsTime,f=e.allowEmptyValue,d=e.portalElement,p=e.canCreateNewItem,m=e.formatCreateLabel,y=e.styles,b=e.onChangeMulti,g=e.footer,v=e.onFooterSelect,h=e.shouldShowFooter,O=e.filterOption,j=e.formatOptionLabel,w=e.onDataRequest,E=e.onDataLoaded;return(c.a.createElement(Yo.a,{fieldId:t,value:n,fetchSuggestions:r,placeholder:o,isOpen:i,invalidMessage:a,hasAutocomplete:u,debounceFetchSuggestionsTime:l,isClearable:f,portalElement:d,canCreateNewItem:p,formatCreateLabel:m,styles:y,autoFocus:!0,onChange:this.onChange,footer:g,onFooterSelect:v,shouldShowFooter:h,onChangeMulti:b,isMulti:s,filterOption:O,formatOptionLabel:j,onDataRequest:w,onDataLoaded:E}))}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.label,r=e.isEditable,o=e.isEditing,i=e.isMobile,s=e.isMulti,a=e.onCancel,u=e.onEditRequest,l=e.onConfirm,f=e.renderReadView;return Object(on.isSideBySideLabelsAndFieldsEnabled)()?c.a.createElement(fi,{isEditable:r,onEscape:a,isLabelHidden:!0,label:n,readView:f(),editView:r?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!s,isEditing:o,onConfirm:l,onCancel:a,onEdit:u,isFitContainerWidthReadView:!i,editButtonLabel:t(B.a.editButtonLabel,{fieldName:n}),confirmButtonLabel:t(B.a.confirmButtonLabel,{fieldName:n}),cancelButtonLabel:t(B.a.cancelButtonLabel,{fieldName:n})}):c.a.createElement("div",null,c.a.createElement(lr.a,null,c.a.createElement(lr.b,null,n)),c.a.createElement(xe.a,{onEscape:a},c.a.createElement(H.a,{isLabelHidden:!0,label:n,readView:f(),editView:r?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!s,isEditing:o,onConfirm:l,onCancel:a,onEditRequested:u,isFitContainerWidthReadView:!i,editButtonLabel:t(B.a.editButtonLabel,{fieldName:n}),confirmButtonLabel:t(B.a.confirmButtonLabel,{fieldName:n}),cancelButtonLabel:t(B.a.cancelButtonLabel,{fieldName:n})})))}}]),n}(a.Component);hi.displayName="SelectInlineEditView",hi.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,isMulti:!1,hasAutocomplete:!1,label:"",noValueText:null,allowEmptyValue:!1,debounceFetchSuggestionsTime:0,onChange:m.a},hi.displayName="SelectInlineEditView";var Oi=Object(u.injectIntl)(hi);function ji(){return(ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ei=function(e){var t=e.validate,n=e.invalidMessage,r=e.value,o=e.onChange,i=(e.tagAppearance,e.onDataRequest),s=e.onDataLoaded,a=wi(e,["validate","invalidMessage","value","onChange","tagAppearance","onDataRequest","onDataLoaded"]);return c.a.createElement(Oi,ji({},a,{value:r,isMulti:!0,onChangeMulti:o,invalidMessage:t(r)||n,renderReadView:function(){var t=e.value,n=e.noValueText,r=e.tagAppearance,o=e.isMobile;return(c.a.createElement(so,{value:t,noValueText:n,tagAppearance:r,shouldHideLinks:o}))},onDataRequest:i,onDataLoaded:s}))};Ei.displayName="MultiSelectInlineEditView",Ei.displayName="MultiSelectInlineEditView",Ei.defaultProps={tagAppearance:"default",validate:function(){return null},hasAutocomplete:!0,debounceFetchSuggestionsTime:300};var ki=Ei;function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(){return(Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ci(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Di(e);if(t){var o=Di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Ai(e,t){return!t||"object"!==Si(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(n,e);var t=Ti(n);function n(){return Pi(this,n),t.apply(this,arguments)}return function(e,t,n){t&&_i(e.prototype,t),n&&_i(e,n)}(n,[{key:"renderFooter",value:function(){var e=this.props.intl;return(c.a.createElement(si,{className:"issue-view__select-footer"},c.a.createElement(qo.a,{label:"",size:"small"}),c.a.createElement(ii,null,e.formatMessage(Vo.createNewItem))))}},{key:"render",value:function(){var e=this.props,t=e.shouldShowFooter,n=e.baseUrl,r=e.projectKey,o=(e.intl,Ci(e,["shouldShowFooter","baseUrl","projectKey","intl"]));return(c.a.createElement(ki,Ii({},o,{styles:ai,shouldShowFooter:t,footer:this.renderFooter(),onFooterSelect:function(){return Object(zo.a)("".concat(n,"/plugins/servlet/project-config/").concat(r,"/administer-components"),!1)},allowEmptyValue:!0})))}}]),n}(a.Component);Ri.displayName="View";var Mi=Object(r.a)((function(e,t,n,r){return function(e,t,n,r){return Uo("components",e,t,n,r)}(e,t,n,r)})),Li=Object(r.a)((function(e,t,n){return function(r,o){return Mi(e,t,n,o).then(Wo)}})),Ni=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Bo,transformToStateValue:Ho,additionalProps:function(e,n){return{baseUrl:Object(D.f)(e),projectKey:Object(D.J)(e),fetchSuggestions:Li(Object(h.c)(t.fieldId)(e),Object(D.A)(e),Object(N.B)(e)),placeholder:n.formatMessage(Vo.placeholder),noValueText:n.formatMessage(Co.noValue),shouldShowFooter:(Object(pt.c)(e)||Object(pt.b)(e))&&!Object(D.t)(e)}}}}))(Object(u.injectIntl)(Ri));function Fi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var Ui=function(e,t){return"".concat(e,"/rest/servicedesk/1/servicedesk/request/").concat(t,"/request-types/")},Vi=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fi(i,r,o,s,a,"next",e)}function a(e){Fi(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Issue ID not available");case 2:return e.abrupt("return",Object(I.i)(Ui(t,n),{body:JSON.stringify({rtId:r})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ki=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),Bi=Object(u.defineMessages)({placeholder:{id:"issue.customer-request-type.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Request Type"}}),Wi=function(e){return{issueTypeId:e.issueType.toString(),content:e.name,value:e.id,iconUrl:e.iconUrl}},Hi=function(e){return e&&function(e){if(e.errorMessage)return{hasError:!0};if(!e.requestType)return null;var t=e.requestType,n=t.icon,r=t.issueTypeId,o=t.id;return{issueTypeId:r,content:t.name,value:o,iconUrl:n._links.iconUrls["48x48"]}}(e)},Gi=function(e){return{requestType:{icon:{_links:{iconUrls:{"48x48":e.iconUrl||""}}},id:e.value,name:e.content,issueTypeId:e.issueTypeId}}},qi=function(e){return[{items:e.validRequestTypes.map(Wi)}]},zi=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/text-with-icon/index.js");function Yi(){return(Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qi=function(e){return function(){var t=e.value,n=e.noValueText;if(t&&!Array.isArray(t)){var r=t.iconUrl,o=t.content;return r?c.a.createElement(zi.a,{iconUrl:r},o):o}return(c.a.createElement(Te.c,null,n))}},Ji=function(e){return c.a.createElement(Oi,Yi({},e,{renderReadView:e.renderReadView||Qi(e),isMulti:!1}))};Ji.displayName="SingleSelectInlineEditView",Ji.displayName="SingleSelectInlineEditView";var $i=Ji;function Zi(){return(Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var es=function(e){var t=e.issueTypeId,n=Xi(e,["issueTypeId"]),r=e.value;if(r&&r.hasError)return null;var o=r&&t!==r.issueTypeId;return(c.a.createElement($i,Zi({},n,{value:o?null:n.value})))};es.displayName="RequestTypeField";var ts=function(e,t){return t?"".concat(e,"/rest/servicedesk/1/servicedesk/request/").concat(t,"/request-types?query="):null},ns=Object(r.a)((function(e){return function(t){return e?Object(I.c)("".concat(e).concat(t)).then(qi):Promise.resolve([])}})),rs=function(e,t){var n=e.baseUrl,r=e.value.requestType,o=Object(D.A)(t);return Vi(n,o,r.id)},os=function(e){return e&&e.requestType&&e.requestType.id},is=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Hi,transformToStateValue:Gi,saveField:rs,additionalProps:function(e,t){return{fetchSuggestions:ns(ts(Object(D.f)(e),Object(D.A)(e))),isEditable:Object(sn.e)(e),issueTypeId:Object(Ki.e)(e),hasAutocomplete:!0,placeholder:t.formatMessage(Bi.placeholder),noValueText:t.formatMessage(Co.noValue),debounceFetchSuggestionsTime:300,analyticsAttributeIdRetriever:os}}}}))(es),ss=n("./src/packages/issue/issue-view/src/common/util/date-time-formatter/index.js"),as=n("./src/packages/issue/issue-view/src/common/component/date-time/index.js");function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,t){return(fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ms(e);if(t){var o=ms(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ps(this,n)}}function ps(e,t){return!t||"object"!==cs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ms(e){return(ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fs(e,t)}(n,e);var t=ds(n);function n(){return us(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ls(e.prototype,t),n&&ls(e,n)}(n,[{key:"renderEditView",value:function(){return c.a.createElement(as.a,{value:this.props.value,onChange:this.props.onChange,timeZone:this.props.timeZone,parseValue:this.props.parseValue})}},{key:"renderReadView",value:function(){var e=this.props,t=e.value,n=e.formatDateTime;return t?n(t):c.a.createElement(Te.c,null,this.props.noValueText)}},{key:"render",value:function(){var e=this.props.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,this.props.label)),c.a.createElement(xe.a,{onEscape:this.props.onCancel},c.a.createElement(H.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,value:this.props.value,isEditing:this.props.isEditing,invalidMessage:this.props.invalidMessage,isInvalid:!!this.props.invalidMessage,onCancel:this.props.onCancel,onConfirm:this.props.onConfirm,onEditRequested:this.props.onEditRequest,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!this.props.isMobile,areActionButtonsHidden:!0,editButtonLabel:e.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(a.Component);ys.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:"",noValueText:null,value:null,invalidMessage:null,formatDateTime:function(e){return e},onConfirm:m.a,onCancel:m.a,onEditRequest:m.a},ys.displayName="DateTimeInlineEditFieldView";var bs=Object(u.injectIntl)(ys),gs=Object(r.a)((function(e,t){return function(n){return Object(ss.a)(e,n,t)}})),vs=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,t){var n=Object(N.y)(e);return{noValueText:t.formatMessage(Co.noValue),formatDateTime:gs(t,n),timeZone:n,parseValue:ss.b}}}}))(bs),hs=n("./node_modules/@atlaskit/inline-dialog/InlineDialog/index.js"),Os=n("./node_modules/@atlaskit/datetime-picker--current/dist/esm/components/DatePicker.js"),js=n("./src/packages/common-legacy-do-not-add-anything-new/src/date/date-messages.js");function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t){return(Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ps(e);if(t){var o=Ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cs(this,n)}}function Cs(e,t){return!t||"object"!==ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(n,e);var t=Is(n);function n(){return Es(this,n),t.apply(this,arguments)}return function(e,t,n){t&&ks(e.prototype,t),n&&ks(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,n=e.isDisabled,r=e.value,o=e.intl.formatMessage;return(c.a.createElement(Os.a,{autoFocus:t,isDisabled:n,value:r||void 0,onChange:this.props.onChange,placeholder:o(js.a.placeholderDate)}))}}]),n}(a.Component);_s.defaultProps={isDisabled:!1,value:void 0,autoFocus:!1},_s.displayName="DateFieldView";var xs=Object(u.injectIntl)(_s);function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ns(e);if(t){var o=Ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(e,t){return!t||"object"!==Ts(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(n,e);var t=Ms(n);function n(){return As(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ds(e.prototype,t),n&&Ds(e,n)}(n,[{key:"renderEditView",value:function(){return c.a.createElement(xs,{value:this.props.value,onChange:this.props.onChange,autoFocus:!0})}},{key:"renderReadView",value:function(){var e=this.props,t=e.value,n=e.noValueText;return t||c.a.createElement(Te.c,null,n)}},{key:"render",value:function(){var e=this.props.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,this.props.label)),c.a.createElement(xe.a,{onEnter:this.props.onConfirm,onEscape:this.props.onCancel},c.a.createElement(hs.a,{content:this.props.invalidMessage,isOpen:!!this.props.invalidMessage,placement:"top"},c.a.createElement(H.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,value:this.props.value,isEditing:this.props.isEditing,onCancel:this.props.onCancel,onConfirm:this.props.onConfirm,onEditRequested:this.props.onEditRequest,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!this.props.isMobile,areActionButtonsHidden:!0,editButtonLabel:e.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})})))))}}]),n}(a.Component);Fs.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:"",noValueText:null,value:"",invalidMessage:null},Fs.displayName="DateInlineEditFieldView";var Us=Object(u.injectIntl)(Fs),Vs=function(e){return e?e.replace(/-/g,"/"):""},Ks=function(e){return e?e.replace(/\//g,"-"):null},Bs=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Vs,transformToStateValue:Ks,additionalProps:function(e,t){return{noValueText:t.formatMessage(Co.noValue)}}}}))(Us),Ws=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Vs,transformToStateValue:Ks,additionalProps:function(e,t){return{noValueText:t.formatMessage(Co.noValue)}}}}))(Us),Hs=n("./src/packages/issue/issue-view/src/views/issue-base/context/ecosystem/index.js"),Gs=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),qs=K.default.div(["min-width:","px;"],1.5*mn.f);function zs(e){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ys(){return(Ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e,t){return($s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ea(e);if(t){var o=ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xs(this,n)}}function Xs(e,t){return!t||"object"!==zs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ta=function(e){return c.a.createElement(zr.a,{color:e,elemBefore:c.a.createElement(qs,null),text:""})};ta.displayName="getOptionColorElem";var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$s(e,t)}(n,e);var t=Zs(n);function n(){var e;Qs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderReadView=function(){var t=e.props,n=t.value,r=t.noValueText,o=t.isMobile;return(c.a.createElement(so,{value:n?[n]:null,noValueText:r,shouldHideLinks:o}))},e.formatOptionLabel=function(e,t){return"menu"===t.context?c.a.createElement(ei,{option:e}):e.label},e}return function(e,t,n){t&&Js(e.prototype,t),n&&Js(e,n)}(n,[{key:"render",value:function(){return c.a.createElement($i,Ys({},this.props,{renderReadView:this.renderReadView,formatOptionLabel:this.formatOptionLabel,hasAutocomplete:!0}))}}]),n}(a.Component);na.displayName="EpicInlineEditView",na.displayName="EpicInlineEditView";var ra=Object(u.defineMessages)({placeholder:{id:"issue.epic.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Epic"}}),oa={color_1:"grey",color_2:"yellow",color_3:"yellowLight",color_4:"blue",color_5:"teal",color_6:"greenLight",color_7:"purpleLight",color_8:"purple",color_9:"redLight",color_10:"blueLight",color_11:"tealLight",color_12:"greyLight",color_13:"green",color_14:"red"},ia={"ghx-label-1":"color_1","ghx-label-2":"color_2","ghx-label-3":"color_3","ghx-label-4":"color_4","ghx-label-5":"color_5","ghx-label-6":"color_6","ghx-label-7":"color_7","ghx-label-8":"color_8","ghx-label-9":"color_9","ghx-label-10":"color_10","ghx-label-11":"color_11","ghx-label-12":"color_12","ghx-label-13":"color_13","ghx-label-14":"color_14"},sa=function(e){var t=e.color?e.color.key:ia[e.colorKey];return t?oa[t]:null},aa=function(e,t){var n=t.baseUrl;return e&&function(e,t){return{content:e.name,value:e.key,color:sa(e),href:"".concat(t,"/browse/").concat(e.key)}}(e,n)},ca=function(e){return e&&{name:e.content,key:e.value,color:{key:Object.keys(oa).find((function(t){return oa[t]===e.color}))}}},ua=function(e){var t=ia[e.color],n=oa[t];return{content:e.name,value:e.key,description:e.key,color:n,elemBefore:ta(n),filterValues:[e.name,e.key]}},la=function(e){return[{items:(e&&e.epicLists||[]).reduce((function(e,t){return e.concat(t.epicNames)}),[]).map(ua)}]};function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var da=Object(r.a)((function(e,t){return function(n){return Object(I.c)("".concat(e,"/rest/greenhopper/1.0/epics?searchQuery=").concat(n,"&projectKey=").concat(t,"&maxResults=20")).then(la)}})),pa=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:aa,transformToStateValue:ca,additionalProps:function(e,t){return{fetchSuggestions:da(Object(D.f)(e),Object(D.J)(e)),placeholder:t.formatMessage(ra.placeholder),noValueText:t.formatMessage(Co.noValue),allowEmptyValue:!0}},saveField:function(e){var t=e.baseUrl,n=e.issueKey,r=e.fieldMetaKey,o=e.value;return Object(I.j)(Object(Gs.f)(t,n),{body:JSON.stringify({fields:fa({},r,o?o.key:null)})})}}}))(na),ma=function(e){return{content:e.name,value:e.name}},ya=Object(r.a)((function(e){return function(t){return Object(I.c)("".concat(e,"/rest/api/2/groups/picker?query=").concat(t)).then((function(e){return function(e){return e&&e.groups?[{items:e.groups.map(ma)}]:[{items:[]}]}(e)}))}})),ba=Object(u.defineMessages)({placeholder:{id:"issue.multi-group-picker.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select groups"}}),ga=function(e){return e&&ma(e)},va=function(e){return e&&{name:e.value}},ha=function(e){return e?function(e){return e.map((function(e){return ga(e)}))}(e):[]},Oa=function(e){return e?e.map((function(e){return va(e)})):[]},ja=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:ha,transformToStateValue:Oa,additionalProps:function(e,t){return{fetchSuggestions:ya(Object(D.f)(e)),placeholder:t.formatMessage(ba.placeholder),noValueText:t.formatMessage(Co.noValue)}}}}))(ki),wa=Object(u.defineMessages)({placeholder:{id:"issue.group-picker.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select group"}}),Ea=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:ga,transformToStateValue:va,additionalProps:function(e,n){return{fetchSuggestions:ya(Object(D.f)(e)),placeholder:n.formatMessage(wa.placeholder),noValueText:n.formatMessage(Co.noValue),allowEmptyValue:!Object(h.B)(t.fieldId)(e),hasAutocomplete:!0}}}}))($i),ka=n("./src/packages/servicedesk/knowledge-glance/src/index.js"),Sa=n("./src/packages/issue/issue-view/src/actions/share-as-comment-actions.js"),Ia=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),Ca=n("./src/packages/issue/issue-view/src/selectors/context-panel-selector.js"),Pa=Object(mt.a)([Object(l.connect)((function(e){return{isEditorOpen:Object(Ia.w)(e),isPanelOpen:Object(Ca.b)(e)}}),{onShareAsComment:Sa.d})])(ka.b),_a=Object(mt.a)([Object(l.connect)((function(e){return{isVisible:Object(pt.f)(e),baseUrl:Object(D.f)(e),issueKey:Object(D.B)(e),locale:Object(D.D)(e),issueId:Object(D.A)(e),projectKey:Object(D.J)(e),isAdmin:"admin"===Object(D.P)(e)}}),{})])((function(e){var t=e.isVisible,n=void 0===t||t,r=e.onOpenPanel,o=e.baseUrl,i=e.issueKey,s=e.locale,a=e.issueId,u=e.projectKey,l=e.isAdmin;return n&&c.a.createElement(ka.a,{baseUrl:o,locale:s,issueKey:i,onOpenPanel:r,issueId:a,projectKey:u,isAdmin:l})})),xa=Object(u.defineMessages)({placeholder:{id:"issue.labels.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Label"},createNewItem:{id:"issue.labels.create-new-item-message",defaultMessage:"New label"}}),Ta=function(e,t){var n=t.baseUrl,r=t.fieldId;return e?e.map((function(e){var t=encodeURIComponent("".concat(function(e){if(e.startsWith("customfield_")){var t=e.substring("customfield_".length,e.length);return"cf[".concat(t,"]")}return e}(r)," = ").concat(Object(Ko.b)(e)));return{content:e,value:e,href:"".concat(n,"/issues/?jql=").concat(t)}})):[]},Aa=function(e){return e.map((function(e){return e.value}))},Da=function(e){return[{items:e.suggestions?e.suggestions.map((function(e){return{content:e.label,value:e.label}})):[]}]},Ra=function(e){return e.length>55?c.a.createElement(u.FormattedMessage,{id:"issue.labels-view.input-too-many-labels",defaultMessage:"Can't have more than {max} labels.",values:{max:55}}):e.map((function(e){return e.content.trim()})).some((function(e){return e.includes(" ")||e.length>255}))?c.a.createElement(u.FormattedMessage,{id:"issue.labels-view.input-label-is-invalid",defaultMessage:"Labels can't have spaces or be more than {max} characters.",values:{max:255}}):void 0};function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){Fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Va(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qa(e);if(t){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ga(this,n)}}function Ga(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var za=Qt()((function(e,t){return function(n,r){if(null==e)return Promise.resolve([]);var o="".concat(e).concat(encodeURIComponent(n));return null!=r&&(o="".concat(o,"&sessionId=").concat(r)),null!=t&&(o="".concat(o,"&fieldEditSessionId=").concat(t)),Object(I.c)(o).then(Da)}}),(function(e,t){return"".concat(e,"_").concat(t)})),Ya=Qt()((function(e,t){return function(n,r){if(!n&&null!=e){var o=e.prefetched,i=e.fieldValuePromise,s=e.sessionId,a=e.prefetchSessionId,c=t.createAnalyticsEvent;if(o&&null!==i&&null!==s)return An(c,a,r||"",s,j.r),i.then((function(e){return Da(e)}));Dn(c,a,r||"",j.r)}return t.fetchSuggestions(n,r)}}),(function(e,t){return"".concat(e&&e.prefetchSessionId||"","_").concat(t.issueKey)})),Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(n,e);var t=Ha(n);function n(){var e;Ka(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onEditRequest=function(){Object(y.c)().cancel({key:S.c.LABELS.TIME_TO_REFLECT_INPUT_RESULT},!0),Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),e.props.onEditRequest()},e.onConfirm=function(){Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM}),e.props.onConfirm()},e.onCancel=function(){Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),e.props.onCancel()},e.onChange=function(t,n){null!=n&&null!=n.action&&("select-option"===n.action?Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_REFLECT_SELECTED_EXISTING,isReducedRerendersEnabled:Object(on.isReducedIssueRerendersEnabled)()}):"remove-value"===n.action?Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_REFLECT_REMOVED_EXISTING,isReducedRerendersEnabled:Object(on.isReducedIssueRerendersEnabled)()}):"create-option"===n.action&&Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_REFLECT_SELECTED_NEW,isReducedRerendersEnabled:Object(on.isReducedIssueRerendersEnabled)()})),e.props.onChange(t)},e.onDataRequest=function(e){e.isInitial||Object(y.c)().markStartOfInteraction({key:S.c.LABELS.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},e.onDataLoaded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isInitial;t?Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS}):Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_REFLECT_INPUT_RESULT})},e}return function(e,t,n){t&&Ba(e.prototype,t),n&&Ba(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.initFieldOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditing,r=t.value;if(t.fieldId===s.N){var o=!e.isEditing&&n,i=e.isEditing&&!n;e.isEditing&&n&&(r.length>e.value.length?(Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_REFLECT_SELECTED_EXISTING}),Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_REFLECT_SELECTED_NEW})):r.length<e.value.length&&Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_REFLECT_REMOVED_EXISTING})),i&&(Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),e.value===r&&Object(y.c)().markTimeToFinishTask({key:S.c.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM})),o&&Object(y.c)().markTimeToFeedback({key:S.c.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS})}}},{key:"renderMultiSelectInlineEditView",value:function(e){e.initFieldOptions,e.issueKey,e.createAnalyticsEvent;var t=Va(e,["initFieldOptions","issueKey","createAnalyticsEvent"]),n=this.props.fieldId===s.N?{onEditRequest:this.onEditRequest,onConfirm:this.onConfirm,onCancel:this.onCancel,onChange:this.onChange,onDataRequest:this.onDataRequest,onDataLoaded:this.onDataLoaded}:{};return c.a.createElement(ki,Ua({},t,n))}},{key:"renderWithCachedValue",value:function(){var e=this,t=this.props.issueKey,n=Object(Zt.b)(t,j.r);return c.a.createElement(n,{fieldId:j.r},(function(t){var n=Ya(t,e.props),r=Na(Na({},e.props),{},{fetchSuggestions:n});return e.renderMultiSelectInlineEditView(r)}))}},{key:"render",value:function(){return Object(on.isBentoSmartPrefetchEnabled)()&&Object(on.isPrefetchingLabelEnabled)()&&this.props.fieldId===j.r?this.renderWithCachedValue():this.renderMultiSelectInlineEditView(this.props)}}]),n}(a.Component);Qa.displayName="LabelsView",Qa.displayName="LabelsView";var Ja=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Ta,transformToStateValue:Aa,additionalProps:function(e,n){return{fetchSuggestions:za(Object(h.d)(t.fieldId)(e),Object(h.f)(t.fieldId)(e)),placeholder:n.formatMessage(xa.placeholder),noValueText:n.formatMessage(Co.noValue),formatCreateLabel:function(e){return"".concat(e," (").concat(n.formatMessage(xa.createNewItem),")")},canCreateNewItem:!0,allowEmptyValue:!0,validate:Ra,issueKey:Object(D.B)(e)}}}}))(Qa),$a=Object(u.defineMessages)({placeholder:{id:"issue.multi-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),Za=function(e){return{value:e.id,content:e.value}},Xa=function(e){return e?e.map(Za):[]},ec=function(e){return e&&e.map((function(e){return{id:e.value,value:e.content}}))},tc=function(e){return e&&[{items:e.map(Za)}]||[]},nc=Object(r.a)((function(e){return function(){return Promise.resolve(e).then(tc)}})),rc=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Xa,transformToStateValue:ec,additionalProps:function(e,n){return{fetchSuggestions:nc(Object(h.c)(t.fieldId)(e)),placeholder:n.formatMessage($a.placeholder,{fieldName:Object(h.m)(t.fieldId)(e)}),noValueText:n.formatMessage(Co.noValue)}}}}))(ki),oc=Object(u.defineMessages)({placeholder:{id:"issue.multi-user.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select User"}});function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc=function(e){return e&&e.map((function(e){return{displayName:e.content,accountId:e.accountId,id:e.value,avatarUrls:ic({},"24x24",e.avatarUrl)}}))},ac=function(e){return e?e.map((function(e){return{content:e.displayName,value:e.accountId,key:e.accountId,avatarUrl:e.avatarUrls["24x24"],accountId:e.accountId,elemBefore:c.a.createElement(an.a,{size:"xsmall",src:e.avatarUrls["24x24"]})}})):[]},cc=function(e){return[{items:(e&&e.users||[]).map((function(e){return{content:e.displayName,value:e.accountId,accountId:e.accountId,avatarUrl:e.avatarUrls["24x24"]}}))}]},uc=Object(r.a)((function(e){return function(t){return e?Object(I.c)("".concat(e).concat(t)).then(cc):Promise.resolve([])}})),lc=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:ac,transformToStateValue:sc,additionalProps:function(e,n){return{fetchSuggestions:uc(Object(h.d)(t.fieldId)(e)),placeholder:n.formatMessage(oc.placeholder),noValueText:n.formatMessage(Co.noValue),tagAppearance:"rounded",showDropdownOnClick:!1,isUserTag:!0,formatOptionLabel:function(e){return c.a.createElement(oi,null,e.avatarUrl&&c.a.createElement(an.a,{size:"small",src:e.avatarUrl}),c.a.createElement(ii,null,e.label))}}}}}))(ki),fc=n("./node_modules/@atlaskit/badge--current/components/index.js"),dc=n("./src/packages/issue/fields/number/src/index.js"),pc=K.default.div(["margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}"]);function mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bc=function(e){var t=e.issueKey,n=e.fieldId,r=e.label,o=e.noValueText,i=mc(Object(dc.b)({issueKey:t,fieldKey:n}),1)[0].value;return c.a.createElement(pc,null,c.a.createElement(lr.a,null,c.a.createElement(lr.b,null,r)),c.a.createElement(dc.a,{label:r,issueKey:t,fieldKey:n,readView:function(){return null===i||""===i?c.a.createElement(Te.c,null,o):c.a.createElement(fc.a,null,i.toString())}(),isFitContainerWidthReadView:!0}))};bc.displayName="NumberView";var gc=Object(a.memo)(bc),vc=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,t){return{issueKey:Object(D.B)(e),noValueText:t.formatMessage(Co.noValue),type:"number"}}}}))(gc),hc=n("./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-inline-edit-view.js"),Oc=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,t){return{noValueText:t.formatMessage(Co.noValue),type:"number"}}}}))(hc.a),jc=n("./node_modules/@atlaskit/icon--current/glyph/people-group.js"),wc=n.n(jc);function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kc=Object(u.defineMessages)({placeholder:{id:"issue.organizations.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select the Organizations"},organizationIconLabel:{id:"issue.organizations.organization-icon-label",defaultMessage:"Organization icon"}}),Sc=function(e){return{value:e.id,content:e.name,elemBefore:c.a.createElement(wc.a,{label:""})}},Ic=function(e){return e?e.map(Sc):[]},Cc=function(e){return e&&e.map((function(e){return{id:e.value,name:e.content}}))},Pc=function(e){return[{items:e.map(Sc)}]},_c=Object(r.a)((function(e){return function(t){return e?Object(I.c)("".concat(e).concat(t)).then(Pc):Promise.resolve([])}})),xc=function(e){return function(e,t,n,r){return Object(I.j)(Object(Gs.f)(e,t),{body:JSON.stringify({fields:Ec({},n,r.map((function(e){return Number(e.id)})))})})}(e.baseUrl,e.issueKey,e.fieldMetaKey,e.value)},Tc=function(e){return e&&Array.isArray(e)?e.map((function(e){return e.id})).join(","):e},Ac=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Ic,transformToStateValue:Cc,saveField:xc,additionalProps:function(e,n){return{tagAppearance:"rounded",formatOptionLabel:function(e){return c.a.createElement(oi,null,c.a.createElement(wc.a,{label:n.formatMessage(kc.organizationIconLabel)}),c.a.createElement(ii,null,e.content))},fetchSuggestions:_c(Object(h.d)(t.fieldId)(e)),placeholder:n.formatMessage(kc.placeholder),noValueText:n.formatMessage(Co.noValue),analyticsAttributeIdRetriever:Tc}}}}))(ki),Dc=n("./src/packages/issue/issue-view/src/common/state/selectors/field-visibility-selector.js"),Rc=Object(L.createSelector)(Object(h.n)(j.j),(function(e){return null!==e?e:void 0})),Mc=n("./node_modules/lodash/debounce.js"),Lc=n.n(Mc),Nc=n("./node_modules/react-select/dist/react-select.esm.js"),Fc=n("./node_modules/@atlaskit/select--current/AsyncSelect.js"),Uc=Object(u.defineMessages)({menuHeader:{id:"issue.views.field.parent.edit.menuHeader",defaultMessage:"To set an epic as a parent, use the epic link instead."},noMatches:{id:"issue.views.field.parent.edit.noMatches",defaultMessage:"No Matches"},placeholder:{id:"issue.views.field.parent.edit.placeholder",defaultMessage:"Choose a parent to assign this issue to."}}),Vc=K.default.img(["margin-right:","px;"],mn.f),Kc=K.default.div(["display:flex;flex-direction:row;overflow:hidden;"]),Bc=K.default.div(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Wc=K.default.div(["padding:","px ","px ","px;"],mn.f,2*mn.f,2*mn.f),Hc=K.default.div(["color:",";"],pn.colors.N90);function Gc(e){return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){Yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(e,t){return($c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eu(e);if(t){var o=eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(e,t){return!t||"object"!==Gc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tu=Object(u.injectIntl)((function(e){return c.a.createElement(Nc.d.MenuList,e,c.a.createElement(Wc,null,e.intl.formatMessage(Uc.menuHeader)),e.children)})),nu=function(e){var t=e.data.data;if(t){var n=t.issueType,r=t.summary,o=t.key,i=n.iconUrl;return c.a.createElement(Nc.d.Option,e,c.a.createElement(Kc,null,c.a.createElement(Vc,{src:i})," ",c.a.createElement(Bc,null,o," ",r)))}return null},ru=Object(u.injectIntl)((function(e){var t=e.data.data,n=t?t.label:c.a.createElement(Hc,null,e.intl.formatMessage(Uc.placeholder));return c.a.createElement(Nc.d.SingleValue,e,n)})),ou=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$c(e,t)}(n,e);var t=Zc(n);function n(){var e;Qc(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){var n=e.props.value,r=n.hasEpicLinkFieldDependency,o=n.showField,i=null!=t?t.data:null,s=zc(zc({data:i,value:i?i.key:null},{hasEpicLinkFieldDependency:r}),{showField:o});e.props.onChange(s),e.props.onConfirm(s)},e.debouncedLoadOptions=Lc()((function(t,n){e.props.loadOptions(t).then(n,(function(){n([])}))}),300),e}return function(e,t,n){t&&Jc(e.prototype,t),n&&Jc(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.portalElement,r=e.menuPlacement,o=e.intl.formatMessage;return(c.a.createElement(Fc.a,{value:t,autoFocus:!0,defaultOptions:!0,components:{MenuList:tu,Option:nu,SingleValue:ru},menuPortalTarget:n,menuPlacement:r,onChange:this.onChange,loadOptions:this.debouncedLoadOptions,defaultMenuIsOpen:!0,isClearable:null!==t.data,noOptionsMessage:function(){return o(Uc.noMatches)},cacheOptions:!0}))}}]),n}(a.Component);ou.displayName="EditableParentLinkField";var iu=Object(u.injectIntl)(ou),su=Object(u.defineMessages)({label:{id:"issue.views.field.parent.label",defaultMessage:"Parent link"}}),au=Object(u.defineMessages)({epicLinkExists:{id:"issue.views.field.parent.epic-link-exists-message.epicLinkExists",defaultMessage:"Cannot use parent link when epic link is set."}}),cu=K.default.div(["color:",";"],pn.colors.N90),uu=function(e){var t=e.intl.formatMessage;return(c.a.createElement(cu,null,t(au.epicLinkExists)))};uu.displayName="EpicLinkExistsMessage";var lu=Object(u.injectIntl)(uu),fu=K.default.div(["display:flex;flex-direction:row;overflow:hidden;white-space:nowrap;"]),du=K.default.a(["margin-right:","px;cursor:pointer;"],mn.f),pu=K.default.div(["overflow:hidden;text-overflow:ellipsis;"]),mu=K.default.img(["margin-right:","px;"],mn.f),yu=function(e){var t=e.showError,n=e.value,r=e.noValueText;if(t)return c.a.createElement(lu,null);if(n.data){var o=n.data,i=o.key,s=o.summary,a=o.issueType.iconUrl,u=o.url;return(c.a.createElement(fu,null,c.a.createElement(mu,{src:a}),c.a.createElement(du,{href:u,target:"_blank"},i),c.a.createElement(pu,null,s)))}return(c.a.createElement(Te.c,null,r))};yu.displayName="ParentViewField";var bu=yu;function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return(Ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eu(e);if(t){var o=Eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wu(this,n)}}function wu(e,t){return!t||"object"!==gu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}(n,e);var t=ju(n);function n(){var e;vu(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shouldShowError=function(){return e.props.hasEpic&&e.props.value.hasEpicLinkFieldDependency},e}return function(e,t,n){t&&hu(e.prototype,t),n&&hu(e,n)}(n,[{key:"renderEditableField",value:function(){var e=this.props,t=e.onChange,n=e.onConfirm,r=e.fetchSuggestions,o=e.value,i=e.portalElement,s=e.menuPlacement;return this.shouldShowError()?null:c.a.createElement("span",null,c.a.createElement(iu,{value:o,loadOptions:r,portalElement:i,menuPlacement:s,onChange:t,onConfirm:n}))}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.value,r=e.noValueText,o=e.isEditing,i=e.onConfirm,s=e.onCancel,a=e.onEditRequest,u=e.isMobile,l=t(su.label);return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,l)),c.a.createElement(xe.a,{onEscape:this.props.onCancel},c.a.createElement(H.a,{isLabelHidden:!0,label:l,readView:c.a.createElement(bu,{noValueText:r,value:n,showError:this.shouldShowError()}),editView:this.props.isEditable?this.renderEditableField():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:o,onConfirm:i,onCancel:s,onEditRequested:a,isFitContainerWidthReadView:!u})))}}]),n}(a.Component);ku.displayName="ParentField";var Su=Object(u.injectIntl)(ku),Iu=function(e){return e};function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pu(){return(Pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xu=Object(r.a)((function(e,t,n,r){return function(o){return n?Object(I.i)("".concat(e,"/rest/jpo/1.0/parent/suggest"),{body:JSON.stringify({query:o,projectId:t,issueTypeId:n,maxResults:100})}).then((function(t){return function(e,t,n){if(!e||!e.issues||e.issues.length<=0)return[];var r=e.projects,o=e.issueTypes;return e.issues.map((function(e){var i=r.filter((function(t){return t.id===e.projectId}))[0].key,s="".concat(i,"-").concat(e.issueKey),a=o.filter((function(t){return+t.id===e.issueTypeId}))[0].iconUrl;return{data:{key:s,summary:e.issueSummary,value:s,label:"".concat(s," ").concat(e.issueSummary),issueType:{id:e.issueTypeId,iconUrl:"".concat(t).concat(a)},url:"".concat(t,"/browse/").concat(s)},hasEpicLinkFieldDependency:n.hasEpicLinkFieldDependency,showField:n.showField,value:s}}))}(t,e,r)})):[]}})),Tu=function(e){var t=e.epic,n=e.isVisible,r=(e.intl,_u(e,["epic","isVisible","intl"]));if(!n)return null;var o=null!=t;return(c.a.createElement(Su,Pu({hasEpic:o},r)))};Tu.displayName="ParentView";var Au=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:function(e,t){return function(e,t){return function(e,t){return{hasEpicLinkFieldDependency:e.hasEpicLinkFieldDependency,showField:e.showField,value:e.data&&e.data.key?e.data.key:null,data:e.data?{key:e.data.key,value:e.data.key,summary:e.data.summary,url:"".concat(t,"/browse/").concat(e.data.key),label:"".concat(e.data.key," ").concat(e.data.summary),issueType:e.data.issueType?{iconUrl:"".concat(t).concat(e.data.issueType.iconUrl),id:e.data.issueType.id}:e.data.issueType}:null}}(e,t.baseUrl)}(e,t)},transformToStateValue:Iu,additionalProps:function(e,n){return{fetchSuggestions:xu(Object(D.f)(e),Object(N.B)(e),Object(Ki.e)(e),Object(h.n)(t.fieldId)(e)),noValueText:n.formatMessage(Co.noValue),epic:Rc(e),isVisible:Object(Dc.d)(t.fieldId)(e),portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0}},saveField:function(e){var t=e.baseUrl,n=e.issueKey,r=e.fieldMetaKey,o=e.value;return Object(I.j)(Object(Gs.f)(t,n),{body:JSON.stringify({fields:Cu({},r,o&&o.data?o.data.key:null)})})}}}))(Tu),Du=n("./src/packages/platform/utils/types/src/index.js");function Ru(e){return function(e){if(Array.isArray(e))return Mu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lu(e){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fu=function(e){return e.map((function(e){return{id:Object(Du.toAccountId)(e.id),accountId:Object(Du.toAccountId)(e.id),displayName:e.name,avatarUrls:Nu({},"24x24",e.avatarUrl)}}))},Uu=function(e){return Array.isArray(e)?e.reduce((function(e,t){var n=function(e){if(!e||"object"!==Lu(e)||!e.accountId||!e.displayName)return null;var t="";return e.avatarUrls&&"object"===Lu(e.avatarUrls)&&(t=String(e.avatarUrls["24x24"])),{id:String(e.accountId),name:String(e.displayName),type:"user",fixed:!1,avatarUrl:t}}(t);return n?[].concat(Ru(e),[n]):e}),[]):[]},Vu=n("./src/packages/project-settings/people-field/src/index.js"),Ku=Object(u.defineMessages)({placeholderMulti:{id:"issue.people.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Choose people"},placeholderSingle:{id:"issue.people.text-for-edit-view-when-no-value-is-provided-single-mode",defaultMessage:"Choose a person"},singleValueValidationError:{id:"issue.people.single-value-validation-error",defaultMessage:"You can only add one person to this field"}});function Bu(e){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gu(e,t){return(Gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yu(e);if(t){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zu(this,n)}}function zu(e,t){return!t||"object"!==Bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qu=Object(r.a)((function(e){return e.map((function(e){return{value:e.id,content:e.name,elemBefore:c.a.createElement(an.a,{size:"xsmall",src:e.avatarUrl})}}))})),Ju=function(e){return!e||!1!==e.isMulti},$u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gu(e,t)}(n,e);var t=qu(n);function n(){return Wu(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Hu(e.prototype,t),n&&Hu(e,n)}(n,[{key:"isValid",value:function(){var e=this.props,t=e.configuration,n=e.value;return!Ju(t)&&n.length>1}},{key:"renderReadView",value:function(){var e=this.props,t=e.value,n=e.intl,r=e.isMobile;return(c.a.createElement(so,{value:Qu(t),noValueText:n.formatMessage(Co.noValue),tagAppearance:"rounded",shouldHideLinks:r,isUserTag:!0}))}},{key:"renderEditView",value:function(){var e=this.props,t=e.onChange,n=e.value,r=e.baseUrl,o=e.intl,i=e.configuration,s=Ju(i)||n.length>1;return c.a.createElement(Vu.a,{baseUrl:r,isMulti:s,autoFocus:!0,isInvalid:this.isValid(),isInputDisabled:this.isValid(),invalidMessage:o.formatMessage(Ku.singleValueValidationError),placeholder:o.formatMessage(s?Ku.placeholderMulti:Ku.placeholderSingle),isDisabled:!1,appearance:"compact",onChange:t,value:n})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.isEditable,r=e.isEditing,o=e.isMobile,i=e.onConfirm,s=e.onCancel,a=e.onEditRequest,u=e.intl,l=e.value,f=e.configuration,d=!Ju(f)&&l.length<=1;return c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,t)),c.a.createElement(H.a,{isLabelHidden:!0,label:t,readView:this.renderReadView(),editView:n?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:r,shouldConfirmOnEnter:d,isValid:!r||this.isValid(),onConfirm:i,onCancel:s,areActionButtonsHidden:d,onEditRequested:a,isFitContainerWidthReadView:!o,editButtonLabel:u.formatMessage(B.a.editButtonLabel,{fieldName:t}),confirmButtonLabel:u.formatMessage(B.a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:u.formatMessage(B.a.cancelButtonLabel,{fieldName:t})}))}}]),n}(a.Component);$u.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:""},$u.displayName="People";var Zu=Object(V.a)((function(e,t){var n=t.fieldId;return{fieldId:n,transformFromStateValue:Uu,transformToStateValue:Fu,additionalProps:function(e){var t=Object(h.q)(n)(e)||{};return{baseUrl:Object(Du.toBaseUrl)(Object(D.f)(e)),configuration:t.configuration||{}}}}}))(Object(u.injectIntl)($u)),Xu=function(e){return{content:e.name,value:e.id,iconUrl:e.iconUrl}},el=function(e){return e&&Xu(e)},tl=function(e){return e&&{name:e.content,id:e.value,iconUrl:e.iconUrl}},nl=function(e){return[{items:e.map(Xu)}]};function rl(){return(rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ol=Object(u.defineMessages)({placeholder:{id:"issue.priority.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select priority"}}),il=Object(r.a)((function(e){return function(){return Promise.resolve(e).then(nl)}})),sl=function(){Object(y.c)().markTimeToFeedback({key:S.c.PRIORITY.TIME_TO_RENDER_SUGGESTIONS})},al=function(){Object(y.c)().markTimeToFinishTask({key:S.c.PRIORITY.TIME_TO_RENDER_SUGGESTIONS})},cl=function(e){var t=e.isEditing,n=e.value,r=e.onChange,o=e.onEditRequest,i=e.onConfirm,s=e.onCancel,u=Object(a.useRef)(!1);Object(a.useEffect)((function(){Object(y.c)().markTimeToFinishTask({key:S.c.PRIORITY.TIME_TO_REFLECT_PRIORITY_UPDATE})}),[n]),Object(a.useEffect)((function(){t||Object(y.c)().markTimeToFinishTask({key:S.c.PRIORITY.TIME_TO_RENDER_READ_VIEW})}),[t]);var l=Object(a.useCallback)((function(e){u.current=!0,Object(y.c)().markStartOfInteraction({key:S.c.PRIORITY.TIME_TO_REFLECT_PRIORITY_UPDATE,cancelExisting:!0}),r(e)}),[r]),f=Object(a.useCallback)((function(){Object(y.c)().markStartOfInteraction({key:S.c.PRIORITY.TIME_TO_RENDER_SUGGESTIONS,cancelExisting:!0}),o()}),[o]),d=Object(a.useCallback)((function(){u.current||Object(y.c)().markStartOfInteraction({key:S.c.PRIORITY.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),u.current=!1,i()}),[i]),p=Object(a.useCallback)((function(){Object(y.c)().markStartOfInteraction({key:S.c.PRIORITY.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),s()}),[s]);return c.a.createElement($i,rl({},e,{onEditRequest:f,onConfirm:d,onCancel:p,onChange:l,onDataRequest:sl,onDataLoaded:al}))};cl.displayName="PriorityView";var ul=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:el,transformToStateValue:tl,additionalProps:function(e,n){return{fetchSuggestions:il(Object(h.c)(t.fieldId)(e)),placeholder:n.formatMessage(ol.placeholder),noValueText:n.formatMessage(Co.noValue),portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0}}}}))(cl),ll=n("./node_modules/@atlaskit/select--current/RadioSelect.js");function fl(e){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gl(e);if(t){var o=gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(e,t){return!t||"object"!==fl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gl(e){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(n,e);var t=yl(n);function n(){return dl(this,n),t.apply(this,arguments)}return function(e,t,n){t&&pl(e.prototype,t),n&&pl(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.invalidMessage,n=e.options,r=e.placeholder,o=e.onChange,i=e.value,s=e.portalElement;return(c.a.createElement(co.a,{validationState:null!=t?"error":null,validationMessage:t},c.a.createElement(ll.a,{menuPortalTarget:s,options:n,placeholder:r,onChange:o,value:i,tabSelectsValue:!1,autoFocus:!0})))}}]),n}(a.Component);function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(e){return function(e){if(Array.isArray(e))return jl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kl(e,t){return(kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cl(e);if(t){var o=Cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Il(this,n)}}function Il(e,t){return!t||"object"!==hl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cl(e){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}vl.displayName="RadioFieldView",vl.defaultProps={value:null,options:[],placeholder:null,invalidMessage:null},vl.displayName="RadioFieldView";var Pl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kl(e,t)}(n,e);var t=Sl(n);function n(){var e;wl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).emptyOption={label:e.props.intl.formatMessage(Co.noValue)},e}return function(e,t,n){t&&El(e.prototype,t),n&&El(e,n)}(n,[{key:"getOptions",value:function(){var e=this.props,t=e.options;return e.value?[this.emptyOption].concat(Ol(t)):t}},{key:"renderReadView",value:function(){var e=this.props,t=e.value,n=e.noValueText;return t?t.label:c.a.createElement(Te.c,null,n)}},{key:"renderEditView",value:function(){return this.props.isEditable?c.a.createElement(vl,{portalElement:this.props.portalElement,value:this.props.value,options:this.getOptions(),onChange:this.props.onChange,placeholder:this.props.placeholder,invalidMessage:this.props.invalidMessage}):null}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.onCancel,r=e.isEditing,o=e.onConfirm,i=e.onEditRequest,s=e.isMobile,a=e.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,t)),c.a.createElement(xe.a,{onEscape:n},c.a.createElement(H.a,{isLabelHidden:!0,label:t,readView:this.renderReadView(),editView:this.renderEditView(),disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:r,onConfirm:o,onCancel:n,onEditRequested:i,isFitContainerWidthReadView:!s,editButtonLabel:a.formatMessage(B.a.editButtonLabel,{fieldName:t}),confirmButtonLabel:a.formatMessage(B.a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:a.formatMessage(B.a.cancelButtonLabel,{fieldName:t})}))))}}]),n}(a.Component);Pl.displayName="RadioInlineEditView",Pl.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,options:[],value:null,label:"",placeholder:null,noValueText:null,invalidMessage:null},Pl.displayName="RadioInlineEditView";var _l=Object(u.injectIntl)(Pl),xl=function(e){return{label:e.value,value:e.id}},Tl=function(e){return e?xl(e):null},Al=function(e){return e&&void 0!==e.value?{id:e.value,value:e.label}:null},Dl=Object(u.defineMessages)({placeholder:{id:"issue.radio-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),Rl=Qt()((function(e){return function(e){return e&&e.map(xl)||[]}(e)})),Ml=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Tl,transformToStateValue:Al,additionalProps:function(e,n){return{portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0,options:Rl(Object(h.c)(t.fieldId)(e)),placeholder:n.formatMessage(Dl.placeholder,{fieldName:Object(h.m)(t.fieldId)(e)}),noValueText:n.formatMessage(Co.noValue)}}}}))(_l);function Ll(e){return function(e){if(Array.isArray(e))return Nl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var Ul=function(e,t){return!!e&&!!t&&t.toLowerCase().startsWith(e.toLowerCase())},Vl=Object(r.a)((function(e){return{avatarUrl:"",name:e,id:null}})),Kl=Object(r.a)((function(e){return[Vl(e)]})),Bl=Object(r.a)((function(e,t,n){return function(){var r=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fl(i,r,o,s,a,"next",e)}function a(e){Fl(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function r(o){var i,s,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",[]);case 2:return i=!n&&Ul(o,t)?[Vl(t)]:[],r.next=5,Object(I.c)("".concat(e).concat(o));case 5:return s=r.sent,a=s.map(Rn),r.abrupt("return",[].concat(i,Ll(a)));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()})),Wl=Object(u.defineMessages)({noReporter:{id:"issue.reporter.text-when-no-value-is-provided",defaultMessage:"Anonymous"}}),Hl=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Rn,transformToStateValue:Mn,additionalProps:function(e,n){var r=Object(h.B)(t.fieldId)(e),o=n.formatMessage(Wl.noReporter);return{portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0,fetchSuggestions:Bl(Object(h.d)(t.fieldId)(e),o,r),emptyOption:r?void 0:Vl(o),initialOptions:r?void 0:Kl(o),fieldId:"reporter"}}}}))(_n),Gl=n("./node_modules/lodash/range.js"),ql=n.n(Gl),zl=n("./node_modules/@atlaskit/icon--current/glyph/star.js"),Yl=n.n(zl),Ql=n("./node_modules/@atlaskit/icon--current/glyph/star-filled.js"),Jl=n.n(Ql),$l=n("./src/packages/issue/issue-view/src/selectors/request-panel-metadata-selector.js"),Zl=Object(h.e)(s.db),Xl=Object(L.createSelector)(Zl,(function(e){return e&&e.renderedValue})),ef=K.default.div(["max-width:220px;padding-right:","px;margin-right:-","px;margin-bottom:","px;max-height:240px;overflow:auto;",";"],mn.f,2*mn.f,mn.f,Object(Te.h)("&")),tf=K.default.div(["height:20px;color:#6c798f;",";"],(function(e){return!e.hasComment&&Object(K.css)(["margin:-","px 0;padding:10px 0;"],2*mn.f)})),nf=Object(mt.a)([Object(l.connect)((function(e){return{feedbackDate:Xl(e),comment:Object($l.a)(e)}}),{})])((function(e){var t=e.feedbackDate,n=e.comment;return(c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(ef,null,n),t&&c.a.createElement(tf,{hasComment:!!n},t)))})),rf=K.default.div(["margin-top:0;margin-bottom:","px;"],3*mn.f),of=K.default.div(["margin-top:","px;cursor:pointer;"],mn.f);function sf(e){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(e,t){return(uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=df(e);if(t){var o=df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ff(this,n)}}function ff(e,t){return!t||"object"!==sf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function df(e){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uf(e,t)}(n,e);var t=lf(n);function n(){var e;af(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldShowDetails:!1},e.onToggle=function(){return e.setState({shouldShowDetails:!e.state.shouldShowDetails})},e.renderStar=function(e){var t=ql()(5).map((function(t){return t<e?c.a.createElement(Jl.a,{key:t,primaryColor:pn.colors.Y300}):c.a.createElement(Yl.a,{key:t,primaryColor:pn.colors.N60})}));return(c.a.createElement(c.a.Fragment,null,t))},e}return function(e,t,n){t&&cf(e.prototype,t),n&&cf(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.rating;return e.isVisible&&c.a.createElement(rf,null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,t)),c.a.createElement(hs.a,{onClose:this.onToggle,content:c.a.createElement(nf,null),isOpen:this.state.shouldShowDetails},c.a.createElement(of,{onClick:this.onToggle},this.renderStar(n))))}}]),n}(a.Component);pf.defaultProps={isVisible:!0},pf.displayName="RequestFeedback";var mf=function(e,t){var n=Object(h.o)(t)(e);return n&&n.rating},yf=Object(mt.a)([Object(l.connect)((function(e,t){return{rating:mf(e,t.fieldId),fieldName:Object(h.m)(t.fieldId)(e),isVisible:Object(Dc.e)(t.fieldId)(e)}}),{})])(pf);function bf(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var gf=function(e,t){return"".concat(e,"/rest/servicedesk/lingo-integration/1/request-language/").concat(t)},vf=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){bf(i,r,o,s,a,"next",e)}function a(e){bf(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Issue ID not available");case 2:return e.abrupt("return",Object(I.j)(gf(t,n),{body:JSON.stringify({languageCode:r})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),hf=Object(u.defineMessages)({placeholder:{id:"issue.request-language.placeholder",defaultMessage:"Select Request language"},languageUnknown:{id:"issue.request-language.languageUnknown",defaultMessage:"Language unknown"}});function Of(e){return function(e){if(Array.isArray(e))return jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wf=function(e){return{content:e.displayName,value:e.languageCode}},Ef=Object(r.a)((function(e){return{displayName:e.formatMessage(hf.languageUnknown),languageCode:""}})),kf=function(e,t,n){return wf(e||Ef(n))},Sf=function(e){return{displayName:e.content,languageCode:e.value.toString()}};function If(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Cf=Object(r.a)((function(e,t){return function(){return Promise.resolve(function(e,t){return[{items:[Ef(t)].concat(Of(e)).map(wf)}]}(e,t))}})),Pf=function(e,t){var n=e.baseUrl,r=e.value.languageCode,o=Object(D.A)(t);return vf(n,o,r)},_f=function(e){return e&&e.languageCode},xf=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:kf,transformToStateValue:Sf,saveField:Pf,additionalProps:function(e,n){return{fetchSuggestions:Cf(Object(h.c)(t.fieldId)(e),n),shouldHide:!Object(Dc.f)(t.fieldId)(e),hasAutocomplete:!0,placeholder:n.formatMessage(hf.placeholder),analyticsAttributeIdRetriever:_f}}}}))((function(e){var t=e.shouldHide,n=If(e,["shouldHide"]);return t?null:c.a.createElement($i,n)})),Tf=Object(u.defineMessages)({placeholder:{id:"issue.request-participants.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select the Request Participants"}});function Af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Df=function(e){return e?e.map((function(e){return{content:e.displayName,value:e.accountId,avatarUrl:e.avatarUrls["24x24"],elemBefore:c.a.createElement(an.a,{size:"xsmall",src:e.avatarUrls["24x24"]})}})):[]},Rf=function(e){return e&&e.map((function(e){return{displayName:e.content,id:Object(Du.toAccountId)(e.value),accountId:Object(Du.toAccountId)(e.value),avatarUrls:Af({},"24x24",e.avatarUrl)}}))},Mf=function(e){return[{items:(e&&e.users||[]).map((function(e){return{content:e.displayName,value:e.accountId,avatarUrl:e.avatarUrl}}))}]},Lf=Object(r.a)((function(e){return function(t){return e?Object(I.c)("".concat(e).concat(t)).then(Mf):Promise.resolve([])}})),Nf=function(e){return e&&Array.isArray(e)?e.map((function(e){return e.accountId})).join(","):e},Ff=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Df,transformToStateValue:Rf,additionalProps:function(e,n){return{fetchSuggestions:Lf(Object(h.d)(t.fieldId)(e)),placeholder:n.formatMessage(Tf.placeholder),noValueText:n.formatMessage(Co.noValue),tagAppearance:"rounded",formatOptionLabel:function(e){return c.a.createElement(oi,null,e.avatarUrl&&c.a.createElement(an.a,{size:"small",src:e.avatarUrl}),c.a.createElement(ii,null,e.content))},analyticsAttributeIdRetriever:Nf}}}}))(ki),Uf=Object(u.defineMessages)({placeholder:{id:"issue.service-entity.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select a service"}}),Vf=function(e){return encodeURIComponent(function(e){return e.startsWith("b:")?e:"b:".concat(window.btoa(e))}(e))},Kf=function(e,t,n){return"".concat(function(e,t){return"".concat(e,"/jira/servicedesk/projects/").concat(t,"/services")}(e,t),"/").concat(Vf(n))},Bf=function(e,t){var n=t.baseUrl,r=t.projectKey;return e?e.map((function(e){return{value:e.id,content:e.name,href:Kf(n,r,e.id)}})):[]},Wf=function(e){return e.map((function(e){return{id:String(e.value),name:e.content}}))},Hf=function(e,t,n){return e.services.map((function(e){return{value:e.id,content:e.name,href:Kf(t,n,e.id)}}))};function Gf(){return(Gf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Qf=function(e){var t=e.initFieldOptions,n=e.resolveServiceUrl,r=e.baseUrl,o=e.projectKey,i=Yf(e,["initFieldOptions","resolveServiceUrl","baseUrl","projectKey"]),s=qf(Object(a.useState)(!1),2),u=(s[0],s[1]),l=qf(Object(a.useState)(null),2),f=(l[0],l[1]),d=qf(Object(a.useState)([]),2),p=d[0],m=d[1];return Object(a.useEffect)((function(){t()}),[t]),Object(a.useEffect)((function(){u(!0);var t=e.value.map((function(e){return e.value}));if(!t||!t.length)return m([]),void u(!1);Object(I.c)(n,{method:"POST",body:JSON.stringify({ids:t})}).then((function(e){u(!1),m(Hf(e,r,o))})).catch((function(e){f(e),u(!1)}))}),[r,o,e.value,n]),c.a.createElement(ki,Gf({},i,{value:p}))};Qf.displayName="ServiceEntityView";var Jf=Qf,$f=Qt()((function(e,t,n,r){return function(o,i){if(null==e)return Promise.resolve([]);var s="".concat(e).concat(encodeURIComponent(o));return null!=i&&(s="".concat(s,"&sessionId=").concat(i)),null!=t&&(s="".concat(s,"&fieldEditSessionId=").concat(t)),Object(I.c)(s).then((function(e){return function(e,t,n){return[{items:Hf(e,t,n)}]}(e,n,r)}))}}),(function(e,t,n,r){return"".concat(e||"","_").concat(t,"_").concat(n,"_").concat(r)})),Zf=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Bf,transformToStateValue:Wf,additionalProps:function(e,n){return{baseUrl:Object(D.f)(e),projectKey:Object(D.J)(e),fetchSuggestions:$f(Object(h.d)(t.fieldId)(e),Object(h.f)(t.fieldId)(e),Object(D.f)(e),Object(D.J)(e)),placeholder:n.formatMessage(Uf.placeholder),noValueText:n.formatMessage(Co.noValue),canCreateNewItem:!1,allowEmptyValue:!0,resolveServiceUrl:Object(h.d)(t.fieldId)(e)}}}}))(Jf),Xf=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,t){return{noValueText:t.formatMessage(Co.noValue),type:"text"}}}}))(hc.a),ed=function(e){return{value:e.id,content:e.value,iconUrl:e.iconUrl}},td=function(e){return e&&ed(e)},nd=function(e){return e&&{id:e.value,value:e.content,iconUrl:e.iconUrl}},rd=function(e){return e&&[{items:e.map(ed)}]||[]},od=Object(u.defineMessages)({placeholder:{id:"issue.single-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),id=Qt()((function(e){return function(){return Promise.resolve(e).then(rd)}})),sd=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:td,transformToStateValue:nd,additionalProps:function(e,n){return{fetchSuggestions:id(Object(h.c)(t.fieldId)(e)),placeholder:n.formatMessage(od.placeholder,{fieldName:Object(h.m)(t.fieldId)(e)}),noValueText:n.formatMessage(Co.noValue),allowEmptyValue:!0,hasAutocomplete:!0,portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0}}}}))($i),ad=n("./src/packages/servicedesk/sla-panel/src/index.js"),cd=Object(L.createSelector)((function(e){return e.sla}),(function(e){return e.issueUpdatedTimestamp}));function ud(e){return(ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dd(e,t){return(dd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yd(e);if(t){var o=yd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return md(this,n)}}function md(e,t){return!t||"object"!==ud(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yd(e){return(yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dd(e,t)}(n,e);var t=pd(n);function n(){return ld(this,n),t.apply(this,arguments)}return function(e,t,n){t&&fd(e.prototype,t),n&&fd(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.baseUrl,r=e.issueKey,o=e.locale,i=e.issueUpdatedTimestamp;return t&&c.a.createElement("div",{id:"sla-panel"},c.a.createElement(ad.a,{baseUrl:n,issueKey:r,locale:o,issueUpdatedTimestamp:i}))}}]),n}(a.Component);bd.defaultProps={isVisible:!0},bd.displayName="SlaPanel";var gd=Object(mt.a)([Object(l.connect)((function(e){return{baseUrl:Object(D.f)(e),issueKey:Object(D.B)(e),locale:Object(D.D)(e),issueUpdatedTimestamp:cd(e),isVisible:Object(pt.f)(e)}}),{})])(bd),vd=n("./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js"),hd=function(e){return Object(L.createSelector)(pt.h,N.m,Object(h.z)(e),(function(e,t,n){return e.canScheduleIssues&&t&&n}))},Od=function(e,t){return"".concat(e,"/secure/GHGoToBoard.jspa?sprintId=").concat(t)},jd=n("./src/packages/issue/issue-view/src/common/service/issue/issue-view-mode.js"),wd=n("./node_modules/@atlaskit/button--current/components/Button.js"),Ed=K.default.div(["margin-left:","px;"],mn.f),kd=K.default.span(["padding:","px;"],mn.f/2),Sd=K.default.div(["margin-top:","px;display:flex;justify-content:space-between;max-width:300px;"],mn.f),Id=K.default.span(["font-weight:500;"]),Cd="\n    margin-right: ".concat(3*mn.f,"px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"),Pd=K.default.a(["",";"],Cd),_d=K.default.span(["",";"],Cd),xd=K.default.div(["white-space:nowrap;"]);function Td(e){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t){return(Rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Md(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nd(e);if(t){var o=Nd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ld(this,n)}}function Ld(e,t){return!t||"object"!==Td(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rd(e,t)}(n,e);var t=Md(n);function n(){var e;Ad(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isDialogOpen:!1},e.handleButtonClick=function(t){e.setState({isDialogOpen:!e.state.isDialogOpen}),t.stopPropagation()},e.handleDialogClose=function(t){e.setState({isDialogOpen:t.isOpen})},e.handleDialogClick=function(e){e.stopPropagation()},e.handleDialogMouseDown=function(e){e.preventDefault(),e.stopPropagation()},e.renderInlineDialogContent=function(){return c.a.createElement("div",null,c.a.createElement(Id,null,e.props.closedSprintsLabel),e.props.closedSprints.map((function(t){return c.a.createElement(Sd,{key:t.name},e.props.shouldHideLinks?c.a.createElement(_d,null,t.name):c.a.createElement(Pd,{href:t.href},t.name),c.a.createElement(xd,null,t.endDate))})))},e}return function(e,t,n){t&&Dd(e.prototype,t),n&&Dd(e,n)}(n,[{key:"render",value:function(){return c.a.createElement(Ed,{onClick:this.handleDialogClick,onMouseDown:this.handleDialogMouseDown},c.a.createElement(hs.a,{content:this.renderInlineDialogContent(),isOpen:this.state.isDialogOpen,onClose:this.handleDialogClose,placement:"bottom"},c.a.createElement(wd.b,{onClick:this.handleButtonClick,spacing:"none",isSelected:this.state.isDialogOpen},c.a.createElement(kd,null,"+".concat(this.props.closedSprints.length)))))}}]),n}(a.Component);Fd.defaultProps={shouldHideLinks:!1,closedSprints:[],closedSprintsLabel:null},Fd.displayName="ClosedSprintsView";var Ud=K.default.div(["display:flex;align-items:center;width:100%;"]),Vd=K.default.div(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]);function Kd(e){return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bd(){return(Bd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qd(e,t){return(qd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qd(e);if(t){var o=Qd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yd(this,n)}}function Yd(e,t){return!t||"object"!==Kd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qd(e){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qd(e,t)}(n,e);var t=zd(n);function n(){var e;Hd(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onSprintClick=function(t){var n=e.props,r=n.rapidViewId,o=n.value,i=n.onSprintClicked;r&&o&&i(o.value),t.stopPropagation()},e.onEditRequest=function(){Object(y.c)().cancel({key:S.c.SPRINT.TIME_TO_REFLECT_INPUT_RESULT},!0),Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),e.props.onEditRequest()},e.onChange=function(t,n){n&&("select-option"===n.action?Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_REFLECT_SELECTED_SPRINT}):"clear"===n.action&&Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_REFLECT_REMOVED_SPRINT})),e.props.onChange(t)},e.onConfirm=function(){Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),e.props.onConfirm()},e.onCancel=function(){Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),e.props.onCancel()},e.onDataRequest=function(e){e.isInitial||Object(y.c)().markStartOfInteraction({key:S.c.SPRINT.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},e.onDataLoaded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isInitial;t?Object(y.c)().markTimeToFinishTask({key:S.c.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS}):Object(y.c)().markTimeToFinishTask({key:S.c.SPRINT.TIME_TO_REFLECT_INPUT_RESULT})},e.renderSprintContent=function(){var t=e.props,n=t.baseUrl,r=t.rapidViewId,o=t.value;return Object(jd.a)()&&r?o&&o.content:c.a.createElement("a",{href:null==r&&o?Od(n,o.value):void 0,onClick:e.onSprintClick},o&&o.content)},e.renderReadView=function(){var t=e.props,n=t.value,r=t.noValueText,o=t.closedSprints,i=t.closedSprintsLabel,s=t.isMobile;return(c.a.createElement(Ud,null,c.a.createElement(Vd,null,n?e.renderSprintContent():c.a.createElement(Te.c,null,r)),o.length>0&&c.a.createElement(Fd,{closedSprints:o,closedSprintsLabel:i,shouldHideLinks:s})))},e.formatOptionLabel=function(e,t){return"menu"===t.context?c.a.createElement(ei,{option:e}):e.label},e}return function(e,t,n){t&&Gd(e.prototype,t),n&&Gd(e,n)}(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isEditing,r=t.value;!e.isEditing&&n&&Object(y.c)().markTimeToFeedback({key:S.c.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS}),e.isEditing&&!n&&(e.value!==r?r?Object(y.c)().markTimeToFinishTask({key:S.c.SPRINT.TIME_TO_REFLECT_SELECTED_SPRINT}):Object(y.c)().markTimeToFinishTask({key:S.c.SPRINT.TIME_TO_REFLECT_REMOVED_SPRINT}):Object(y.c)().markTimeToFinishTask({key:S.c.SPRINT.TIME_TO_RENDER_READ_VIEW}))}},{key:"render",value:function(){var e=this.props,t=(e.baseUrl,e.closedSprints,e.closedSprintsLabel,e.rapidViewId,e.onSprintClicked,Wd(e,["baseUrl","closedSprints","closedSprintsLabel","rapidViewId","onSprintClicked"]));return(c.a.createElement($i,Bd({},t,{onEditRequest:this.onEditRequest,onChange:this.onChange,onConfirm:this.onConfirm,onCancel:this.onCancel,onDataRequest:this.onDataRequest,onDataLoaded:this.onDataLoaded,renderReadView:this.renderReadView,formatOptionLabel:this.formatOptionLabel,hasAutocomplete:!0})))}}]),n}(a.Component);Jd.displayName="SprintInlineEditView",Jd.defaultProps={closedSprints:[],closedSprintsLabel:null},Jd.displayName="SprintInlineEditView";var $d=Object(u.defineMessages)({placeholder:{id:"issue.sprint.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Sprint"},activeSprints:{id:"issue.sprint.active-heading",defaultMessage:"Active"},futureSprints:{id:"issue.sprint.future-heading",defaultMessage:"Future"},closedSprintsLabel:{id:"issue.sprint.text-for-closed-sprints-inline-dialog",defaultMessage:"{count} completed {count, plural, one {sprint} other {sprints}}"}}),Zd=function(e){return(e?e.find((function(e){return e.state&&"active"===e.state.toLowerCase()})):null)||null},Xd=function(e){return{content:e.name,value:e.id}},ep=function(e){var t=Zd(e),n=function(e){return(e?e.find((function(e){return e.state&&"future"===e.state.toLowerCase()})):null)||null}(e);return t&&Xd(t)||n&&Xd(n)},tp=function(e){return function(t){if(!t)return e;var n={name:t.content,id:t.value,state:"active"};return e.concat(n)}},np=function(e){return{content:e.name,value:e.id,description:e.boardName}},rp=Object(r.a)((function(e,t,n){return{name:n.name,href:Od(t,n.id),endDate:e.formatDate(n.endDate,{day:"2-digit",month:"short",year:"numeric"})}})),op=function(e,t){var n=e.length;return n>0?t.formatMessage($d.closedSprintsLabel,{count:n}):null};function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp=Object(r.a)((function(e,t){return function(n){return Object(I.c)("".concat(t,"/rest/greenhopper/1.0/sprint/picker?query=").concat(n,"&maxResults=10&maxActiveSprints=5")).then((function(t){return function(e,t){var n=e.suggestions||[],r=e.allMatches||[],o=n.concat(r),i=o.filter((function(e){return"ACTIVE"===e.stateKey})).map(np),s=o.filter((function(e){return"FUTURE"===e.stateKey})).map(np);return[{heading:t.formatMessage($d.activeSprints),items:i},{heading:t.formatMessage($d.futureSprints),items:s}]}(t,e)}))}})),ap=Object(r.a)((function(e,t,n){return function(e,t,n){return e.map((function(e){return rp(n,t,e)}))}(e,t,n)})),cp=Object(V.a)((function(e,t){var n=function(e){return Object(L.createSelector)(Object(h.q)(e),(function(e){return e&&e.value?e.value.filter((function(e){return"closed"===e.state||"CLOSED"===e.state})):[]}))}(t.fieldId)(e);return{fieldId:t.fieldId,transformFromStateValue:ep,transformToStateValue:tp(n),additionalProps:function(e,r){return{fetchSuggestions:sp(r,Object(D.f)(e)),closedSprints:ap(n,Object(D.f)(e),r),closedSprintsLabel:op(n,r),placeholder:r.formatMessage($d.placeholder),noValueText:r.formatMessage(Co.noValue),allowEmptyValue:!0,rapidViewId:Object(D.K)(e),baseUrl:Object(D.f)(e),isEditable:hd(t.fieldId)(e)}},additionalCallbacks:function(e){return{onSprintClicked:function(t){return e(Object(vd.h)(t))}}},saveField:function(e){var t=e.baseUrl,n=e.issueKey,r=e.fieldMetaKey,o=e.value,i=Zd(o);return Object(I.j)(Object(Gs.f)(t,n),{body:JSON.stringify({fields:ip({},r,i?i.id:null)})})}}}))(Jd),up=n("./src/packages/platform/utils/xsrf-token/src/index.js"),lp=n("./src/packages/issue/issue-view/src/common/model/loading-stage-type.js"),fp=(n("./src/packages/issue/fields/classic-story-point/src/ui/view/index.js"),n("./src/packages/issue/fields/classic-story-point/src/ui/main.js")),dp=(n("./src/packages/issue/fields/classic-story-point/src/services/index.js"),n("./node_modules/react-async-component/commonjs/index.js")),pp=(Object(dp.asyncComponent)({resolve:function(){return Promise.resolve().then(n.bind(null,"./src/packages/issue/fields/classic-story-point/src/ui/main.js")).then((function(e){return e.ClassicStoryPointEditView}))},name:"AsyncClassicStoryPointEditView"}),K.default.div(["margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}"])),mp=function(e){var t=e.issueKey,n=e.fieldId,r=e.issueId,o=e.label,i=e.noValueText;return(c.a.createElement(pp,null,c.a.createElement(lr.a,null,c.a.createElement(lr.b,null,o)),c.a.createElement(fp.ClassicStoryPointEditView,{label:o,issueKey:t,issueId:r,fieldKey:n,noValueText:i,isFitContainerWidthReadView:!0})))};mp.displayName="View";Object(a.memo)(mp);var yp=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,n){return{issueKey:Object(D.B)(e),issueId:Object(D.A)(e),noValueText:n.formatMessage(Co.noValue),isEditable:Object(h.z)(t.fieldId)(e)&&Object(N.v)(e)!==lp.c&&!!Object(up.a)()}}}}))(mp),bp=n("./src/packages/issue/issue-view/src/selectors/subtasks-selector.js"),gp=n("./src/packages/portfolio-3/portfolio/src/app-simple-plans/feature-flags.js"),vp=Object(u.defineMessages)({menuHeader:{id:"issue.views.field.team.edit.menuHeader.rebranded",defaultMessage:"Plan-specific teams can only be selected through a plan."},noMatches:{id:"issue.views.field.team.edit.noMatches",defaultMessage:"No Matches"},placeholder:{id:"issue.views.field.team.edit.placeholder",defaultMessage:"Choose a team to assign this issue to."},sharedTeam:{id:"issue.context-items.team.shared-team",defaultMessage:"Shared Team"},menuFooter:{id:"issue.context-items.team.edit.menuFooter",defaultMessage:"Showing 100 results. To display more results, please refine your search."}}),hp=vp,Op=Object(r.a)((function(){return gp.j()?vp:Object.assign(vp,Object(u.defineMessages)({menuHeader:{id:"issue.views.field.team.edit.menuHeader",defaultMessage:"Plan-specific teams can only be selected through a Portfolio plan."}}))})),jp=K.default.img(["width:","px;height:","px;margin-right:","px;"],2*mn.f,2*mn.f,mn.f),wp=K.default.div(["display:flex;flex-direction:row;overflow:hidden;align-items:center;justify-content:start;padding:0 ","px;"],mn.f/2),Ep=K.default.div(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),kp=K.default.div(["padding:","px ","px ","px;"],mn.f,2*mn.f,2*mn.f),Sp=K.default.div(["padding:0 ","px ","px ","px;color:",";font-weight:bold;font-size:12px;"],2*mn.f,mn.f,2*mn.f,pn.colors.DN30),Ip=K.default.div(["color:",";font-size:12px;padding:","px ","px;"],pn.colors.N90,mn.f,2*mn.f),Cp=function(e){var t=e.intl.formatMessage,n=e.options,r=Op(),o=n.length>0&&n[0].moreResultsAvailable?c.a.createElement(Ip,null,t(r.menuFooter)):null;return c.a.createElement(Nc.d.MenuList,e,c.a.createElement(kp,null,t(r.menuHeader)),e.children,o)};Cp.displayName="MenuListComponent";var Pp=Object(u.injectIntl)(Cp),_p=n("./src/packages/issue/issue-view/src/views/field/team/assets/default-avatar.svg"),xp=n.n(_p),Tp=function(e){var t=e.data;if(t){var n=t.avatarUrl;return(c.a.createElement(Nc.d.Option,e,c.a.createElement(wp,null,c.a.createElement(jp,{src:n||xp.a})," ",c.a.createElement(Ep,null,e.children))))}return null},Ap=function(e){var t=e.data,n=e.intl.formatMessage,r=t?t.label:c.a.createElement(Te.c,null,n(hp.placeholder));return c.a.createElement(Nc.d.SingleValue,e,r)};Ap.displayName="SingleValueComponent";var Dp=Object(u.injectIntl)(Ap);function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Np(e,t){return(Np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vp(e);if(t){var o=Vp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Up(this,n)}}function Up(e,t){return!t||"object"!==Rp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kp=function(e){return c.a.createElement(Pp,e)};Kp.displayName="MenuList";var Bp=function(e){return c.a.createElement(Dp,e)};Bp.displayName="SingleValue";var Wp=function(e){return c.a.createElement(Tp,e)};Wp.displayName="Option";var Hp=Object(u.injectIntl)((function(e){return c.a.createElement(Sp,null,e.intl.formatMessage(hp.sharedTeam))})),Gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Np(e,t)}(n,e);var t=Fp(n);function n(){var e;Mp(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){e.props.onChange(t),e.props.onConfirm(t)},e.debouncedLoadOptions=Lc()((function(t,n){e.props.loadOptions(t).then(n,(function(){n([])}))}),300),e}return function(e,t,n){t&&Lp(e.prototype,t),n&&Lp(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.portalElement,r=e.menuPlacement,o=e.intl.formatMessage;return(c.a.createElement(Fc.a,{value:t,autoFocus:!0,defaultOptions:!0,menuPortalTarget:n,menuPlacement:r,components:{MenuList:Kp,Option:Wp,SingleValue:Bp,GroupHeading:Hp},onChange:this.onChange,loadOptions:this.debouncedLoadOptions,defaultMenuIsOpen:!0,isClearable:null!==t,noOptionsMessage:function(){return o(hp.noMatches)},placeholder:o(hp.placeholder),cacheOptions:!0}))}}]),n}(a.Component);Gp.displayName="EditableTeamField";var qp=Object(u.injectIntl)(Gp),zp=Object(u.defineMessages)({label:{id:"issue.views.field.team.label",defaultMessage:"Team"}}),Yp=n("./node_modules/@atlaskit/icon--current/glyph/share.js"),Qp=n.n(Yp),Jp=K.default.div(["display:flex;flex-direction:row;overflow:hidden;white-space:nowrap;align-items:center;justify-content:start;"]),$p=K.default.div(["overflow:hidden;text-overflow:ellipsis;margin-right:","px;display:inline-block;"],mn.f),Zp=K.default.img(["vertical-align:middle;width:","px;height:","px;margin-right:","px;display:inline-block;"],3*mn.f,3*mn.f,mn.f),Xp=K.default.span(["width:","px;height:","px;color:",";"],2*mn.f,2*mn.f,pn.colors.R500),em=function(e){var t=e.value,n=e.noValueText;if(t){var r=t.label,o=t.isShared,i=t.avatarUrl,s=o?c.a.createElement(Xp,null,c.a.createElement(Qp.a,{size:"small"})):null;return c.a.createElement(Jp,null,c.a.createElement(Zp,{src:i||xp.a}),c.a.createElement($p,null,r),s)}return(c.a.createElement(Te.c,null,n))};em.displayName="TeamViewField";var tm=em;function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cm(e);if(t){var o=cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){return!t||"object"!==nm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var um=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(n,e);var t=sm(n);function n(){return rm(this,n),t.apply(this,arguments)}return function(e,t,n){t&&om(e.prototype,t),n&&om(e,n)}(n,[{key:"renderEditableField",value:function(){var e=this.props,t=e.isEditable,n=e.isSubTask,r=e.fetchSuggestions,o=e.onChange,i=e.onConfirm,s=e.value,a=e.portalElement,u=e.menuPlacement;return t&&!n?c.a.createElement("span",null,c.a.createElement(qp,{value:s,loadOptions:r,portalElement:a,menuPlacement:u,onChange:o,onConfirm:i})):null}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.value,r=e.noValueText,o=e.isEditing,i=e.onConfirm,s=e.onCancel,a=e.onEditRequest,u=e.isMobile,l=t(zp.label);return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,l)),c.a.createElement(xe.a,{onEscape:s},c.a.createElement(H.a,{isLabelHidden:!0,label:l,readView:c.a.createElement(tm,{noValueText:r,value:n}),editView:this.renderEditableField(),disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:o,onConfirm:i,onCancel:s,onEditRequested:a,isFitContainerWidthReadView:!u})))}}]),n}(a.Component);um.displayName="TeamField";var lm=Object(u.injectIntl)(um),fm=function(e,t){return e?function(e,t){return{value:e.id,label:e.title,isShared:e.isShared,avatarUrl:e.avatarUrl?"".concat(t).concat(e.avatarUrl):""}}(e,t.baseUrl):null},dm=function(e){return e?function(e){return{id:e.value,title:e.label,isShared:e.isShared,avatarUrl:e.avatarUrl?e.avatarUrl:""}}(e):null};function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mm=Object(r.a)((function(e){return function(t){return Object(I.i)("".concat(e,"/rest/teams/1.0/teams/find"),{body:JSON.stringify({query:t,excludedIds:[],maxResults:100})}).then((function(t){return function(e,t){return[{options:e.teams.map((function(e){return{value:e.id,label:e.title,isShared:e.shareable,avatarUrl:e.avatarUrl?"".concat(t).concat(e.avatarUrl):""}})),moreResultsAvailable:e.moreResultsAvailable}]}(t,e)}))}})),ym=function(e){var t=e.baseUrl,n=e.issueKey,r=e.fieldMetaKey,o=e.value,i=o&&o.id?o.id.toString():null;return Object(I.j)(Object(Gs.f)(t,n),{body:JSON.stringify({fields:pm({},r,i)})})},bm=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:fm,transformToStateValue:dm,additionalProps:function(e,n){return{fetchSuggestions:mm(Object(D.f)(e)),noValueText:n.formatMessage(Co.noValue),portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0,isSubTask:Object(bp.c)(e)}},saveField:ym}}))(lm),gm=n("./node_modules/query-string/index.js"),vm=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),hm=n("./src/packages/issue/issue-view/src/common/component/log-time-modal/modal/utils/index.js"),Om=n("./src/packages/issue/issue-view/src/common/util/time-string/index.js"),jm=n("./src/packages/issue/issue-view/src/common/util/types/type-check/index.js"),wm=n("./src/packages/issue/issue-view/src/views/field/single-line-text/single-line-text-field-view.js");function Em(e){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_m(e);if(t){var o=_m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){return!t||"object"!==Em(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}(n,e);var t=Cm(n);function n(){var e;km(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isInputInvalid:!1,value:e.props.value},e.onChange=function(t){var n=t.target.value;e.setState({value:n,isInputInvalid:!1})},e.getDefaultTimeFormatValue=function(t){var n=t.trim();if(Object(jm.a)(n)){var r=e.props.config.defaultUnit;n="".concat(n).concat(Object(hm.a)(r))}return n},e.onConfirm=function(){var t=e.getDefaultTimeFormatValue(e.state.value);""===t||Object(Om.a)(t)?(e.setState({isInputInvalid:!1}),e.props.onChange(t),e.props.onConfirm()):(e.setState({isInputInvalid:!0}),e.editFieldRef.current&&e.editFieldRef.current.focus())},e.onCancel=function(){e.props.onCancel()},e.onEditRequested=function(){e.setState({isInputInvalid:!1,value:e.props.value}),e.props.onEditRequest()},e.editFieldRef=Object(a.createRef)(),e}return function(e,t,n){t&&Sm(e.prototype,t),n&&Sm(e,n)}(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value})}},{key:"renderReadView",value:function(){var e=this.props.noValueText,t=this.props.value;return t?c.a.createElement(fc.a,{value:t}):c.a.createElement(Te.c,null,e)}},{key:"renderEditView",value:function(){var e=this.props,t=e.placeholder,n=e.invalidMessage,r=e.invalidTimeFormatMessage,o=this.state,i=o.value,s=o.isInputInvalid;return c.a.createElement(wm.a,{ref:this.editFieldRef,type:"text",value:i,placeholder:t,onChange:this.onChange,invalidMessage:s?r:n})}},{key:"render",value:function(){var e=this.props.intl;return(c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,this.props.label)),c.a.createElement(xe.a,{onEnter:this.onConfirm,onEscape:this.onCancel},c.a.createElement(H.a,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:this.props.isEditing,onConfirm:this.onConfirm,onCancel:this.onCancel,onEditRequested:this.onEditRequested,isFitContainerWidthReadView:!this.props.isMobile,editButtonLabel:e.formatMessage(B.a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:e.formatMessage(B.a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:e.formatMessage(B.a.cancelButtonLabel,{fieldName:this.props.label})}))))}}]),n}(a.Component);xm.displayName="TimeStringInlineEditView",xm.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,value:"",label:"",noValueText:null,invalidMessage:null,invalidTimeFormatMessage:null},xm.displayName="TimeStringInlineEditView";var Tm=Object(u.injectIntl)(xm),Am=function(e){return function(t){return null==t?"":Object(Om.c)(e.daysPerWeek,e.hoursPerDay)(t)}},Dm=function(e){return function(t){return""===t?null:Object(Om.d)(e.daysPerWeek,e.hoursPerDay)(t)}};function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mm(){return(Mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lm(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Um(e,t){return(Um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bm(e);if(t){var o=Bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Km(this,n)}}function Km(e,t){return!t||"object"!==Rm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bm(e){return(Bm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wm=Object(u.defineMessages)({placeholder:{id:"issue.time-estimate.placeholder-for-the-field",defaultMessage:"2w 4d 6h 45m"}}),Hm=function(e,t){var n=Object(N.k)(t),r=e.baseUrl,o=e.value,i=Object(h.h)(s.wb)(t),a=i&&null!=i.remainingEstimateSeconds;return Object(I.i)("".concat(r,"/secure/AjaxIssueAction.jspa?decorator=none"),{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(gm.stringify)({issueId:n,timetracking_originalestimate:null!==o?"".concat(o/60,"m"):null,timetracking_targetsubfield:a?"timetracking_originalestimate":void 0,fieldsToForcePresent:"timetracking",singleFieldEdit:!0,skipScreenCheck:!0,atl_token:Object(up.a)()})})},Gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Um(e,t)}(n,e);var t=Vm(n);function n(){var e;Nm(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChangeTransform=function(t){var n=e.props,r=n.config;(0,n.onChange)(Dm(r)(t))},e.transformFromValue=function(t){var n=e.props.config;return Am(n)(t)},e}return function(e,t,n){t&&Fm(e.prototype,t),n&&Fm(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=(e.onChange,Lm(e,["value","onChange"])),r=this.transformFromValue(Number(t));return c.a.createElement(Tm,Mm({},n,{onChange:this.onChangeTransform,value:r}))}}]),n}(a.Component);Gm.displayName="TransformerWrapper";var qm=Object(V.a)((function(e,t){return{fieldId:t.fieldId,saveField:Hm,isOptimistic:!1,additionalProps:function(e,n){return{config:Object(vm.g)(e),noValueText:n.formatMessage(Co.noValue),placeholder:n.formatMessage(Wm.placeholder),invalidTimeFormatMessage:c.a.createElement(u.FormattedMessage,{id:"issue.time-estimate.input-time-string-is-invalid",defaultMessage:"Your estimate must be in the format {format}.",values:{format:c.a.createElement("b",null,"2w 4d 6h 45m")}}),isEditable:Object(h.z)(t.fieldId)(e)&&!!Object(up.a)()}}}}))(Gm),zm=n("./src/packages/platform/utils/constants/src/status-categories.js"),Ym=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),Qm=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),Jm=Object(L.createSelector)(Object(h.n)(j.D),(function(e){return null!==e?e:void 0})),$m=n("./src/packages/issue/issue-view/src/common/component/logged-time/index.js"),Zm=n("./node_modules/lodash/omitBy.js"),Xm=n.n(Zm),ey=function(e){return void 0===e},ty=function(e){if(!e)return Object.seal({});var t=e.remainingEstimateSeconds,n=e.timeSpentSeconds;return Xm()({loggedTime:n,remainingTime:t},ey)};function ny(e){return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iy(e,t){return(iy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cy(e);if(t){var o=cy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ay(this,n)}}function ay(e,t){return!t||"object"!==ny(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cy(e){return(cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iy(e,t)}(n,e);var t=sy(n);function n(){return ry(this,n),t.apply(this,arguments)}return function(e,t,n){t&&oy(e.prototype,t),n&&oy(e,n)}(n,[{key:"renderReadView",value:function(){var e=this.props,t=e.value,n=e.estimatedTime,r=e.isDone,o=e.config;return(c.a.createElement($m.a,{value:ty(t),estimatedTime:n,isDone:r,config:o}))}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.label;return t?c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(k.b,null,n)),c.a.createElement(H.a,{label:n,readView:this.renderReadView(),editView:this.props.isEditable?c.a.createElement("div",null):null,isEditing:!1,areActionButtonsHidden:!0,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!this.props.isMobile,isLabelHidden:!0,onEditRequested:this.props.onEditRequest,editButtonLabel:this.props.editButtonLabel,confirmButtonLabel:this.props.confirmButtonLabel,cancelButtonLabel:this.props.cancelButtonLabel})):null}}]),n}(a.Component);uy.displayName="TimeTrackingView",uy.displayName="TimeTrackingView";var ly,fy=uy,dy=Object(mt.a)([Object(l.connect)((function(e,t){var n=t.intl.formatMessage,r=Object(h.m)(t.fieldId)(e);return{value:Object(vm.h)(e),config:Object(vm.g)(e),estimatedTime:Jm(e),isDone:Object(yt.b)(e)===zm.DONE,isEditable:Object(vm.b)(e),isMobile:Object(D.t)(e),isVisible:Object(vm.e)(e),label:r,editButtonLabel:n(B.a.editButtonLabel,{fieldName:r}),confirmButtonLabel:n(B.a.confirmButtonLabel,{fieldName:r}),cancelButtonLabel:n(B.a.cancelButtonLabel,{fieldName:r})}}),(function(e){return{onEditRequest:function(){e(Object(Ym.bb)(Qm.a,null))}}})),u.injectIntl])(fy),py=Object(V.a)((function(e,t){return{fieldId:t.fieldId,additionalProps:function(e,t){return{noValueText:t.formatMessage(Co.noValue),type:"url"}}}}))(hc.a),my=function(e){return e.users?e.users.map(Rn):[]},yy=Object(r.a)((function(e){return function(t){return e?Object(I.c)("".concat(e).concat(t)).then(my):Promise.resolve([])}})),by=Object(r.a)((function(e){return{avatarUrl:"",name:e.formatMessage(Co.noValue)}})),gy=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Rn,transformToStateValue:Mn,additionalProps:function(e,n){return{portalElement:Object(U.a)(t.fieldId)(e)?Object(M.a)()||document.body:void 0,fetchSuggestions:yy(Object(h.d)(t.fieldId)(e)),emptyOption:Object(h.B)(t.fieldId)(e)?void 0:by(n)}}}}))(_n);function vy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hy=Object(u.defineMessages)({releasedHeading:{id:"issue.fix-versions.released-message",defaultMessage:"Released"},unreleasedHeading:{id:"issue.fix-versions.unreleased-message",defaultMessage:"Unreleased"}}),Oy=function(e){return{content:e.name,value:e.id}},jy=(vy(ly={},j.a,"affectedVersion"),vy(ly,j.l,"fixVersion"),ly),wy=function(e,t){var n=t.baseUrl,r=t.projectKey,o=t.fieldId;return e.map((function(e){var t="project = ".concat(Object(Ko.b)(r)," AND ").concat(function(e){return jy[e]||"fixVersion"}(o)," = ").concat(Object(Ko.b)(e.name));return{href:Object(Ko.a)(n,t),content:e.name,value:e.id}}))},Ey=function(e){return e?e.map(Oy):[]},ky=function(e){return e.map((function(e){return{name:e.content,id:e.value}}))},Sy=function(e,t){var n=e.filter((function(e){return!e.archived})),r=n.filter((function(e){return!e.released})).map(Oy),o=n.filter((function(e){return e.released})).map(Oy);return[{heading:t.formatMessage(hy.unreleasedHeading),items:r},{heading:t.formatMessage(hy.releasedHeading),items:o}]},Iy=Object(u.defineMessages)({placeholder:{id:"issue.single-version-picker.text-for-dropdown-when-nothing-selected",defaultMessage:"Select version"}}),Cy=function(e){return e&&{name:e.content,id:e.value}},Py=function(e){return e&&{content:e.name,value:e.id}},_y=Object(r.a)((function(e,t){return function(){return Promise.resolve(e).then((function(e){return Sy(e,t)}))}})),xy=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Py,transformToStateValue:Cy,additionalProps:function(e,n){return{fetchSuggestions:_y(Object(h.c)(t.fieldId)(e),n),placeholder:n.formatMessage(Iy.placeholder),noValueText:n.formatMessage(Co.noValue),allowEmptyValue:!Object(h.B)(t.fieldId)(e),hasAutocomplete:!0}}}}))($i),Ty=Object(r.a)((function(e,t){return function(){return Promise.resolve(e).then((function(e){return Sy(e,t)}))}})),Ay=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:Ey,transformToStateValue:ky,additionalProps:function(e,n){return{fetchSuggestions:Ty(Object(h.c)(t.fieldId)(e),n),placeholder:n.formatMessage(Co.version_no_value_placeholder),noValueText:n.formatMessage(Co.noValue)}}}}))(ki),Dy=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-actions.js"),Ry=n("./src/packages/software/deployments/property-setter/src/ui/index.js"),My=n("./src/packages/software/deployments/property-setter/src/services/set-project-property/types.js"),Ly=n("./src/packages/releases/versions/src/index.js");function Ny(e){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Uy(){return(Uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vy(e){return function(e){if(Array.isArray(e))return Ky(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ky(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ky(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function By(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hy(e,t){return(Hy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zy(e);if(t){var o=zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qy(this,n)}}function qy(e,t){return!t||"object"!==Ny(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zy(e){return(zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hy(e,t)}(n,e);var t=Gy(n);function n(){var e;By(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isDialogOpen:!1},e.openDialog=function(){e.setState({isDialogOpen:!0})},e.closeDialog=function(){e.setState({isDialogOpen:!1})},e.onSuccess=function(t){var n=e.props,r=n.onChange,o=n.value,i=n.onVersionCreated,s=n.versionFieldIds;r([].concat(Vy(o),[{content:t.name,value:t.id}])),e.closeDialog(),i(t,s)},e}return function(e,t,n){t&&Wy(e.prototype,t),n&&Wy(e,n)}(n,[{key:"renderSelect",value:function(e){var t=this.props,n=t.canAdministerProject,r=t.canAdministerJira,o=t.createNewItemMessage,i=n||r;return c.a.createElement(ki,Uy({},e,{styles:ai,shouldShowFooter:i,footer:c.a.createElement(si,{className:"issue-view__select-footer"},c.a.createElement(qo.a,{label:"",size:"small"}),c.a.createElement(ii,null,o)),onFooterSelect:this.openDialog,allowEmptyValue:!0}))}},{key:"render",value:function(){var e=this.props,t=e.baseUrl,n=e.projectId,r=(e.createNewItemMessage,e.canAdministerProject,e.canAdministerJira,e.locale),o=(e.onVersionCreated,e.versionFieldIds,Fy(e,["baseUrl","projectId","createNewItemMessage","canAdministerProject","canAdministerJira","locale","onVersionCreated","versionFieldIds"])),i=this.state.isDialogOpen;return c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(Ly.a,{locale:r,baseUrl:t,projectId:n,onCancel:this.closeDialog,onError:this.closeDialog,onSuccess:this.onSuccess}),this.renderSelect(o),Object(on.isDeploymentsPropertySetterEnabled)()&&c.a.createElement(Ry.a,{projectIdOrKey:n.toString(),location:My.a.HAS_SEEN_FIX_VERSIONS,baseUrl:t}))}}]),n}(a.Component);Yy.displayName="FixVersionsView";var Qy=Object(u.defineMessages)({createNewItem:{id:"issue.fix-versions.create-new-component-message",defaultMessage:"Create new version"}}),Jy=Object(r.a)((function(e,t,n,r,o){return function(e,t,n,r,o){return Uo(e,t,n,r,o)}(e,t,n,r,o)})),$y=Object(r.a)((function(e,t,n,r,o){return function(i,s){return Object(on.isVersionsRankingEnabled)()?Jy(n,e,r,o,s).then((function(e){return Sy(e,t)})):Promise.resolve(e).then((function(e){return Sy(e,t)}))}})),Zy=Object(V.a)((function(e,t){return{fieldId:t.fieldId,transformFromStateValue:wy,transformToStateValue:ky,additionalProps:function(e,n){return{fetchSuggestions:$y(Object(h.c)(t.fieldId)(e),n,t.fieldId,Object(D.A)(e),Object(N.B)(e)),canAdministerProject:Object(pt.c)(e),canAdministerJira:Object(pt.b)(e),createNewItemMessage:n.formatMessage(Qy.createNewItem),baseUrl:Object(D.f)(e),projectId:Object(N.B)(e),isMobile:Object(D.t)(e),placeholder:n.formatMessage(Co.version_no_value_placeholder),noValueText:n.formatMessage(Co.noValue),versionFieldIds:Object(h.w)(e),onTagClick:function(e){return Object(xn.u)(e,{name:t.fieldId})}}},additionalCallbacks:function(e){return{onVersionCreated:function(t,n){n.forEach((function(n){e(Object(Dy.h)(n,[t]))}))}}}}}))(Yy);function Xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(r.a)((function(){var e,t=Object(s.Bb)();return Xy(e={},t.ASSIGNEE_TYPE,{item:sr}),Xy(e,t.DUE_DATE_TYPE,{item:Ws}),Xy(e,t.PRIORITY_TYPE,{item:ul}),Xy(e,t.REPORTER_TYPE,{item:Hl}),Xy(e,t.DESCRIPTION_TYPE,{item:_e}),Xy(e,t.LABELS_TYPE,{item:Ja}),Xy(e,t.COMPONENTS_TYPE,{item:Ni}),Xy(e,t.SPRINT_TYPE,{item:cp}),Xy(e,t.STORY_POINTS_TYPE,{item:yp}),Xy(e,t.EPIC_TYPE,{item:pa}),Xy(e,t.FIX_VERSIONS_TYPE,{item:Zy}),Xy(e,t.AFFECTS_VERSIONS_TYPE,{item:Zy}),Xy(e,t.TIME_ESTIMATE_TYPE,{item:qm}),Xy(e,t.TIME_TRACKING_TYPE,{item:dy}),Xy(e,t.ENVIRONMENT_TYPE,{item:ft}),Xy(e,t.DEV_SUMMARY_TYPE,{item:St,panel:i.a}),Xy(e,t.APPROVALS_PANEL_TYPE,{item:It.b,panel:It.a}),Xy(e,t.KNOWLEDGE_BASE_TYPE,{item:_a,panel:Pa}),Xy(e,t.SLA_PANEL_TYPE,{item:gd}),Xy(e,t.ASSETS_CF_TYPE,{item:zt,panel:o.a}),Xy(e,t.COLOR_CF_TYPE,{item:function(){return null}}),Xy(e,t.EPIC_COLOR_TYPE,{item:function(){return null}}),Xy(e,t.RELEASES_TYPE,{item:function(){return null}}),Xy(e,t.PARENT_CF_TYPE,{item:Au}),Xy(e,t.BASELINE_START_CF_TYPE,{item:Bs}),Xy(e,t.BASELINE_END_CF_TYPE,{item:Bs}),Xy(e,t.LABELS_CF_TYPE,{item:Ja}),Xy(e,t.TEXT_CF_TYPE,{item:Xf}),Xy(e,t.MULTI_USER_CF_TYPE,{item:lc}),Xy(e,t.URL_CF_TYPE,{item:py}),Xy(e,t.NUMBER_CF_TYPE,{item:Oc}),Xy(e,t.STORY_POINT_ESTIMATE_CF_TYPE,{item:vc}),Xy(e,t.SELECT_CF_TYPE,{item:sd}),Xy(e,t.MULTI_SELECT_CF_TYPE,{item:rc}),Xy(e,t.ECOSYSTEM_GLANCE_TYPE,{item:Hs.a}),Xy(e,t.FORGE_CUSTOM_FIELD_TYPE,{item:Hs.b}),Xy(e,t.FORGE_GLANCE_TYPE,{item:Hs.d}),Xy(e,t.TEXT_AREA_CF_TYPE,{item:ft}),Xy(e,t.MULTI_VERSION_CF_TYPE,{item:Ay}),Xy(e,t.VERSION_CF_TYPE,{item:xy}),Xy(e,t.DATE_CF_TYPE,{item:Bs}),Xy(e,t.GROUP_CF_TYPE,{item:Ea}),Xy(e,t.MULTI_GROUP_CF_TYPE,{item:ja}),Xy(e,t.USER_CF_TYPE,{item:gy}),Xy(e,t.DATETIME_CF_TYPE,{item:vs}),Xy(e,t.MULTI_CHECKBOXES_CF_TYPE,{item:Do}),Xy(e,t.RADIO_BUTTONS_CF_TYPE,{item:Ml}),Xy(e,t.TEAM_CF_TYPE,{item:bm}),Xy(e,t.ISSUE_FIELD_NUMBER_CF_TYPE,{item:Oc}),Xy(e,t.ISSUE_FIELD_DATETIME_CF_TYPE,{item:vs}),Xy(e,t.ISSUE_FIELD_STRING_CF_TYPE,{item:Xf}),Xy(e,t.ISSUE_FIELD_SINGLE_SELECT_CF_TYPE,{item:sd}),Xy(e,t.ISSUE_FIELD_MULTI_SELECT_CF_TYPE,{item:rc}),Xy(e,t.REQUEST_TYPE_CF_TYPE,{item:is}),Xy(e,t.SERVICE_ENTITY_CF_TYPE,{item:Zf}),Xy(e,t.REQUEST_PARTICIPANTS_CF_TYPE,{item:Ff}),Xy(e,t.ORGANIZATIONS_CF_TYPE,{item:Ac}),Xy(e,t.REQUEST_FEEDBACK_CF_TYPE,{item:yf}),Xy(e,t.PEOPLE_CF_TYPE,{item:Zu}),Xy(e,t.REQUEST_LANGUAGE_CF_TYPE,{item:xf}),Xy(e,t.ASSET_ONBOARDING_TYPE,{item:Nt}),Xy(e,t.APPROVERS_LIST_CF_TYPE,{item:Zu}),Xy(e,t.CASCADING_SELECT_CF_TYPE,{item:Hr}),e}))},"./src/packages/issue/issue-view/src/views/issue-details/app-provider.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/flow.js"),s=n.n(i),a=n("./node_modules/lodash/isEqual.js"),c=n.n(a),u=n("./node_modules/history/createBrowserHistory.js"),l=n.n(u),f=n("./src/packages/platform/utils/app-base/src/index.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/app-style/index.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/redux-disposable/index.js"),m=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),y=n("./src/packages/issue/issue-fetch-services/src/common/utils/token-browser-utils.js"),b=n("./src/packages/issue/fields/field-base/src/services/field-config-service/context.js"),g=n("./src/packages/issue/fields/field-base/src/services/field-value-service/main.js"),v=n("./src/packages/platform/services/issue/src/components/index.js"),h=n("./src/packages/platform/services/issue/src/service/index.js"),O=function(e){return{type:"SET_CONTEXT",payload:e}},j=n("./src/packages/issue/issue-view/src/actions/external-actions.js"),w=n("./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js"),E=n("./src/packages/issue/issue-view/src/actions/issue-preview-actions.js"),k=function(e){return{type:"FETCH_ISSUE_REMOTE_DATA_REQUEST",payload:e}},S=function(e){return{type:"FETCH_ISSUE_REMOTE_DATA_SUCCESS",payload:e}},I=function(e,t){return{type:"FETCH_LOGGED_IN_USER_SUCCESS",payload:{user:e,applicationRoles:t}}},C=n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js"),P=n("./src/packages/issue/issue-view/src/common/media/upload-context/upload-context-actions.js"),_=function(e){return{clientId:e.clientId,serviceHost:e.endpointUrl,token:e.token,tokenLifespanInMs:60*e.tokenDurationInMins*1e3,collection:e.targetCollection,tokenIssueTimestamp:Date.now()-1e4}},x=n("./src/packages/issue/issue-view/src/common/media/user-auth/user-auth-actions.js"),T=function(e){return{clientId:e.id,token:e.token,tokenLifespanInMs:60*e.tokenDurationInMins*1e3,tokenIssueTimestamp:Date.now()-1e4}},A=function(){return{type:"FETCH_VIEW_CONTEXT_REQUEST"}},D=function(e){return{type:"FETCH_VIEW_CONTEXT_SUCCESS",payload:e}},R=function(e){return{type:"FETCH_VIEW_CONTEXT_FAILURE",payload:{error:e}}},M=function(){return{type:"MARK_TOKEN_AS_OUTDATED"}},L=function(){return{type:"MARK_TOKEN_AS_UP_TO_DATE"}},N=n("./src/packages/issue/issue-view/src/common/media/view-context/view-context-transformer.js"),F=n("./src/packages/issue/issue-view/src/common/metrics/index.js"),U=n("./src/packages/platform/controllers/spa-state/src/components/transition-state/index.js");function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K=n("./src/packages/issue/issue-view/src/common/metrics/context/index.js");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=n("./src/packages/issue/issue-view/src/common/service/issue/gira/index.js"),J=n("./src/packages/issue/issue-view/src/common/service/issue/issue-transformer.js"),$=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),Z=n("./src/packages/issue/issue-view/src/feature-flags.js"),X=function(e){return{type:"PREVIEW_DATA_FETCHED",payload:e}},ee=n("./src/packages/issue/issue-view/src/issue-field/state/transformers/initial-data-transformer.js"),te=n("./src/packages/issue/issue-view/src/layout-descriptor/index.js"),ne=n("./src/packages/issue/issue-view/src/selectors/analytics-payload-selector.js"),re=n("./node_modules/redux/es/index.js"),oe=n("./node_modules/redux-batched-actions/lib/index.js"),ie=n("./node_modules/redux-observable/lib/es/index.js"),se=n("./node_modules/lodash/noop.js"),ae=n.n(se),ce=n("./src/packages/platform/utils/types/src/index.js"),ue=n("./src/packages/common-legacy-do-not-add-anything-new/src/feature-flags.js"),le=n("./node_modules/rxjs/Rx.js"),fe=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),de=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),pe=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),me=n("./src/packages/issue/issue-view/src/common/util/time-string/time-string-to-seconds/index.js"),ye=n("./node_modules/moment/moment.js"),be=n.n(ye),ge=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),ve=function(e){var t=e.accountId,n=e.displayName,r=void 0===n?null:n,o=e.avatarUrls,i=void 0===o?null:o;return{accountId:t,displayName:r,avatarUrl:i&&i["48x48"]}},he=function(e){var t=e.id,n=e.author,r=void 0===n?null:n,o=e.updateAuthor,i=void 0===o?null:o,s=e.timeSpent,a=e.started,c=e.created,u=e.updated,l=e.comment,f=void 0===l?null:l,d=u!==c;return{id:t,author:r&&ve(r),timeSpent:s,started:be()(a).valueOf(),updated:d?be()(u).valueOf():null,updateAuthor:d&&i?ve(i):null,comment:Object(Z.isCommentEditImagePreviewFixEnabled)()?Object(ge.d)(f):f}},Oe=function(e){return e.map(he)},je=function(e){var t=e.comment;return!!t&&("string"==typeof t?""!==t.trim():!Object(ge.c)(t))},we=n("./node_modules/lodash/omitBy.js"),Ee=n.n(we),ke=n("./node_modules/query-string/index.js"),Se=n("./src/packages/platform/utils/fetch/src/index.js"),Ie=function(e,t){return"".concat(e,"/rest/internal/3/issue/").concat(t,"/worklog")},Ce=function(e){return!e},Pe=function(e,t,n){var r=n||{},o=r.timeLogged,i=r.workDescription,s=r.timeRemaining,a=r.dateStarted,c=Ee()({adjustEstimate:s?"new":"auto",newEstimate:s},Ce),u="".concat(Ie(e,t),"?").concat(Object(ke.stringify)(c));return Object(Se.i)(u,{body:JSON.stringify({timeSpent:o,comment:i,started:n.dateStarted?be()(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):void 0})})},_e=n("./src/packages/platform/utils/xsrf-token/src/index.js"),xe=n("./src/packages/issue/issue-view/src/activity/worklog/state/index.js"),Te=function(e){return e.sort((function(e,t){return e.started-t.started}))};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e,t){return e.ofType(xe.q).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object($.k)(n),i=Object(pe.g)(n),s=Object(me.a)(i.daysPerWeek,i.hoursPerDay),a=e.payload.timeRemaining,c=e.meta.analyticsEvent;return le.Observable.from(function(e,t,n){return Object(Se.i)("".concat(e,"/secure/AjaxIssueAction.jspa?decorator=none"),{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(ke.stringify)({issueId:t,timetracking_remainingestimate:n,timetracking_targetsubfield:"timetracking_remainingestimate",fieldsToForcePresent:"timetracking",singleFieldEdit:!0,skipScreenCheck:!0,atl_token:Object(_e.a)()})})}(r,o,a)).do((function(){Object(fe.k)(c,{action:"time-remaining-updated"})})).map((function(){return Object(xe.U)(s(a))})).catch((function(e){var t=a&&a.length;return m.h.safeError("issue.activity.worklog.update-time-remaining","Failed to update time remaining with input length: ".concat(t),e),le.Observable.of(Object(xe.T)())}))}))},Le=Object(ie.combineEpics)((function(e,t){return e.ofType(xe.a).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(ce.toIssueKey)(Object(de.B)(n)),i=Object(pe.g)(n),s=Object(pe.h)(n),a=Object(me.a)(i.daysPerWeek,i.hoursPerDay),c=e.payload.values,u=e.meta.analyticsEvent,l=(c||{}).timeRemaining;return le.Observable.from(Pe(r,o,c)).mergeMap((function(e){var t=he(e),n=je(t);Object(fe.k)(u,{action:"added",actionSubjectId:t.id,attributes:{withComment:n}});var r=(s.timeSpentSeconds||0)+e.timeSpentSeconds,o=a(l),i=De(De({},s),{},{timeSpentSeconds:r},null!==o?{remainingEstimateSeconds:o}:{});return le.Observable.of(Object(xe.s)(e.id,i),Object(xe.H)(e.id))})).catch((function(e){var t=c.timeLogged,n={logTimeLength:t&&t.length,remainingTimeLength:l&&l.length};return m.h.safeError("issue.activity.worklog.add-worklog","Failed to save new worklog with input lengths: ".concat(JSON.stringify(n)),e),le.Observable.of(Object(xe.r)())}))}))}),Me),Ne=Object(ie.combineEpics)((function(e,t){return e.ofType(xe.a).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(ce.toIssueKey)(Object(de.B)(n)),i=Object(pe.k)(n),s=Object(pe.g)(n),a=Object(pe.h)(n),c=Object(me.a)(s.daysPerWeek,s.hoursPerDay),u=e.payload.values,l=e.meta.analyticsEvent,f=(u||{}).timeRemaining;return le.Observable.from(Pe(r,o,u)).map((function(e){var t=he(e),n=je(t);Object(fe.k)(l,{action:"added",actionSubjectId:t.id,attributes:{withComment:n}});var r=De(De({},i),{},Re({},t.id,t)),o=Te(Object.values(r)),s=(a.timeSpentSeconds||0)+e.timeSpentSeconds,u=c(f),d=De(De({},a),{},{timeSpentSeconds:s},null!==u?{remainingEstimateSeconds:u}:{});return Object(xe.t)(o.map((function(e){return e.id})),r,e.id,d)})).catch((function(e){var t=u.timeLogged,n={logTimeLength:t&&t.length,remainingTimeLength:f&&f.length};return m.h.safeError("issue.activity.worklog.add-worklog","Failed to save new worklog with input lengths: ".concat(JSON.stringify(n)),e),le.Observable.of(Object(xe.r)())}))}))}),Me),Fe=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),Ue=n("./src/packages/issue/issue-view/src/common/constants/index.js"),Ve=n("./src/packages/issue/issue-view/src/common/util/time-string/index.js"),Ke=function(e,t,n,r,o){return function(e,t,n,r,o){return Object(Se.f)("".concat(Ie(e,t),"/").concat(n,"?adjustEstimate=").concat(o?"new&newEstimate=".concat(r):"leave"))}(e,t,n,r,o)},Be=Object(ie.combineEpics)((function(e,t){return e.ofType(xe.d).switchMap((function(e){var n=e.payload,r=n.worklogId,o=n.timeRemaining,i=n.isAdjustTimeRemainingChecked,s=e.meta.analyticsEvent,a=t.getState(),c=Object(de.f)(a),u=Object(ce.toIssueKey)(Object(de.B)(a));return le.Observable.from(Ke(c,u,r,o,i)).map((function(){var e=Object(pe.k)(a)[r];return Object(xe.x)(r,function(e,t,n){var r=Object(pe.g)(e),o=Object(Ve.d)(r.daysPerWeek,r.hoursPerDay);return{timeSpentSecondsDelta:-(o(t.timeSpent)||0),newRemainingEstimateSeconds:o(n)}}(a,e,o))})).do((function(){return Object(fe.k)(s,{action:"deleted",actionSubjectId:r,attributes:{timeAdjusted:i}})})).catch((function(e){return m.h.safeError("issue.activity.worklog.delete-worklog","Could not delete worklog '".concat(r,"'"),new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(xe.v)())}))}))}),(function(e,t){return e.ofType(xe.e).filter(ue.a).switchMap((function(){var e=t.getState();if(Object(pe.f)(e).length>0)return le.Observable.empty();var n=Object(de.f)(e),r=Object(de.B)(e),o=Object(pe.l)(e),i=Object(pe.i)(e);return o>0?le.Observable.of(Object(xe.D)(n,r)):i>o?le.Observable.of(Object(xe.F)(n,r)):le.Observable.empty()}))})),We=n("./node_modules/lodash/isUndefined.js"),He=n.n(We),Ge=function(e,t,n,r){return Object(Se.j)(function(e,t,n,r){var o=r.timeRemaining?"?adjustEstimate=new&newEstimate=".concat(r.timeRemaining):"?adjustEstimate=leave";return"".concat(Ie(e,t),"/").concat(n).concat(o)}(e,t,n,r),function(e){return{body:JSON.stringify(Ee()({timeSpent:e.timeLogged,started:e.dateStarted?be()(e.dateStarted).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):void 0,comment:e.workDescription},He.a))}}(r))},qe=function(e,t,n,r){return Ge(e,t,n,r).then((function(e){return he(e)}))};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e,t,n){var r=Object(pe.g)(e),o=Object(Ve.d)(r.daysPerWeek,r.hoursPerDay),i=Object(pe.k)(e)[t.id];if(!i)return m.h.safeError("issue.activity.worklog.edit-worklog","Could not find existing worklog with matching ID when editing a worklog and calculating time tracking deltas."),{timeSpentSecondsDelta:0,newRemainingEstimateSeconds:o(n)};var s=o(i.timeSpent)||0;return{timeSpentSecondsDelta:(o(t.timeSpent)||0)-s,newRemainingEstimateSeconds:o(n)}},$e=function(e,t){return e.ofType(xe.g).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(ce.toIssueKey)(Object(de.B)(n)),i=Object(pe.k)(n),s=e.payload,a=s.worklogId,c=s.values,u=e.meta.analyticsEvent;return le.Observable.from(qe(r,o,a,c)).do((function(e){var t=je(e);Object(fe.k)(u,{action:"edited",actionSubjectId:a,attributes:{withComment:t}})})).mergeMap((function(e){var t=Ye(Ye({},i),{},Qe({},a,e)),r=Te(Object.values(t)),o=Object(xe.C)(r.map((function(e){return e.id})),t,e.id,Je(n,e,c.timeRemaining));return Object(ue.a)()&&e.started!==i[a].started?le.Observable.of(o,Object(xe.H)(a)):le.Observable.of(o)})).catch((function(e){return m.h.safeError("issue.activity.worklog.edit-worklog","Failed to save edited worklog:",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(xe.z)())}))}))},Ze=n("./src/packages/issue/issue-view/src/common/service/issue/activity-feed-constants.js"),Xe=function(e,t,n){return'\n    query {\n        viewIssue(issueKey: "'.concat(e,'") {\n            worklogs (startAt: ').concat(t,", maxResults: ").concat(n,', orderBy: "-started") {\n                nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                timeSpent\n                started\n                updated\n                created\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                comment\n            }\n            totalCount\n            startIndex\n            }\n        }\n    }\n')},et=function(e,t){return'\n    query {\n        viewIssue(issueKey: "'.concat(e,'") {\n            worklogs (worklogId: "').concat(t,'", orderBy: "-started") {\n                nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                created\n                started\n                updated\n                comment\n                timeSpent\n                timeSpentSeconds\n            }\n            totalCount\n            startIndex\n            }\n        }\n    }\n')};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var it=function(e){return Object(Z.isCommentEditImagePreviewFixEnabled)()?function(e){var t=e.data.viewIssue.worklogs,n=t.totalCount,r=t.nodes,o=t.startIndex,i=r.map((function(e){var t=e.updateAuthor,n=void 0===t?null:t,r=e.updated,o=e.comment,i=r!==e.created;return nt(nt({},ot(e,["updateAuthor","updated","comment","created"])),{},{updated:i?r:null,updateAuthor:i&&n?n:null,comment:Object(ge.a)(o)})}));return{totalWorklogs:n,sortedWorklogIds:i.map((function(e){return e.id})).reverse(),worklogs:i.reduce((function(e,t){return nt(nt({},e),{},rt({},t.id,t))}),{}),startIndex:o||0}}(e):function(e){var t=e.data.viewIssue.worklogs,n=t.totalCount,r=t.nodes,o=t.startIndex,i=r.map((function(e){var t=e.updateAuthor,n=void 0===t?null:t,r=e.updated,o=e.comment,i=e.created,s=ot(e,["updateAuthor","updated","comment","created"]),a=r!==i;if(o)try{return nt(nt({},s),{},{updated:a?r:null,updateAuthor:a&&n?n:null,comment:JSON.parse(o)})}catch(e){m.h.safeError("issue.activity.worklog.fetch-more-worklogs","Failed to parse worklog comment",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e}))}return nt(nt({},s),{},{updated:a?r:null,updateAuthor:a&&n?n:null,comment:null})}));return{totalWorklogs:n,sortedWorklogIds:i.map((function(e){return e.id})).reverse(),worklogs:i.reduce((function(e,t){return nt(nt({},e),{},rt({},t.id,t))}),{}),startIndex:o||0}}(e)},st=function(e,t,n){return function(e,t,n){return Object(Se.i)("".concat(e,"/rest/gira/1/"),{body:JSON.stringify({query:et(t,n),variables:{issueKey:t}})})}(e,t,n).then(it)},at=function(e,t,n,r){return function(e,t,n,r){return Object(Se.i)("".concat(e,"/rest/gira/1/"),{body:JSON.stringify({query:Xe(t,n,r),variables:{issueKey:t}})})}(e,t,n,r).then(it)},ct=function(e,t,n,r,o,i){return le.Observable.from(at(e,t,r,o)).do((function(e){n&&Object(fe.j)(n,{attributes:{worklogItemCount:e.worklogs.length}})})).map((function(e){var t=e.worklogs,n=e.totalWorklogs,r=e.sortedWorklogIds;return i(r,t,n)})).catch((function(e){return m.h.safeError("issue.activity.worklog.fetch-more-worklogs","Could not fetch more worklogs:",new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(xe.K)())}))},ut=function(e,t){return e.ofType(xe.k).switchMap((function(e){var n=e.payload,r=n.baseUrl,o=n.issueKey,i=n.analyticsEvent,s=t.getState(),a=Object(pe.l)(s),c=Object(pe.f)(s).length;return ct(r,o,i,a+c,Ze.b,xe.G)}))},lt=function(e,t){return e.ofType(xe.j).switchMap((function(e){var n=e.payload,r=n.baseUrl,o=n.issueKey,i=n.analyticsEvent,s=t.getState(),a=Object(pe.l)(s),c=a>Ze.b?a-Ze.b:0,u=a>Ze.b?Ze.b:a;return ct(r,o,i,c,u,xe.E)}))},ft=function(e,t){return e.ofType(xe.l).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(ce.toIssueKey)(Object(de.B)(n)),i=e.payload;return le.Observable.from(st(r,o,i.worklogId)).map((function(e){var t=e.totalWorklogs,n=e.worklogs,r=e.sortedWorklogIds,o=e.startIndex;return Object(xe.J)(r,n,o||0,t)})).catch((function(e){return m.h.safeError("issue.activity.worklog.fetch-worklog-by-id","Failed to load worklog list after adding new worklog",e),le.Observable.of(Object(xe.I)())}))}))},dt=function(e,t,n,r,o){return Object(Se.g)("".concat(Ie(e,t),"?startAt=").concat(n,"&reverseSortOrder=").concat(o?"true":"false").concat(r?"&maxResults=".concat(r):""))},pt=function(e,t,n,r,o){return dt(e,t,n,r,o).then((function(e){return function(e){return{totalWorklogs:e.total,worklogs:Oe(e.worklogs)}}(e)}))};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt,vt=function(e,t,n){return le.Observable.from(function(e,t,n){return dt(e,t,n).then((function(e){var t=e.worklogs;return Oe(t)}))}(e,t,0)).do((function(e){return Object(fe.j)(n,{attributes:{worklogItemCount:e.length}})})).map((function(e){return Te(e)})).map((function(e){return Object(xe.O)(e.map((function(e){return e.id})),e.reduce((function(e,t){return yt(yt({},e),{},bt({},t.id,t))}),{}))})).catch((function(e){return m.h.safeError("issue.activity.worklog.fetch-worklogs","Could not fetch worklogs:",new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(xe.K)())}))},ht=function(e,t,n,r,o){return le.Observable.from(pt(e,t,r,o,!0)).do((function(e){return Object(fe.j)(n,{attributes:{worklogItemCount:e.worklogs.length}})})).map((function(e){var t=e.totalWorklogs,n=e.worklogs;return Object(xe.O)(n.map((function(e){return e.id})),n.reduce((function(e,t){return yt(yt({},e),{},bt({},t.id,t))}),{}),t)})).catch((function(e){return m.h.safeError("issue.activity.worklog.fetch-worklogs","Could not fetch worklogs:",new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(xe.K)())}))},Ot=function(e,t){return e.ofType(xe.m,xe.o).switchMap((function(e){var n=e.payload,r=n.baseUrl,o=n.issueKey,i=e.meta.analyticsEvent,s=t.getState(),a=Object(pe.f)(s).length;return ht(r,o,i,a,Ze.b)}))},jt=function(e){return e.ofType(xe.n).switchMap((function(e){var t=e.payload,n=t.baseUrl,r=t.issueKey,o=e.meta.analyticsEvent;return ht(n,r,o,0,Ze.a)}))},wt=Object(ie.combineEpics)(Le,Ot,jt,ft,$e,Be,lt,ut),Et=Object(ie.combineEpics)(Le,Ot,jt,ft,(function(e,t){return e.ofType(xe.g).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(ce.toIssueKey)(Object(de.B)(n)),i=Object(pe.k)(n),s=e.payload,a=s.worklogId,c=s.values,u=e.meta.analyticsEvent;return le.Observable.from(qe(r,o,a,c)).do((function(e){var t=je(e);Object(fe.k)(u,{action:"edited",actionSubjectId:a,attributes:{withComment:t}})})).mergeMap((function(e){var t=Ye(Ye({},i),{},Qe({},a,e)),r=Object(xe.B)(t,e.id,Je(n,e,c.timeRemaining));return e.started!==i[a].started?le.Observable.of(r,Object(xe.H)(a)):le.Observable.of(r)})).catch((function(e){return m.h.safeError("issue.activity.worklog.edit-worklog","Failed to save edited worklog:",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(xe.z)())}))}))}),Be,lt,ut),kt=Object(ie.combineEpics)(Ne,(function(e){return e.ofType(xe.m,xe.o).switchMap((function(e){var t=e.payload,n=t.baseUrl,r=t.issueKey,o=e.meta.analyticsEvent;return vt(n,r,o)}))}),$e,Be),St=n("./node_modules/rxjs/operators.js"),It=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),Ct=n("./node_modules/lodash/curry.js"),Pt=function(e){var t=e.meta;return!0===(t=void 0===t?{}:t).batch},_t=n.n(Ct)()((function(e,t){var n=t.type;return e.includes(n)})),xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(Object(St.filter)((function(e){return Pt(e)?e.payload.some(_t(t)):t.includes(e.type)})),Object(St.flatMap)((function(e){return Pt(e)?le.Observable.from(e.payload.filter(_t(t))):le.Observable.of(e)})))}},Tt=n("./node_modules/icepick/icepick.js"),At=n("./src/packages/platform/observability/analytics-legacy-gasv2-utils/src/safe-string.js"),Dt=n("./src/packages/platform/utils/constants/src/issue-link-types.js"),Rt=n("./src/packages/issue/issue-view/src/actions/attachment-viewer-actions.js"),Mt=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),Lt=n("./src/packages/issue/issue-view/src/actions/issue-links-actions.js"),Nt=n("./src/packages/issue/issue-view/src/actions/login-actions.js"),Ft=n("./src/packages/issue/issue-view/src/actions/upsell-actions.js"),Ut=n("./src/packages/issue/issue-view/src/common/model/error-type.js"),Vt=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),Kt=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),Bt=n("./src/packages/issue/issue-view/src/configurations.js"),Wt=n("./src/packages/issue/issue-view/src/drafts/draft-actions.js"),Ht=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-actions.js"),Gt=n("./src/packages/issue/issue-view/src/issue-field/state/actions/field-save-actions.js"),qt=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),zt=n("./src/packages/issue/issue-view/src/selectors/comment-constants.js"),Yt=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),Qt=n("./src/packages/issue/issue-view/src/selectors/issue-links-selector.js"),Jt=function(e){return/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i.test(e)};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=[Bt.f,Bt.g],tn=m.i.apply(void 0,en),nn=function(e){switch(e){case Ut.a:return"AUTHENTICATION";case Ut.c:return"PERMISSION";case Ut.d:case Ut.b:default:return"GENERIC"}},rn=Object(m.i)("AUTHENTICATION","PERMISSION","GENERIC"),on=Object(m.i)(Vt.g,Vt.N,Vt.X,Vt.m,Vt.x,Vt.a,Vt.nb,Vt.r,Vt.w,Vt.bb,Vt.pb,Vt.p,Vt.Ab,Vt.rb,Vt.vb,Vt.wb,Vt.M,Vt.ub,Vt.R,Vt.xb,Vt.T,Vt.qb,Vt.hb,Vt.Q,Vt.zb,Vt.tb,Vt.S,Vt.o,Vt.B,Vt.P,Vt.yb,Vt.y,Vt.n,Vt.O,Vt.Y,Vt.sb,Vt.V,Vt.i,Vt.h,Vt.l,Vt.gb,Vt.e,Vt.lb,Vt.fb,Vt.U,Vt.eb,Vt.W,Vt.j),sn=Object(m.i)("attachmentspanel","description","comment"),an=function(e){return function(t){return{eventData:Object(ne.a)(t),eventNameSuffix:e}}},cn=function(e){return e.startsWith(Bt.f)?Bt.f:e},un=function(e){return function(t,n){var r=n.payload.fieldId,o=null!==r&&cn(r);return{eventNameSuffix:e,eventData:{type:tn(o)}}}},ln=function(e){return function(t,n){var r=n.payload.fieldId,o=null!=r?cn(r):r;return{eventNameSuffix:e,eventData:{type:tn(o)}}}},fn=function(e){return["updatedField","oldValId","newValId","oldValName","newValName"].filter((function(t){return e&&Object.hasOwnProperty.call(e,t)})).reduce((function(t,n){var r=e[n]?Xt({},n,e[n]):{};return Zt(Zt({},t),r)}),{})},dn=function(e){return{eventData:{commentCount:Object(Yt.K)(e)}}},pn=function(e){var t=function(e){return e?JSON.stringify(e).length:0}(e.bodyAdf);return{isInternal:e.isInternal,charactersInCommentCount:t}},mn=(Xt(gt={},Lt.n,(function(e,t){return Object(Tt.merge)(an("issue-links.save.request"),function(e,t){var n=t.payload.newIssueLinks.issueLinkType;return{eventData:{issueLinkTypeId:n.id,issueLinkTypeName:new At.a(Object(Dt.a)(n.label))}}}(0,t))})),Xt(gt,Lt.e,(function(e,t){return Object(Tt.merge)(an("issue-links.delete.request"),function(e){return{eventData:{issueLinkTypeId:e.typeId,issueLinkTypeName:new At.a(Object(Dt.a)(e.typeName))}}}(Object(Qt.d)(t.payload.linkedIssueId)(e)))})),Xt(gt,Lt.p,an("issue-links.save.success")),Xt(gt,Lt.o,an("issue-links.save.retry")),Xt(gt,Lt.l,an("issue-links.save.cancel")),Xt(gt,Mt.E,an("comment.delete.linkclicked")),Xt(gt,Mt.q,an("comment.fetcholder.click")),Xt(gt,Mt.t,an("comment.fetcholder.click")),Xt(gt,Mt.s,an("comment.fetchnewer.click")),Xt(gt,Mt.i,(function(e){return an("comment.edit.linkclicked")(e)})),Xt(gt,Mt.A,(function(e,t){return Object(Tt.merge)(an("comment.save.success")(e),{eventData:Zt(Zt({},fn(t.payload)),{},{actionSubjectId:new At.a(t.payload.comment.id),actionSubjectOptimisticId:new At.a(t.payload.optimisticId)},pn(t.payload.comment))})})),Xt(gt,Mt.g,(function(e,t){return Object(Tt.merge)(an("comment.delete.modal.confirm")(e),{eventData:Zt(Zt({},fn(t.payload)),{},{actionSubjectId:new At.a(t.payload.id)})})})),Xt(gt,Mt.u,(function(e,t){return Object(Tt.merge)(an("comment.paste")(e),{eventData:{isNewComment:t.payload.id===zt.a,pastedContentLength:(t.payload.pastedContent||"").length,containsEmailAddress:Jt(t.payload.pastedContent)}})})),Xt(gt,C.d,(function(e){return Object(Tt.merge)(an("fetchissue.succeeded")(e),dn(e))})),Xt(gt,C.h,(function(e){return Object(Tt.merge)(an("refreshissue.succeeded")(e),dn(e))})),Xt(gt,C.g,an("refreshissue.request")),Xt(gt,C.c,an("fetchissue.request")),Xt(gt,w.a,an("load-new-issue")),Xt(gt,C.b,(function(e,t){return{eventNameSuffix:"fetchissue.failed",eventData:{error:rn(nn(Object($.h)(e))),statusCode:t.payload.statusCode,analyticsSource:Object(de.b)(e)}}})),Xt(gt,Wt.c,un("issue.delete-draft.request")),Xt(gt,Wt.d,un("issue.delete-draft.success")),Xt(gt,Wt.a,un("issue.delete-draft.failure")),Xt(gt,Wt.b,un("issue.delete-draft.replaced-by-new-content")),Xt(gt,Wt.g,ln("issue.load-draft.success")),Xt(gt,Wt.e,ln("issue.load-draft.failure")),Xt(gt,Nt.b,(function(e){return{eventNameSuffix:"login.succeeded",eventData:{analyticsSource:Object(de.b)(e)}}})),Xt(gt,Rt.b,(function(e,t){return Object(Tt.merge)(an("media.viewer.open")(e),{eventData:{fileType:new At.a(t.payload.type),location:sn(t.payload.location)}})})),Xt(gt,Ht.b,(function(e,t){return Object(Tt.merge)(an("field.edit")(e),{eventData:{fieldType:on(Object(Kt.r)(t.payload.fieldId)(e)),fieldEditSessionId:new At.a(t.payload.fieldEditSessionId),isReusableField:!0}})})),Xt(gt,Gt.b,(function(e,t){return Object(Tt.merge)(an("field.save")(e),{eventData:Zt({fieldType:on(Object(Kt.r)(t.payload.fieldId)(e)),fieldEditSessionId:new At.a(Object(Kt.f)(t.payload.fieldId)(e)),isReusableField:!0,issueHierarchyLevel:Object(qt.e)(e)},fn(t.payload.eventData))})})),Xt(gt,Ht.c,(function(e,t){return Object(Tt.merge)(an("field.cancel")(e),{eventData:{fieldType:on(Object(Kt.r)(t.payload.fieldId)(e)),fieldEditSessionId:new At.a(Object(Kt.f)(t.payload.fieldId)(e)),isReusableField:!0}})})),Xt(gt,Ht.g,(function(e,t){return Object(Tt.merge)(an("field.paste")(e),{eventData:{fieldType:on(Object(Kt.r)(t.payload.fieldId)(e)),isReusableField:!0,pastedContentLength:t.payload.pastedContent.length,containsEmailAddress:Jt(t.payload.pastedContent)}})})),Xt(gt,Ft.b,an("flag.issue-keyword-upsell-jsd.shown")),Xt(gt,Ft.c,an("flag.issue-paste-upsell-jsd.shown")),Xt(gt,Ft.a,(function(e,t){return Object(Tt.merge)(an("xflow.jsd.shown")(e),{eventData:{trigger:t.payload.trigger}})})),gt),yn=Object(m.m)("issue");function bn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn,En,kn,Sn=function(e){var t=e.eventNameSuffix,n=e.eventData,r=e.analyticsEvent;if(r)try{var o=function(e,t){return{action:t.payload&&t.payload.action||"updated",actionSubjectId:e.actionSubjectId,name:e.name,tags:e.tags,containerType:e.containerType,containerId:e.containerId,objectType:e.objectType,objectId:e.objectId,attributes:vn(e,["actionSubjectId","name","tags","containerType","containerId","objectType","objectId"])}}(n,r);Object(fe.k)(r,o)}catch(e){It.a.safeError("issue.instrumentation.trigger-analytics-action","Failed to send action track event",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e}))}var i=function(e){if(e&&e.attributes){var t=e.attributes,n=vn(e,["attributes"]);return On(On({},t),n)}return e}(n);yn(t,i)},In=Object.keys(mn),Cn=function(e,t){return e.pipe(xt.apply(void 0,bn(In)),Object(St.map)((function(e){return function(e,t){return mn[t.type]&&On({analyticsEvent:t.payload&&t.payload.analyticsEvent},mn[t.type](e,t))}(t.getState(),e)})),Object(St.filter)((function(e){return!!e})),Object(St.tap)(Sn),Object(St.ignoreElements)())},Pn=n("./src/packages/platform/utils/constants/src/http-status-codes.js"),_n=n("./src/packages/issue/issue-fetch-services/src/index.js"),xn=n("./src/packages/issue/issue-view/src/common/util/errors/index.js"),Tn=function(e){return function(e,t,n){return e.delay(t.delay,n||void 0).take(t.take).concat(e.flatMap((function(e){return le.Observable.throw(e)})))}(e,{delay:5e3,take:3})},An=function(e){return Math.max(e-3e4,3e4)},Dn=function(e){return le.Observable.of(Object(P.d)(e))},Rn=function(e,t,n){return(n&&le.Observable.from(n)||Object(_n.j)(e,t)).map(_).map(P.f).catch((function(e){if(e.statusCode===Pn.d)return Dn(e);throw e})).retryWhen(Tn).catch(Dn)},Mn=function(e,t){return Object(ie.combineEpics)((function(n,r){return n.ofType(P.b).switchMap((function(){var n=r.getState(),o=e(n),i=t(n);return Rn(o,i)}))}),(function(e){return e.pipe(xt(P.c),Object(St.map)((function(e){return e.payload.tokenLifespanInMs})),Object(St.map)(An),Object(St.switchMap)((function(e){return le.Observable.of(Object(P.e)()).delay(e)})))}),(function(e){return e.ofType(P.a).filter((function(e){return e.payload.error.statusCode!==Pn.d})).do((function(e){var t=e.payload.error;Object(xn.a)("issue.media.fetch-upload-context-error","Error when fetching media upload context",t,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,category:Fe.c,app:Fe.e,event:{statusCode:t.statusCode}}))})).ignoreElements()}))},Ln=function(e){return le.Observable.of(Object(x.d)(e.statusCode))},Nn=function(e,t){var n=(t&&le.Observable.from(t)||Object(_n.l)(e)).map(T).map(x.f);return Object(Z.isAttachmentsTokenAutoRefreshEnabled)()?n.catch((function(e){if(e.statusCode===Pn.d)return Ln(e);throw e})).retryWhen(Tn).catch(Ln):n.catch((function(e){return It.a.safeWarn("issue.fetch.user-auth","fetchUserAuth: Failed to fetch media services user auth",e),le.Observable.of(Object(x.d)(e.statusCode))}))},Fn=function(e){return le.Observable.of(R(e))},Un=function(e,t,n,r,o){return(o&&le.Observable.from(o)||Object(_n.g)(e,t,n,r)).map(N.a).map(D)},Vn=function(e,t,n,r,o){return Un(e,t,n,r,o).catch((function(e){if(e.statusCode===Pn.d)return Fn(e);throw e})).retryWhen(Tn).catch(Fn)},Kn=function(e,t,n){return Object(ie.combineEpics)((function(r,o){return r.ofType("FETCH_VIEW_CONTEXT_REQUEST").switchMap((function(){var r=o.getState(),i=e(r),s=t(r),a=n(r);return Un(i,s,a).retryWhen(Tn).catch((function(e){return le.Observable.of(R(e))}))}))}),(function(e){return e.pipe(xt("FETCH_VIEW_CONTEXT_SUCCESS"),Object(St.map)((function(e){return e.payload.tokenLifespanInMs})),Object(St.map)(An),Object(St.switchMap)((function(e){return le.Observable.of(A()).delay(e)})))}),(function(e){return e.ofType("FETCH_VIEW_CONTEXT_FAILURE").do((function(e){var t=e.payload.error;Object(xn.a)("issue.media.fetch-view-context-error","Error when fetching media view context",t,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,category:Fe.c,app:Fe.e,event:{statusCode:t.statusCode}}))})).ignoreElements()}))},Bn=function(e,t,n){return Object(Z.isAttachmentsTokenAutoRefreshEnabled)()?Object(ie.combineEpics)(Mn(e,t),Kn(e,t,n),function(e){return Object(ie.combineEpics)((function(t,n){return t.ofType(x.b).switchMap((function(){var t=n.getState(),r=e(t);return Nn(r)}))}),(function(e){return e.ofType(x.a).filter((function(e){return e.payload.statusCode!==Pn.d})).do((function(e){var t=e.payload;Object(xn.a)("issue.media.fetch-user-auth-error","Error when fetching media user auth",t,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,category:Fe.c,app:Fe.e,event:{statusCode:t.statusCode}}))})).ignoreElements()}),(function(e){return e.pipe(xt(x.c),Object(St.map)((function(e){return e.payload.tokenLifespanInMs})),Object(St.map)(An),Object(St.switchMap)((function(e){return le.Observable.of(Object(x.e)()).delay(e)})))}))}(e)):Object(ie.combineEpics)(Mn(e,t),Kn(e,t,n))},Wn=n("./src/packages/common-legacy-do-not-add-anything-new/src/storage/storage-provider.js"),Hn=n("./src/packages/issue/issue-view/src/drafts/draft-utils.js"),Gn=function(e,t){var n=e.payload,r=n.fieldId,o=n.draftKey;if(r)return function(e,t){var n=Object(de.B)(e),r=Object(de.a)(e),o=Object(Hn.c)(r,n,t),i=Object(Hn.b)(o);return wn.remove(o),wn.remove(i),le.Observable.of(Object(Wt.k)(t))}(t,r);var i=Object(Hn.d)(o);return o?function(e){var t=Object(Hn.b)(e);return wn.remove(e),wn.remove(t),le.Observable.of(Object(Wt.k)(e))}(i).catch((function(e){return Object(xn.a)("issue.draft.delete","Failed to delete a draft.",e),le.Observable.of(Object(Wt.i)(i,e))})):le.Observable.empty()},qn=function(e,t){return wn=Object(Wn.b)("issue-drafts"),e.ofType(Wt.c).mergeMap((function(e){return Gn(e,t.getState())})).catch((function(e){return function(e){return le.Observable.of(Object(Wt.i)(null,e))}(e)}))},zn=function(e){return En=Object(Wn.b)("issue-drafts"),e.ofType(Wt.f).mergeMap((function(e){return function(e){var t=e.payload,n=t.fieldId,r=t.draftKey,o=t.draftHandler,i=Object(Hn.d)(r),s=En.get(r);if(s){var a=o?le.Observable.of(o(n,s)):le.Observable.empty(),c=le.Observable.of(Object(Wt.n)(i,s));return le.Observable.concat(a,c).catch((function(e){return Object(xn.a)("issue.draft.fetch","Failed to fetch issue draft",e),le.Observable.of(Object(Wt.l)(i,e))}))}return le.Observable.empty()}(e)})).catch((function(e){return function(e){return le.Observable.of(Object(Wt.l)(null,e))}(e)}))},Yn=function(e,t){return kn=Object(Wn.b)("issue-drafts"),e.ofType(Wt.h).throttleTime(1e3,le.Scheduler.default,{leading:!0,trailing:!0}).switchMap((function(e){return function(e,t){var n=e.payload,r=n.fieldId,o=n.value,i=Object(de.B)(t),s=Object(de.a)(t),a=Object(Hn.c)(s,i,r);return kn.set(a,o),le.Observable.of(Object(Wt.q)(a,o))}(e,t.getState())})).catch((function(e){return function(e){return Object(xn.a)("issue.save-draft","Failed to save draft",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Wt.o)(e))}(e)}))},Qn=n("./src/packages/common-legacy-do-not-add-anything-new/src/authenticate-using-app-links/index.js"),Jn=n("./src/packages/issue/issue-view/src/actions/applink-authentication-actions.js"),$n=function(e,t){return e.ofType(Jn.a).mergeMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=e.payload,i=Object(Qn.a)("".concat(r).concat(o));return i?le.Observable.fromPromise(i).map((function(){return Object(Jn.d)()})).catch((function(e){return Object(xn.a)("issue-applink-authentication-epic","Failed to authenticate with applinks",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()})):le.Observable.empty()}))},Zn=n("./node_modules/lodash/get.js"),Xn=n.n(Zn),er=n("./src/packages/issue/issue-view/src/actions/assign-issue-parent-modal-actions.js"),tr=n("./src/packages/issue/issue-view/src/common/service/issue/issue-urls.js"),nr=function(e,t){return"project=".concat(e," AND issuetype in (").concat(t.join(","),") ORDER BY lastViewed DESC, updated DESC, priority DESC")},rr=function(e){return e.issues.map((function(e){var t=e.id,n=e.key,r=e.fields,o=r.summary,i=r.issuetype;return{id:Number(t),key:n,summary:o,issueType:i}}))};function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=function(e){return e.reduce((function(e,t){return ir(ir({},e),{},sr({},t.id,t.parentId))}),{})},cr=Object(ie.combineEpics)((function(e,t){return e.ofType(er.a).mergeMap((function(){var e=t.getState();return function(e,t,n){return t?Object(Se.d)(Object(tr.l)(e),{method:"POST",body:JSON.stringify({jql:nr(t,n)})}).map(rr):le.Observable.of([])}(Object(de.f)(e),Object($.B)(e),Object(qt.f)(e))})).map(er.l).catch((function(e){return Object(xn.a)("issue.fetch-parent.failure","",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),Object(er.j)()}))}),(function(e,t){return e.ofType(er.e,er.d).mergeMap((function(e){var n=t.getState(),r=e.payload.issues,o=e.type===er.d?e.payload.parentIssue&&e.payload.parentIssue.id:e.payload.parentId,i=Object($.A)(n),s=e.type===er.d?e.payload.parentIssue:i.find((function(e){return e.id===o})),a=r.filter((function(e){return e.parentId!==o&&e.id})).map((function(e){return e.id})),c=ar(r.filter((function(e){return a.includes(e.id)})));if(!a.length)return le.Observable.empty();var u=Object(de.f)(n),l=Object($.B)(n);return(e.type===er.d?le.Observable.fromPromise(e.payload.requestPromise):function(e,t,n,r){return t?Object(Se.d)(function(e,t,n){return"".concat(e,"/rest/internal/simplified/1.0/projects/").concat(t,"/issues/").concat(n,"/children")}(e,t,n),{method:"POST",body:JSON.stringify(r)}):le.Observable.throw("Missing Project Id")}(u,l,e.payload.parentId,{issueIds:a})).flatMap((function(){return s?le.Observable.of(Object(er.p)(s,c)):le.Observable.of(Object(er.s)(c))})).catch((function(e){return Object(xn.a)("issue.set-parent.failure","",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}))}))}),(function(e,t){return e.ofType(er.h).mergeMap((function(e){var n=t.getState(),r=e.payload.issues,o=r.filter((function(e){return e.parentId&&e.id})).map((function(e){return e.id})),i=ar(r.filter((function(e){return o.includes(e.id)})));return 0===o.length?le.Observable.empty():function(e,t,n){return t?Object(Se.d)(function(e,t){return"".concat(e,"/rest/internal/simplified/1.0/projects/").concat(t,"/issues/delete-parents")}(e,t),{method:"POST",body:JSON.stringify(n)}):le.Observable.throw("Missing Project Id")}(Object(de.f)(n),Object($.B)(n),{issueIds:o}).flatMap((function(){return le.Observable.of(Object(er.s)(i))})).catch((function(e){return Object(xn.a)("issue.unset-parent.failure","",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}))}))}),(function(e){return e.ofType(er.f,er.i).map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"ISSUE_RELATIONSHIP_UPDATE_SUCCESS",payload:{oldParentIdsByIssueIds:e,parentIssueId:t}}}(Xn()(e,"payload.oldParentIdsByIssueIds",null),Xn()(e,"payload.parentIssue.id",null))}))})),ur=n("./src/packages/issue/issue-view/src/actions/attachment-delete-actions.js"),lr=n("./src/packages/issue/issue-view/src/actions/attachment-picker-actions.js"),fr=n("./src/packages/issue/issue-view/src/selectors/attachment-picker-selector.js"),dr=function(e,t,n,r){var o=function(e,t){return"".concat(e,"/rest/api/2/attachment/upload/issue/").concat(t)}(t,n),i=function(e){return{method:"POST",body:JSON.stringify({fileId:e.id})}}(e);return Object(Se.d)(o,i).map((function(t){return function(e,t,n){return{id:"".concat(e.attachmentId),mediaApiFileId:t.id,createdDate:t.createdDate,author:n,mimetype:t.mimetype,filename:t.filename}}(t,e,r)}))},pr=Object(ie.combineEpics)((function(e,t){return e.ofType(lr.d).mergeMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.B)(n),i=Object(de.a)(n),s=Object(fr.c)(e.payload.id)(n);return dr(s,r,o,i).retry(3).map(lr.i).catch((function(e){return Object(xn.a)("issue.attachment.jira-create-error","Could not create attachment in Jira",e),le.Observable.of(Object(lr.h)(s,e.statusCode))}))}))}),(function(e){return e.ofType(lr.a).do((function(e){It.a.safeError("issue.attachment.jira-create-error","Could not create attachment in Jira",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:{statusCode:e.payload.statusCode}}))})).ignoreElements()}),(function(e){return e.ofType(lr.g,lr.e).do((function(e){var t=e.payload,n=t.description,r=t.name,o=t.fileId;It.a.safeError("issue.attachment.media-services-upload-error","Could not upload attachment to Media Services",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:{description:n,name:r,fileId:o}}))})).ignoreElements()})),mr=Object(ie.combineEpics)(pr,(function(e,t){return e.ofType(ur.c).mergeMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=e.payload.attachmentId;return function(e,t){var n=function(e,t){return"".concat(e,"/rest/api/2/attachment/").concat(t)}(e,t);return Object(Se.d)(n,{method:"DELETE"})}(r,o).mapTo(Object(ur.i)(o)).catch((function(e){return Object(xn.a)("issue.attachment.jira-delete-error","Could not delete attachment in Jira",e),le.Observable.of(e.statusCode===Pn.e?Object(ur.i)(o):Object(ur.g)(o))}))}))})),yr=Object(ie.combineEpics)((function(e){return e.ofType(lr.d).mapTo(M())}),(function(e){return e.ofType(lr.a).mapTo(L())}),(function(e){return e.ofType(lr.b).mapTo(A())})),br=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/graphql-tags.js"),gr=n("./src/packages/issue/issue-view/src/actions/card-cover-actions.js"),vr=n("./src/packages/issue/issue-view/src/selectors/card-cover-selectors.js");function hr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["query {\n            agile {\n                board {\n                    additionalBoardData(rapidViewId: ",") {\n                        isMediaOnCardsEnabled\n                    }\n                    media(issueIds: ",") {\n                        cardMedia {\n                            issueId\n                            attachmentId\n                            availableAttachmentIds\n                        }\n                    }\n                }\n            }\n    }"]);return hr=function(){return e},e}var Or=tr.e,jr=function(e,t){var n="[".concat(t,"]");return Object(br.a)(hr(),e,n)},wr=function(e){return Object(xn.a)("issue.card-cover.fetch",e.message,e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(gr.d)())},Er=function(e,t){return e.pipe(xt(C.d,ur.d,lr.b),Object(St.filter)((function(){return Object(vr.b)(t.getState())})),Object(St.flatMap)((function(){return function(e){var t=Object(de.K)(e),n=Object($.k)(e);return null==t||null==n?le.Observable.empty():Object(Se.d)(Or(Object(de.f)(e)),{method:"POST",body:JSON.stringify({query:jr(t,n)})})}(t.getState()).flatMap((function(e){return e.errors?wr(e):function(e){var t=Xn()(e,"data.agile.board.additionalBoardData.isMediaOnCardsEnabled",!1),n=Xn()(e,"data.agile.board.media.cardMedia[0].attachmentId",null),r=Xn()(e,"data.agile.board.media.cardMedia[0].availableAttachmentIds",[]);return le.Observable.of(Object(gr.e)({isEnabled:t,attachmentId:n,availableAttachmentIds:r}))}(e)})).catch((function(e){return wr(e)}))})))},kr=function(e,t){return e.ofType(gr.c).flatMap((function(e){return function(e,t){var n=Object(de.f)(e),r=Object($.k)(e),o=t.payload.attachmentId;if(null==r)return le.Observable.empty();var i={method:o?"PUT":"DELETE"};return Object(Se.d)(function(e,t,n){var r="".concat(e,"/rest/greenhopper/1.0/xboard/work/media/").concat(t);return n?"".concat(r,"?attachmentId=").concat(n):r}(n,r,o),i)}(t.getState(),e).flatMap((function(){return function(){return le.Observable.of(Object(gr.h)())}()})).catch((function(t){return function(e,t){return m.h.safeError("issue.card-cover.update",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:new Error(e)})),le.Observable.of(Object(gr.f)(t.payload.currentAttachmentId))}(t,e)}))}))},Sr=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/safe-string.js"),Ir=n("./src/packages/common-legacy-do-not-add-anything-new/src/navigation/iframe-redirect/index.js"),Cr=n("./src/packages/issue/issue-view/src/actions/change-issue-type-actions.js"),Pr=function(e){return e.issueTypes},_r=function(e,t,n){return function(e,t,n){return Object(Se.d)("".concat(e,"/rest/internal/2/issue/").concat(t,"/changeissuetype"),{method:"post",body:JSON.stringify({targetIssueTypeId:n})})}(e,t,n).map((function(e){return e.changeSuccessful}))},xr=n("./src/packages/issue/issue-view/src/common/service/issue/issue-fetch-server.js"),Tr=function(e,t,n,r){var o=function(e,t,n){return{action:e,actionSubjectId:Object(Sr.c)(t)(t),attributes:n}}(t,n,r);Object(fe.k)(e,o)},Ar=Object(ie.combineEpics)((function(e,t){return e.ofType(Cr.d).switchMap((function(e){var n=Object(de.f)(t.getState()),r=e.payload,o=r.issueKey,i=r.targetType,s=r.issueId,a=r.analyticsEvent,c=r.currentType;return!c.subtask&&i.subtask?(Tr(a,"updated","simpleChangeIssueTypeRedirect",{subTask:i.subtask}),le.Observable.of(Object(Cr.k)(s,c,i))):_r(n,o,i.id).map((function(e){return e?(Tr(a,"updated","simpleChangeIssueTypeSuccess"),Object(Cr.m)(o,i.name)):(Tr(a,"updated","simpleChangeIssueTypeRedirect",{subTask:i.subtask}),Object(Cr.k)(s,c,i))})).catch((function(e){return m.h.safeError("change.issue.type.simplechange",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Cr.j)(e))}))}))}),(function(e,t){return e.ofType(Cr.f).switchMap((function(e){var n=e.payload.issueKey;return Object(xr.c)(t.getState()).flatMap((function(e){var r=t.getState(),o=Object.keys(Object(Kt.t)(r)).map((function(e){return Object(Kt.q)(e)(r)})).filter((function(e){return!!e}));return le.Observable.of(Object(C.l)(e),Object(E.e)(n,o))}))}))}),(function(e,t){return e.ofType(Cr.c).do((function(e){var n=Object(de.f)(t.getState()),r=e.payload,o=r.issueId,i=r.currentType,s=r.targetType;i.subtask&&s.subtask?Object(Ir.a)("".concat(n,"/secure/MoveSubTaskChooseOperation!default.jspa?id=").concat(o),!1):!i.subtask&&s.subtask?Object(Ir.a)("".concat(n,"/secure/ConvertIssue.jspa?id=").concat(o),!1):Object(Ir.a)("".concat(n,"/secure/MoveIssue!default.jspa?id=").concat(o),!1)})).ignoreElements()})),Dr=n("./src/packages/issue/issue-view/src/actions/changeboarding-actions.js"),Rr=n("./src/packages/issue/issue-view/src/common/service/issue/changeboarding-local-storage.js"),Mr=function(e){return It.a.safeError("jira.user.issue.changeboarding.lastinteracted","Error saving last interacted changeboarding timestamp",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()},Lr=Object(ie.combineEpics)((function(e){return e.ofType(Dr.b).do((function(e){Object(Rr.d)(e.payload.currentSeenTimes+1),e.payload.firstSeenTimestamp||Object(Rr.c)(Date.now())})).ignoreElements()}),(function(e,t){return e.ofType(Dr.c,Dr.a).mergeMap((function(e){return le.Observable.of(e).mergeMap((function(){return function(e,t){var n=Object(de.f)(e),r=Object(tr.b)(n);return Object(Se.j)(r,{body:"".concat(t)})}(t.getState(),e.payload)})).catch(Mr)})).ignoreElements()})),Nr=n("./src/packages/issue/issue-view/src/actions/clickthrough-banner-actions.js"),Fr=function(e){return It.a.safeError("jira.user.issue.clickthrough.lastinteracted","Error saving last interacted clickthrough timestamp",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()},Ur=function(e,t){return e.ofType(Nr.a).mergeMap((function(e){return le.Observable.of(e).mergeMap((function(){return function(e,t){var n=Object(de.f)(e),r=Object(tr.c)(n);return Object(Se.j)(r,{body:"".concat(t)})}(t.getState(),e.payload)})).catch(Fr)})).ignoreElements()},Vr=[Mt.a,Mt.j,Mt.A,Mt.h],Kr=function(e){if(e.type===Mt.a||e.payload.isNewComment)return le.Observable.of(Object(Wt.j)({fieldId:Object(Hn.a)(zt.a)}));var t=function(e){var t=(e.id||e.optimisticId).toString();return-1!==t.indexOf(zt.a)?zt.a:t}(e.payload),n=Object(Hn.a)(t);return le.Observable.of(Object(Wt.j)({fieldId:n}))},Br=function(e){return e.ofType.apply(e,Vr).mergeMap((function(e){return Kr(e)})).catch((function(e){return function(e){return It.a.safeError("issue.comment-delete-draft",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}(e)}))},Wr={method:"DELETE"},Hr=function(e,t){var n=function(e,t,n){return"".concat(e,"/rest/api/2/issue/").concat(t,"/comment/").concat(n)}(Object(de.f)(e),Object(de.B)(e),t);return Object(Se.d)(n,Wr).map((function(){return Object(Mt.M)(t)})).catch((function(e){return function(e,t){return Object(xn.a)("issue.comment.delete","Could not delete a comment",e),le.Observable.of(e.statusCode===Pn.e?Object(Mt.M)(t):Object(Mt.K)(t))}(e,t)}))},Gr=function(e,t){return e.ofType(Mt.g).mergeMap((function(e){var n=t.getState(),r=e.payload.id;return Hr(n,r)}))},qr=n("./src/packages/issue/issue-view/src/epics/comment-fetch-epic.js");function zr(e){return function(e){if(Array.isArray(e))return Yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr=function(e,t,n){var r=Object(de.a)(t),o=Object(de.B)(t);return Object(Yt.n)(t).map((function(i){var s=Object(Hn.a)(i),a=Object(Hn.c)(r,o,s),c=Object(Yt.f)(i)(t),u=null!=c?c:void 0;return le.Observable.of(Object(Wt.m)(i,a,function(e,t,n){return e&&t===n.payload.id?Mt.Q:null}(n,i,e),u))}))},Jr=function(e){return Object(xn.a)("issue.comment-load-draft",e.message,e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()},$r=Object(ie.combineEpics)((function(e,t){return e.ofType(Mt.i).mergeMap((function(e){return le.Observable.merge.apply(le.Observable,zr(Qr(e,t.getState(),!0)))})).catch((function(e){return Jr(e)}))}),(function(e,t){return e.pipe(xt(C.d,C.h,Mt.r,Mt.o),Object(St.mergeMap)((function(e){return e.payload.comments?le.Observable.merge.apply(le.Observable,zr(Qr(e,t.getState(),!1))):le.Observable.empty()})),Object(St.catchError)((function(e){return Jr(e)})))})),Zr=Object(ie.combineEpics)((function(e){return e.ofType(Mt.y).mapTo(M())}),(function(e){return e.ofType(Mt.x).mapTo(L())}),(function(e){return e.ofType(Mt.A).mapTo(A())})),Xr=function(e,t){return e.ofType(Mt.l).switchMap((function(e){return function(e,t){var n=e.payload,r=n.id,o=n.value,i=Object(Yt.f)(r)(t);return le.Observable.of(Object(Wt.p)(Object(Hn.a)(r),o,i))}(e,t.getState())})).catch((function(e){return function(e){return Object(xn.a)("issue.comment-save-draft",e.message,e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}(e)}))},eo=n("./src/packages/issue/issue-view/src/common/model/comment-type.js"),to=n("./src/packages/issue/issue-view/src/common/service/issue/comment-transformer.js");function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=function(e,t,n,r,o){var i=function(e,t){var n=e.getState();return Object(de.v)(n)?{properties:[{key:"sd.public.comment",value:{internal:Object(Yt.C)(t)(n)}}]}:{}}(e,t),s=function(e,t){return Object(Yt.z)(e.getState())?{visibility:t.type===eo.c?null:t}:{}}(e,o);return{method:r?"POST":"PUT",body:JSON.stringify(ro(ro({body:n},i),s))}},so=function(e){if(e instanceof Se.a&&e.message)try{var t=JSON.parse(e.message);return t.errorMessages?t.errorMessages.join("; "):void 0}catch(e){return void Object(xn.a)("issue.save.comment","Failed to parse FetchError",e)}},ao=function(e,t){var n=t.id,r=t.bodyAdf,o=t.isNewComment,i=t.analyticsEvent,s=t.visibility;return Object(Se.d)(function(e,t,n){var r=e.getState();return function(e){var t=e.baseUrl,n=e.issueKey,r=e.id,o=void 0===r?"":r,i=e.isNewComment,s=void 0!==i&&i?"":"/".concat(o);return"".concat(t,"/rest/api/3/issue/").concat(n,"/comment").concat(s)}({baseUrl:Object(de.f)(r),issueKey:Object(de.B)(r),id:t,isNewComment:n})}(e,n,o),io(e,n,r,o,s)).map(to.c).map(to.a).map((function(e){return Object(Mt.gb)(e,n,o,i)})).catch((function(e){return Object(xn.a)("issue.save.comment","Failed to save a comment",e),le.Observable.of(Object(Mt.db)({optimisticId:n,isServerValidationError:!!e&&e.statusCode===Pn.a,invalidMessage:so(e)}))}))},co=Object(ie.combineEpics)((function(e,t){return e.ofType(Mt.z).map((function(e){var n=t.getState(),r=e.payload,o=r.optimisticId,i=r.isNewComment;return Object(Mt.eb)(ro(ro({},Object(Yt.H)(o)(n)),{},{isNewComment:i}))}))}),(function(e,t){return e.ofType(Mt.y).groupBy((function(e){return e.payload.comment.id})).mergeMap((function(e){return e.concatMap((function(e){var n=e.payload.comment,r=n.id,o=n.bodyAdf,i=n.isNewComment,s=n.visibility,a=e.payload.analyticsEvent;return!o||Object(ge.c)(o)?le.Observable.empty():ao(t,{id:r,bodyAdf:o,isNewComment:i,analyticsEvent:a,visibility:s}).mergeMap((function(e){return e.type===Mt.x?le.Observable.of(e):Object(ue.a)()&&i?le.Observable.zip(le.Observable.of(e),le.Observable.of(Object(Mt.T)())).mergeMap((function(e){return le.Observable.from(e)})):le.Observable.zip(le.Observable.of(e)).mergeMap((function(e){return le.Observable.from(e)}))}))}))}))}));function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||fo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||fo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mo=function(e){return e.ofType(Mt.c,Mt.i,Mt.u,Mt.A).groupBy((function(e){switch(e.type){case Mt.c:return zt.a;case Mt.i:case Mt.u:return e.payload.id;case Mt.A:return e.payload.optimisticId.startsWith(zt.a)?zt.a:e.payload.optimisticId;default:return null}})).map((function(e){var t=e.filter((function(e){var t=e.type;return t===Mt.c||t===Mt.i}));return e.window(t).map((function(e){var t=e.filter((function(e){return e.type===Mt.A})),n=e.filter((function(e){return e.type===Mt.u})).takeUntil(t).reduce((function(e,t){return[].concat(lo(e),[t.payload.pastedContent])}),[]);return t.withLatestFrom(n).mergeMap((function(e){var t=uo(e,2),n=t[0],r=t[1],o=n.payload.comment;return 0===r.length?le.Observable.empty():le.Observable.of(Object(Mt.hb)(o,r))}))})).mergeAll()})).mergeAll()},yo=n("./src/packages/issue/issue-view/src/actions/fetch-confluence-app-links-actions.js"),bo=function(e){return Object(Se.d)(Object(tr.d)(e))},go=function(e,t){return e.ofType(yo.a).switchMap((function(){var e=t.getState(),n=Object(de.f)(e);return bo(n).map(yo.e).catch((function(e){return Object(xn.a)("issue.fetch.confluence-app-links-epic","FETCH_CONFLUENCE_APP_LINKS_REQUEST: Failed to fetch confluence app links data",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(yo.d)())}))}))},vo=n("./src/packages/issue/issue-view/src/actions/confluence-pages-actions.js"),ho=n("./src/packages/issue/issue-view/src/common/constants/remote-link-error-type.js"),Oo=n("./src/packages/issue/issue-view/src/common/constants/confluence-page-type.js"),jo=function(e){return e===Oo.a?Oo.a:Oo.b},wo=function(e){return e.object.status.resolved?{id:Object(ce.toConfluencePageId)(e.id),globalId:Object(ce.toRemoteLinkGlobalId)(e.globalId),href:Object(ce.toHref)(e.object.url),title:e.object.title,type:jo(e.object.icon.title),lastUpdatedContext:{user:{displayName:Object(ce.toDisplayName)(e.object.status.icon.title),avatarUrl:Object(ce.toHref)(e.object.status.icon.url16x16)}}}:{id:Object(ce.toFailedRemoteLinkId)(e.id),error:e.object.status.icon.url16x16?ho.b:ho.c,link:{id:Object(ce.toFailedRemoteLinkId)(e.id),globalId:Object(ce.toRemoteLinkGlobalId)(e.globalId),href:Object(ce.toHref)(e.object.url)},repairLink:{href:Object(ce.toHref)(e.object.status.icon.url16x16)}}},Eo=n("./src/packages/issue/issue-view/src/actions/fetch-recently-visited-confluence-pages-actions.js"),ko=["blogpost","page"],So=function(e){return!e.includes("http")&&window&&window.location?"".concat(window.location.protocol,"//").concat(window.location.host).concat(e):e},Io=function(e){return function(e,t){return e.map((function(e){return e.filter((function(e){return ko.includes(e.type)})).map((function(e){return{id:Object(ce.toConfluencePageId)(e.id.toString()),globalId:Object(ce.toRemoteLinkGlobalId)(""),href:Object(ce.toHref)(So("".concat(t,"/wiki").concat(e.url))),title:e.title,type:jo(e.contentType),space:e.space}}))}))}(function(e){return Object(Se.d)(function(e){return"".concat(e,"/wiki/rest/recentlyviewed/1.0/recent?limit=").concat(20)}(e))}(e),e)},Co=Object(ie.combineEpics)((function(e,t){return e.ofType(vo.c).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.A)(n),i=e.payload.pageHref,s=e.meta.analyticsEvent;return o?le.Observable.from(function(e){var t=e.baseUrl,n=e.issueId,r=e.pageHref;return Object(Se.i)("".concat(function(e){return"".concat(e,"/rest/confluenceIssueLink/1/confluence")}(t)).concat(function(e,t){return"?issueId=".concat(e,"&pageUrl=").concat(t)}(n,r)),{body:JSON.stringify({})}).then(wo)}({baseUrl:r,pageHref:i,issueId:Object(ce.toIssueId)(o.toString())})).do((function(e){Object(fe.k)(s,{action:"created",actionSubjectId:e.id,attributes:{createdWithError:!!Xn()(e,"error"),needsAuthorization:!!Xn()(e,"repairLink.href")}})})).map((function(e){return Object(vo.l)(e)})).catch((function(e){return Object(xn.a)("issue.fetch.confluence-pages-epic",vo.c,e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(vo.i)(e.message))})):(m.h.safeError("issue.fetch.confluence-pages-epic",vo.c,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:new Error("addconfluencelink.error.issueId.invalid")})),le.Observable.of(Object(vo.i)("addconfluencelink.error.issueId.invalid")))}))}),(function(e,t){return e.ofType(vo.f).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.B)(n),i=e.payload.globalId;return le.Observable.fromPromise(function(e,t,n){return Object(Se.f)("".concat(e,"/rest/api/2/issue/").concat(t,"/remotelink?globalId=").concat(encodeURIComponent(n)))}(r,o,i)).map(vo.o).catch((function(e){return Object(xn.a)("issue.fetch.confluence-pages-epic","DELETE_CONFLUENCE_PAGE_LINK_REQUEST: Failed to delete confluence page link",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(vo.m)())}))}))}),(function(e,t){return e.ofType(Eo.a).switchMap((function(){var e=t.getState(),n=Object(de.f)(e);return Io(n).map(Eo.e).catch((function(e){var t={eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e};return m.h.safeError("issue.fetch.confluence-recently-viewed-epic","FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_REQUEST: Failed to fetch recently viewed confluence pages",new Fe.a(t)),le.Observable.of(Object(Eo.c)())}))}))}));function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xo=function(e,t){return e.ofType("SET_CONTEXT").map((function(){return Object(de.k)(t.getState())})).pairwise().mergeMap((function(e){var t=Po(e,2),n=t[0],r=t[1];return function(e,t){return e!==t?le.Observable.of(Object(w.f)({fromIssueKey:e,toIssueKey:t})):le.Observable.empty()}(n.issueKey,r.issueKey)}))},To={method:"DELETE"},Ao=function(e,t){return e.ofType(Lt.e).mergeMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=e.payload.linkedIssueId,i=function(e,t){return"".concat(e,"/rest/api/2/issueLink/").concat(t)}(r,o),s=Object(Qt.d)(o)(n),a=Object(Qt.g)(s.linkedIssueKey)(n);return Object(Se.d)(i,To).map((function(){return Object(Lt.w)(o,{issueId:a.id,direction:s.direction})})).catch((function(e){return Object(xn.a)("issue.issue-links.delete-issue-link-error","Error when removing issue link",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Lt.u)(o))}))}))},Do=n("./src/packages/issue/issue-view/src/actions/ecosystem-content-panel-actions.js"),Ro=n("./src/packages/issue/issue-view/src/common/ecosystem/module-key-helper.js"),Mo=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-property-keys.js"),Lo=function(e,t,n){return"".concat(e,"/rest/api/2/issue/").concat(t,"/properties/").concat(n)},No=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js");function Fo(e){return function(e){if(Array.isArray(e))return Uo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vo=function(e,t){return{addonModuleKey:t,baseUrl:Object(de.f)(e),parentIssueKey:Object(de.B)(e)}},Ko=function(e,t,n){var r=Object(Ro.a)(n,10);return function(e,t,n){var r=Lo(e,t,n);return le.Observable.fromPromise(Object(Se.j)(r,{body:JSON.stringify({added:n})}))}(e,t,r).map((function(){return Object(Do.k)(r)})).catch((function(e){return It.a.safeError("issue.ecosystem.ecosystem-content-panel-epic","saveExtensionToIssue failed: ".concat(e),new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Do.i)(e))}))},Bo=Object(ie.combineEpics)((function(e,t){return e.ofType(Do.a).flatMap((function(e){var n=Vo(t.getState(),e.payload),r=n.addonModuleKey,o=n.baseUrl,i=n.parentIssueKey,s=t.getState(),a=Object(Z.isForgeQuickAddEnabled)()?Object(No.j)(s):Object(No.p)(s),c=Object(Z.isForgeQuickAddEnabled)()?Object(No.f)(s):Object(No.b)(s),u=Object(No.n)(s),l=!Object(No.o)(s);return!u&&l?le.Observable.merge.apply(le.Observable,Fo(c.map((function(e){return"".concat(e.appKey,"_").concat(e.moduleKey)})).filter((function(e){return!a.includes(e)})).map((function(e){return Ko(o,i,e)})))):Ko(o,i,r)}))}),(function(e){return e.ofType(Do.b).switchMap((function(e){var t=e.payload;return le.Observable.of(Object(Do.l)(t))}))}),(function(e,t){return e.ofType(Do.g).flatMap((function(e){var n=Vo(t.getState(),e.payload),r=n.addonModuleKey,o=n.baseUrl,i=n.parentIssueKey,s=Object(Ro.a)(r,10),a=t.getState(),c=Object(Z.isForgeQuickAddEnabled)()?Object(No.j)(a):Object(No.p)(a);if(!c.includes(r)&&!c.includes(s)){var u=Object(Z.isForgeQuickAddEnabled)()?Object(No.g)(a):Object(No.c)(a);return le.Observable.merge.apply(le.Observable,Fo(u.map((function(e){return"".concat(e.appKey,"_").concat(e.moduleKey)})).filter((function(e){return e!==r})).map((function(e){return Ko(o,i,e)}))))}var l=c.includes(r)?r:s;return function(e,t,n){var r=Lo(e,t,n);return le.Observable.fromPromise(Object(Se.f)(r))}(o,i,l).map((function(){return Object(Do.q)(l)})).catch((function(e){return It.a.safeError("issue.ecosystem.ecosystem-content-panel-epic","removeExtensionFromIssue failed: ".concat(e),new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Do.o)(e))}))}))}),(function(e,t){return e.ofType(Do.b,Do.c).flatMap((function(e){var n=Vo(t.getState(),e.payload),r=n.baseUrl,o=n.parentIssueKey;return Object(No.n)(t.getState())?le.Observable.empty():function(e,t){var n=Lo(e,t,Mo.a);return le.Observable.fromPromise(Object(Se.j)(n,{body:JSON.stringify({createdOn:new Date})}))}(r,o).map((function(){return Object(Do.n)()})).catch((function(e){return It.a.safeError("issue.ecosystem.ecosystem-content-panel-epic","saveIssueCustomised failed: ".concat(e),new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}))}))})),Wo=n("./src/packages/issue/issue-view/src/browser-metrics/browser-metrics-constants.js"),Ho=n("./src/packages/issue/issue-view/src/common/service/issue/ecosystem-extensions-transformer.js"),Go=function(e,t){return e.ofType(C.e).switchMap((function(){var e=t.getState();return function(e,t,n){var r="".concat(e,"/rest/internal/2/issue/").concat(t,"/extension");return Object(Se.d)(r,{perf:Wo.b,headersProcessor:n&&n(Wo.b.key)}).map(Ho.b).catch((function(e){return m.h.safeError("issue.fetch.ecosystem-extensions-fetch-server","fetchEcosystemExtensions: Failed to fetch extensions",new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of({})}))}(Object(de.f)(e),Object(de.B)(e)).map(C.n).catch((function(e){return m.h.safeError("issue.fetch.ecosystem-refresh-epic","REFRESH_ECOSYSTEM_REQUEST: Failed to refresh ecosystem data",new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.empty()}))}))},qo=function(e){return function(t){return t.ofType(C.b).do((function(t){return e&&e(t.payload.error)})).ignoreElements()}},zo=n("./src/packages/common-legacy-do-not-add-anything-new/src/experience-tracking/common/services/send-experience-analytics/index.js"),Yo=function(e){return e instanceof Se.b?"VALIDATION_ERROR":e instanceof Se.a?e.statusCode>=400&&e.statusCode<500?"VALIDATION_ERROR":"SERVER_ERROR":"CONNECTIVITY_ERROR"},Qo=n("./src/packages/issue/issue-view/src/common/state/selectors/application-selector.js");function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo=[Bt.o,Bt.g,Bt.c,Bt.z],ei=function(e){var t=e.payload;return Xo.includes(t.fieldId)},ti=function(e){return Object(de.b)(e)||"unknown"},ni=function(e){var t=e.state,n=e.hasSuccess,r=e.fieldId,o=e.hasEdit,i=e.errorMessage;return{experience:"editIssue",analyticsSource:ti(t),application:Object(Qo.b)(t),edition:Object(Qo.a)(t),wasExperienceSuccesful:n,field:r,hasEdit:o,additionalAttributes:$o({},null!=i?{errorMessage:i}:{})}},ri=function(){return Object(zo.a)(ni.apply(void 0,arguments))},oi=Object(ie.combineEpics)((function(e,t){return e.ofType(Ht.c).filter(ei).filter((function(e){var n=e.payload,r=t.getState();return!Object(Kt.C)(n.fieldId)(r)})).do((function(e){var n=t.getState(),r=e.payload.fieldId;return ri({state:n,hasSuccess:!0,fieldId:r,hasEdit:!1})})).ignoreElements()}),(function(e,t){return e.ofType(Gt.e).filter(ei).do((function(e){var n=t.getState(),r=e.payload.fieldId;return ri({state:n,hasSuccess:!0,fieldId:r,hasEdit:!0})})).ignoreElements()}),(function(e,t){return e.ofType(Gt.a).filter(ei).filter((function(e){var t=e.payload;return"CONNECTIVITY_ERROR"!==Yo(t.error)})).do((function(e){var n=t.getState(),r=e.payload,o=r.fieldId,i=r.error,s=Yo(i);return ri({state:n,hasSuccess:"SERVER_ERROR"!==s,fieldId:o,hasEdit:!0,errorMessage:"".concat(i.statusCode||s," - ").concat(i.message)})})).ignoreElements()})),ii=n("./src/packages/platform/utils/constants/src/project-types.js"),si=n("./src/packages/issue/issue-view/src/selectors/issue-links-type-selector.js"),ai="issue.issue-view.get-create-linked-issue-permission.epic",ci=function(e,t){return e.ofType(Lt.g).switchMap((function(){var e=t.getState(),n=Object($.E)(e),r=Object(si.a)(e),o=n===ii.d||n===ii.l;return r&&o?function(e){return Object(Se.d)("".concat(e,"/rest/api/3/permissions/project"),{method:"POST",body:JSON.stringify({permissions:["CREATE_ISSUES"]})}).retry(2).flatMap((function(e){if(e&&e.projects){var t=e.projects.length>0;return le.Observable.of(Object(Lt.H)(t))}return It.a.safeError(ai,"The permission endpoint does not return the expected data"),le.Observable.of(Object(Lt.H)(!1))})).catch((function(e){return It.a.safeError(ai,e),le.Observable.of(Object(Lt.H)(!1))}))}(Object(de.f)(e)):le.Observable.of(Object(Lt.H)(!1))}))},ui=n("./node_modules/lodash/uniq.js"),li=n.n(ui),fi=n("./src/packages/issue/issue-view/src/common/service/issue/user-transformer.js");var di=["assignee","project"],pi=function(e){var t=e.id,n=e.key,r=e.fields;return{id:t,assigneeUrl:r.assignee&&Object(fi.c)(r.assignee).avatarUrl,assigneeDisplayName:r.assignee&&Object(fi.c)(r.assignee).displayName,projectType:r.project&&r.project.projectTypeKey,issueKey:n}},mi=function(e,t){return Object(xr.b)(e,t,di).map((function(e){return e.map(pi).reduce((function(e,t){return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.issueKey,t))}),{})}))},yi=Object(ie.combineEpics)((function(e,t){return e.ofType(Lt.j).switchMap((function(){var e=t.getState(),n=Object(de.f)(e),r=Object(Qt.f)(e);return mi(n,r).flatMap((function(e){return le.Observable.of(Object(Lt.B)(e))})).catch((function(e){return Object(xn.a)("issue.issuelinks.fetch.linked.issues.epic","Error while fetching linked issues",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(Lt.A)(e))}))}))}),(function(e,t){return e.ofType(Lt.p).switchMap((function(){var e=t.getState(),n=Object(de.f)(e),r=Object(de.B)(e),o=Object(Qt.i)(e),i=li()(Object.values(o).map((function(e){return e.linkedIssueKey}))),s=Object.values(o).filter((function(e){return e.isSaved})).map((function(e){return e.id}));return le.Observable.zip(Object(xr.d)(n,r),mi(n,i),(function(e,t){return Object(Lt.z)(e,t,s,o)})).catch((function(e){return Object(xn.a)("issue.issuelinks.fetch.linked.issues.epic","Error while fetching new issue links and their details",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Lt.y)(s,e))}))}))})),bi=n("./src/packages/forge/forge-ui/src/utils/analytics/consumers/index.js"),gi=n("./src/packages/issue/issue-view/src/actions/forge-actions.js");function vi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var hi,Oi=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){vi(i,r,o,s,a,"next",e)}function a(e){vi(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o||Object(_n.c)(t,n,r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}();function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ei(e){return function(e){if(Array.isArray(e))return ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii=(Si(hi={},C.c,"fetch"),Si(hi,C.g,"refresh"),Si(hi,w.a,"load-new"),Si(hi,C.a,"fetch-forge"),hi),Ci=Object.keys(Ii),Pi=function(e){return function(t,n){return t.ofType.apply(t,Ei(Ci)).switchMap((function(t){var r=Object(de.b)(n.getState()),o=wi({id:"issueViewInitialization",attributes:{actionType:Ii[t.type]}},{source:r&&r.toString()});return Object(bi.a)("started",o),function(e,t){var n=Object(de.f)(e),r=Object(de.i)(e),o=Object(de.o)(e);return le.Observable.fromPromise(Oi(n,r,o,t&&t.issueForgeData))}(n.getState(),e).map((function(e){return Object(bi.a)("finished",o),Object(gi.e)(e)})).catch((function(e){return Object(bi.a)("failed",wi({error:e},o)),le.Observable.empty()}))}))}},_i=n("./src/packages/platform/services/issue/src/index.js"),xi=n("./src/packages/issue/issue-view/src/common/model/loading-stage-type.js");function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){Di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Li,Ni,Fi=function(e,t,n,r){var o=t.setIssue,i=n.setFieldConfig,s=function(e){return Object.entries(e).reduce((function(e,t){var n=Ri(t,2),r=n[0],o=n[1],i=o.value,s=o.autoCompleteUrl,a=o.allowedValues,c=o.editable,u=o.required,l=o.schema,f=o.title;return{fieldValues:Ai(Ai({},e.fieldValues),{},Di({},r,i)),fieldConfigs:Ai(Ai({},e.fieldConfigs),{},Di({},r,{autoCompleteUrl:s,allowedValues:a,isEditable:c,isRequired:u,schema:l,title:f}))}}),{})}(e),a=s.fieldValues,c=s.fieldConfigs;o(r,a),i&&i(r,c),(a[Vt.k]||[]).forEach((function(e){var t=function(e){return e.reduce((function(e,t){var n=t.key,r=t.value,o=t.autoCompleteUrl,i=t.allowedValues,s=t.editable,a=t.required,c=t.schema,u=t.title;return{fieldValues:Ai(Ai({},e.fieldValues),{},Di({},n,r)),fieldConfigs:Ai(Ai({},e.fieldConfigs),{},Di({},n,{autoCompleteUrl:o,allowedValues:i,isEditable:s,isRequired:a,schema:c,title:u}))}}),{})}(e.fields),n=t.fieldValues,r=t.fieldConfigs;o(e.key,n),i&&i(e.key,r)}))},Ui=n("./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js");function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ki=(Vi(Li={},Vt.T,_i.x),Vi(Li,Vt.qb,_i.A),Vi(Li,Vt.xb,_i.D),Vi(Li,Vt.ub,_i.B),Vi(Li,Vt.tb,_i.C),Vi(Li,Vt.M,_i.r),Vi(Li,Vt.o,_i.i),Vi(Li,Vt.n,_i.j),Vi(Li,Vt.Y,_i.y),Vi(Li,Vt.O,_i.s),Vi(Li,Vt.Q,_i.u),Vi(Li,Vt.hb,_i.z),Vi(Li,Vt.S,_i.w),Vi(Li,Vt.zb,_i.F),Vi(Li,Vt.B,_i.q),Vi(Li,Vt.P,_i.t),Vi(Li,Vt.yb,_i.E),Vi(Li,Vt.W,_i.E),Vi(Li,Vt.R,_i.v),Vi(Li,Vt.y,_i.p),Vi(Li,Vt.l,_i.h),Vi(Li,Vt.d,_i.E),Vi(Li,Vt.j,_i.g),Li),Bi=(Vi(Ni={},Vt.w,_i.J),Vi(Ni,Vt.nb,_i.V),Vi(Ni,Vt.pb,_i.X),Vi(Ni,Vt.sb,_i.ab),Vi(Ni,Vt.V,_i.Q),Vi(Ni,Vt.i,_i.d),Vi(Ni,Vt.h,_i.c),Ni),Wi=function(e){var t=e.key,n=function(e){var t=e.key;return t===Vt.p?e.adfValue:t===Vt.t||e.schema.custom===Vt.tb?e.schema.renderer===Ui.b?e.adfValue:e.value:void 0!==e.pendingValue?e.pendingValue:null!=e.renderedValue&&void 0!==e.renderedValue?e.renderedValue:e.value}(e),r=e.title||t,o=e.editable;return t===Vt.ob||e.schema.system?function(e,t,n,r,o,i){switch(t){case Vt.a:return{type:_i.a,key:"versions",editable:o,title:r,value:n};case Vt.g:return{type:_i.b,key:"assignee",editable:o,title:r,value:n};case Vt.m:return{type:_i.f,key:"components",editable:o,title:r,value:n};case Vt.p:return{type:_i.G,key:"description",editable:o,title:r,value:n};case Vt.t:return{type:_i.I,key:"environment",editable:o,title:r,value:n,renderer:i};case Vt.r:return{type:_i.H,key:"duedate",editable:o,title:r,value:n};case Vt.x:return{type:_i.L,key:"fixVersions",editable:o,title:r,value:n};case Vt.K:return{type:_i.N,key:"issuetype",title:"",editable:!1,value:{id:n.id,name:n.name,iconUrl:n.iconUrl}};case Vt.N:return{type:_i.P,key:"labels",editable:o,title:r,value:n};case Vt.X:return{type:_i.S,key:"priority",editable:o,title:r,value:n};case Vt.bb:return{type:_i.T,key:"reporter",editable:o,title:r,value:n};case Vt.ob:var s=n,a=s.name,c=s.statusCategory.id;return{type:_i.W,key:Vt.ob,title:"",editable:!1,value:{name:a,statusCategory:{id:c}}};case Vt.rb:return{type:_i.Z,key:"summary",editable:o,title:r,value:n};case Vt.wb:return{type:_i.bb,key:"timetracking",editable:o,title:r,value:n};default:return}}(e.schema&&e.schema.system&&e.schema.system,t,n,r,o,e.schema&&e.schema.renderer):e.schema.custom?function(e,t,n,r,o,i){var s=Ki[e]||Bi[e];if(s)switch(s){case Vt.w:return{type:_i.J,key:t,editable:o,title:r,value:n};case Vt.nb:return{type:_i.V,key:t,editable:o,title:r,value:n};case Vt.pb:return{type:_i.X,key:t,editable:o,title:r,value:n};case Vt.V:return{type:_i.Q,key:t,editable:o,title:r,value:n};case Vt.i:return{type:_i.d,key:t,editable:o,title:r,value:n};case Vt.h:return{type:_i.c,key:t,editable:o,title:r,value:n};case Vt.sb:return{type:_i.ab,key:t,editable:o,title:r,value:n};default:return{type:s,key:t,editable:o,title:r,value:n,renderer:i}}}(e.schema.custom,t,n,r,o,e.schema.renderer):void 0};function Hi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var Gi=function(e,t,n){return function(r,o){return r.ofType(E.c).switchMap((function(r){if(r.payload){var i=r.payload;return e.getIssue$(i).flatMap((function(e){var r=e.error,s=e.issue;return r?(m.h.safeWarn("issue.data.provider.epic","UPDATE_PREVIEW_REQUEST: dataProvider issue data lookup failed ".concat(r)),le.Observable.of(Object(E.d)(function(e){switch(e){case _i.gb:return Ut.c;case _i.db:return Ut.b;case _i.hb:default:return Ut.d}}(r)))):s?(Fi(Object(ee.a)(s),t,n,i),Object($.v)(o.getState())!==xi.a?le.Observable.of(X(s)):le.Observable.empty()):le.Observable.empty()}))}return le.Observable.empty()}))}},qi=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Hi(i,r,o,s,a,"next",e)}function a(e){Hi(i,r,o,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIssue$(n,!0).toPromise();case 2:return r=e.sent,o=r.issue,i=[],o&&(s=Object(ee.a)(o),i=Object.keys(s).map((function(e){return Object(Kt.v)(e,s)})).filter(Boolean)),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zi=function(e){return function(t,n){return t.ofType(E.b).switchMap((function(t){var n=t.payload.issueKey;return le.Observable.fromPromise(qi(e,n)).mergeMap((function(t){return function(e){var t=e.map((function(e){try{return Wi(e)}catch(e){return void It.a.safeError("issue.details.data-provider-transformer","Failed to transform field",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e}))}})).filter((function(e){return!!e}));return le.Observable.of(t)}(t).flatMap((function(t){return e.updateIssue(n,t),le.Observable.empty()})).catch((function(e){return m.h.safeError("issue.data.provider.epic","Error while refreshing cached issue data by fetching issue from server",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}))}))}))}},Yi=function(e,t,n){return Object(ie.combineEpics)(Gi(e,t,n),function(e){return function(t){return t.ofType("FETCH_ISSUE_REMOTE_DATA_REQUEST").switchMap((function(t){if(t.payload){var n=t.payload;return e.getIssueRemoteData$(n).flatMap((function(e){return le.Observable.of(S(e))}))}return ue.a?le.Observable.of(function(){return{type:"FETCH_ISSUE_REMOTE_DATA_FAILURE"}}()):le.Observable.empty()}))}}(e),function(e){return function(t,n){return t.ofType(Jn.b).switchMap((function(){var t=n.getState(),r=Object(de.B)(t);return r?e.getIssueRemoteData$(r).flatMap((function(e){return le.Observable.of(S(e))})):le.Observable.empty()}))}}(e),zi(e))},Qi=n("./src/packages/issue/issue-view/src/actions/issue-delete-actions.js"),Ji=function(e,t,n,r){var o={action:t,actionSubjectId:Object(Sr.c)(n)(n)};r?Object(fe.l)(e,o):Object(fe.k)(e,o)},$i=function(e,t){return e.ofType(Qi.c).mergeMap((function(e){var n=e.payload,r=n.issueKey,o=n.analyticsEvent;return function(e,t){var n=function(e,t){return"".concat(e,"/rest/api/3/issue/").concat(t,"?deleteSubtasks=true")}(e,t);return Object(Se.d)(n,{method:"DELETE"})}(Object(de.f)(t.getState()),r).map((function(){return Ji(o,"deleted","issueDeleted"),Object(Qi.i)(r)})).catch((function(e){return m.h.safeError("issue.delete.issue-delete-epic","Failed to delete issue with key ".concat(r),new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),Ji(o,"deletedError","issueDeletedError",e),le.Observable.of(Object(Qi.g)(r,function(e,t){try{return JSON.parse(e.message).errorMessages[0]}catch(e){return"Failed to delete issue with key ".concat(t)}}(e,r)))}))}))},Zi=n("./src/packages/issue/issue-view/src/browser-metrics/fetch-issue-network-times.js"),Xi=function(e){return function(t){return function(n){e.dispatch(function(e,t){return{type:"SAVE_SERVER_TIME",payload:{key:e,serverTime:t}}}(t,Number(n.get("atl-vtm-backend-time"))))}}},es=n("./src/packages/issue/issue-view/src/utils/issue-view-fetch-error.js");function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rs=function(e,t){var n=Ut.d;if(e.statusCode===Pn.g?n=Ut.a:e.statusCode===Pn.d||e.statusCode===Pn.e?n=Ut.c:e.statusCode?t||(n=Ut.a):n=Ut.b,e instanceof es.a){var r=e,o=r.endpoint,i=r.traceId,s=r.statusCode,a=r.message;return{errorMessage:s?"".concat(a,", endpoint: ").concat(o,", status code: ").concat(s):"".concat(a,", endpoint: ").concat(o),endpoint:o,traceId:i,statusCode:s,error:n}}if(e instanceof Se.a){var c=e,u=c.message,l=c.statusCode,f=c.traceId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({error:n,statusCode:l,errorMessage:"".concat(u,", status code: ").concat(l)},f?{traceId:f}:{})}return{error:n,statusCode:void 0}},os=function(e,t,n){return function(r,o){return r.ofType(C.c,w.a).switchMap((function(){Object(Zi.a)();var r=o.getState(),i=Object(de.a)(r),s=Object(de.f)(r),a=Object(de.B)(r),c=Object(de.F)(r),u=Object(de.b)(r);return le.Observable.zip(Vn(s,a,c,Xi(o),n&&n.issueMediaReadPermission),Rn(s,a,n&&n.issueMediaUploadPermission),Nn(s,n&&n.issueMediaUserAuth),Object(xr.a)(r,n).do((function(n){var r=n.issue.fields;Fi(r,e,t,a)})).map(C.l)).mergeMap((function(e){return Object(F.c)(),Object(F.i)(u),n&&n.clearAll(),le.Observable.of(Object(oe.batchActions)(e))})).catch((function(e){var t=Object(Z.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()?rs(e,i):function(e,t){var n=Ut.d;return e===Pn.g?n=Ut.a:e===Pn.d||e===Pn.e?n=Ut.c:e?t||(n=Ut.a):n=Ut.b,{error:n,statusCode:e}}(e.statusCode,i);return t.error===Ut.c||Object(xn.a)("issue.fetch.issue-fetch-epic","FETCH_ISSUE_REQUEST: Failed to fetch issue data",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(Object(C.j)(t))}))}))}},is=n("./src/packages/platform/utils/constants/src/fetch-default-options.js"),ss=n("./src/packages/platform/utils/fetch/src/utils.js"),as=n("./src/packages/issue/issue-view/src/common/model/issue-links-direction-type.js");function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fs=us(us({},is.a),{},{method:"POST"}),ds=function(e,t,n){return e.direction===as.c?{type:{id:e.id},inwardIssue:{key:t},outwardIssue:{key:n}}:{type:{id:e.id},inwardIssue:{key:n},outwardIssue:{key:t}}},ps=function(e){return e.status===Pn.c?Promise.resolve(null):Promise.reject(new ss.b(e.status,"Error server response: ".concat(e.status)))},ms=function(e,t,n,r){return le.Observable.fromPromise(function(e,t){return fetch(e,us(us({},fs),t)).then(ps)}(Object(tr.k)(e),{body:JSON.stringify(ds(t,n,r))}))},ys=function(e,t,n,r){var o=Object(de.f)(e),i=Object(de.B)(e);return ms(o,r,i,n).map((function(){return Object(Lt.G)(t)})).catch((function(e){return m.h.safeError("issue.issuelinks.save.linked.issues.epic","Error while adding linked issues",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Lt.D)(t,e))}))},bs=Object(ie.combineEpics)((function(e,t){return e.ofType(Lt.o).mergeMap((function(e){var n=t.getState(),r=e.payload,o=Object(Qt.d)(r)(n),i=o&&o.linkedIssueKey,s=o&&{direction:o.direction,id:o.typeId};return ys(n,r,i,s)}))}),(function(e,t){return e.ofType(Lt.n).mergeMap((function(e){var n=t.getState(),r=e.payload.newIssueLinks,o=r.optimisticId,i=r.linkedIssueKey,s=r.issueLinkType;return ys(n,o,i,s)}))})),gs=n("./node_modules/lodash/identity.js"),vs=n.n(gs),hs=function(e,t){var n=document.getElementById("ghx-issue-fragment");window.AJS&&n?window.AJS.$(n).trigger(e,t):It.a.safeError("issue.rapid-board","Could not find container to send event for rapid board",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e}))},Os="refresh-sprints-on-board",js="hide",ws=function(e){return hs(Os,{sprintIds:[e]})},Es=function(){return hs(js)},ks=function(e){return e.pathname+e.search},Ss=function(e,t){return function(n,r){var o={},i=n.ofType(w.b).pluck("payload").do((function(){var e=r.getState(),n=Object(de.b)(e),o=Object(de.s)(e);Object(F.a)({analyticsSource:String(n),isLoadedWithPage:o,isSPA:!0,store:r,dataProvider:t}),Object(F.g)()})).do((function(t){var n=t.fromIssueKey,r=t.toIssueKey;if(e){o[ks(window.location)]=n;var i=function(e,t,n){var r=new RegExp("".concat(t,"(?![\\d])"),"g"),o=e.match(r);return null===o||1!==o.length?null:e.replace(t,n)}(ks(window.location),n,r);i&&(o[i]=r,e.push(i))}})),s=e?le.Observable.create((function(t){return e.listen((function(e,n){t.next({location:e,action:n})}))})).filter((function(e){return"POP"===e.action})).filter((function(){var e=r.getState();return!Object(de.x)(e)})).map((function(e){var t=e.location;return o[ks(t)]})).filter(vs.a).map((function(e){return{fromIssueKey:Object(de.B)(r.getState()),toIssueKey:e}})).filter((function(e){return e.fromIssueKey!==e.toIssueKey})):le.Observable.empty(),a=r.getState();return le.Observable.merge(i,s).distinctUntilChanged((function(e,t){return c()(e,t)})).flatMap((function(e){var t=e.fromIssueKey,n=e.toIssueKey;Object(Zi.a)();var o=r.getState(),i=Object.keys(Object(Kt.t)(a)).map((function(e){return Object(Kt.q)(e)(a)})).filter(Boolean);if(Object(de.x)(o))return le.Observable.of.apply(le.Observable,[Object(w.e)(n),Object(E.f)(n)].concat([k(n)]));var s=Object(E.e)(t,i);return le.Observable.of.apply(le.Observable,[s,Object(w.e)(n),Object(E.f)(n)].concat([k(n)]))})).takeUntil(n.last().catch((function(){return le.Observable.of(!0)}))).catch((function(e){return It.a.safeError("issue.issue-navigation-epic","Unexpected error in issue-navigation-epic",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e}))}))}},Is=function(e){return e.ofType(w.c).do((function(e){Object(Ir.a)(e.payload.projectUrl,!1)})).ignoreElements()},Cs=function(e){return e.ofType(w.d).do((function(e){ws(e.payload.sprintId),Es()})).ignoreElements()},Ps=n("./src/packages/issue/issue-view/src/selectors/activity-feed-selector.js"),_s=n("./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js"),xs=function(e,t){return e.ofType("REALTIME_UPDATE_CURRENT_ISSUE").switchMap((function(e){return Object(Z.isIssueRealtimeEnableForBento)()?function(e,t){var n=t.getState(),r=e.payload.atlassianId,o=Object($.x)(n),i=Object(No.c)(n).length>0||!!Object(Ps.a)(n)||!!Object(_s.a)(n),s=o&&r!==o.id;return!i&&s?le.Observable.of(Object(C.o)()):le.Observable.empty()}(e,t):function(e,t){var n=t.getState(),r=e.payload.atlassianId,o=Object($.x)(n);return o&&r!==o.id?le.Observable.of(Object(C.o)()):le.Observable.empty()}(e,t)}))},Ts=function(){return Math.floor(6)},As=function(e){return e.ofType(C.g).bufferTime(6e4).distinctUntilChanged(null,(function(e){return e[1]})).filter((function(e){return e.length>=Ts()})).do((function(e){console.warn("AP.jira.refreshIssuePage was triggered",e.length,"times in the last minute. Make sure you're only triggering the refresh when you need it, as constant re-rendering of the issue app will impact the user experience.")})).switchMap((function(){return le.Observable.empty()}))},Ds=function(e,t){return Object(ie.combineEpics)(function(e,t){return function(n,r){return n.ofType(C.g).shareReplay(Ts(),6e4).throttleTime(1e4,le.Scheduler.default,{leading:!0,trailing:!0}).switchMap((function(){var n=r.getState(),o=Object(de.f)(n),i=Object(de.B)(n),s=Object(de.F)(n);return le.Observable.zip(Vn(o,i,s),Object(xr.a)(n).do((function(n){var r=n.issue.fields;Fi(r,e,t,i)})).map(C.p)).mergeMap(le.Observable.from).catch((function(e){return m.h.safeError("issue.fetch.issue-refresh-epic","REFRESH_ISSUE_REQUEST: Failed to refresh issue data",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()}))}))}}(e,t),As)},Rs=function(e){return{type:"FETCH_SCREENID_SUCCESS",payload:e&&e.data}},Ms=function(e,t){return e.ofType("FETCH_SCREENID_REQUEST").switchMap((function(){var e=t.getState(),n=Object(de.a)(e),r=Object(de.f)(e),o=Object(de.B)(e);return Object(_n.h)(r,o).map(Rs).catch((function(e){var t=function(e,t){var n=Ut.d;return e===Pn.g?n=Ut.a:e===Pn.d||e===Pn.e?n=Ut.c:e?t||(n=Ut.a):n=Ut.b,{error:n,statusCode:e}}(e.statusCode,n);return t.error===Ut.c||Object(xn.a)("issue.fetch.issue-screenid-epic","FETCH_ISSUE_REQUEST: Failed to fetch issue data",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(function(e){return{type:"FETCH_SCREENID_FAILURE",payload:e}}(t))}))}))},Ls=n("./node_modules/lodash/size.js"),Ns=n.n(Ls),Fs=n("./src/packages/issue/issue-view/src/actions/child-panel-actions.js"),Us=n("./src/packages/issue/issue-view/src/actions/issue-types-actions.js"),Vs=n("./src/packages/issue/issue-view/src/common/service/issue/subtask-types-server.js");function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hs=new Map,Gs=function(e,t){return e.ofType(Fs.g,Fs.e,Fs.c,Fs.b).mergeMap((function(){var e=t.getState(),n=Object(de.J)(e),r=Hs.get(n)||{time:new Date};if(r&&r.data&&new Date-r.time<18e5)return le.Observable.of(Object(Us.f)(r.data));Hs.set(n,r);var o=Object(de.f)(e),i=Xi(t);return le.Observable.concat(le.Observable.of(Object(Us.e)()),Object(Vs.a)(o,n,i).mergeMap((function(e){var t=e&&e.issueTypes;return Ns()(t)?(Hs.set(n,Bs(Bs({},r),{},{data:t})),le.Observable.of(Object(Us.f)(t))):(Hs.delete(n),le.Observable.of(Object(Us.d)()))})))}))},qs=function(e,t){return e.ofType(Nt.a).switchMap((function(){var e=Object(de.E)(t.getState());if(e){var n=Object(de.f)(t.getState()),r=encodeURIComponent(e),o="".concat(n,"/login.jsp?os_destination=").concat(r),i=window.open(o,"_blank");return le.Observable.fromEvent(window,"message").filter((function(e){return e.origin===window.location.origin})).filter((function(e){return e.source===i})).filter((function(e){return e.data&&"log-in-successful"===e.data.status&&e.data.accountId})).do((function(e){return e.source.close()})).mergeMap((function(e){return le.Observable.of(Object(Nt.d)({accountId:e.data.accountId}),Object(C.k)())}))}return le.Observable.empty()}))},zs=function(e,t,n){return{type:"MULTILINE_FIELD_EDIT_BEGIN",payload:{multilineFieldIdsToClose:e,commentIdsToClose:t,shouldCloseAddCommentForm:n}}},Ys=function(e,t){var n=t.fieldId,r=t.commentId,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(Kt.u)(e).filter((function(e){return e!==n})),s=Object(Yt.u)(e).filter((function(e){return e!==r})),a=!o&&!!Object(Yt.w)(e);return i.length>0||s.length>0||a?zs(i,s,a):null},Qs=Object(ie.combineEpics)((function(e,t){return e.ofType(Ht.b).filter((function(e){return Object(Kt.D)(e.payload.fieldId)(t.getState())})).map((function(e){return Ys(t.getState(),{fieldId:e.payload.fieldId})})).filter(Boolean)}),(function(e,t){return e.ofType(Mt.i).map((function(e){return Ys(t.getState(),{commentId:e.payload.id})})).filter(Boolean)}),(function(e,t){return e.ofType(Mt.c).map((function(){return Ys(t.getState(),{},!0)})).filter(Boolean)})),Js=function(e,t){var n=zt.a,r=Object(de.a)(e),o=Object(de.B)(e),i=Object(Hn.a)(n),s=Object(Hn.c)(r,o,i);return le.Observable.of(Object(Wt.m)(n,s,t?Mt.Q:null))},$s=function(e){return It.a.safeError("issue.new-comment-load-draft",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.empty()},Zs=Object(ie.combineEpics)((function(e,t){return e.ofType("SET_CONTEXT").mergeMap((function(){return Js(t.getState(),!1)})).catch((function(e){return $s(e)}))}),(function(e,t){return e.ofType(Mt.c).mergeMap((function(){return Js(t.getState(),!0)})).catch((function(e){return $s(e)}))})),Xs=function(e,t){return e.ofType(Cr.a).mergeMap((function(e){return function(e,t){var n="".concat(e,"/rest/api/3/project/").concat(t);return Object(Se.d)(n).map(Pr)}(Object(de.f)(t.getState()),e.payload).map((function(e){return Object(Cr.i)(e)})).catch((function(e){return m.h.safeError("change.issue.type.fetchtypes",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(Object(Cr.g)(e))}))}))},ea=Object(m.i)("true","false"),ta=function(e,t){return e.ofType("FETCH_PROJECT_HAS_SUBTASK_VALIDATORS").switchMap((function(){var e=t.getState();return function(e,t){return Object(Se.d)(function(e,t){return"".concat(e,"/rest/internal/2/project/").concat(t,"/hasValidatorsOnSubtasks")}(e,t))}(Object(de.f)(e),Object(de.J)(e)).do((function(e){Object(m.l)("project-validators.projectHasSubtaskValidators.result",{result:ea(e)})})).map((function(e){return function(e){return{type:"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_SUCCESS",payload:e}}(e)})).catch((function(){return le.Observable.of(function(){return{type:"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_FAILURE"}}())}))}))},na=function(e,t){return e.ofType("SET_CONTEXT").scan((function(e,t){var n=e.issueKey;return{issueKey:t.payload.issueKey,loggedInAccountId:t.payload.atlassianAccountId,previousIssueKey:n}}),{issueKey:null,previousIssueKey:null,loggedInAccountId:null}).filter((function(e){return null!==e.loggedInAccountId})).filter((function(e){return e.issueKey!==e.previousIssueKey})).map((function(e){return e.issueKey})).delay(3e3).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o="".concat(r,"/rest/internal/2/issue/").concat(e,"/history");return Object(Se.d)(o,{method:"POST"}).catch((function(e){return function(e){return 404===e.statusCode}(e)||Object(xn.a)("issue.recently-viewed-issue-epic","Client network error occurred when fetching user issue history",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.empty()})).ignoreElements()}))},ra=n("./src/packages/issue/issue-view/src/actions/request-panel-metadata-actions.js"),oa=function(e){return m.h.safeError("issue.request-panel-metadata.fetch",JSON.stringify(e),new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:new Error(JSON.stringify(e))})),le.Observable.of(Object(ra.d)())},ia=function(e,t){return e.ofType(ra.a).flatMap((function(){return function(e){return Object(Se.d)(function(e,t){return"".concat(e,"/rest/servicedesk/1/servicedesk/request/").concat(t,"/request-panel-metadata")}(Object(de.f)(e),Object(de.B)(e)))}(t.getState()).flatMap((function(e){return e.errors?oa(e):function(e){return le.Observable.of(Object(ra.e)(e))}(e)})).catch((function(e){return oa(e)}))}))},sa=n("./src/packages/issue/issue-view/src/actions/share-as-comment-actions.js"),aa=function(e,t){return e.ofType(sa.b).switchMap((function(){var e=t.getState();return Object(Yt.w)(e)?le.Observable.empty():le.Observable.of(Object(Mt.H)(),Object(Mt.I)(zt.a,!1))}))},ca=n("./src/packages/issue/issue-view/src/common/actions/timestamp-display-setting-actions.js"),ua=function(e){return e.ofType(ca.a).do((function(e){window.localStorage.setItem("jira.absolutedate.issueview",e.payload)})).ignoreElements()},la=n("./src/packages/common-legacy-do-not-add-anything-new/src/have-i-seen-it/index.js");function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ba(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ga(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ba(i,r,o,s,a,"next",e)}function a(e){ba(i,r,o,s,a,"throw",e)}s(void 0)}))}}var va=new RegExp([/\bphone\b/,/\bwifi\b/,/\bwi-fi\b/,/\bbroken\b/,/\binternet\b/,/\bcomputer\b/,/\?/].map((function(e){return e.source})).join("|"),"gi"),ha="keyword-in-summary",Oa="pasted-into-description",ja="pasted-into-comment",wa=function(e){return e===ha?"jsw-jsd-upsell.keyword-trigger":"jsw-jsd-upsell.paste-trigger"},Ea=function(e){return e===ha?Object(Ft.e)():Object(Ft.f)()},ka=function(){var e=ga(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wa(t),e.next=3,Object(la.a)(ya({},n,{}));case 3:return r=e.sent,e.abrupt("return",!r[n]||r[n].status);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sa=function(){var e=ga(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wa(t),e.next=3,Object(la.b)(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ia=Object(At.c)("computer","wifi","email","wi-fi","?","broken","internet","phone"),Ca=function(e){var t=pa(new Set(e.map((function(e){return e.toLowerCase()}))).values()).sort().map(Ia).filter(At.b).join(",");return new At.a(t)},Pa=function(e){return{licensedProducts:Object(de.C)(e),siteAdminStatus:Object(de.P)(e),productCrossSellConfig:Object(de.I)(e)}},_a=function(){var e=ga(regeneratorRuntime.mark((function e(t,n,r){var o,i,s,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t);case 2:if(o=e.sent,i=!!n.licensedProducts["jira-servicedesk"],s="admin"===n.siteAdminStatus,a="enabled"!==n.productCrossSellConfig,c=!o&&!i&&!a,yn("jsd-upselling.triggered",da(da({},r),{},{triggerType:new At.a(t),haveSeenPreviously:o,hasJsdAlready:i,hasAdminOptedOut:a,isAdmin:s,wasTreatmentShown:c})),c){e.next=10;break}return e.abrupt("return",null);case 10:return Sa(t),e.abrupt("return",Ea(t));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xa=Object(ie.combineEpics)((function(e,t){return e.ofType(Gt.b).filter((function(e){return e.payload.fieldId===Bt.C})).filter((function(){var e=t.getState(),n=Object(Kt.h)(Bt.C)(e);return n&&n.match(va)})).do((function(){return ka(ha)})).ignoreElements()}),(function(e){return e.ofType(Ht.g).filter((function(e){return e.payload.fieldId===Bt.g})).filter((function(e){return Jt(e.payload.pastedContent)})).do((function(){return ka(Oa)})).ignoreElements()}),(function(e){return e.ofType(Mt.u).filter((function(e){return Jt(e.payload.pastedContent)})).do((function(){return ka(ja)})).ignoreElements()})),Ta=Object(ie.combineEpics)((function(e,t){return e.ofType(Gt.c).filter((function(e){return e.payload.fieldId===Bt.C})).mergeMap((function(){var e=t.getState(),n=Object(Kt.o)(Bt.C)(e),r=n&&n.match(va);return r?le.Observable.fromPromise(_a(ha,Pa(t.getState()),da(da({},Object(ne.a)(e)),{},{matchingKeywords:Ca(r)}))):le.Observable.empty()})).filter((function(e){return e}))}),(function(e,t){return e.ofType(Gt.d).filter((function(e){return e.payload.fieldId===Bt.g})).filter((function(e){return e.payload.pastedContent.some(Jt)})).mergeMap((function(){return le.Observable.fromPromise(_a(Oa,Pa(t.getState()),da({},Object(ne.a)(t.getState()))))})).filter((function(e){return e}))}),(function(e,t){return e.ofType(Mt.B).filter((function(e){return e.payload.pastedContent.some(Jt)})).mergeMap((function(){return le.Observable.fromPromise(_a(ja,Pa(t.getState()),da({},Object(ne.a)(t.getState()))))})).filter((function(e){return e}))})),Aa=Object(ie.combineEpics)(xa,Ta),Da=function(e,t){return e.ofType("FETCH_LOGGED_IN_USER_REQUEST").switchMap((function(){var e=t.getState(),n=Object(de.a)(e);if(!n)return le.Observable.empty();var r=function(e,t){var n="accountId=".concat(encodeURIComponent(t));return"".concat(e,"/rest/api/2/user?").concat(n,"&expand=applicationRoles")}(Object(de.f)(e),n);return Object(Se.d)(r).map(fi.d).map((function(e){var t=Object(fi.c)(e),n=Object(fi.a)(e);return I(t,n)})).catch((function(e){return Object(xn.a)("issue.fetch.user-fetch-epic","FETCH_LOGGED_IN_USER_REQUEST: Failed to fetch logged in user details",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.h,app:Fe.e,event:e})),le.Observable.of(function(){return{type:"FETCH_LOGGED_IN_USER_FAILURE"}}())}))}))},Ra=function(){var e=null,t=null;return function(n,r){return n.pipe(xt("FETCH_LOGGED_IN_USER_SUCCESS",C.d),Object(St.mergeMap)((function(n){switch(n.type){case"FETCH_LOGGED_IN_USER_SUCCESS":if(e&&!t){var o=r.getState();Object($.E)(o)===ii.l&&m.h.safeWarn("issue.fetch.user-fetch-timing-epic","Issue data loaded before user data loaded. By [".concat(Date.now()-e,"]ms"))}t=Date.now();break;case C.d:e=Date.now()}return le.Observable.empty()})))}},Ma=n("./src/packages/issue/issue-view/src/actions/web-links-actions.js"),La=n("./src/packages/issue/issue-view/src/selectors/web-links-selector.js"),Na=function(e,t,n){return{object:{icon:{url16x16:n},title:e,url:t}}},Fa=function(e){var t=e.baseUrl,n=e.issueId,r=e.href,o=e.linkText,i=e.iconUrl;return Object(Se.i)("".concat(function(e,t){return"".concat(e,"/rest/api/3/issue/").concat(t,"/remotelink")}(t,n)),{body:JSON.stringify(Na(o,r,i))}).then((function(e){return function(e,t,n,r){return{id:Object(ce.toWebLinkId)(e.id),href:t,linkText:n,iconUrl:r}}(e,r,o,i)}))},Ua=function(e,t,n){var r=e.message;Object(xn.a)(n,t,e,{errorReason:r})},Va=function(e,t,n,r,o){if(void 0===n||void 0===r){var i=void 0===n?"No issueId when creating weblink":"Broken weblink state when creating weblink";return m.h.safeError("issue.fetch.web-links-epic",o,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:new Error(i)})),le.Observable.empty()}var s=r.href,a=r.linkText,c=r.iconUrl,u=null==c?"":c;return le.Observable.from(Fa({baseUrl:t,href:s,issueId:Object(ce.toIssueId)(n.toString()),linkText:null==a?s:a,iconUrl:Object(ce.toHref)(u)})).map((function(e){return Object(Ma.p)(r.id,e)})).catch((function(e){var t="".concat(o,": Failed to create web link");return Ua(e,t,"issue.fetch.web-links-epic"),le.Observable.of(Object(Ma.m)(r.id))}))},Ka=function(e,t){return e.ofType(Ma.h).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.B)(n),i=e.payload.id;return le.Observable.fromPromise(function(e,t,n){return Object(Se.f)("".concat(e,"/rest/api/3/issue/").concat(t,"/remotelink/").concat(n))}(r,o,i)).map((function(){return Object(Ma.t)(i)})).catch((function(e){var t="".concat(Ma.h,": Failed to delete web link");return Ua(e,t,"issue.fetch.web-links-epic"),le.Observable.of(Object(Ma.r)(i))}))}))},Ba=function(e,t){return e.ofType(Ma.c).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.A)(n),i=e.payload.optimisticId,s=Object(La.d)(i)(n);return Va(0,r,o,s,Ma.c)}))},Wa=function(e,t){return e.ofType(Ma.d).switchMap((function(e){var n=t.getState(),r=Object(de.f)(n),o=Object(de.A)(n),i=e.payload.optimisticId,s=Object(La.d)(i)(n);return Va(0,r,o,s,Ma.d)}))},Ha=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),Ga=Object(ie.combineEpics)((function(e){return e.ofType(Ha.j,Ha.b).mapTo(M())}),(function(e){return e.ofType(Ha.i,Ha.a).mapTo(L())}),(function(e){return e.ofType(Ha.k,Ha.c).mapTo(A())})),qa=n("./src/packages/growth/xflow/xflow-common/src/state/api/get-api.js"),za=n("./src/packages/issue/issue-view/src/actions/confluence-pages-xflow-actions.js"),Ya=n("./node_modules/react-intl/lib/index.es.js"),Qa=n("./src/packages/issue/issue-view/src/common/xflow/jira_service_desk.svg"),Ja=n.n(Qa),$a=Object(Ya.defineMessages)({"xflow-jsd-contextual-heading":{id:"issue.xflow-jsd-contextual-heading",defaultMessage:"Get a customer portal with Jira Service Desk"},"xflow-jsd-contextual-message":{id:"issue.xflow-jsd-contextual-message",defaultMessage:"Make it easy for anyone, anywhere to get in touch - and help your customers help themselves."},"xflow-jsd-reactivate-cta":{id:"issue.xflow-jsd-reactivate-cta",defaultMessage:"Reactivate Jira Service Desk"},"xflow-jsd-trial-cta":{id:"issue.xflow-jsd-trial-cta",defaultMessage:"Try Jira Service Desk free for 30 days"}}),Za={contextualImage:Ja.a,contextualHeading:$a["xflow-jsd-contextual-heading"],contextualMessage:$a["xflow-jsd-contextual-message"],reactivateCTA:$a["xflow-jsd-reactivate-cta"],trialCTA:$a["xflow-jsd-trial-cta"]};function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tc=Object(ie.combineEpics)((function(e){return e.ofType(Ft.a).mergeMap((function(e){return le.Observable.fromPromise(Object(qa.a)().then((function(t){var n=e.payload.trigger;t.showDialog("issue.".concat(n),"jira-servicedesk",!0,Za)})))})).ignoreElements()}),(function(e){var t=e.ofType(za.a),n=t.switchMap(qa.a);return le.Observable.combineLatest(t,n).do((function(e){var t=Xa(e,2),n=t[0],r=t[1],o=n.payload;(0,r.showDialog)("issue.link-pages-".concat(o),"confluence",!0)})).ignoreElements()})),nc=n("./src/packages/issue/issue-view/src/common/model/linked-issue-type.js"),rc=n("./src/packages/issue/issue-view/src/model/change-type.js"),oc=n("./node_modules/lodash/forEach.js"),ic=n.n(oc),sc=[Gt.c,Cr.f,"ISSUE_RELATIONSHIP_UPDATE_SUCCESS",Gt.b,Gt.a,Gt.e,Lt.i,Lt.f,Fs.a,Fs.d],ac=function(e){return function(t,n){return t.ofType.apply(t,sc).do((function(t){if(e)try{var r=Object(ce.toIssueId)(String(Object(de.A)(n.getState())));switch(t.type){case Cr.f:var o=t.payload,i=o.fieldId,s=o.targetTypeName;e({issueId:r,type:rc.a.ISSUE_TYPE_CHANGED,fieldId:i,meta:{typeName:s}});break;case Gt.e:var a=t.payload,c=a.fieldId,u=a.fieldValue;e({issueId:r,type:rc.a.FIELD_CHANGED,fieldId:c,meta:{fieldId:c,fieldValue:u}});break;case"ISSUE_RELATIONSHIP_UPDATE_SUCCESS":var l=t.payload,f=l.oldParentIdsByIssueIds,d=l.parentIssueId;e({issueId:r,type:rc.a.ISSUE_RELATIONSHIP_UPDATED,meta:{newParentIssueId:d,oldParentIssueId:f[r]||null}});break;case Lt.i:var p=function(e,t){var n=t.payload,r=n.optimisticLinks,o=n.issueLinks,i=[];return ic()(r,(function(e){var t=o.linkedIssues[e.linkedIssueKey];t&&i.push({linkedIssueId:Object(ce.toIssueId)(t.id),direction:e.direction})})),i}(0,t);p.length&&e({issueId:r,type:rc.a.ISSUE_LINKS_CREATED,meta:{links:p}});break;case Lt.f:var y=t.meta,b=y.issueId,g=y.direction;e({issueId:r,type:rc.a.ISSUE_LINK_DELETED,meta:{linkedIssueId:b,direction:Object(nc.d)(g)}});break;case Fs.a:e({issueId:r,type:rc.a.CHILD_ISSUE_ADDED,meta:{childIssue:{id:Object(ce.toIssueId)(t.payload.childIssue.id)}}});break;case Fs.d:e({issueId:r,type:rc.a.ISSUE_CHILDREN_ORDER_CHANGED,meta:t.payload});break;case Gt.b:var v=t.payload,h=v.fieldId,O=v.value;e({issueId:r,type:rc.a.FIELD_CHANGE_REQUESTED,meta:{fieldId:h,fieldValue:O}});break;case Gt.a:var j=t.payload.fieldId;e({issueId:r,type:rc.a.FIELD_CHANGE_FAILED,meta:{fieldId:j}})}}catch(e){m.h.safeError("issue.issue-field.ops.change-notification","Failed to call onChange callback",new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e}))}})).ignoreElements()}},cc=function(e){return{type:"FIELD_LOAD_DRAFT_FAILURE",payload:e}},uc=function(e){return e.ofType(Gt.c).mergeMap((function(e){return function(e){var t=e.payload.fieldId;return le.Observable.of(Object(Wt.j)({fieldId:t}))}(e)})).catch((function(e){return function(e){return Object(xn.a)("issue.delete-draft-request","Could not send request to delete field draft from local storage",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(function(e){return{type:"FIELD_DELETE_DRAFT_FAILURE",payload:e}}(e))}(e)}))};function lc(e){return function(e){if(Array.isArray(e))return fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dc=function(e,t){return e.ofType(Ht.b).mergeMap((function(e){return le.Observable.merge.apply(le.Observable,lc(function(e,t){var n=Object(Kt.G)(t);if(-1!==n.indexOf(e.payload.fieldId)){var r=Object(de.a)(t),o=Object(de.B)(t);return n.map((function(n){var i=Object(Kt.o)(n)(t),s=Object(Hn.c)(r,o,n);return le.Observable.of(Object(Wt.m)(n,s,n!==e.payload.fieldId?null:Ht.l,i))}))}return[]}(e,t.getState())))})).catch((function(e){return function(e){return Object(xn.a)("issue.load-field-draft","Failed to send request to load field draft from local storage ",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(cc(e))}(e)}))};function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yc=function(e){return e.ofType(Ht.f,j.b).groupBy((function(e){return e.payload.fieldId})).mergeMap((function(e){var t=e.filter((function(e){return e.type===j.b})),n=e.filter((function(e){return e.type===Ht.f})),r=t.takeUntil(n).takeLast(1).merge(n.take(1)).pairwise(),o=t.withLatestFrom(n);return le.Observable.merge(r,o).map((function(e){var t=pc(e,2),n=(t[0],t[1].payload),r=n.fieldId,o=n.fieldOptions;return Object(Ht.i)(r,o)}))}))},bc=n("./src/packages/issue/issue-view/src/common/state/selectors/permissions-selector.js");function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oc=function(e,t){var n=e.ofType(j.a),r=e.ofType(Ht.f).filter((function(e){return e.payload.fieldId===Vt.g}));return n.filter((function(){var e=t.getState();return Object($.x)(e)&&Object(bc.d)(e)})).withLatestFrom(r,(function(e,n){var r=n.payload.fieldOptions,o=t.getState(),i=Object($.x)(o);return i?Object(Gt.g)(Vt.g,function(e){return{avatarUrls:{"48x48":e.avatarUrl},displayName:e.displayName,accountId:e.id}}(i),vc(vc({},r),{},{onSaveSuccessFlagType:Ue.d})):null}))},jc=Object(ie.combineEpics)(yc,Oc);function wc(e){return function(e){if(Array.isArray(e))return Ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kc=function(e,t){return e.pipe(xt(C.d),Object(St.mergeMap)((function(e){return le.Observable.merge.apply(le.Observable,wc(function(e,t){var n=Object(de.a)(t),r=Object(de.B)(t);return Object(Kt.G)(t).map((function(e){var o=Object(Kt.h)(e)(t),i=Object(Hn.c)(n,r,e);return le.Observable.of(Object(Wt.m)(e,i,null,o))}))}(0,t.getState())))})),Object(St.catchError)((function(e){return function(e){return Object(xn.a)("issue.load-field-draft","Failed to send request to load field draft from local storage ",e,{}),le.Observable.of(cc(e))}(e)})))},Sc=Object(ie.combineEpics)((function(e){return e.ofType(Ht.d).filter((function(e){return e.payload.fieldOptions.canContainMediaContent})).mapTo(M())}),(function(e){return e.ofType(Gt.a).filter((function(e){return e.payload.fieldOptions.canContainMediaContent})).mapTo(L())}),(function(e){return e.ofType(Gt.c).filter((function(e){return e.payload.fieldOptions.canContainMediaContent})).mapTo(A())})),Ic=function(e,t){return e.ofType(Ht.e).mergeMap((function(e){return function(e,t){var n=e.payload,r=n.fieldId,o=n.fieldOptions,i=n.value;if(!(!!o&&o.shouldSaveDraft))return le.Observable.empty();var s=Object(Kt.n)(r)(t);return le.Observable.of(Object(Wt.p)(r,i,s))}(e,t.getState())})).catch((function(e){return function(e){return Object(xn.a)("issue.save-draft","Could not send request to save field draft to local storage",e,new Fe.a({eventNameSuffix:Ue.E,type:Fe.i,app:Fe.e,event:e})),le.Observable.of(function(e){return{type:"FIELD_SAVE_DRAFT_FAILURE",payload:e}}(e))}(e)}))},Cc=n("./node_modules/lodash/pickBy.js"),Pc=n.n(Cc),_c=n("./src/packages/issue/issue-view/src/actions/approval-action/index.js");function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac=function(e){return e&&e.id},Dc=function(e,t){return Object(xr.c)(e,t).map(C.p)},Rc=function(e,t,n,r,o){var i,s=Object(de.f)(e),a=Object(de.B)(e),c=Object(Kt.l)(t)(e),u=Object(Kt.r)(t)(e),l=Object(Kt.f)(t)(e);switch(u){case Vt.I:i=n.id;break;case Vt.G:i=n.map((function(e){return e.id}));break;default:i=n}return le.Observable.fromPromise(r.saveField(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({baseUrl:s,issueKey:a,fieldId:t,fieldMetaKey:c,value:i,saveFieldData:o},l?{fieldEditSessionId:l}:null),e)).flatMap((function(e){return[Object(Gt.h)(t,r,i,e,{issueKey:a}),Object(Gt.j)(t,i)]}))},Mc=[Bt.z],Lc=Object(ie.combineEpics)((function(e,t){return e.ofType(Ht.d).map((function(e){var n=t.getState(),r=e.payload,o=r.fieldId,i=r.fieldOptions,s=r.saveFieldData,a=r.analyticsEvent,u=r.analyticsAttributeIdRetriever,l=void 0===u?Ac:u,f=Object(Kt.h)(o)(n),d=Object(Kt.n)(o)(n);if(c()(f,d))return Object(Ht.j)(o,i);var p=Pc()({updatedField:o,oldValId:l(d),newValId:l(f)},(function(e){return null!=e}));return Object(Gt.g)(o,f,i,s,a,p)}))}),(function(e,t){return e.ofType(Gt.b).groupBy((function(e){return e.payload.fieldId})).mergeMap((function(e){return e.switchMap((function(e){var n=t.getState(),r=e.payload,o=r.fieldId,i=r.value,s=r.fieldOptions,a=r.saveFieldData;return(s.isOptimistic?Rc(n,o,i,s,a):function(e,t,n,r,o){return Rc(e,t,n,r,o).mergeMap((function(t){return Dc(e).mergeMap((function(e){return le.Observable.of(e,t)}))}))}(n,o,i,s,a)).catch((function(e){var t=function(e){return e instanceof Se.b?e.errors&&e.errors.length>0?e.errors[0].error:e.message:null}(e);return le.Observable.of(Object(Gt.f)(o,t,e,s))}))}))}))}),(function(e,t){return e.ofType(Gt.e).filter((function(e){return Mc.includes(e.payload.fieldId)})).switchMap((function(e){return Dc(t.getState(),function(e){var t=e.payload,n=t.fieldId,r=t.extraParams;if(n===Bt.z)return{shouldRefreshComments:r&&r.viaDialog}}(e))}))}),(function(e,t){return e.ofType(Ue.R,_c.b).switchMap((function(){return Dc(t.getState())}))}));function Nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||Uc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e){return function(e){if(Array.isArray(e))return Vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Uc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uc(e,t){if(e){if("string"==typeof e)return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kc=function(e,t){return e.ofType(Ht.b,Ht.g,Gt.c).groupBy((function(e){return e.payload.fieldId})).map((function(e){var n=e.filter((function(e){return e.type===Ht.b}));return e.window(n).map((function(e){var n=e.filter((function(e){return e.type===Gt.c})),r=e.filter((function(e){return e.type===Ht.g})).takeUntil(n).reduce((function(e,t){return[].concat(Fc(e),[t.payload.pastedContent])}),[]);return n.withLatestFrom(r).mergeMap((function(e){var n=Nc(e,2),r=n[0],o=n[1],i=r.payload,s=i.fieldId,a=i.fieldOptions,c=Object(Kt.o)(s)(t.getState());return 0===o.length?le.Observable.empty():le.Observable.of(Object(Gt.i)(s,a,c,o))}))})).mergeAll()})).mergeAll()};function Bc(e){return function(e){if(Array.isArray(e))return Wc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hc=function(){return Object(ue.a)()?function(){return Object(Z.isPermalinkImprovedEditSuccessEnabled)()?Et:wt}():kt},Gc=function(e,t,n,r,o,i,s){return[xo,Cn,os(o,i,s),Ds(o,i)].concat(Bc(Object(Z.isForgeInReduxStoreEnabled)()?[Pi(s)]:[]),[Go,$n,Da,Ra(),Lc,qs,co,Gr,Ur],Bc(Object(ue.a)()?[qr.d,qr.f]:[]),[qr.e,aa,yi,cr,Bn(de.f,de.B,de.F),yr,Zr,Sc,Ao,bs,ci,mr],Bc(function(){return[qn,Yn,zn,Ic,uc,kc,dc,Br,$r,Xr]}()),[ac(e),Zs,Bo,Er,kr,Ss(r,n),Is,Cs,Yi(n,o,i),$i,jc,qo(t),mo,Kc,Aa,tc,ta,na,Lr,Xs,Ar,ua,ia,go,Co,xs,Hc(),Ga,oi,Qs,Gs,Ms,Ka,Ba,Wa])},qc=function(e,t,n,r,o,i,s){return ie.combineEpics.apply(void 0,Bc(function(e,t,n,r,o,i,s){return Gc(e,t,n,r,o,i,s)}(e,t,n,r,o,i,s)))};function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Qc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jc={server:{}},$c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SAVE_SERVER_TIME":return r.serverTime?Yc(Yc({},e),{},{server:Yc(Yc({},e.server),{},Qc({},r.key,r.serverTime))}):e;default:return e}},Zc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;if(Object(Z.isAttachmentsTokenAutoRefreshEnabled)())switch(n){case P.c:return r;case P.a:return null;default:return e}else switch(n){case P.c:return r;default:return e}},Xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;if(Object(Z.isAttachmentsTokenAutoRefreshEnabled)())switch(n){case x.c:return r;case x.a:return null;default:return e}else switch(n){case x.c:return r;default:return e}};function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ru={clientId:"FETCH_ERROR",serviceHost:"FETCH_ERROR",tokenLifespanInMs:0,token:null,areTokenPermissionsUpToDate:!1,collection:null},ou=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"FETCH_VIEW_CONTEXT_FAILURE":return ru;case"FETCH_VIEW_CONTEXT_SUCCESS":return r;case"MARK_TOKEN_AS_OUTDATED":return tu(tu({},e),{},{areTokenPermissionsUpToDate:!1});case"MARK_TOKEN_AS_UP_TO_DATE":return tu(tu({},e),{},{areTokenPermissionsUpToDate:!0});default:return e}},iu=n("./node_modules/lodash/mapValues.js"),su=n.n(iu),au=n("./src/packages/issue/issue-view/src/common/state/selectors/get-editing-value.js");function cu(e){return function(e){if(Array.isArray(e))return uu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pu={},mu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=fu(fu({},e),{},du({},t,fu(fu({},e[t]),n)));return r.forEach((function(e){delete o[t][e]})),o},yu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.d:return t.payload.issue.fields;case C.h:var n=t.payload.issue.fields;return su()(n,(function(t){return fu(fu({},t),{},{editingValue:e[t.key]&&e[t.key].editingValue,pendingValue:e[t.key]&&e[t.key].pendingValue})}));case"PREVIEW_DATA_FETCHED":var r=Object(ee.a)(t.payload);return Object(Tt.merge)(e,r);case Ht.b:var o=t.payload,i=o.fieldId,s=o.fieldOptions.isRichTextField,a=o.fieldEditSessionId,c=s?Object(au.b)(e[i]):Object(au.a)(e[i]);return mu(e,i,fu({editingValue:c},a?{fieldEditSessionId:a}:null),["invalidMessage","isInvalid"]);case"MULTILINE_FIELD_EDIT_BEGIN":var u=t.payload.multilineFieldIdsToClose;if(null!=u){var l=u.reduce((function(t,n){return fu(fu({},t),{},du({},n,fu(fu({},e[n]),{},{editingValue:void 0})))}),{});return fu(fu({},e),l)}return e;case Ht.e:var f=t.payload,d=f.fieldId,p=f.value;return mu(e,d,{editingValue:p},["invalidMessage","isInvalid"]);case Gt.b:var m=t.payload,y=m.fieldId,b=m.value;return mu(e,y,{pendingValue:b},["editingValue"]);case Ht.c:var g=t.payload.fieldId;return mu(e,g,{},["editingValue","invalidMessage","isInvalid","fieldEditSessionId"]);case Gt.c:var v=t.payload,h=v.fieldId,O=v.fieldOptions;if(!(h in e))return e;var j=e[h].pendingValue,w=mu(e,h,{},["pendingValue","fieldEditSessionId"]);return O.isOptimistic&&(w=O.isRichTextField?mu(w,h,{adfValue:j}):mu(w,h,{value:j})),w;case Gt.a:var E=t.payload,k=E.fieldId,S=E.invalidMessage,I=E.fieldOptions,P=e[k].pendingValue,_=I.shouldDiscardChangeOnFailure?["editingValue"]:[];return mu(e,k,{editingValue:P,isInvalid:!0,invalidMessage:S},["pendingValue","fieldEditSessionId"].concat(_));case Ht.a:var x=t.payload,T=x.allowedValues,A=x.fieldId,D=e[A]&&e[A].allowedValues||[];return mu(e,A,{allowedValues:[].concat(cu(D),cu(T))});case Ha.B:var R=t.payload.timeRemaining;return fu(fu({},e),{},du({},Bt.E,fu(fu({},e[Bt.E]),{},{value:fu(fu({},e[Bt.E].value),{},{remainingEstimateSeconds:R})})));case Ha.c:var M=t.payload.timeTracking;return mu(e,Bt.E,{value:M});case Ha.k:case Ha.g:var L=t.payload.timeTrackingDeltas,N=L.timeSpentSecondsDelta,F=L.newRemainingEstimateSeconds,U=e[Bt.E].value,V=fu(fu({},U),{},{timeSpentSeconds:(U.timeSpentSeconds||0)+N});return null!==F&&(V.remainingEstimateSeconds=F),mu(e,Bt.E,{value:V});case _c.a:var K=t.payload,B=K.linkedUserPickerFieldId,W=K.newApproverList;return B&&e[B]?mu(e,B,{value:W}):e;default:return e}},bu=n("./src/packages/issue/issue-view/src/actions/activity-feed-actions.js");function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ou={selectedActivityItem:null},ju=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bu.a:return vu(vu({},e),{},{selectedActivityItem:t.payload});default:return e}};function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Su={epic:void 0},Iu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.d:return Eu({},t.payload.issue.agile);default:return e}};function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){_u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xu={isOpen:!1},Tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case er.g:return Pu(Pu({},e),{},{isOpen:!0});case er.c:return Pu(Pu({},e),{},{isOpen:!1});default:return e}};function Au(e){return function(e){if(Array.isArray(e))return Du(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Du(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){Lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nu={pendingDeleteAttachmentIds:[]},Fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ur.e:return Mu(Mu({},e),{},{deleteModalAttachmentId:r.attachmentId});case ur.a:var o=Mu({},e);return delete o.deleteModalAttachmentId,o;case ur.c:var i=e.pendingDeleteAttachmentIds,s=Mu(Mu({},e),{},{pendingDeleteAttachmentIds:i.includes(r.attachmentId)?i:[].concat(Au(i),[r.attachmentId])});return delete s.deleteModalAttachmentId,s;case ur.d:case ur.b:var a=e.pendingDeleteAttachmentIds;return Mu(Mu({},e),{},{pendingDeleteAttachmentIds:a.filter((function(e){return e!==r.attachmentId}))});default:return e}},Uu=n("./src/packages/issue/issue-view/src/actions/attachment-modal-actions.js"),Vu={isOpen:!1},Ku=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case Uu.b:return{isOpen:!0};case Uu.a:return{isOpen:!1};default:return e}},Bu=n("./src/packages/issue/issue-view/src/actions/attachment-panel-actions.js"),Wu=n("./src/packages/issue/issue-view/src/actions/attachment-popup-actions.js");function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zu={openRequestCount:0,isPopupOpen:!1,attachments:{},placeholderAttachmentCount:0},Yu=function(e,t){var n=[t.id,t.mediaApiFileId],r=Object.keys(e.attachments).filter((function(e){return!n.includes(e)})).reduce((function(t,n){return Gu(Gu({},t),{},qu({},n,e.attachments[n]))}),{});return Gu(Gu({},e),{},{attachments:r})},Qu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lr.f:return Gu(Gu({},e),{},{openRequestCount:e.openRequestCount+1});case lr.c:var n=t.payload;return Gu(Gu({},e),{},{attachments:Gu(Gu({},e.attachments),{},qu({},n.id,n))});case lr.d:return e;case lr.e:var r=t.payload.fileId;if(null==r)return e;var o=Object.keys(e.attachments).filter((function(e){return e!==r})).reduce((function(t,n){return Gu(Gu({},t),{},{attachments:Gu(Gu({},t.attachments),{},qu({},n,e.attachments[n]))})}),{});return Gu(Gu({},e),{},{attachments:o});case lr.b:return Yu(e,t.payload);case lr.a:return Yu(e,t.payload.attachment);case Wu.b:return Gu(Gu({},e),{},{isPopupOpen:!0});case Wu.a:return Gu(Gu({},e),{},{isPopupOpen:!1});case Bu.a:return Gu(Gu({},e),{},{placeholderAttachmentCount:t.payload});case Bu.b:case Bu.c:return Gu(Gu({},e),{},{placeholderAttachmentCount:0});default:return e}},Ju=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt.b:return t.payload;case Rt.a:return null;default:return e}},$u=n("./src/packages/platform/services/issue/src/model/issue.js");function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){el(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tl={isBannerVisible:!1,isBannerDismissed:!1,isTourActive:!1},nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_DATA_FETCHED":case C.d:var n=t.payload.myPreferences&&t.payload.myPreferences[$u.a];return void 0!==n?Xu(Xu({},e),{},{isBannerVisible:null===n}):e;case Dr.a:return Xu(Xu({},e),{},{isBannerVisible:!1,isBannerDismissed:!0});case Dr.c:return Xu(Xu({},e),{},{isBannerVisible:!1,isTourActive:!0});case Dr.d:return Xu(Xu({},e),{},{isTourActive:!1});default:return e}};function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sl={subtaskQuickAddClickCount:0,issueInEpicQuickAddClickCount:0,childIssueQuickAddClickCount:0},al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fs.g:return ol(ol({},e),{},{subtaskQuickAddClickCount:e.subtaskQuickAddClickCount+1});case Fs.e:return ol(ol({},e),{},{issueInEpicQuickAddClickCount:e.issueInEpicQuickAddClickCount+1});case Fs.c:return ol(ol({},e),{},{childIssueQuickAddClickCount:e.childIssueQuickAddClickCount+1});default:return e}};function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fl={isBannerVisible:!1},dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_DATA_FETCHED":case C.d:var n=t.payload.myPreferences&&t.payload.myPreferences[$u.b];return void 0!==n?ul(ul({},e),{},{isBannerVisible:null===n}):e;case Nr.a:return ul(ul({},e),{},{isBannerVisible:!1});default:return e}},pl=n("./src/packages/common-legacy-do-not-add-anything-new/src/icepick/unset-in.js");function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hl=Object(Tt.freeze)({pendingSavedValues:{},pendingDeletedIds:[],deleteModalCommentId:null,isLoadingMoreComments:!1,commentEditors:{},isCommentAttachmentInProgress:!1,hasScrolledPermalinkComment:!1,loadingStage:eo.f}),Ol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments.length>1?arguments[1]:void 0,n=function(t){return!!Object(Tt.getIn)(e,["commentEditors",t])},r=function(t){return Object(Tt.updateIn)(e,["pendingDeletedIds"],(function(e){return e.filter((function(e){return e!==t}))}))};switch(t.type){case Mt.y:var o=t.payload.comment,i=o.isNewComment,s=o.id,a=o.createdDate,c=o.authorId,u=o.bodyHtml,l=o.bodyAdf,f=o.visibility,d=e;if(i){var p=e.commentEditors[zt.a];if(void 0!==p){var m=Object(pl.a)(e,["commentEditors",zt.a]);d=Object(Tt.setIn)(m,["commentEditors",s],p)}}var y=Xn()(d,["commentEditors",s,"isInternal"],!0),b={id:s,createdDate:a,authorId:c,bodyHtml:u,bodyAdf:l,isInternal:y,visibility:f};return Object(ue.a)()?Object(Tt.chain)(d).setIn(["pendingSavedValues",s],b).setIn(["commentEditors",s,"isEditing"],!1).setIn(["loadingStage"],eo.f).value():(d=Object(Tt.setIn)(d,["pendingSavedValues",s],b),Object(Tt.setIn)(d,["commentEditors",s,"isEditing"],!1));case Mt.q:case Mt.t:case Mt.s:return Object(Tt.set)(e,"isLoadingMoreComments",!0);case Mt.r:case Mt.p:return Object(Tt.set)(e,"isLoadingMoreComments",!1);case Mt.z:var g=t.payload,v=Object(pl.a)(e,["pendingSavedValues",g.optimisticId,"hasSaveFailed"]);return n(g.optimisticId)?v:Object(Tt.setIn)(v,["pendingSavedValues",g.optimisticId,"createdDate"],g.createdDate);case Mt.w:return Object(Tt.setIn)(e,["commentEditors",t.payload.optimisticId,"isEditing"],!0);case Mt.A:case Mt.v:return Object(pl.a)(Object(pl.a)(e,["commentEditors",t.payload.optimisticId]),["pendingSavedValues",t.payload.optimisticId]);case Mt.o:case C.d:return Object(Tt.set)(e,"loadingStage",eo.e);case Mt.x:return Object(Tt.setIn)(e,["pendingSavedValues",t.payload.optimisticId,"hasSaveFailed"],!0);case Mt.g:var h=t.payload;return Object(Tt.chain)(e).updateIn(["pendingDeletedIds"],(function(e){return[].concat(gl(e),[h.id])})).set("deleteModalCommentId",null).value();case Mt.h:return r(t.payload.id);case Mt.f:return r(t.payload);case Mt.E:return Object(Tt.set)(e,"deleteModalCommentId",t.payload);case Mt.e:return Object(Tt.set)(e,"deleteModalCommentId",null);case Mt.i:return Object(Tt.setIn)(e,["commentEditors",t.payload.id],{isEditing:!0,isInternal:t.payload.isInternal});case Mt.l:return Object(Tt.setIn)(e,["commentEditors",t.payload.id],{isEditing:!0,isInternal:Object(Tt.getIn)(e,["commentEditors",t.payload.id,"isInternal"]),editingValue:t.payload.value,visibility:Object(Tt.getIn)(e,["commentEditors",t.payload.id,"visibility"])});case Mt.m:return Object(Tt.setIn)(e,["commentEditors",t.payload.id,"visibility"],t.payload.visibility);case Mt.k:case Mt.j:return Object(pl.a)(e,["commentEditors",t.payload.id]);case Mt.a:case Mt.b:var O=Object(Tt.unset)(e,"addCommentEditorExpand");return Object(pl.a)(O,["commentEditors",zt.a]);case Mt.c:return Object(Tt.set)(e,"addCommentEditorExpand",!0);case Mt.d:var j=t.payload,w=j.id,E=j.isInternal;return Object(Tt.setIn)(e,["commentEditors",w,"isInternal"],E);case Mt.C:return Object(Tt.set)(e,"isCommentAttachmentInProgress",t.payload.isInProgress);case Mt.D:return Object(Tt.set)(e,"hasScrolledPermalinkComment",t.payload.status);case"MULTILINE_FIELD_EDIT_BEGIN":var k=t.payload,S=k.commentIdsToClose,I=k.shouldCloseAddCommentForm;if(null!=S){var P=I?S.concat(zt.a):S,_=P.reduce((function(t,n){return yl(yl({},t),{},bl({},n,yl(yl({},e.commentEditors[n]),{},{editingValue:void 0,visibility:void 0,isEditing:!1})))}),{});return yl(yl({},e),{},{commentEditors:yl(yl({},e.commentEditors),_),addCommentEditorExpand:!I&&e.addCommentEditorExpand})}return e;default:return e}},jl=n("./src/packages/issue/issue-view/src/actions/context-items-actions.js");function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(n),!0).forEach((function(t){kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sl={isShowMoreExpanded:!1},Il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case jl.b:return El(El({},e),{},{isShowMoreExpanded:!0});case jl.a:return El(El({},e),{},{isShowMoreExpanded:!1});default:return e}},Cl=n("./src/packages/issue/issue-view/src/actions/context-item-actions.js");function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tl={isContextPanelOpen:!1,contextPanelItem:void 0},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cl.b:return _l(_l({},e),{},{isContextPanelOpen:!0,contextPanelItem:t.payload});case Cl.a:return _l(_l({},e),{},{isContextPanelOpen:!1});default:return e}},Dl=n("./src/packages/platform/utils/constants/src/supported-locales.js");function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nl={applicationKey:"",issueActions:[],contextItemCategories:{primary:[],secondary:[]},contentItemCategories:{visible:[],request:void 0},atlassianAccountId:null,baseUrl:Object(ce.toBaseUrl)(""),isAnonymous:!1,issueKey:Object(ce.toIssueKey)(""),isModal:!1,cloudId:null,locale:Dl.b,maxTokenLength:0,ecosystemEnabled:null,isLoadedWithPage:null,rapidViewMap:null,estimationStatistic:null,licensedProducts:{},appEditions:{software:ce.UNLICENSED,core:ce.UNLICENSED,serviceDesk:ce.UNLICENSED},appPermissions:{hasCoreAccess:!1,hasSoftwareAccess:!1,hasServiceDeskAccess:!1},licenseStates:{core:ce.LICENSE_STATE_UNLICENSED,software:ce.LICENSE_STATE_UNLICENSED,serviceDesk:ce.LICENSE_STATE_UNLICENSED},siteAdminStatus:"unknown",productCrossSellConfig:"unknown",isLoading:!1,viewMode:null,firstActivationDateMs:null},Fl=function(e){return{id:e.itemId,type:e.type}},Ul=function(e){var t=e.state,n=e.projectConfig,r=e.issueId,o=e.contextPrimary,i=e.contextSecondary,s=e.contentVisible,a=e.contentRequest,c=Object(Bt.L)(n);return Ml(Ml({},t),{},{issueId:r,applicationKey:c.applicationKey,issueActions:c.issueActions,ecosystemEnabled:c.ecosystemEnabled,contentItemCategories:{visible:s,request:a},contextItemCategories:{primary:o,secondary:i}})},Vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTEXT":var n=t.payload;return Ml(Ml({},e),n);case w.a:return Ml(Ml({},e),{},{issueKey:t.payload.issueKey});case Nt.b:return Ml(Ml({},e),{},{atlassianAccountId:t.payload.accountId});case"PREVIEW_DATA_FETCHED":var r=t.payload;if(r&&r.id&&r.fields.has("project")){var o=r.layout,i=o.contextPrimary,s=o.contextSecondary,a=o.content,c=o.contentRequest,u=r.id,l=r.fields.get("project").value,f=a?a.map(Fl):[],d=c&&c.map(Fl);return Ul({state:e,projectConfig:l,issueId:u,contextPrimary:i.map(Fl),contextSecondary:s.map(Fl),contentVisible:f,contentRequest:d})}return e;case C.h:case C.d:var p=t.payload.project,m=t.payload.issue.id,y=t.payload.licensedProducts,b=t.payload.licenseStates,g=e.contentItemCategories.visible,v=e.contentItemCategories.request,h=e.contextItemCategories.primary,O=e.contextItemCategories.secondary;if(t.payload.issue.contextItemsCategories){var j=t.payload.issue.contextItemsCategories,E=j.primary,k=j.secondary;h=E||[],O=k||[]}t.payload.issue.contentItemsCategories&&(g=t.payload.issue.contentItemsCategories.visible||[],v=t.payload.issue.contentItemsCategories.request);var S=Ul({state:e,projectConfig:p,issueId:m,contextPrimary:h,contextSecondary:O,contentVisible:g,contentRequest:v});return Ml(Ml({},S),{},{licensedProducts:y,licenseStates:b});default:return e}};function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){Wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl={},Gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.g:case Wt.h:return Bl(Bl({},e),{},Wl({},t.payload.fieldId,!0));case Wt.d:return Bl(Bl({},e),{},Wl({},t.payload.fieldId,!1));default:return e}},ql=n("./src/packages/issue/issue-view/src/actions/ecosystem-glance-actions.js"),zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ql.b:return t.payload;case ql.a:return null;default:return e}},Yl=n("./node_modules/lodash/omit.js"),Ql=n.n(Yl),Jl=n("./src/packages/platform/services/issue/src/model/index.js"),$l=n("./src/packages/issue/issue-view/src/common/service/issue/attachment-transformer.js"),Zl=n("./src/packages/issue/issue-view/src/common/service/issue/child-issue-transformer.js"),Xl=n("./src/packages/issue/issue-view/src/common/service/issue/subtasks-transformer.js");function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){nf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rf={isEnabled:!1,attachmentId:null,availableAttachmentIds:[]};function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){af(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cf={},uf=[],lf=n("./node_modules/lodash/filter.js"),ff=n.n(lf),df=n("./node_modules/lodash/pick.js"),pf=n.n(df);function mf(e){return function(e){if(Array.isArray(e))return yf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){vf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hf={isLinkingEnabled:!0,createLinkedPage:{clickedCount:0,isLoading:!1,isInvalid:!1,errorMessage:""},linkedPages:{pages:[],pageCount:0},mentionedPages:{pages:[],pageCount:0}},Of=["linkedPages","mentionedPages"],jf=function(e,t){return Of.reduce((function(e,n){var r=e[n].pages,o=ff()(r,(function(e){return(e.link?e.link.globalId:e.globalId)!==t}));return gf(gf({},e),{},vf({},n,{pageCount:o.length,pages:o}))}),pf()(e,Of))};function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach((function(t){kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sf={activityPanels:{},canInstallAddons:!1,contentPanels:{},backgroundScripts:[],ecosystemOnDate:0,glances:{},operations:[]},If=n("./src/packages/issue/issue-view/src/reducers/entities/forge-reducer.js"),Cf=n("./src/packages/issue/issue-view/src/actions/link-incident-actions.js");function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){xf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tf={createLinkedIncident:{clickedCount:0},createMajorIncident:{clickedCount:0}};function Af(e){return function(e){if(Array.isArray(e))return Df(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Df(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rf=[],Mf=n("./src/packages/issue/issue-view/src/common/service/issue/issue-links-transformer.js");function Lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(n),!0).forEach((function(t){Ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uf={issueLinks:{},linkedIssues:{},linkedIssueKeys:[]};function Vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vf(Object(n),!0).forEach((function(t){Bf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wf={isLoadingComplete:!1},Hf=[];function Gf(e){return function(e){if(Array.isArray(e))return qf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jf={isLinkingEnabled:!0,linkCount:0,links:[],createClickCount:0};function $f(e){return function(e){if(Array.isArray(e))return Zf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(n),!0).forEach((function(t){td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nd={sortedWorklogIds:[],worklogs:{},totalWorklogs:0},rd={sortedWorklogIds:[],worklogs:{},totalWorklogs:0,worklogsStartIndex:0};function od(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cd=Object(Tt.freeze)({users:{},applicationRoles:[],ecosystem:Sf,forge:If.b,issueLinks:Uf,issueTypes:[],issueContentPanels:Rf,issueRemoteData:Wf,permissions:Ue.Y,comments:cf,totalComments:0,commentsStartIndex:0,loadedComments:0,confluencePages:hf,webLinks:Jf,subtasks:[],subtasksConfiguration:{enabled:!0},cardCover:rf,timeTrackingConfiguration:{isTimeTrackingEnabled:!1,daysPerWeek:0,hoursPerDay:0,defaultUnit:"minute"},childrenIssues:{},parentIssue:null,parentLevelIssues:[],refreshedOn:0,requestPanelMetadata:{channel:void 0,requestUrl:""},worklog:rd,confluenceAppLinks:uf,incidentManagement:Tf,issue:null}),ud=function(e,t){var n=function(e){if(e)return e;var t={};return Object(Z.isBentoEnhancedPreviewEnabled)()&&Object.assign(t,{childrenIssues:[]}),Object.assign(t,{issueTypes:Hf}),sd(sd({},cd),t)}(e),r=Object(Tt.chain)(n).set("cardCover",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gr.a:return t.payload.cardCover;case gr.c:case gr.b:return tf(tf({},e),{},{attachmentId:t.payload.attachmentId});default:return e}}(n.cardCover,t)).set("comments",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt.A:var n=t.payload.comment;return sf(sf({},e),{},af({},n.id,n));case Mt.h:var r=sf({},e);return delete r[t.payload.id],r;default:return e}}(n.comments,t)).set("confluencePages",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":var n=t.payload.remoteLinks,r=pf()(n.confluencePages,Of),o=gf(gf({},e),r);return gf(gf({},o),{},{isLinkingEnabled:!!n.isLinkingEnabled});case"PREVIEW_DATA_FETCHED":var i=t.payload.remoteLinks;if(i&&i.confluencePages){var s=i.confluencePages,a=s.linkedPages,c=s.mentionedPages;return gf(gf({},e),{},{linkedPages:gf(gf({},e.linkedPages),{},{pageCount:a.pageCount}),mentionedPages:gf(gf({},e.mentionedPages),{},{pageCount:c.pageCount})})}return e;case vo.f:var u=t.payload.globalId,l=jf(e,u);return gf(gf({},e),l);case vo.c:return gf(gf({},e),{},{createLinkedPage:gf(gf({},e.createLinkedPage),{},{isLoading:!0})});case vo.a:var f=t.payload.errorMessage;return gf(gf({},e),{},{createLinkedPage:gf(gf({},e.createLinkedPage),{},{errorMessage:f,isLoading:!1,isInvalid:!0})});case vo.b:return gf(gf({},e),{},{createLinkedPage:gf(gf({},e.createLinkedPage),{},{errorMessage:"",isInvalid:!1})});case vo.h:return gf(gf({},e),{},{createLinkedPage:hf.createLinkedPage});case vo.d:var d=e.linkedPages.pages||[];return gf(gf({},e),{},{linkedPages:gf(gf({},e.linkedPages),{},{pages:[].concat(mf(d),[t.payload.confluencePageLink]),pageCount:e.linkedPages.pageCount+1}),createLinkedPage:gf(gf({},e.createLinkedPage),{},{isLoading:!1,isInvalid:!1,errorMessage:""})});case vo.g:return gf(gf({},e),{},{createLinkedPage:gf(gf({},e.createLinkedPage),{},{clickedCount:e.createLinkedPage.clickedCount+1})});default:return e}}(n.confluencePages,t)).set("issueLinks",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_DATA_FETCHED":var n=t.payload.fields,r=n.get(Jl.P);if(r){var o=r.value;return Object(Mf.b)(Object(ce.toBaseUrl)(""),Object(Mf.a)(o))}return e;case Lt.k:return Object(Tt.merge)(e,{linkedIssues:t.payload});case Lt.i:var i=t.payload,s=i.linkedIssues,a=i.issueLinks,c=i.optimisticIds,u=Object(pl.a)(e,["issueLinks",c]);return Object(Tt.chain)(u).merge({linkedIssues:s}).merge(a).value();case Lt.n:var l=t.payload.newIssueLinks;return Object(Tt.chain)(e).merge(l.issueLinks).setIn(["issueLinks",l.optimisticId,"isOptimistic"],!0).setIn(["issueLinks",l.optimisticId,"isLoading"],!0).setIn(["issueLinks",l.optimisticId,"hasError"],!1).setIn(["issueLinks",l.optimisticId,"isSaved"],!1).value();case Lt.m:return Object(Tt.chain)(e).setIn(["issueLinks",t.payload.optimisticId,"isLoading"],!1).setIn(["issueLinks",t.payload.optimisticId,"hasError"],!0).value();case Lt.p:return Object(Tt.setIn)(e,["issueLinks",t.payload,"isSaved"],!0);case Lt.h:var f=e;return t.payload.optimisticIds.forEach((function(e){f=Object(Tt.setIn)(f,["issueLinks",e,"isLoading"],!1)})),f;case Lt.o:return Object(Tt.chain)(e).setIn(["issueLinks",t.payload,"isLoading"],!0).setIn(["issueLinks",t.payload,"hasError"],!1).value();case Lt.e:var d=Object(Tt.setIn)(e,["issueLinks",t.payload.linkedIssueId,"isDeleted"],!0);return Object(pl.a)(d,["deleteModalLinkId"]);case Lt.d:return Object(Tt.setIn)(e,["issueLinks",t.payload,"isDeleted"],!1);case Lt.f:case Lt.l:return Object(pl.a)(e,["issueLinks",t.payload]);case Lt.a:return Object(Tt.setIn)(e,["quickAddClicked"],((e||{}).quickAddClicked||0)+1);case Lt.b:return Object(Tt.setIn)(e,["quickAddClicked"],0);case Lt.q:return Object(Tt.setIn)(e,["canCreateLinkedIssue"],t.payload.canCreateLinkedIssue);case C.h:if(t.payload.issueLinks){var p=t.payload.issueLinks;return Object(Tt.setIn)(p,["canCreateLinkedIssue"],e.canCreateLinkedIssue)}return e;case Lt.c:var m=t.payload.newIssueLinks;return ic()(m.issueLinks,(function(e,t){m.issueLinks[t]=Nf(Nf({},e),{},{isOptimistic:!1,isLoading:!0,hasError:!1,isSaved:!0})})),Object(Tt.merge)(e,m);default:return e}}(n.issueLinks,t)).set("ecosystem",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Do.e:return Ef(Ef({},e),{},{selectedContentPanel:t.payload});case Do.f:return Ef(Ef({},e),{},{selectedContentPanel:void 0});case C.f:return Ef({},t.payload);case C.d:return Ef({},t.payload.ecosystem);default:return e}}(n.ecosystem,t)).set("forge",Object(If.a)(n.forge,t)).set("confluenceAppLinks",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yo.b:return t.payload;default:return e}}(n.confluenceAppLinks,t)).set("issueContentPanels",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.d:case C.h:return t.payload.issueContentPanels||e;case Do.b:return[].concat(Af(e),[t.payload]);case Do.h:var n=t.payload;return e.filter((function(e){return e!==n}));case Do.d:return e.includes(Mo.a)?e:[].concat(Af(e),[Mo.a]);default:return e}}(n.issueContentPanels,t)).set("issueTypes",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.d:return t.payload.issueTypes||e||Hf;case Us.c:return t.payload.map((function(e){return{id:e.id,name:e.name,subtask:e.subtask,iconUrl:e.iconUrl,fields:e.fields}}));default:return t.type,e}}(n.issueTypes,t)).set("webLinks",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":var n=t.payload.remoteLinks,r=void 0===n?{}:n,o=r.webLinks,i=o||{},s=i.linkCount,a=void 0===s?0:s,c=i.links,u=void 0===c?[]:c;return Yf(Yf({},e),{},{isLinkingEnabled:!!r.isLinkingEnabled,linkCount:a,links:u});case Ma.k:return Yf(Yf({},e),{},{createClickCount:e.createClickCount+1});case Ma.j:return Yf(Yf({},e),{},{createClickCount:Jf.createClickCount});case Ma.h:var l=t.payload.id,f=e.links.map((function(e){return e.id===l?Yf(Yf({},e),{},{isDeleting:!0,deleteFailed:!1}):e}));return Yf(Yf({},e),{},{links:f});case Ma.f:case Ma.i:var d=t.payload.id;if(d&&e.links){var p=e.links.filter((function(e){return e.id!==d})),m=p.length;return Yf(Yf({},e),{},{linkCount:m,links:p})}return e;case Ma.g:var y=t.payload.id,b=e.links.map((function(e){return e.id===y?Yf(Yf({},e),{},{isDeleting:!1,deleteFailed:!0}):e}));return Yf(Yf({},e),{},{links:b});case Ma.a:var g=t.payload.id,v=e.links.map((function(e){return e.id!==g?e:{id:e.id,href:e.href,linkText:e.linkText,iconUrl:e.iconUrl}}));return Yf(Yf({},e),{},{links:v});case Ma.c:var h=t.payload,O=h.optimisticId,j=h.href,w=h.linkText,E=h.iconUrl;return Yf(Yf({},e),{},{linkCount:e.linkCount+1,links:[].concat(Gf(e.links),[{id:O,href:j,linkText:w,iconUrl:E,isCreating:!0,createFailed:!1}])});case Ma.e:var k=t.payload,S=k.optimisticId,I=k.webLink,C=e.links.map((function(e){return e.id===S?I:e}));return Yf(Yf({},e),{},{links:C});case Ma.b:var P=t.payload.optimisticId,_=e.links.map((function(e){return e.id===P?Yf(Yf({},e),{},{isCreating:!1,createFailed:!0}):e}));return Yf(Yf({},e),{},{links:_});case Ma.d:var x=t.payload.optimisticId,T=e.links.map((function(e){return e.id===x?Yf(Yf({},e),{},{isCreating:!0,createFailed:!1}):e}));return Yf(Yf({},e),{},{links:T});default:return e}}(n.webLinks,t)).set("incidentManagement",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cf.c:return _f(_f({},e),{},{createLinkedIncident:_f(_f({},e.createLinkedIncident),{},{clickedCount:e.createLinkedIncident.clickedCount+1})});case Cf.a:return _f(_f({},e),{},{createMajorIncident:_f(_f({},e.createMajorIncident),{},{clickedCount:e.createMajorIncident.clickedCount+1})});default:return e}}(n.incidentManagement,t)).value();return Object(ue.a)()?(r=Object(Tt.set)(r,"worklog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.c:if(Object(ue.a)())return e;var n=t.payload,r=n.sortedWorklogIds,o=n.worklogs,i=e.worklogsStartIndex,s=e.totalWorklogs;return{sortedWorklogIds:r,worklogs:o,worklogsStartIndex:i,totalWorklogs:s+1};case Ha.r:var a=t.payload,c=a.sortedWorklogIds,u=a.worklogs,l=a.startIndex,f=a.totalWorklogs;return ed(ed({},e),{},{sortedWorklogIds:c,worklogs:u,worklogsStartIndex:l,totalWorklogs:f});case Ha.q:return ed({},rd);case Ha.k:if(Object(Z.isPermalinkImprovedEditSuccessEnabled)()){var d=t.payload.worklogs;return ed(ed({},e),{},{worklogs:d})}var p=t.payload,m=p.sortedWorklogIds,y=p.worklogs;return ed(ed({},e),{},{sortedWorklogIds:m,worklogs:y});case Ha.w:var b=t.payload,g=b.sortedWorklogIds,v=b.worklogs,h=b.totalWorklogs,O=e.worklogsStartIndex,j=g.slice().reverse().concat(e.sortedWorklogIds),w=ed(ed({},e.worklogs),v);return void 0!==h?{sortedWorklogIds:j,worklogs:w,totalWorklogs:h,worklogsStartIndex:O}:ed(ed({},e),{},{sortedWorklogIds:g,worklogs:v});case Ha.o:var E=t.payload,k=E.worklogs,S=E.sortedWorklogIds,I=E.totalWorklogs;return ed(ed({},e),{},{worklogs:ed(ed({},e.worklogs),k),sortedWorklogIds:[].concat($f(S),$f(e.sortedWorklogIds)),totalWorklogs:I});case Ha.m:var P=t.payload,_=P.worklogs,x=P.sortedWorklogIds,T=P.totalWorklogs,A=e.worklogsStartIndex||0;return ed(ed({},e),{},{worklogs:ed(ed({},e.worklogs),_),sortedWorklogIds:[].concat($f(e.sortedWorklogIds),$f(x)),totalWorklogs:T,worklogsStartIndex:A-x.length});case C.d:var D=t.payload,R=D.sortedWorklogIds,M=D.worklogs,L=D.totalWorklogs,N=D.worklogsStartIndex;return{sortedWorklogIds:R,worklogs:M,totalWorklogs:L,worklogsStartIndex:N};case Ha.g:var F=t.payload.worklogId,U=e.totalWorklogs,V=e.worklogsStartIndex,K=e.sortedWorklogIds.filter((function(e){return e!==F})),B=Ql()(e.worklogs,F);return{sortedWorklogIds:K,worklogs:B,totalWorklogs:U-1,worklogsStartIndex:V};default:return e}}(n.worklog,t)),r=Object(Tt.set)(r,"issueRemoteData",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":case"FETCH_ISSUE_REMOTE_DATA_FAILURE":return Kf(Kf({},e),{},{isLoadingComplete:!0});default:return e}}(n.issueRemoteData,t))):r=Object(Tt.set)(r,"worklog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.c:case Ha.w:case Ha.k:var n=t.payload,r=n.sortedWorklogIds,o=n.worklogs;return ed(ed({},e),{},{sortedWorklogIds:r,worklogs:o});case Ha.g:var i=t.payload.worklogId,s=e.sortedWorklogIds.filter((function(e){return e!==i})),a=Ql()(e.worklogs,i);return ed(ed({},e),{},{sortedWorklogIds:s,worklogs:a});default:return e}}(n.worklog,t)),function(e,t){var n=t.type,r=t.payload;switch(n){case C.d:var o=Ql()(r,["issueContentPanels","issueTypes"]),i=Object(Tt.merge)(e,o);return Ql()(i,[["issue","fields"],["issue","contextItemsCategories"],["issue","contentItemsCategories"],"changeboardingLastInteracted","clickthroughBannerLastInteracted","licensedProducts","licenseStates"]);case"FETCH_SCREENID_SUCCESS":case Mt.r:return Object(Tt.merge)(e,r);case Mt.o:var s=r.comments,a=r.commentsStartIndex,c=r.loadedComments,u=r.totalComments,l=r.users;return Object(Tt.chain)(e).setIn(["comments"],s).setIn(["users"],l).setIn(["commentsStartIndex"],a).setIn(["loadedComments"],c).setIn(["totalComments"],u).value();case"PREVIEW_DATA_FETCHED":var f=r.fields,d=e,p=f&&f.get("project");p&&p.value&&(d=Object(Tt.set)(d,"project",p.value));var m=f?f.get(Jl.g):null;if(m&&m.value&&m.value.length>0){var y=Object(Zl.a)(m.value.map(ee.b),Object(ce.toBaseUrl)(""));d=Object(Tt.set)(d,"childrenIssues",y)}var b=f?f.get(Jl.S):null;if(b&&b.value&&b.value.length>0){var g=Object(Zl.a)(b.value.map(ee.b),Object(ce.toBaseUrl)(""));d=Object(Tt.set)(d,"childrenIssues",g)}var v=f?f.get(Jl.cb):null;if(v&&v.value&&v.value.length>0){var h=Object(Xl.a)(v.value.map(ee.b),Object(ce.toBaseUrl)(""));d=Object(Tt.set)(d,"subtasks",h)}var O=f?f.get(Jl.c):null;if(O&&O.value&&O.value.length>0){var j=Object($l.a)(O.value.map((function(e){return sd(sd({},e),{},{isVisibleInAttachmentsPanel:!0})})));d=Object(Tt.set)(d,"attachments",j)}return d;case C.h:var w=Object.keys(r).reduce((function(t,n){return"users"===n?Object(Tt.set)(t,"users",Object(Tt.merge)(e.users,r.users)):"issueTypes"===n||"issueLinks"===n||"issueContentPanels"===n?t:Object(Tt.set)(t,n,r[n])}),e);return Object(Tt.setIn)(w,["refreshedOn"],Date.now());case"FETCH_LOGGED_IN_USER_SUCCESS":var E=r.user,k=r.applicationRoles,S=E.id,I=sd({},e.users);return S&&(I[E.id]=E),sd(sd({},e),{},{users:I,applicationRoles:k});case Mt.A:return r.isNewComment?Object(Tt.chain)(e).setIn(["loadedComments"],e.loadedComments+1).setIn(["totalComments"],e.totalComments+1).value():e;case Mt.h:return Object(Tt.chain)(e).setIn(["loadedComments"],e.loadedComments-1).setIn(["totalComments"],e.totalComments-1).value();case ra.b:var P=Object(pl.a)(e,["requestPanelMetadata"]);return Object(Tt.setIn)(P,["requestPanelMetadata"],r);case lr.b:return Object(Tt.setIn)(e,["attachments",r.id],r);case ur.d:return Object(pl.a)(e,["attachments",r.attachmentId]);case Cr.b:return Object(Tt.setIn)(e,["project","issueTypes"],r);case er.b:return Object(Tt.setIn)(e,["parentLevelIssues"],r);case er.f:var _=t.payload.parentIssue,x=_.issueType,T=od(_,["issueType"]),A=x||{},D=A.name,R=A.iconUrl,M=sd(sd({},T),{},{issueTypeName:D||"",issueTypeIconUrl:R||""});return Object(Tt.setIn)(e,["parentIssue"],M);case er.i:return Object(Tt.setIn)(e,["parentIssue"],null);case Fs.a:var L=t.payload.childIssue;L.isLoading=void 0;var N=JSON.parse(JSON.stringify(e.childrenIssues));return N.push(L),Object(Tt.setIn)(e,["childrenIssues"],N);case Fs.f:var F=t.payload.subtask,U=JSON.parse(JSON.stringify(e.subtasks));return U.push(F),Object(Tt.setIn)(e,["subtasks"],U);default:return e}}(r,t)},ld=function(e){var t=e.traceId,n=e.errorMessage,r=e.endpoint,o=e.statusCode,i={};return null!==t&&(i.traceId=t),null!==n&&(i.errorMessage=n),null!==r&&(i.endpoint=r),null!==o&&(i.statusCode=o),i},fd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b:return ld(t.payload);default:return e}},dd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b:case E.a:return t.payload.error;case Nt.b:return null;default:return e}},pd=n("./src/packages/issue/issue-view/src/reducers/fetch-issue-types-status-reducer.js"),md=n("./src/packages/issue/issue-view/src/actions/editor-actions.js"),yd=n("./src/packages/issue/issue-view/src/actions/flag-actions.js"),bd=n("./src/packages/issue/issue-view/src/watchers/model/flag-action-types.js");function gd(e){return function(e){if(Array.isArray(e))return vd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hd=function(e){return e.length>0?e[0].id+1:1},Od=[],jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Od,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;switch(n){case Mt.x:return r.invalidMessage&&r.invalidMessage.includes("CONTENT_LIMIT_EXCEEDED")?[{type:Ue.l,id:hd(e)}].concat(gd(e)):[{type:r.isServerValidationError?Ue.k:Ue.j,id:hd(e)}].concat(gd(e));case Mt.f:return[{type:Ue.m,id:hd(e)}].concat(gd(e));case Nr.a:return[{type:Ue.i,id:hd(e)}].concat(gd(e));case lr.e:case lr.a:return[{type:Ue.e,id:hd(e)}].concat(gd(e));case ur.b:return[{type:Ue.f,id:hd(e)}].concat(gd(e));case md.a:case md.b:case md.c:return[{type:Ue.w,id:hd(e)}].concat(gd(e));case Ue.N:return[{type:Ue.N,id:hd(e)}].concat(gd(e));case Lt.d:return[{type:Ue.q,id:hd(e)}].concat(gd(e));case Gt.a:var i=r.fieldOptions,s=i.onSaveFailureFlagType;if(i.isRichTextField&&r.invalidMessage){if(r.invalidMessage.includes("CONTENT_LIMIT_EXCEEDED"))return[{type:Ue.O,id:hd(e)}].concat(gd(e));if(r.invalidMessage.includes("is required"))return[{type:Ue.P,id:hd(e)}].concat(gd(e))}return s?[{type:s,id:hd(e)}].concat(gd(e)):e;case Gt.c:var a=r.fieldOptions.onSaveSuccessFlagType;return a?[{type:a,id:hd(e),descriptionI18nValues:{issueKey:o&&o.issueKey}}].concat(gd(e)):e;case Ft.c:return[{type:Ue.H,id:hd(e)}].concat(gd(e));case Ft.b:return[{type:Ue.G,id:hd(e)}].concat(gd(e));case yd.a:return e.filter((function(e){return e.id!==r}));case Qi.b:return[{type:Ue.p,id:hd(e),titleI18nValues:{issueKey:r.issueKey}}].concat(gd(e));case Cr.f:return[{type:Ue.h,id:hd(e),titleI18nValues:{destType:r.targetTypeName}}].concat(gd(e));case Cr.e:return[{type:Ue.g,id:hd(e)}].concat(gd(e));case bd.f:return[{type:Ue.W,id:hd(e)}].concat(gd(e));case bd.b:return[{type:Ue.B,id:hd(e)}].concat(gd(e));case bd.d:return[{type:Ue.S,id:hd(e)}].concat(gd(e));case bd.e:return[{type:Ue.T,id:hd(e)}].concat(gd(e));case bd.c:return[{type:Ue.M,id:hd(e)}].concat(gd(e));case bd.a:return[{type:Ue.b,id:hd(e)}].concat(gd(e));case Ha.a:return[{type:Ue.c,id:hd(e)}].concat(gd(e));case Ha.z:return[{type:Ue.V,id:hd(e)}].concat(gd(e));case Ha.k:return[{type:Ue.y,id:hd(e)}].concat(gd(e));case Ha.i:return[{type:Ue.x,id:hd(e)}].concat(gd(e));case Ha.g:return[{type:Ue.t,id:hd(e)}].concat(gd(e));case Ha.e:return[{type:Ue.s,id:hd(e)}].concat(gd(e));case vo.e:return[{type:Ue.o,id:hd(e)}].concat(gd(e));case Ma.g:return[{type:Ue.r,id:hd(e)}].concat(gd(e));case Ue.Q:return[{type:Ue.Q,id:hd(e)}].concat(gd(e));case Ue.R:return[{type:Ue.R,id:hd(e)}].concat(gd(e));case Ue.a:return[{type:Ue.a,id:hd(e)}].concat(gd(e));case Ue.L:return[{type:Ue.L,id:hd(e)}].concat(gd(e));default:return e}};function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){kd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sd={showCreateIncidentPanel:!1,showCreateMajorIncidentModal:!1},Id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cf.c:return Ed(Ed({},e),{},{showCreateIncidentPanel:!0});case Cf.d:return Ed(Ed({},e),{},{showCreateIncidentPanel:!1});case Cf.a:return Ed(Ed({},e),{},{showCreateMajorIncidentModal:!0});case Cf.b:return Ed(Ed({},e),{},{showCreateMajorIncidentModal:!1});default:return e}};function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){_d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xd={isDeleteIssueModalOpen:!1,isDeletingIssue:!1,didIssueDeleteFail:!1,issueKey:null},Td=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qi.e:return Pd(Pd({},e),{},{isDeleteIssueModalOpen:!0});case Qi.a:return Pd(Pd({},e),{},{isDeleteIssueModalOpen:!1});case Qi.c:return Pd(Pd({},e),{},{isDeletingIssue:!0,didIssueDeleteFail:!1,issueKey:t.payload.issueKey});case Qi.d:return Pd(Pd({},e),{},{isDeletingIssue:!1,didIssueDeleteFail:!1,issueKey:t.payload});case Qi.b:return Pd(Pd({},e),{},{isDeletingIssue:!1,didIssueDeleteFail:!0,issueKey:t.payload.issueKey});default:return e}},Ad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi.b,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case C.d:case C.h:case C.b:return xi.a;case"PREVIEW_DATA_FETCHED":return e===xi.b?xi.c:e;case Nt.b:case w.a:return xi.b;default:return e}},Dd=n("./src/packages/issue/issue-view/src/common/model/project-validator-type.js");function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(n),!0).forEach((function(t){Ld(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd={projectHasSubtaskValidators:{status:Dd.c}},Fd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTEXT":return e;case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS":return Md(Md({},e),{},{projectHasSubtaskValidators:{status:Dd.c}});case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_SUCCESS":return Md(Md({},e),{},{projectHasSubtaskValidators:{status:Dd.b,value:t.payload}});case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_FAILURE":return Md(Md({},e),{},{projectHasSubtaskValidators:{status:Dd.a}});default:return e}},Ud=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Eo.b:return r;default:return e}},Vd={timestamp:0,value:void 0},Kd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sa.b:return{timestamp:Date.now(),value:t.payload.value};case sa.a:return{timestamp:Date.now()};default:return e}},Bd={issueUpdatedTimestamp:0},Wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bd,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Gt.e:return r.fieldId===Bt.z?{issueUpdatedTimestamp:Date.now()}:e;case Mt.A:return{issueUpdatedTimestamp:Date.now()};default:return e}},Hd=n("./src/packages/issue/issue-view/src/common/model/timestamp-display-setting-type.js"),Gd=window.localStorage&&window.localStorage.getItem("jira.absolutedate.issueview")||Hd.b,qd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ca.a:return t.payload;case C.d:return Gd;default:return e}},zd=n("./src/packages/platform/services/issue/src/feature-flags.js");function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach((function(t){Jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $d={newIssueViewLockedIn:!1},Zd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d,t=arguments.length>1?arguments[1]:void 0;if(!Object(zd.b)())return e;switch(t.type){case"PREVIEW_DATA_FETCHED":var n=t.payload.meta&&t.payload.meta.newIssueViewLockedIn;return void 0!==n?Qd(Qd({},e),{},{newIssueViewLockedIn:n}):e;case C.d:var r=t.payload.newIssueViewLockedIn;return void 0!==r?Qd(Qd({},e),{},{newIssueViewLockedIn:r}):e;default:return e}},Xd=n("./src/packages/issue/issue-view/src/actions/view-mount-status-actions.js");function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){np(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rp={hasIssueViewMounted:!1},op=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xd.a:return tp(tp({},e),{},{hasIssueViewMounted:!0});default:return t.type,e}},ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.c:case Ha.k:return t.payload.worklogId;case Ha.h:return null;case Ha.x:default:return e}},sp=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),ap=sp.g;function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(n),!0).forEach((function(t){lp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fp={openModal:sp.j,isSaving:!1,activeWorklogId:null},dp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.x:return{openModal:t.payload.modalType,isSaving:!1,activeWorklogId:t.payload.worklogId};case Ha.A:case Ha.b:case Ha.j:case Ha.f:return up(up({},e),{},{isSaving:!0});case Ha.z:case Ha.a:case Ha.i:case Ha.e:return up(up({},e),{},{isSaving:!1});case Ha.d:case Ha.c:case Ha.B:case Ha.k:case Ha.g:return{openModal:sp.j,isSaving:!1,activeWorklogId:null};default:return e}};function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){yp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bp={hasScrolledPermalink:!1},gp=Object(re.combineReducers)({loadingStage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.t:case Ha.v:return sp.g;case Ha.w:return sp.b;case Ha.s:return sp.e;default:return e}},modal:dp,highlightedWorklogId:ip}),vp=Object(re.combineReducers)({loadingStage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.u:case Ha.v:case Ha.c:case Ha.p:return sp.g;case Ha.l:return sp.h;case Ha.n:return sp.i;case Ha.w:case C.d:case Ha.r:case Ha.m:case Ha.o:return sp.b;case Ha.s:return e===sp.g?sp.e:sp.f;case Ha.q:return sp.e;default:return e}},modal:dp,highlightedWorklogId:ip,permalinkStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.y:return mp(mp({},e),{},{hasScrolledPermalink:t.payload.status});case Ha.c:case Ha.k:return mp(mp({},e),{},{hasScrolledPermalink:!1});default:return e}}});function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wp={agile:void 0,context:void 0,entities:void 0,fields:void 0,mediaContext:{viewContext:null,uploadContext:null,userAuth:null},shareAsComment:void 0,sla:void 0,timing:void 0,ui:void 0,validators:void 0},Ep=function(){var e={};return Object(Z.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()&&(e.errorMessage=fd),e},kp=function(e,t){return Object(re.combineReducers)({agile:Iu,context:Vl,entities:ud,fields:yu,mediaContext:Object(re.combineReducers)({uploadContext:Zc,userAuth:Xc,viewContext:ou}),shareAsComment:Kd,sla:Wd,timing:$c,ui:Object(re.combineReducers)(Op({attachments:Object(re.combineReducers)(Op({viewer:Ju,picker:Qu,deleteModal:Fu},Object(Z.isJsdViewAllAttachmentEnabled)()?{attachmentModal:Ku}:{})),activityFeed:ju,assignIssueParentModal:Tu,comments:Ol,changeboarding:nl,childPanel:al,clickthroughBanner:dl,contextItems:Il,contextPanel:Al,drafts:Gl,ecosystem:Object(re.combineReducers)({glance:zl}),error:dd,fetchIssueTypesStatus:pd.a,flags:jd,issueDeletion:Td,loadingStage:Ad,recentlyVisitedConfluencePages:Ud,timestampDisplaySetting:qd,uiConfig:Zd,viewMountStatus:op,worklog:Object(ue.a)()?vp:gp,incidentManagement:Id},Ep())),validators:Fd})(e,t)},Sp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp,t=arguments.length>1?arguments[1]:void 0;if(t.type===w.a){var n=kp({ui:{clickthroughBanner:e.ui.clickthroughBanner,changeboarding:e.ui.changeboarding,uiConfig:e.ui.uiConfig}},O(Object(de.k)(e))),r=kp(n,t),o=Object($.x)(e),i=Object(bc.a)(e);return o?kp(r,I(o,i)):r}return kp(e,t)},Ip=function(){return function(e){return function(t){try{e(t)}catch(e){throw m.h.safeError("issue.middleware.error-logger","Unhandled error in ".concat(t.type)),e}}}};function Cp(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _p=function(e){var t=e.initialState,n=e.onChange,r=void 0===n?ae.a:n,o=e.onError,i=void 0===o?ae.a:o,s=e.dataProvider,a=e.history,c=e.issueKey,u=void 0===c?Object(ce.toIssueKey)(""):c,l=e.fieldsValueActions,f=e.fieldsConfigActions,d=e.prefetchedResourceManager;return Object(re.createStore)(Object(oe.enableBatching)(Sp),t,Object(m.a)({name:"issue-".concat(u)})(re.applyMiddleware.apply(void 0,Cp(function(e,t,n,r,o,i,s){var a=Object(p.b)(qc(e,t,n,r,o,i,s)),c=Object(ie.createEpicMiddleware)(a);return[Ip,c]}(r,i,s,a,l,f,d)))))},xp=n("./node_modules/@atlaskit/router/dist/esm/controllers/hooks/resource-store/index.js"),Tp=n("./src/packages/spa/src/view/routes/issue/resources/index.js");function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.issueMediaReadPermissionPromise=void 0,this.issueMediaUploadPermissionPromise=void 0,this.issueMediaUserAuthPromise=void 0,this.issueGiraDataPromise=void 0,this.issueForgeDataPromise=void 0,this.issueGraphqlDataPromise=void 0,this.issueDataCombinedPromise=void 0,this.getGiraData=function(){},this.getGqlData=function(){},this.getMediaUser=function(){},this.getMediaUploadPermission=function(){},this.getMediaReadPermission=function(){},this.isAllDataReady=function(){}}return function(e,t,n){t&&Ap(e.prototype,t),n&&Ap(e,n)}(e,[{key:"clearAll",value:function(){this.issueMediaReadPermissionPromise=null,this.issueMediaUploadPermissionPromise=null,this.issueMediaUserAuthPromise=null,this.issueGiraDataPromise=null,this.issueForgeDataPromise=null,this.issueGraphqlDataPromise=null}},{key:"issueMediaReadPermission",get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueMediaReadPerm})):null},set:function(e){this.issueMediaReadPermissionPromise=e}},{key:"issueMediaUploadPermission",set:function(e){this.issueMediaUploadPermissionPromise=e},get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueMediaUploadPerm})):null}},{key:"issueMediaUserAuth",set:function(e){this.issueMediaUserAuthPromise=e},get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueMediaUserAuth})):null}},{key:"issueGiraData",set:function(e){this.issueGiraDataPromise=e},get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueGiraData})):null}},{key:"issueForgeData",set:function(e){this.issueForgeDataPromise=e},get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueForgeData})):null}},{key:"issueGraphqlData",set:function(e){this.issueGraphqlDataPromise=e},get:function(){return this.issueDataCombinedPromise?this.issueDataCombinedPromise.then((function(e){return e.issueGraphqlData})):null}},{key:"issueDataCombined",set:function(e){this.issueDataCombinedPromise=e}}]),e}();function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mp=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.issueMediaUserAuth=void 0,this.issueMediaReadPermission=void 0,this.issueMediaUploadPermission=void 0,this.issueGiraData=void 0,this.issueGraphqlData=void 0,this.issueForgeData=void 0,this.issueDataCombined=void 0,this.allData={},this.getGiraData=function(){return t.allData.issueGiraData&&t.allData.issueGiraData.data},this.getGqlData=function(){return t.allData.issueGraphqlData&&t.allData.issueGraphqlData.data},this.getMediaUser=function(){return t.allData.mediaUserAuth},this.getMediaReadPermission=function(){return t.allData.mediaReadPermission},this.getMediaUploadPermission=function(){return t.allData.mediaUploadPermission},this.isAllDataReady=function(){return!!(t.getGiraData()&&t.getGqlData()&&t.getMediaUser()&&t.getMediaUploadPermission()&&t.getMediaReadPermission())},this.containsInitialPromises=function(){return!!(t.issueMediaUploadPermission&&t.issueMediaUserAuth&&t.issueMediaReadPermission&&t.issueGiraData&&t.issueGraphqlData)}}return function(e,t,n){t&&Rp(e.prototype,t),n&&Rp(e,n)}(e,[{key:"setAll",value:function(e,t){this.allData=e,this.issueMediaUserAuth=t.mediaUserAuthPromise,this.issueMediaUploadPermission=t.mediaUploadPermissionPromise,this.issueMediaReadPermission=t.mediaReadPermissionPromise,this.issueGiraData=t.issueGiraDataPromise,this.issueGraphqlData=t.issueGraphqlDataPromise}},{key:"getAllPromises",value:function(){return[this.issueMediaUserAuth,this.issueMediaUploadPermission,this.issueMediaReadPermission,this.issueGiraData,this.issueGraphqlData]}},{key:"clearAll",value:function(){this.allData={},this.issueMediaReadPermission=null,this.issueMediaUploadPermission=null,this.issueMediaUserAuth=null,this.issueGiraData=null,this.issueForgeData=null,this.issueGraphqlData=null}}]),e}();function Lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Np(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Np(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fp=new Dp,Up=window.prefetchedResourceManager||new Mp,Vp=function(e){var t=Lp(Object(xp.a)(Tp.f),1)[0],n=t.data,i=t.promise,s=Lp(Object(xp.a)(Tp.e),1)[0],a=s.data,c=s.promise,u=Lp(Object(xp.a)(Tp.d),1)[0],l=u.data,f=u.promise,d=Lp(Object(xp.a)(Tp.b),1)[0],p=d.data,m=d.promise,y=Lp(Object(xp.a)(Tp.c),1)[0],b=y.data,g=y.promise,v=Lp(Object(xp.a)(Tp.a),1)[0].promise;Object(r.useMemo)((function(){Object(Z.isEarlyDataConsumption)()&&f&&c&&i&&m&&g?Up.setAll({mediaUserAuth:n,mediaUploadPermission:a,mediaReadPermission:l,issueGiraData:p,issueGraphqlData:b},{mediaUserAuthPromise:i,mediaUploadPermissionPromise:c,mediaReadPermissionPromise:f,issueGiraDataPromise:m,issueGraphqlDataPromise:g}):Fp.issueDataCombined=v}),[v,p,m,b,g,l,f,a,c,n,i]);var h=Object(Z.isEarlyDataConsumption)()?Up:Fp;return(o.a.createElement(o.a.Fragment,null,e.children(h)))},Kp=n("./node_modules/react-redux/es/index.js"),Bp=Object(Kp.connect)((function(e){return{isSimplifiedProject:Object($.t)(e)}}),{fetchScreenIdRequest:function(){return{type:"FETCH_SCREENID_REQUEST"}}})((function(e){var t=e.fetchScreenIdRequest,n=e.isSimplifiedProject;return Object(r.useEffect)((function(){n||t()}),[t,n]),null})),Wp=n("./node_modules/lodash/join.js"),Hp=n.n(Wp),Gp=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),qp=n("./src/packages/realtime/src/index.js"),zp=n("./node_modules/reselect/lib/index.js"),Yp=Object(zp.createSelector)(de.i,$.B,(function(e,t){return[Object(qp.j)(e,t)]}));function Qp(){return(Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $p=[qp.g,qp.b],Zp=Object(Kp.connect)((function(e){return{channels:Yp(e),cloudId:Object(de.i)(e),projectId:Object($.B)(e),issueId:Object(de.A)(e)}}),{realtimeUpdateCurrentIssue:function(e){return{type:"REALTIME_UPDATE_CURRENT_ISSUE",payload:e}}},(function(e,t){return{channels:e.channels,events:$p,cloudId:e.cloudId,projectId:e.projectId,onJoin:function(t,n){Object(Gp.r)(n,"channel joined","Realtime",{cloudId:new Sr.a(e.cloudId),projectId:e.projectId,issueId:new Sr.a(e.issueId),channels:new Sr.a(Hp()(e.channels))})},onReceive:function(n,r){n&&n.payload.issueId===Number(e.issueId)&&(t.realtimeUpdateCurrentIssue({atlassianId:n.payload.atlassianId,updateType:n.type}),Object(Gp.r)(r,"event received","Realtime",{cloudId:new Sr.a(e.cloudId),projectId:e.projectId,issueId:new Sr.a(e.issueId),eventType:new Sr.a(n.type)}))},onLeave:function(t,n){Object(Gp.r)(n,"channel left","Realtime",{cloudId:new Sr.a(e.cloudId),projectId:e.projectId,issueId:new Sr.a(e.issueId),channels:new Sr.a(Hp()(e.channels))})}}}))((function(e){var t=e.cloudId,n=e.projectId,r=Jp(e,["cloudId","projectId"]);return t&&n?o.a.createElement(qp.k,Qp({appId:"issue-view"},r)):null}));function Xp(e){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(e,t){return(nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=im(e);if(t){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return om(this,n)}}function om(e,t){return!t||"object"!==Xp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function im(e){return(im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sm(Object(n),!0).forEach((function(t){cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function um(){return(um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lm=["backButtonUrl","issueKey","loginRedirectUrl","rapidViewId","boardType","boardId","isLoadedWithPage","isModal","rapidViewMap","estimationStatistic","analyticsSource","viewMode"],fm=function(e){return o.a.createElement(g.b,null,(function(t,n){return o.a.createElement(b.a,null,(function(t,r){return o.a.createElement(pm,um({},e,{fieldsValueActions:n,fieldsConfigActions:r}))}))}))};fm.displayName="AppProviderWithFieldsValueActions";var dm=function(e){return o.a.createElement(Vp,null,(function(t){return o.a.createElement(fm,um({},e,{prefetchedResourceManager:t}))}))};dm.displayName="AppProviderWithPrefetchedResources";var pm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nm(e,t)}(n,e);var t=rm(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onIssueKeyChange=function(e){var t=e.fromIssueKey,n=e.toIssueKey,o=e.meta;r.props.onIssueKeyChange&&r.props.onIssueKeyChange({fromIssueKey:t,toIssueKey:n,meta:o}),__SPA__||r.store.dispatch(Object(w.f)({fromIssueKey:t,toIssueKey:n}))},r.addAnalyticsPayload=function(){var e=r.store.getState(),t=Object(ne.a)(e),n=t.attributes;return am(am({},em(t,["attributes"])),n)},r.dispatchExternalAction=function(e){var t=Object(j.f)(e);r.store.dispatch(t)},r.store=void 0,r.tenantContext=void 0;var o=e.prefetchedResourceManager,i=e.fieldsValueActions,s=e.fieldsConfigActions,a=e.issueKey;r.tenantContext=e.tenantContext||Object(m.f)();var c=e.dataProvider||(Object(Z.isSingletonEnabledForPIN)()?Object(h.b)():Object(h.a)()),u=void 0===e.history?l()():e.history;r.store=_p({onChange:e.onChange,onError:e.onError,dataProvider:c,issueKey:a,prefetchedResourceManager:o,fieldsValueActions:i,fieldsConfigActions:s,history:u}),Object(F.a)({analyticsSource:e.analyticsSource,isLoadedWithPage:e.isLoadedWithPage||!1,isSPA:!e.isInitialRender,dataProvider:c,store:r.store});var f=c.getIssue(a);return Object(Z.isEarlyDataConsumption)()&&o&&f&&function(e,t,n,r){var o=e.prefetchedResourceManager,i=e.fieldsValueActions,s=e.fieldsConfigActions,a=e.issueKey,c=o.getMediaReadPermission(),u=o.getMediaUploadPermission(),l=o.getMediaUser(),f=o.getGiraData(),d=o.getGqlData();if(c&&u&&l&&f&&d){t.dispatch(X(n)),Fi(Object(ee.a)(n),i,s,a);var p=Object(N.a)(c);t.dispatch(D(p));var m=_(u);t.dispatch(Object(P.f)(m));var y=T(l);t.dispatch(Object(x.f)(y));var b=Object(Q.c)(f),g=Object(J.b)(d,r.baseUrl),v=am(am(am(am(am({},p),m),y),b),g);Fi(v.issue.fields,i,s,a),t.dispatch(Object(C.l)(v))}}(r.props,r.store,f,r.tenantContext),r.isNotComplete()&&(f?(r.store.dispatch(X(f)),Fi(Object(ee.a)(f),i,s,a)):r.store.dispatch(Object(E.f)(a))),r.setContext(e),Object(Z.isEarlyDataConsumption)()&&o&&o.isAllDataReady()&&f?(r.store.dispatch(Object(C.i)()),o.clearAll()):(Object(F.f)(),r.store.dispatch(Object(C.k)())),r.store.dispatch(function(){return{type:"FETCH_LOGGED_IN_USER_REQUEST"}}()),e.dispatchExternalActionRef&&e.dispatchExternalActionRef(r.dispatchExternalAction),r}return function(e,t,n){t&&tm(e.prototype,t),n&&tm(e,n)}(n,[{key:"componentDidMount",value:function(){this.store&&this.store.dispatch&&this.store.dispatch(k(this.props.issueKey))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;lm.every((function(n){return c()(e[n],t.props[n])}))||this.setContext(e)}},{key:"componentWillUnmount",value:function(){var e=this;this.store&&this.store.dispatch&&(this.props.isSpaEnabled||setTimeout((function(){return e.store.dispatch(p.a)}))),this.props.dispatchExternalActionRef&&this.props.dispatchExternalActionRef(null)}},{key:"setContext",value:function(e){var t=this.tenantContext,n=t.baseUrl,r=t.cloudId,o=t.licensedProducts,i=t.locale,s=t.atlassianAccountId,a=t.productCrossSellConfig,c=t.siteAdminStatus,u=t.isAnonymous,l=t.appEditions,f=t.appPermissions,d=t.licenseStates,p=t.firstActivationDateMs,m=!!e.isSpaEnabled;this.store.dispatch(O({backButtonUrl:e.backButtonUrl,issueKey:e.issueKey,loginRedirectUrl:e.loginRedirectUrl,rapidViewId:e.rapidViewId,boardType:e.boardType,boardId:e.boardId,isLoadedWithPage:e.isLoadedWithPage,isModal:e.isModal,rapidViewMap:e.rapidViewMap,estimationStatistic:e.estimationStatistic,maxTokenLength:Object(y.a)(),analyticsSource:e.analyticsSource,isLoading:!1,isSpaEnabled:m,viewMode:e.viewMode,onIssueKeyChange:this.onIssueKeyChange,baseUrl:n,cloudId:r,licensedProducts:o,locale:i,atlassianAccountId:s,productCrossSellConfig:a,appPermissions:f,siteAdminStatus:c,isAnonymous:u,appEditions:l,licenseStates:d,firstActivationDateMs:p}))}},{key:"isNotComplete",value:function(){return!Object($.m)(this.store.getState())}},{key:"render",value:function(){var e=this.props,t=e.locationTransformer,n=e.children;return Object(F.g)(),o.a.createElement(f.a,{store:this.store,locale:this.tenantContext.locale,addAnalyticsPayload:this.addAnalyticsPayload,hasIntlProvider:!Object(Z.isIntlProviderExtracted)()},o.a.createElement(o.a.Fragment,null,Object(Z.isIssueRealtimeEnableForBento)()&&o.a.createElement(Zp,null),o.a.createElement(Bp,null),o.a.createElement(d.a,null,o.a.createElement(te.b,{store:this.store,locationTransformer:t},n))))}}]),n}(r.Component);pm.defaultProps={isLoadedWithPage:!1,isModal:!1,isSpaEnabled:!1,estimationStatistic:null,viewMode:void 0},pm.displayName="AppProvider";t.a=s()(v.b,function(){return function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,t);var n=q(r);function r(){var e;W(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).MetricsContext=Object(K.b)(e.props.metrics),e}return function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(r,[{key:"render",value:function(){var t=this.MetricsContext;return(o.a.createElement(t.Provider,{value:Object(K.a)(this.props.metrics)},o.a.createElement(e,this.props)))}}]),r}(r.Component),t.displayName="WithMetricsProvider(".concat(e.displayName||e.name,")"),n}}(),(function(e){return function(t){return o.a.createElement(U.a,null,(function(n){return o.a.createElement(e,V({},t,{isInitialRender:n.isInitialRender}))}))}}))(dm)},"./src/packages/issue/issue-view/src/views/issue-details/error/auth-error.svg":function(e,t,n){e.exports=n.p+"assets/auth-error.37d7a62ee1c48c2d5ae201ec8f798f18.8.svg"},"./src/packages/issue/issue-view/src/views/issue-details/error/error-container/error-display.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),s=n("./node_modules/@atlaskit/theme/index.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),c=i.default.div(["text-align:center;flex-direction:column;color:",";display:flex;justify-content:center;align-items:center;"],s.colors.N800),u=i.default.h2(["font-size:20px;font-weight:bold;margin-top:","px;margin-bottom:","px;max-width:100%;"],1.5*a.f,1.5*a.f),l=i.default.p(["max-width:100%;"]),f=function(e){return o.a.createElement(c,null,e.image,o.a.createElement(u,null,e.header),o.a.createElement(l,null,e.description),e.children)};f.displayName="ErrorDisplay",f.defaultProps={description:void 0,children:null};t.a=f},"./src/packages/issue/issue-view/src/views/issue-details/error/permission-error.svg":function(e,t,n){e.exports=n.p+"assets/permission-error.c932893e3cfcbf2f521d55c8596010e7.8.svg"},"./src/packages/issue/issue-view/src/views/issue-details/error/unknown-error-view.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),a=n("./src/packages/issue/issue-view/src/views/issue-details/error/error-container/error-display.js"),c=n("./src/packages/issue/issue-view/src/views/issue-details/error/unknown-error.svg"),u=n.n(c),l=Object(i.defineMessages)({unknownErrorHeader:{id:"issue.text-for-header-in-generic-error",defaultMessage:"We couldn't connect to that issue"},unknownErrorDescription:{id:"issue.text-for-description-in-generic-error",defaultMessage:"Make sure that this issue actually exists in that project. If it does, try again in a few minutes. If you still can't link to the issue, contact your Jira admin."}}),f=s.default.img(["height:130px;width:120px;"]);t.a=Object(i.injectIntl)((function(e){var t=e.intl;return(o.a.createElement(a.a,{header:t.formatMessage(l.unknownErrorHeader),description:t.formatMessage(l.unknownErrorDescription),image:o.a.createElement(f,{src:u.a,alt:""})}))}))},"./src/packages/issue/issue-view/src/views/issue-details/error/unknown-error.svg":function(e,t,n){e.exports=n.p+"assets/unknown-error.0ae7398ce07e7e3c1125e09977c8fd48.8.svg"},"./src/packages/issue/issue-view/src/views/issue-details/issue-app.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IssueApp",(function(){return ce}));var r,o=n("./node_modules/react/index.js"),i=n.n(o),s=n("./node_modules/lodash/noop.js"),a=n.n(s),c=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),u=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightManager.js"),l=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),f=n("./src/packages/platform/utils/constants/src/analytics-sources.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),p=n("./src/packages/platform/controllers/tenant-context/src/index.js"),m=n("./src/packages/issue/issue-view/src/common/constants/index.js"),y=n("./src/packages/issue/issue-view/src/common/util/events/index.js"),b=n("./src/packages/issue/issue-view/src/feature-flags.js"),g=[f.a.FULL_ISSUE,f.a.SERVICEDESK_QUEUES_ISSUE,f.a.SERVICEDESK_REPORTS_ISSUE],v=n("./src/packages/issue/issue-view/src/views/assign-issue-parent-modal/index.js"),h=n("./src/packages/issue/issue-view/src/views/banner/index.js"),O=n("./src/packages/issue/issue-view/src/views/banner/full-page-banner/render.js"),j=n("./src/packages/issue/issue-view/src/views/changeboarding/index.js"),w=n("./src/packages/issue/issue-view/src/views/common/compact-mode-provider/index.js"),E=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),k=n("./node_modules/react-redux/es/index.js"),S=n("./src/packages/platform/utils/types/src/index.js"),I=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),C=n("./node_modules/@atlaskit/onboarding/dist/esm/components/SpotlightTarget.js"),P=n("./src/packages/issue/issue-view/src/feedback-button/index.js"),_=n("./src/packages/issue/issue-view/src/views/constants.js"),x=n("./src/packages/platform/utils/constants/src/application-keys.js");function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=(T(r={},x.a.SOFTWARE_ISSUE,{feedbackGroupId:"jira-software-full-issueview",collectorId:"12f21050"}),T(r,x.a.CORE_ISSUE,{feedbackGroupId:"jira-core-full-issueview",collectorId:"f7ac9eb0"}),T(r,x.a.SERVICE_DESK,{feedbackGroupId:"jira-service-desk-full-issueview",collectorId:"3311e016"}),T(r,x.a.BITBUCKET_ISSUE,{feedbackGroupId:"bitbucket-jira-issueview",collectorId:"e7fdb917"}),r);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=function(e){var t=e.applicationKey,n=e.baseUrl,r=e.locale,o=e.isCompact,s=void 0!==o&&o;if(null==t||!function(e){return Boolean(A[e])}(t))return null;var a=A[t];return(i.a.createElement(C.a,{name:_.d},i.a.createElement(P.a,D({},a,{baseUrl:n,locale:r,isCompact:s}))))};R.displayName="Feedback";var M=R,L=Object(k.connect)((function(e){return{baseUrl:Object(S.toBaseUrl)(Object(I.f)(e)),locale:Object(I.D)(e),applicationKey:Object(I.d)(e)}}),{})(M),N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(i.a.createElement(L,{isCompact:t}))};N.displayName="renderFeedback";var F,U,V,K=n("./src/packages/platform/controllers/global/document-title/src/index.js"),B=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),W=n("./src/packages/issue/issue-view/src/configurations.js"),H=Object(B.o)(W.o),G=Object(k.connect)((function(e){return{issueKey:Object(I.B)(e),summary:H(e)}}),{})((function(e){var t=e.issueKey,n=e.summary,r=e.location;return(r===f.a.FULL_ISSUE||r===f.a.SERVICEDESK_QUEUES_ISSUE||r===f.a.SERVICEDESK_REPORTS_ISSUE)&&null!=n&&i.a.createElement(K.a,{title:"[".concat(t,"] ").concat(n)})})),q=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/index.js"),z=n("./src/packages/issue/issue-view/src/views/issue-details/app-provider.js"),Y=n("./src/packages/issue/issue-view/src/views/issue-details/issue-app.styled.js"),Q=n("./src/packages/issue/issue-view/src/views/issue-details/issue-data-provider-refresher.js"),J=n("./src/packages/issue/issue-view/src/views/issue-details/issue-view.js"),$=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/index.js");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=new Set([f.a.SOFTWARE_ISSUE,f.a.AGILITY_BACKLOG]),ae=Object(c.a)((function(e,t){return{onIssueDeleteSuccess:e,onIssueDeleteFailure:t}})),ce=Object(l.e)("issue")((V=U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(n,e);var t=re(n);function n(){var e;ee(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onEscape=function(t){Object(y.c)(t)&&(e.props.onClose(),t.preventDefault())},e.canCloseOnEsc=function(){return se.has(e.props.analyticsSource)},e.getRenderFeedback=function(){var t=e.props.analyticsSource;if(g.includes(t))return N},e.renderTopBanner=function(t,n){var r=e.props.analyticsSource;return g.includes(r)&&!n?Object(O.a)({applicationKey:t,renderFeedback:e.getRenderFeedback()}):null},e.renderIssueView=function(){var t=e.getIssueViewProps();return(i.a.createElement(J.default,t))},e.isMobile=function(){return e.props.analyticsSource===f.a.MOBILE_ISSUE},e.getIssueViewProps=function(){return{renderFeedback:e.getRenderFeedback(),issueDeleteCallbacks:Object(b.isRRAPhaseOneEnabled)()?ae(e.props.onIssueDeleteSuccess,e.props.onIssueDeleteFailure):{onIssueDeleteSuccess:e.props.onIssueDeleteSuccess,onIssueDeleteFailure:e.props.onIssueDeleteFailure},viewModeOptions:e.props.viewModeOptions,isStickyHeaderOffset:e.props.isStickyHeaderOffset,onClose:e.props.onClose,shouldShowProjectLevelBreadcrumb:e.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:e.props.shouldShowProjectLevelBreadcrumb,shouldShowCloseButton:e.props.shouldShowCloseButton}},e}return function(e,t,n){t&&te(e.prototype,t),n&&te(e,n)}(n,[{key:"componentDidMount",value:function(){this.canCloseOnEsc()&&document.addEventListener("keydown",this.onEscape)}},{key:"componentWillUnmount",value:function(){this.canCloseOnEsc()&&document.removeEventListener("keydown",this.onEscape)}},{key:"renderHeader",value:function(){var e=this.props,t=e.onClose,n=e.shouldShowCloseButton,r=e.shouldShowProjectLevelBreadcrumb,o=e.shouldShowRootProjectsBreadcrumb,s=e.onIssueDeleteSuccess,a=e.onIssueDeleteFailure,c=e.viewModeOptions,u=e.isStickyHeaderOffset;if(Object(b.isIndividualScrollingEnabled)()&&!this.isMobile())return null;var l=i.a.createElement(Q.a,{onClose:t,refreshOnUnmount:!0},i.a.createElement(q.a,{shouldShowCloseButton:n,shouldShowProjectLevelBreadcrumb:r,shouldShowRootProjectsBreadcrumb:o,issueDeleteCallbacks:Object(b.isRRAPhaseOneEnabled)()?ae(s,a):{onIssueDeleteSuccess:s,onIssueDeleteFailure:a},onClose:t,renderFeedback:this.getRenderFeedback(),viewModeOptions:c}));return(i.a.createElement($.a,{elementId:m.z,isStickyHeaderOffset:u,customStyles:Object(b.isIndividualScrollingEnabled)()?"padding-left: ".concat(3*d.f,"px; padding-right: ").concat(3*d.f,"px;"):void 0},l))}},{key:"render",value:function(){var e=this,t=this.props,n=t.innerBanner,r=t.analyticsSource,s=t.backButtonUrl,a=t.dataProvider,c=t.dispatchExternalActionRef,l=t.ecosystemEnabled,f=t.estimationStatistic,d=t.history,m=t.isLoadedWithPage,y=t.isSpaEnabled,g=t.issueActions,O=t.issueKey,k=t.locationTransformer,S=t.loginRedirectUrl,I=t.metrics,C=t.onChange,P=t.onError,_=t.onIssueKeyChange,x=t.rapidViewId,T=t.rapidViewMap,A=t.viewModeOptions,D={analyticsSource:r,backButtonUrl:s,dataProvider:a,dispatchExternalActionRef:c,ecosystemEnabled:l,estimationStatistic:f,history:d,isLoadedWithPage:m,isSpaEnabled:y,issueActions:g,issueKey:O,locationTransformer:k,loginRedirectUrl:S,metrics:I,onChange:C,onError:P,onIssueKeyChange:_,rapidViewId:x,rapidViewMap:T,viewMode:A&&A.viewMode},R=Object(b.isIndividualScrollingEnabled)()&&!this.isMobile()?Y.a:o.Fragment,M=Object(b.isIndividualScrollingEnabled)()&&!this.isMobile()?Y.b:o.Fragment;return i.a.createElement(p.d,null,(function(t){var o=t.tenantContext;return(i.a.createElement(z.a,X({},D,{tenantContext:o}),i.a.createElement(G,{location:r}),i.a.createElement(w.b,null,i.a.createElement(u.c,null,i.a.createElement(E.d,null,i.a.createElement(E.a,null,i.a.createElement(R,null,i.a.createElement(M,null,i.a.createElement(j.a,{isFeedbackEnabled:void 0!==e.getRenderFeedback()}),i.a.createElement(h.a,{renderTopBanner:e.renderTopBanner}),e.renderHeader(),i.a.createElement("div",null,n))),i.a.createElement(v.a,null),e.renderIssueView()))))))}))}}]),n}(o.PureComponent),U.defaultProps={isStickyHeaderOffset:!1,shouldShowRootProjectsBreadcrumb:!1,viewModeOptions:{viewModeSwitchEnabled:!1},onClose:a.a,onIssueDeleteSuccess:a.a,onIssueDeleteFailure:a.a},F=V))||F;ce.displayName="IssueApp";t.default=ce},"./src/packages/issue/issue-view/src/views/issue-details/issue-app.styled.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/issue/issue-view/src/views/issue-details/issue-layout/styled.js"),i=r.default.div(["flex-shrink:0;"]),s=r.default.div(["padding:0 ","px;"],o.m)},"./src/packages/issue/issue-view/src/views/issue-details/issue-data-provider-refresher.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),a=n("./src/packages/issue/issue-view/src/actions/issue-preview-actions.js"),c=n("./src/packages/issue/issue-view/src/common/constants/index.js"),u=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),l=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e);var t=y(n);function n(){var e;d(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onCloseHandler=function(){e.props.refreshIssueData(e.props.currentIssueKey,e.props.fieldData),e.props.onClose()},e}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(n,[{key:"componentWillUnmount",value:function(){this.props.refreshOnUnmount&&this.props.refreshIssueData(this.props.currentIssueKey,this.props.fieldData)}},{key:"render",value:function(){var e=this,t=this.props.children,n=r.Children.count(t);if(n<=0)return null;1!==n&&s.h.safeError("data.provider.issue.refreshed","Refresher expects 1 child but ".concat(n," specified"),new i.a({eventNameSuffix:c.E,type:i.i,app:i.e}));var o=r.Children.map(t,(function(t){return Object(r.cloneElement)(t,{onClose:e.onCloseHandler})}));return r.Children.only(o[0])}}]),n}(r.Component);v.defaultProps={refreshOnUnmount:!1},v.displayName="ReadOnlyDataIssueRefresher",t.a=Object(o.connect)((function(e){return{currentIssueKey:Object(u.B)(e),fieldData:Object(l.s)(e)}}),(function(e){return{refreshIssueData:function(t,n){return e(Object(a.e)(t,n))}}}))(v)},"./src/packages/issue/issue-view/src/views/issue-details/issue-layout/index.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/lodash/isEqual.js"),a=n.n(s),c=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),u=n("./node_modules/@atlaskit/page/GridColumn.js"),l=n("./src/packages/forge/forge-ui-async/src/ui/extensions/async.js"),f=n("./src/packages/forge/forge-ui/src/constants.js"),d=n("./src/packages/issue/issue-actions/activity-feed/src/index.js"),p=n("./src/packages/issue/issue-actions/activity-feed-no-analytics/src/index.js"),m=n("./src/packages/issue/issue-view/src/activity/activity-feed-view.js"),y=n("./src/packages/issue/issue-view/src/common/constants/index.js"),b=n("./src/packages/issue/issue-view/src/common/model/ecosystem-constants.js"),g=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),v=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),h=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js"),O=n("./src/packages/issue/issue-view/src/feature-flags.js"),j=n("./src/packages/issue/issue-view/src/selectors/breadcrumbs-selector.js"),w=n("./src/packages/issue/issue-view/src/selectors/context-panel-selector.js"),E=n("./src/packages/issue/issue-view/src/selectors/ecosystem-glance-ui-selector.js"),k=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js"),S=n("./src/packages/issue/issue-view/src/views/issue-base/content/content-items-view.js"),I=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-items/index.js"),C=n("./src/packages/issue/issue-view/src/views/issue-base/context/context-panel/index.js"),P=n("./src/packages/issue/issue-view/src/views/issue-base/context/ecosystem/index.js"),_=n("./src/packages/issue/issue-view/src/views/issue-base/context/side-panel/styled.js"),x=n("./src/packages/issue/issue-view/src/views/issue-base/context/status-and-approvals-wrapper/index.js"),T=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/color/index.js"),A=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/configuration-button/index.js"),D=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/index.js"),R=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-actions/index.js"),M=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/header/header-breadcrumbs/index.js"),L=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/meta-container/meta-container-view.js"),N=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/quick-add-items/index.js"),F=n("./src/packages/issue/issue-view/src/views/issue-base/foundation/summary/summary-view.js"),U=n("./src/packages/issue/issue-view/src/views/issue-details/issue-data-provider-refresher.js"),V=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/index.js"),K=n("./src/packages/issue/issue-view/src/views/issue-details/issue-layout/styled.js");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(r,t);var n=Q(r);function r(t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t)).setSidePanelContainer=function(e){Object(O.isIndividualScrollingEnabled)()&&i.state.sidePanelContainerElement!==e&&(i.state.sidePanelContainerElement&&i.scrollContainerResizeObserver&&i.scrollContainerResizeObserver.unobserve(i.state.sidePanelContainerElement),e&&(i.scrollContainerResizeObserver&&i.scrollContainerResizeObserver.observe(e),i.setState({sidePanelContainerElement:e})))},i.layoutContainer=void 0,i.setLayoutContainer=function(e){Object(O.isIndividualScrollingEnabled)()&&i.layoutContainer!==e&&(i.layoutContainer&&i.scrollContainerResizeObserver&&i.scrollContainerResizeObserver.unobserve(i.layoutContainer),e&&(i.scrollContainerResizeObserver&&i.scrollContainerResizeObserver.observe(e),i.layoutContainer=e))},i.setPanelColumn=function(e){Object(O.isIndividualScrollingEnabled)()&&i.setState({panelColumnElement:e})},i.getMemoizedStyles=Object(c.a)((function(e,t,n){return{panelWidth:e,headerWidth:t,contentWidth:n}})),i.updateSidePanelStyles=function(){if(Object(O.isIndividualScrollingEnabled)()){var e=i.state.sidePanelContainerElement,t=document.getElementById(y.A),n=i.state.panelColumnElement,r=n&&getComputedStyle(n),o=e?e.offsetWidth+_.d-(r?parseFloat(r.paddingLeft):0):0,s=n&&r?n.offsetWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight):0,a=t?t.offsetWidth:s+_.d,c=i.getMemoizedStyles(o,a,s);c!==i.state.sidePanelStyles&&i.setState({sidePanelStyles:c})}},i.setContextWidth=function(e){Object(O.isIndividualScrollingEnabled)()||i.setState({contextWidth:e?e.offsetWidth:0})},i.getContextWidth=function(){if(!Object(O.isIndividualScrollingEnabled)())return i.state.contextWidth},i.shouldRenderHeaderFF=function(){return Object(O.isIndividualScrollingEnabled)()&&i.props.shouldRenderHeader},i.scrollContainerResizeObserver=Object(O.isIndividualScrollingEnabled)()&&e.ResizeObserver?new e.ResizeObserver((function(){Object(O.isIndividualScrollingEnabled)()&&i.updateSidePanelStyles()})):void 0,i.getPanelsScrollContainer=function(){if(Object(O.isIndividualScrollingEnabled)())return i.props.isMobile?document.body:i.state.sidePanelContainerElement},i.renderForgeGlancePanels=function(){var e=i.props,t=e.issueKey,n=e.issueId,r=e.issueType,s=e.projectKey,a=e.projectId;return o.a.createElement(l.a,{module:"jira:issueGlance",context:{issueKey:t,issueId:n,issueType:r,projectKey:s,projectId:a},render:function(e){return e?e.map((function(e){return o.a.createElement(P.e,{key:"forgeGlanceAnimatedPanel-".concat(f.f,"__").concat(e.id),width:i.getContextWidth(),styles:i.state.sidePanelStyles,scrollContainer:i.getPanelsScrollContainer(),glance:G({appKey:f.f,moduleKey:e.id},e),openedGlance:i.props.openedGlance,glanceType:b.b})})):null}})},i.renderContextItems=function(){return o.a.createElement(K.a,{key:"CONTEXT_ITEMS"},o.a.createElement(I.a,{externalId:"issue.context-items"}))},i.renderSummary=function(){return o.a.createElement(K.j,{key:"SUMMARY"},o.a.createElement(T.a,null),o.a.createElement(K.i,null,o.a.createElement(F.a,null)))},i.renderFullSizeLayoutSideContent=function(){return o.a.createElement(K.k,{innerRef:i.setContextWidth,show:i.props.arePanelsClosed,key:"sideContentWrapper"},i.renderStatusFieldAndApprovals(),o.a.createElement(I.a,{forgeExtensions:i.props.forgeExtensions,key:"CONTEXT_ITEMS",externalId:"issue.context-items"}),o.a.createElement(K.c,null,o.a.createElement(L.a,{key:"META_CONTAINER"}),o.a.createElement(A.a,{key:"CONFIGURE_FIELDS"})))},i.renderActivityFeed=function(){return Object(O.isResponsiveActivityFeedWithNoAnalyticsEnabled)()?o.a.createElement(p.a,{key:"ACTIVITY_FEED",externalId:"issue.activity-feed"}):Object(O.isResponsiveActivityFeedEnabled)()?o.a.createElement(d.a,{key:"ACTIVITY_FEED",externalId:"issue.activity-feed"}):o.a.createElement(m.a,{key:"ACTIVITY_FEED",externalId:"issue.activity-feed"})},i.renderCompactHeader=function(){return i.shouldRenderHeaderFF()?o.a.createElement(U.a,{onClose:i.props.onClose,refreshOnUnmount:!0,key:"SPLIT_HEADER"},o.a.createElement(V.a,{elementId:y.z,isStickyHeaderOffset:i.props.isStickyHeaderOffset},o.a.createElement(D.a,{shouldShowCloseButton:i.props.shouldShowCloseButton,shouldShowProjectLevelBreadcrumb:i.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:i.props.shouldShowRootProjectsBreadcrumb,issueDeleteCallbacks:i.props.issueDeleteCallbacks,renderFeedback:i.props.renderFeedback,viewModeOptions:i.props.viewModeOptions,onClose:i.props.onClose}))):null},i.renderHeaderBreadcrumbs=function(){return i.shouldRenderHeaderFF()?o.a.createElement(V.a,{elementId:y.z,isStickyHeaderOffset:i.props.isStickyHeaderOffset},o.a.createElement(M.a,{shouldShowProjectLevelBreadcrumb:i.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:i.props.shouldShowRootProjectsBreadcrumb,isCompact:i.props.isCompact})):null},i.renderHeaderActions=function(){return i.shouldRenderHeaderFF()?o.a.createElement(U.a,{onClose:i.props.onClose,refreshOnUnmount:!0},o.a.createElement(V.a,{elementId:y.A,customStyles:"margin-right: -7px",isStickyHeaderOffset:i.props.isStickyHeaderOffset},o.a.createElement(R.a,{renderFeedback:i.props.renderFeedback,issueDeleteCallbacks:i.props.issueDeleteCallbacks,viewModeOptions:i.props.viewModeOptions,onClose:i.props.onClose,shouldShowCloseButton:i.props.shouldShowCloseButton}))):null},i.renderFullSizeLayout=function(){var e=Object(O.isIndividualScrollingEnabled)()?K.e:u.a,t=Object(O.isIndividualScrollingEnabled)()?K.d:K.b;return o.a.createElement(k.a,{hasMultipleScrollingColumns:!0},o.a.createElement(e,{medium:8,isLeftmost:!0},o.a.createElement(t,{isLeftmost:!0},i.renderHeaderBreadcrumbs(),i.renderSummary(),o.a.createElement(N.a,{key:"QUICK_ADD_ITEMS",externalId:"issue.quick-add"}),o.a.createElement(S.a,{key:"CONTENT_ITEMS",isCompactMode:!1}),i.renderActivityFeed())),o.a.createElement(e,{medium:4,isRightmost:!0,scrollHidden:!i.props.arePanelsClosed,innerRef:i.setSidePanelContainer},o.a.createElement(t,{isRightmost:!0,innerRef:i.setPanelColumn},i.renderHeaderActions(),i.renderFullSizeLayoutSideContent())))},i.renderCompactLayoutItems=function(){return[i.renderSummary(),o.a.createElement(N.a,{key:"QUICK_ADD_ITEMS",externalId:"issue.quick-add"}),i.renderStatusFieldAndApprovals(),o.a.createElement(S.a,{key:"CONTENT_ITEMS",isCompactMode:!0}),i.renderContextItems(),o.a.createElement(K.c,{key:"FOOTNOTE_WRAPPER_KEY"},o.a.createElement(L.a,{key:"META_CONTAINER"}),o.a.createElement(A.a,{key:"CONFIGURE_FIELDS"})),i.renderActivityFeed()]},i.renderCompactLayout=function(){return Object(O.isIndividualScrollingEnabled)()?o.a.createElement(K.g,{scrollHidden:!i.props.arePanelsClosed,innerRef:i.setSidePanelContainer},o.a.createElement(K.f,{innerRef:i.setPanelColumn},i.renderCompactHeader(),o.a.createElement(K.k,{show:i.props.arePanelsClosed},o.a.createElement(k.a,{isCompact:!0},o.a.createElement(u.a,null,i.renderCompactLayoutItems()))))):o.a.createElement(k.a,{isCompact:!0},o.a.createElement(u.a,null,o.a.createElement(K.k,{innerRef:i.setContextWidth,show:i.props.arePanelsClosed,key:"sideContentWrapper"},i.renderCompactHeader(),i.renderCompactLayoutItems())))},i.state={contextWidth:0,sidePanelStyles:{panelWidth:0,headerWidth:0,contentWidth:0}},i}return function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(r,[{key:"componentDidMount",value:function(){this.updateSidePanelStyles()}},{key:"shouldComponentUpdate",value:function(e,t){return this.didPropsChange(e)||this.didStateChange(t)}},{key:"componentWillUnmount",value:function(){Object(O.isIndividualScrollingEnabled)()&&this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.disconnect()}},{key:"didStateChange",value:function(e){if(Object(O.isIndividualScrollingEnabled)()){var t=this.state,n=(t.sidePanelContainerElement,t.panelColumnElement,t.sidePanelStyles,W(t,["sidePanelContainerElement","panelColumnElement","sidePanelStyles"])),r=(e.sidePanelContainerElement,e.panelColumnElement,e.sidePanelStyles,W(e,["sidePanelContainerElement","panelColumnElement","sidePanelStyles"]));return(!this.props.arePanelsClosed||!a()(n,r))&&!a()(this.state,e)}return!this.props.arePanelsClosed&&this.state.contextWidth!==e.contextWidth}},{key:"didPropsChange",value:function(e){return!a()(this.props,e)}},{key:"renderStatusFieldAndApprovals",value:function(){if(Object(O.isItsmChangeOnboardingTourEnabled)()){var e=this.props.shouldShowApprovalPanel?x.a:x.b;return(o.a.createElement(e,{shouldShowApprovalPanel:this.props.shouldShowApprovalPanel,key:"STATUS"}))}return(o.a.createElement(x.b,{shouldShowApprovalPanel:this.props.shouldShowApprovalPanel,key:"STATUS"}))}},{key:"renderConnectGlancePanels",value:function(){var e=this;return this.props.glances.map((function(t){return o.a.createElement(P.e,{key:"connectGlanceAnimatedPanel-".concat(t.appKey,"__").concat(t.moduleKey),width:e.getContextWidth(),styles:e.state.sidePanelStyles,scrollContainer:e.getPanelsScrollContainer(),glance:t,openedGlance:e.props.openedGlance,externalId:"issue.glance-panel",glanceType:b.a})}))}},{key:"renderGlancePanels",value:function(){var e=this;return this.props.glances.map((function(t){return o.a.createElement(P.e,{key:"connectGlanceAnimatedPanel-".concat(t.appKey,"__").concat(t.moduleKey),width:e.getContextWidth(),styles:e.state.sidePanelStyles,scrollContainer:e.getPanelsScrollContainer(),glance:t,openedGlance:e.props.openedGlance,externalId:"issue.glance-panel"})}))}},{key:"renderContextPanel",value:function(){return o.a.createElement(C.a,{key:"context-panel",width:this.getContextWidth(),styles:this.state.sidePanelStyles,scrollContainer:this.getPanelsScrollContainer()})}},{key:"render",value:function(){var e=this.props.isCompact?this.renderCompactLayout():this.renderFullSizeLayout();return(o.a.createElement(K.h,{innerRef:this.setLayoutContainer,"data-test-id":"issue.views.issue-details.issue-layout.issue-layout"},e,Object(O.isForgeInReduxStoreEnabled)()?this.renderGlancePanels():o.a.createElement(o.a.Fragment,null,Object(O.isForgeUiIntegrationEnabled)()&&this.renderForgeGlancePanels(),this.renderConnectGlancePanels()),this.renderContextPanel()))}}]),r}(r.Component);Z.displayName="IssueLayout",Z.defaultProps={isCompact:!1,shouldRenderHeader:!1,shouldShowApprovalPanel:!1,openedGlance:null,forgeExtensions:[],glances:[]},Z.displayName="IssueLayout",t.a=Object(i.connect)((function(e){return{glances:Object(O.isForgeInReduxStoreEnabled)()?Object(h.i)(e):Object(h.m)(e),openedGlance:Object(E.a)(e),arePanelsClosed:!Object(E.a)(e)&&!Object(w.b)(e),shouldShowApprovalPanel:Object(g.v)(e),issueKey:Object(g.B)(e),issueId:Object(g.A)(e),issueType:Object(j.f)(e),projectKey:Object(g.J)(e),projectId:Object(v.B)(e),shouldRenderHeader:Object(g.O)(e),isMobile:Object(g.t)(e)}}),{})(Z)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/packages/issue/issue-view/src/views/issue-details/issue-layout/styled.js":function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return j}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),i=n("./src/packages/issue/issue-view/src/feature-flags.js"),s=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/styled.js"),a=1280,c=4*o.f,u=2*o.f,l=1.5*o.f,f=r.default.div(["padding:0 ","px ","px;",""],u,s.c,(function(e){var t=e.isLeftmost,n=e.isRightmost;return t?"\n                    padding-left: ".concat(c,"px;\n                "):n?"\n                    padding-left: ".concat(u+o.f,"px\n                    padding-right: ").concat(c-1.5*o.f,"px;\n                "):""})),d=r.default.div(["flex-grow:1;",";",""],(function(e){return e.scrollHidden?Object(r.css)(["overflow:hidden;","{border-right:","px solid transparent;}"],f,15):"\n        overflow-x: hidden; /* 2 value shorthand syntax is not supported in IE11 */\n        overflow-y: auto;\n   "}),(function(e){var t=e.medium,n=e.isLeftmost,r=t/12,o=e.isRightmost?l:n?-l:0,i="".concat((100*r).toFixed(3),"%"),s="calc(".concat(r.toFixed(5)," * min(").concat(a,"px, 100%) + ").concat(o,"px)");return"\n            flex-shrink: ".concat(n?1:0,";\n            width: ").concat(i,";\n            width: ").concat(s,";\n        ")})),p=r.default.div(["margin-top:","px;"],3*o.f),m=r.default.div(["position:relative;",""],(function(){return Object(i.isIndividualScrollingEnabled)()&&"\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n    "})),y=r.default.div(["display:flex;flex:1 1 auto;min-width:0;width:100%;"]),b=r.default.div(["display:flex;flex:1 1 auto;> div{display:flex;flex:1 1 auto;}"]),g=r.default.div(["display:flex;flex-wrap:wrap;flex-direction:row;align-items:flex-start;justify-content:space-between;align-content:stretch;margin-left:","px;margin-bottom:","px;padding-left:","px;"],-o.f,3*o.f,1.25*o.f),v=r.default.div(["visibility:",";"],(function(e){return e.show?"visible":"hidden"})),h=r.default.div(["height:100%;",";"],(function(e){return e.scrollHidden?Object(r.css)(["overflow:hidden;border-right:","px solid transparent;"],15):"\n        overflow: auto;\n   "})),O=r.default.div(["padding:0 ","px;"],2.5*o.f),j=r.default.div([""])},"./src/packages/issue/issue-view/src/views/issue-details/issue-view.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Issue",(function(){return Tc}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/lodash/noop.js"),a=n.n(s),c=n("./node_modules/@atlaskit/page/GridColumn.js"),u=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/error.js"),l=n("./src/packages/platform/observability/analytics-web-react/src/index.js"),f=n("./src/packages/common-legacy-do-not-add-anything-new/src/bridge/jira-bridge.js"),d=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),p=n("./src/packages/issue/issue-view/src/actions/view-mount-status-actions.js"),m=n("./node_modules/react-intl/lib/index.es.js"),y=n("./src/packages/platform/utils/constants/src/status-categories.js"),b=n("./src/packages/issue/issue-view/src/common/actions/worklog-actions.js"),g=n("./src/packages/issue/issue-view/src/common/service/mentions/index.js"),v=n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js"),h=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),O=n("./src/packages/issue/issue-view/src/common/state/selectors/media-context-selector.js"),j=n("./src/packages/issue/issue-view/src/common/state/selectors/time-tracking-selector.js"),w=n("./src/packages/issue/issue-view/src/selectors/status-selector.js"),E=n("./src/packages/issue/issue-view/src/activity/worklog/state/index.js"),k=n("./src/packages/rich-content/src/common/adf-parsing-utils.js"),S=n("./src/packages/issue/issue-view/src/common/util/time-string/index.js"),I=n("./src/packages/issue/issue-view/src/common/util/types/type-check/index.js"),C=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/enter-escape-handler/index.js"),P=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/modal-dialog/index.js"),_=n("./node_modules/@atlaskit/button--current/components/Button.js"),x=n("./node_modules/@atlaskit/spinner/dist/esm/Spinner/index.js"),T=Object(m.defineMessages)({save:{id:"issue.log-time.modal.log-time-action.save",defaultMessage:"Save"},cancel:{id:"issue.log-time.modal.log-time-action.cancel",defaultMessage:"Cancel"}}),A=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),D=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),R=A.default.div(["display:inline-flex;justify-content:flex-end;align-items:center;width:100%;>:not(:first-child){margin-left:","px;}"],D.f/2),M=A.default.div(["> *{display:flex;}margin-right:","px;"],D.f),L=function(){return o.a.createElement(M,null,o.a.createElement(x.a,{size:"small"}))};L.displayName="renderSpinner";var N=function(e){var t=e.formState,n=e.onConfirm,r=e.onCancel,i=e.intl;return(o.a.createElement(R,null,"submitting"===t?L():null,o.a.createElement(_.b,{appearance:"primary",onClick:n,isDisabled:"invalid"===t||"submitting"===t},i.formatMessage(T.save)),o.a.createElement(_.b,{appearance:"subtle",onClick:r,isDisabled:"submitting"===t},i.formatMessage(T.cancel))))};N.displayName="LogTimeModalFooter";var F=N,U=Object(m.injectIntl)(F),V=n("./node_modules/@atlaskit/field-base/components/Label.js"),K=n("./src/packages/issue/issue-view/src/common/util/date-time-formatter/index.js"),B=n("./src/packages/issue/issue-view/src/common/component/date-time/index.js"),W=n("./src/packages/issue/issue-view/src/common/component/editor/async-editor-view.js"),H=Object(m.defineMessages)({label:{id:"issue.log-time.modal.work-description.label",defaultMessage:"Work description"}});function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(n,e);var t=Q(n);function n(){return q(this,n),t.apply(this,arguments)}return function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{label:this.props.intl.formatMessage(H.label)}),o.a.createElement(W.b,{isExpanded:!0,externalId:this.props.externalId,baseUrl:this.props.baseUrl,isDisabled:this.props.isDisabled,defaultValue:this.props.defaultValue,portalElement:this.props.portalElement,onChange:this.props.onChange,onChangeFailure:this.props.onChangeFailure,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider}))}}]),n}(r.Component);Z.defaultProps={portalElement:void 0},Z.displayName="WorkDescription";var X=Object(m.injectIntl)(Z),ee=A.default.div(["align-items:center;display:flex;flex-direction:row;>:not(:first-child){margin-left:","px;}"],D.f),te=A.default.div(["width:50%;"]),ne=A.default.div(["width:100%;"]),re=n("./src/packages/issue/issue-view/src/common/messages/time.js");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(n,e);var t=ce(n);function n(){var e;ie(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={shouldAppearInvalid:!e.props.isValid},e.onBlur=function(){e.setState({shouldAppearInvalid:!e.props.isValid})},e}return function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.isValid&&e.isValid&&this.setState({shouldAppearInvalid:!1})}},{key:"render",value:function(){return o.a.createElement("div",{onBlur:this.onBlur},this.props.children(this.state.shouldAppearInvalid))}}]),n}(r.Component);fe.displayName="WithValidationOnBlur";var de=n("./node_modules/@atlaskit/field-text/FieldTextStateless.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(n,e);var t=ge(n);function n(){var e;me(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){e.props.onChange(t.target.value)},e}return function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(n,[{key:"render",value:function(){return o.a.createElement(de.a,{value:this.props.value,label:this.props.label,placeholder:this.props.placeholder,isInvalid:this.props.isInvalid,invalidMessage:this.props.isInvalid?this.props.invalidMessage:void 0,disabled:this.props.isDisabled,required:this.props.isRequired,autoFocus:this.props.autoFocus,onChange:this.onChange,onBlur:this.props.onBlur,shouldFitContainer:!0})}}]),n}(r.Component);Oe.defaultProps={isInvalid:!1,isRequired:!1,isDisabled:!1,autoFocus:!1,placeholder:void 0,invalidMessage:void 0,onBlur:a.a},Oe.displayName="TimeLogTextField";var je=Object(m.defineMessages)({timeRemaining:{id:"issue.log-time.modal.time-remaining",defaultMessage:"Time remaining"},timeSpent:{id:"issue.log-time.modal.time-spent",defaultMessage:"Time spent"}}),we=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),Ee=A.default.div(["padding:","px ","px;"],D.f-2,D.f-6),ke=A.default.div(["list-style:inside;margin-top:","px;padding-left:","px;padding-bottom:","px;"],D.f,D.f/2,D.f/2);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(n,e);var t=_e(n);function n(){return Ie(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ce(e.prototype,t),n&&Ce(e,n)}(n,[{key:"tooltipContentRender",value:function(){var e=this.props.intl;return(o.a.createElement(Ee,null,o.a.createElement("p",null,e.formatMessage(re.a.exampleFormat,{formatExample:"2w 4d 6h 45m"})),o.a.createElement(ke,null,o.a.createElement("li",null,e.formatMessage(re.a.weeks,{w:"w"})),o.a.createElement("li",null,e.formatMessage(re.a.days,{d:"d"})),o.a.createElement("li",null,e.formatMessage(re.a.hours,{h:"h"})),o.a.createElement("li",null,e.formatMessage(re.a.minutes,{m:"m"})))))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.shouldRenderContent;return(o.a.createElement(we.a,{content:n?this.tooltipContentRender():null},t))}}]),n}(r.Component);Ae.displayName="TimeTrackingTooltip";var De=Ae,Re=function(e){var t=e.isValid,n=e.value,r=e.onChange,i=e.onBlur,s=e.isDisabled,a=e.intl;return(o.a.createElement(fe,{isValid:t},(function(e){return o.a.createElement(De,{shouldRenderContent:t&&!s,intl:a},o.a.createElement(Oe,{value:n,isInvalid:e,invalidMessage:re.c,onChange:r,onBlur:i,isDisabled:s,label:a.formatMessage(je.timeSpent),placeholder:re.b,autoFocus:!0}))})))};Re.displayName="ValidatedLogTimeInput";var Me=Re,Le=function(e){var t=e.isValid,n=e.value,r=e.onChange,i=e.onBlur,s=e.isDisabled,a=e.intl;return(o.a.createElement(fe,{isValid:t},(function(e){return o.a.createElement(Ae,{shouldRenderContent:t&&!s,intl:a},o.a.createElement(Oe,{value:n,isInvalid:e,invalidMessage:re.c,onChange:r,onBlur:i,isDisabled:s,label:a.formatMessage(je.timeRemaining),placeholder:re.b}))})))};function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(n,e);var t=Ke(n);function n(){var e;Fe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDateStartedChange=function(t){e.props.onDateStartedChange(t)},e}return function(e,t,n){t&&Ue(e.prototype,t),n&&Ue(e,n)}(n,[{key:"render",value:function(){var e=this.props.value,t=e.timeLogged,n=e.timeRemaining,r=e.dateStarted,i=e.workDescription;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(ee,null,o.a.createElement(te,null,o.a.createElement(Me,{value:t,isDisabled:this.props.isDisabled,isValid:this.props.isTimeLoggedValid,onChange:this.props.onTimeLoggedChange,onBlur:this.props.onTimeLoggedBlur,intl:this.props.intl})," "),o.a.createElement(te,null,o.a.createElement(Le,{value:n,isDisabled:this.props.isDisabled,isValid:this.props.isTimeRemainingValid,onChange:this.props.onTimeRemainingChange,onBlur:this.props.onTimeRemainingBlur,intl:this.props.intl}))),!this.props.isCollapsed&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ne,null,o.a.createElement(m.FormattedMessage,{id:"issue.log-time.modal.date-started",defaultMessage:"Date started"},(function(e){return o.a.createElement(V.a,{label:String(e),isRequired:!0})})),o.a.createElement(B.a,{value:r||null,timeZone:this.props.timeZone,parseValue:K.b,onChange:this.onDateStartedChange,isDisabled:this.props.isDisabled})),o.a.createElement(X,{defaultValue:i,isDisabled:this.props.isDisabled,portalElement:this.props.portalElement,onChange:this.props.onWorkDescriptionChange,onChangeFailure:this.props.onWorkDescriptionChangeFailure,externalId:this.props.externalId,baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider}))))}}]),n}(r.Component);He.defaultProps={portalElement:void 0},He.displayName="LogTimeModalForm";var Ge=Object(m.injectIntl)(He),qe=n("./node_modules/@atlaskit/lozenge/Lozenge/index.js"),ze=n("./src/packages/issue/issue-view/src/common/component/logged-time/index.js"),Ye=A.default.p(["margin-top:","px;"],3*D.f);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(n,e);var t=Xe(n);function n(){var e;Je(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).secondsToTimeString=function(t){var n=e.props.config,r=n.daysPerWeek,o=n.hoursPerDay;return Object(S.c)(r,o)(t)},e}return function(e,t,n){t&&$e(e.prototype,t),n&&$e(e,n)}(n,[{key:"renderEstimatedTime",value:function(e){return o.a.createElement(Ye,null,o.a.createElement(m.FormattedMessage,{id:"issue.log-time.modal.original-estimate",defaultMessage:"The original estimate for this issue was {time}.",values:{time:o.a.createElement(qe.a,null,this.secondsToTimeString(e))}}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.value,r=e.isDone,i=e.estimatedTime;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(ze.a,{config:t,value:n,estimatedTime:i,isDone:r,isCompact:!1}),i?this.renderEstimatedTime(i):null))}}]),n}(r.Component);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nt.defaultProps={isDone:!1,value:{}},nt.displayName="LogTimeModalProgressTracker";var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(n,e);var t=at(n);function n(){var e;ot(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={containerRef:void 0},e.setContainerRef=function(t){e.state.containerRef||e.setState({containerRef:t})},e.renderHeader=function(){return o.a.createElement("h3",null,e.props.header)},e.renderFooter=function(){return o.a.createElement(U,{formState:e.props.formState,onConfirm:e.props.onSubmit,onCancel:e.props.onCancel})},e}return function(e,t,n){t&&it(e.prototype,t),n&&it(e,n)}(n,[{key:"secondsToTimeString",value:function(e){var t=this.props.config,n=t.daysPerWeek,r=t.hoursPerDay;return Object(S.c)(n,r)(e)}},{key:"timeStringToSeconds",value:function(e){var t=this.props.config,n=t.daysPerWeek,r=t.hoursPerDay;return Object(S.d)(n,r)(e)}},{key:"renderProgressTracker",value:function(){var e=this.props,t=e.progressTrackerValue,n=t.loggedTime,r=t.remainingTime,i=e.estimatedTime;return void 0===n&&void 0===r&&void 0===i?null:o.a.createElement(nt,{config:this.props.config,value:this.props.progressTrackerValue,estimatedTime:this.props.estimatedTime,isDone:this.props.isDone})}},{key:"renderForm",value:function(){return o.a.createElement(Ge,{value:this.props.value,isCollapsed:this.props.isCollapsed,isDisabled:"submitting"===this.props.formState,isTimeLoggedValid:this.props.isTimeLoggedValid,onTimeLoggedBlur:this.props.onTimeLoggedBlur,isTimeRemainingValid:this.props.isTimeRemainingValid,onTimeRemainingBlur:this.props.onTimeRemainingBlur,timeZone:this.props.timeZone,portalElement:this.state.containerRef,onTimeLoggedChange:this.props.onTimeLoggedChange,onTimeRemainingChange:this.props.onTimeRemainingChange,onDateStartedChange:this.props.onDateStartedChange,onWorkDescriptionChange:this.props.onWorkDescriptionChange,onWorkDescriptionChangeFailure:this.props.onWorkDescriptionChangeFailure,baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,mentionEncoder:this.props.mentionEncoder,mentionProvider:this.props.mentionProvider,activityProvider:this.props.activityProvider,externalId:this.props.externalId})}},{key:"render",value:function(){return o.a.createElement(P.a,{header:this.renderHeader,footer:this.renderFooter,isOpen:!0,width:"small",onDialogDismissed:this.props.onCancel},o.a.createElement(C.a,{onEscape:this.props.onCancel},o.a.createElement("div",{ref:this.setContainerRef},this.renderProgressTracker(),this.renderForm())))}}]),n}(r.Component);lt.defaultProps={isDone:!1,progressTrackerValue:{},estimatedTime:void 0},lt.displayName="LogTimeModal";var ft=n("./src/packages/issue/issue-view/src/common/component/log-time-modal/modal/utils/index.js");function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(n,e);var t=vt(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onTimeLoggedBlur=function(){r.applyDefaultTimeFormat(r.state.value.timeLogged,r.onTimeLoggedChange)},r.onTimeRemainingBlur=function(){r.applyDefaultTimeFormat(r.state.value.timeRemaining,r.onTimeRemainingChange)},r.onTimeLoggedChange=function(e){var t=Object(S.b)(e);if(r.setState((function(n){return{value:mt(mt({},n.value),{},{timeLogged:e}),hasUserInteracted:!0,isTimeLoggedValid:t}})),t&&r.props.initialValue.timeRemaining){var n=(r.timeStringToSeconds(e)||0)-(r.timeStringToSeconds(r.props.initialValue.timeLogged)||0),o=(r.timeStringToSeconds(r.props.initialValue.timeRemaining)||0)-n,i=r.secondsToTimeString(o);r.setState((function(e){return{value:mt(mt({},e.value),{},{timeRemaining:i}),isTimeRemainingValid:!0}}))}},r.onTimeRemainingChange=function(e){r.setState((function(t){return{value:mt(mt({},t.value),{},{timeRemaining:e}),hasUserInteracted:!0,isTimeRemainingValid:Object(S.b)(e)}}))},r.onDateStartedChange=function(e){r.setState((function(t){return{value:mt(mt({},t.value),{},{dateStarted:e}),defaultDateStarted:null,hasUserInteracted:!0}}))},r.onWorkDescriptionChange=function(e){r.setState((function(t){return{value:mt(mt({},t.value),{},{workDescription:e}),hasUserInteracted:!0}}))},r.onSubmit=function(){var e="string"!=typeof r.state.value.workDescription?Object(k.e)(r.state.value.workDescription):r.state.value.workDescription,t=mt(mt({},r.getValue()),{},{workDescription:e});r.props.onSubmit(t)},r.applyDefaultTimeFormat=function(e,t){var n=e.trim();if(Object(I.a)(n)){var o=r.props.config.defaultUnit;n="".concat(n).concat(Object(ft.a)(o))}n!==e&&t(n)},r.state={value:e.initialValue,defaultDateStarted:Date.now(),isTimeLoggedValid:!0,isTimeRemainingValid:!0,hasUserInteracted:!1},r}return function(e,t,n){t&&bt(e.prototype,t),n&&bt(e,n)}(n,[{key:"getIsCollapsed",value:function(){return this.props.isCollapsible&&!this.state.value.timeLogged}},{key:"getDateStarted",value:function(){var e=this.state,t=e.defaultDateStarted,n=e.value,r=n.dateStarted,o=n.timeLogged;if(!this.props.shouldUpdateDate||r)return r;if(!t)return null;var i=this.timeStringToSeconds(o)||0;try{return new Date(t-1e3*i).toISOString()}catch(e){return new Date(t).toISOString()}}},{key:"getValue",value:function(){return mt(mt({},this.state.value),{},{dateStarted:this.getDateStarted()})}},{key:"getFormState",value:function(){return this.props.isWaiting?"submitting":this.state.hasUserInteracted&&this.props.validator(this.getValue())?"valid":"invalid"}},{key:"getProgressTrackerValue",value:function(){var e=this.state.value,t=e.timeLogged,n=e.timeRemaining,r=this.props,o=r.initialValue,i=r.timeTracking,s=(this.timeStringToSeconds(t)||0)-(this.timeStringToSeconds(o.timeLogged)||0),a=s||i.loggedTime?(s||0)+(i.loggedTime||0):void 0,c=this.timeStringToSeconds(n);return{loggedTime:a,remainingTime:"number"==typeof c?c||0:i.remainingTime}}},{key:"secondsToTimeString",value:function(e){var t=this.props.config,n=t.daysPerWeek,r=t.hoursPerDay;return Object(S.c)(n,r)(e)}},{key:"timeStringToSeconds",value:function(e){var t=this.props.config,n=t.daysPerWeek,r=t.hoursPerDay;return Object(S.d)(n,r)(e)}},{key:"render",value:function(){return o.a.createElement(lt,{value:this.getValue(),progressTrackerValue:this.getProgressTrackerValue(),estimatedTime:this.props.estimatedTime,config:this.props.config,header:this.props.header,formState:this.getFormState(),timeZone:this.props.timeZone,isCollapsed:this.getIsCollapsed(),isDone:this.props.isDone,isTimeLoggedValid:this.state.isTimeLoggedValid,isTimeRemainingValid:this.state.isTimeRemainingValid,onSubmit:this.onSubmit,onCancel:this.props.onCancel,onTimeLoggedChange:this.onTimeLoggedChange,onTimeLoggedBlur:this.onTimeLoggedBlur,onTimeRemainingChange:this.onTimeRemainingChange,onTimeRemainingBlur:this.onTimeRemainingBlur,onDateStartedChange:this.onDateStartedChange,onWorkDescriptionChange:this.onWorkDescriptionChange,onWorkDescriptionChangeFailure:this.props.onWorkDescriptionChangeFailure,baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,externalId:this.props.externalId})}}]),n}(r.Component);jt.defaultProps={isCollapsible:!1,isDone:!1,isWaiting:!1,shouldUpdateDate:!1},jt.displayName="LogTimeModalWithValidation";var wt,Et=Object(l.f)("button",{onSubmit:"clicked",onCancel:"clicked"})(jt),kt=Object(m.defineMessages)({title:{id:"issue.activity.worklog.add-modal.title",defaultMessage:"Time tracking"}});function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At,Dt=function(e){var t=e.timeLogged,n=e.timeRemaining,r=e.dateStarted;return(!!t||!!n)&&Object(S.b)(t)&&Object(S.b)(n)&&!!r},Rt=Object(l.d)("addWorklog",l.h.MODAL)(wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(n,e);var t=_t(n);function n(){return It(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Ct(e.prototype,t),n&&Ct(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.timeTracking,n=e.timeTrackingConfiguration,r=e.intl,i=t.timeSpentSeconds,s=t.remainingEstimateSeconds,c=t.originalEstimateSeconds,u=n.daysPerWeek,f=n.hoursPerDay,d={timeLogged:"",timeRemaining:"number"==typeof s?Object(S.c)(u,f)(s):"",workDescription:k.b},p={loggedTime:i,remainingTime:s};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Et,{initialValue:d,timeTracking:p,estimatedTime:c,config:n,header:r.formatMessage(kt.title),timeZone:this.props.timeZone,isCollapsible:!0,isDone:this.props.isDone,isWaiting:this.props.isSaving,shouldUpdateDate:!0,validator:Dt,onSubmit:this.props.onSubmit,onCancel:this.props.onCancel,onWorkDescriptionChangeFailure:a.a,baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider||{},mentionEncoder:this.props.mentionEncoder||a.a,activityProvider:this.props.activityProvider,externalId:this.props.externalId}),o.a.createElement(l.i,null))}}]),n}(r.Component))||wt,Mt=Object(m.injectIntl)(Object(l.r)({onSubmit:"submitAddWorklog",onCancel:"cancelAddWorklog"})(Object(l.e)("worklog")(Rt))),Lt=Object(i.connect)((function(e){return{timeTrackingConfiguration:Object(j.g)(e),timeTracking:Object(j.h)(e),timeZone:Object(h.y)(e),isDone:Object(w.b)(e)===y.DONE,isSaving:Object(j.c)(e),baseUrl:Object(v.f)(e),mediaContext:Object(O.a)(e),mentionEncoder:Object(g.a)(Object(v.f)(e)),mentionProvider:Object(g.b)(e)}}),(function(e){return{onSubmit:function(t,n){var r=t||{},o=r.timeLogged,i=r.timeRemaining;e(!o&&i?Object(b.eb)(i,n):Object(b.D)(t,n))},onCancel:function(){e(Object(E.u)())}}}))(Mt),Nt=n("./node_modules/lodash/flow.js"),Ft=n.n(Nt),Ut=n("./node_modules/@atlaskit/checkbox/Checkbox.js"),Vt=n("./node_modules/@atlaskit/icon--current/glyph/arrow-right.js"),Kt=n.n(Vt),Bt=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/confirmation-modal/index.js"),Wt=n("./src/packages/issue/issue-view/src/common/util/time-string/is-time-string-valid/index.js"),Ht=Object(m.defineMessages)({delete:{id:"issue.activity.worklog.delete-modal.delete",defaultMessage:"Delete"},deleteHeading:{id:"issue.activity.worklog.delete-modal.delete-heading",defaultMessage:"Delete worklog entry?"},cancel:{id:"issue.activity.worklog.delete-modal.cancel",defaultMessage:"Cancel"},deleteWarning:{id:"issue.activity.worklog.delete-modal.delete-warning",defaultMessage:"Once you delete, it's gone for good."},adjustCheckboxLabel:{id:"issue.activity.worklog.delete-modal.adjust-checkbox-label",defaultMessage:"Adjust time remaining"},adjustCurrentLabel:{id:"issue.activity.worklog.delete-modal.adjust-current-label",defaultMessage:"Current"},adjustNewLabel:{id:"issue.activity.worklog.delete-modal.adjust-new-label",defaultMessage:"New time remaining"},adjustNewSubtext:{id:"issue.activity.worklog.delete-modal.adjust-new-subtext",defaultMessage:"By default, deleted time ({timeSpent}) is added to the time remaining."}}),Gt=n("./node_modules/@atlaskit/theme/index.js"),qt=A.default.div(["display:flex;margin-top:-","px;"],3*D.f),zt=A.default.div(["display:flex;flex-direction:column;align-items:center;max-width:","px;"],11*D.f),Yt=A.default.div(["color:#6b778c;font-size:","px;font-weight:600;line-height:1.3333333333333333;padding:","px 0 ","px 0;"],3*D.f/2,5*D.f/2,D.f/2),Qt=A.default.div(["text-align:center;padding:","px;"],1.25*D.f),Jt=A.default.div(["margin:","px ","px ","px ","px;"],6*D.f,2*D.f,6*D.f,D.f),$t=A.default.div(["margin:","px 0 ","px -","px;"],2*D.f,2*D.f,.5*D.f),Zt=A.default.div(["width:50%;"]),Xt=A.default.div(["font-size:","px;margin-top:","px;color:",";"],1.25*D.f,D.f/2,Gt.colors.N90);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cn=Object(l.d)("deleteWorklog",l.h.MODAL)(At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(n,e);var t=on(n);function n(){var e;tn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).secondsToTimeString=Object(S.c)(e.props.timeTrackingConfig.daysPerWeek,e.props.timeTrackingConfig.hoursPerDay),e.timeStringToSeconds=Object(S.d)(e.props.timeTrackingConfig.daysPerWeek,e.props.timeTrackingConfig.hoursPerDay),e.state={isAdjustTimeRemainingChecked:!0,timeRemaining:e.secondsToTimeString(e.props.timeRemainingSeconds+e.timeStringToSeconds(e.props.worklog.timeSpent))},e.onTimeRemainingChange=function(t){return e.setState({timeRemaining:t.target.value})},e.onCheckboxChange=function(){return e.setState({isAdjustTimeRemainingChecked:!e.state.isAdjustTimeRemainingChecked})},e.onConfirm=function(t,n){return e.props.onConfirm(e.state.isAdjustTimeRemainingChecked?e.state.timeRemaining:e.secondsToTimeString(e.props.timeRemainingSeconds),e.state.isAdjustTimeRemainingChecked,n)},e.originalTimeRemaining=e.secondsToTimeString(e.props.timeRemainingSeconds),e}return function(e,t,n){t&&nn(e.prototype,t),n&&nn(e,n)}(n,[{key:"renderTimeRemainingInput",value:function(e){var t=this,n=this.props,r=n.isDeleting,i=n.intl.formatMessage,s=this.state.timeRemaining;return o.a.createElement(fe,{isValid:e},(function(e){return o.a.createElement(de.a,{value:s,isInvalid:e,invalidMessage:e?re.c:void 0,onChange:t.onTimeRemainingChange,label:i(Ht.adjustNewLabel),placeholder:i(re.a.timeInputPlaceholder),disabled:r,required:!0,shouldFitContainer:!0})}))}},{key:"renderContent",value:function(e){var t=this.props,n=t.isDeleting,r=t.worklog.timeSpent,i=t.intl.formatMessage,s=this.state.isAdjustTimeRemainingChecked;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,i(Ht.deleteWarning)),o.a.createElement($t,null,o.a.createElement(Ut.a,{isChecked:s,isDisabled:n,onChange:this.onCheckboxChange,label:i(Ht.adjustCheckboxLabel),name:"adjust-checkbox"})),s&&o.a.createElement(qt,null,o.a.createElement(zt,null,o.a.createElement(Yt,null,i(Ht.adjustCurrentLabel)),o.a.createElement(Qt,null,this.originalTimeRemaining)),o.a.createElement(Jt,null,o.a.createElement(Kt.a,null)),o.a.createElement(Zt,null,this.renderTimeRemainingInput(e),o.a.createElement(Xt,null,i(Ht.adjustNewSubtext,{timeSpent:r})))))}},{key:"render",value:function(){var e=this.props,t=e.isDeleting,n=e.onCancel,r=e.intl.formatMessage,i=this.state,s=i.timeRemaining,a=i.isAdjustTimeRemainingChecked,c=Object(Wt.a)(s);return o.a.createElement(Bt.b,{headerMessage:r(Ht.deleteHeading),appearance:"danger",contentMessage:this.renderContent(c),confirmActionText:r(Ht.delete),cancelActionText:r(Ht.cancel),onConfirm:this.onConfirm,onCancel:n,isLoading:t,isConfirmDisabled:t||a&&!c,isCancelDisabled:t,externalId:"issue.activity.worklog.delete-modal"},o.a.createElement(l.i,null))}}]),n}(r.Component))||At;function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn,pn=Ft()(Object(l.e)("worklog"),Object(l.r)({onConfirm:"confirmDeleteWorklog",onCancel:"cancelDeleteWorklog"}),m.injectIntl,Object(i.connect)((function(e){return{isDeleting:Object(j.c)(e),worklog:Object(j.a)(e),timeTrackingConfig:Object(j.g)(e),timeRemainingSeconds:Object(E.S)(e)}}),{dispatchDeleteWorklog:E.w,onCancel:E.u},(function(e,t){var n=t.dispatchDeleteWorklog,r=t.onCancel;return ln(ln({},e),{},{onCancel:r,onConfirm:function(t,r,o){e.worklog&&n(e.worklog.id,t,r,o)}})})))(cn),mn=n("./src/packages/issue/issue-view/src/common/util/time-string/time-string-to-seconds/index.js"),yn=Object(m.defineMessages)({title:{id:"issue.activity.worklog.edit-modal.title",defaultMessage:"Edit work log"}});function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jn(this,n)}}function jn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){return function(t){var n=t.timeLogged,r=t.timeRemaining,o=t.dateStarted,i=e.daysPerWeek,s=e.hoursPerDay;return!!Object(mn.a)(i,s)(n)&&Object(S.b)(r)&&!!o}},kn=Object(l.d)("editWorklog",l.h.MODAL)(dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(n,e);var t=On(n);function n(){var e;gn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t,n){e.props.onSubmit(e.props.worklog.id,t,n)},e}return function(e,t,n){t&&vn(e.prototype,t),n&&vn(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.worklog,n=e.timeTracking,r=e.timeTrackingConfiguration,i=e.intl,s=n.timeSpentSeconds,c=n.remainingEstimateSeconds,u=n.originalEstimateSeconds,f=r.daysPerWeek,d=r.hoursPerDay,p={timeLogged:t.timeSpent,timeRemaining:"number"==typeof c?Object(S.c)(f,d)(c):"",dateStarted:new Date(t.started).toISOString(),workDescription:t.comment||k.b},m={loggedTime:s,remainingTime:c};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Et,{initialValue:p,timeTracking:m,estimatedTime:u,config:r,header:i.formatMessage(yn.title),timeZone:this.props.timeZone,isCollapsible:!1,isDone:this.props.isDone,isWaiting:this.props.isSaving,validator:En(r),onSubmit:this.onSubmit,onCancel:this.props.onCancel,onWorkDescriptionChangeFailure:a.a,baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider||{},mentionEncoder:this.props.mentionEncoder||a.a,activityProvider:this.props.activityProvider,externalId:this.props.externalId}),o.a.createElement(l.i,null))}}]),n}(r.Component))||dn,Sn=Ft()(Object(l.e)("worklog"),Object(l.r)({onSubmit:"submitEditWorklog",onCancel:"cancelEditWorklog"}),m.injectIntl,Object(i.connect)((function(e){return{worklog:Object(j.a)(e),timeTrackingConfiguration:Object(j.g)(e),timeTracking:Object(j.h)(e),timeZone:Object(h.y)(e),isDone:Object(w.b)(e)===y.DONE,isSaving:Object(j.c)(e),baseUrl:Object(v.f)(e),mediaContext:Object(O.a)(e),mentionEncoder:Object(g.a)(Object(v.f)(e)),mentionProvider:Object(g.b)(e)}}),(function(e){return{onSubmit:function(t,n,r){e(Object(E.A)(t,n,r))},onCancel:function(){e(Object(E.u)())}}})))(kn),In=n("./src/packages/issue/issue-view/src/common/actions/issue-fetch-actions.js"),Cn=n("./src/packages/issue/issue-view/src/common/component/smart-card/jira-smart-card-provider.js"),Pn=n("./src/packages/issue/issue-view/src/common/constants/index.js"),_n=n("./node_modules/@atlaskit/router/dist/esm/controllers/subscribers/route/index.js"),xn=n("./src/packages/platform/services/bento-transition-check/src/index.js"),Tn=n("./src/packages/platform/services/bento-transition-check/src/components/index.js"),An=n("./src/packages/platform/controllers/spa-state/src/components/transition-state/index.js"),Dn=n("./src/packages/platform/controllers/spa-state/src/index.js"),Rn=n("./src/packages/issue/issue-view/src/common/metrics/index.js");function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vn(this,n)}}function Vn(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(n,e);var t=Un(n);function n(){var e;Ln(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).hasErrored=!1,e.endOfCriticalPath=void 0,e.hasSubmittedMetrics=!1,e.timestampRecievedWhileOptimisticCheckIsPending=void 0,e.spaState=void 0,e}return function(e,t,n){t&&Nn(e.prototype,t),n&&Nn(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isPreview,n=e.isComplete,r=e.metrics,o=e.bentoTransitionCheck,i=e.lastTransitionStartTime,s=e.hasBentoEnabledCheck,a=e.isInitialRender;this.hasErrored||((t||n)&&r.onPreviewRendered({isInitialRender:a}),n&&(r.onInteractive(),this.endOfCriticalPath&&this.endOfCriticalPath(),!s||a?this.submitMetrics():o===xn.c.ALLOW&&this.submitMetrics(i)))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,r=t.metrics,o=t.isLoading,i=t.lastTransitionStartTime,s=t.issueKey,a=t.hasBentoEnabledCheck,c=t.isInitialRender;n&&(this.hasErrored=!0),this.resetSubmissionStateIfNewView(o,e,s),this.hasErrored||((this.isPreviewModeAfterBentoSpaTransition(e)||this.didBentoMoveOutOfLoadingState(e))&&r.onPreviewRendered({isInitialRender:c}),this.didJustMoveToComplete(e)&&(r.onInteractive(),this.endOfCriticalPath&&this.endOfCriticalPath()),this.props.isComplete&&!this.hasSubmittedMetrics&&(!a||c?this.submitMetrics():this.hasSpaBentoCheckCompleted()&&this.submitMetrics(i)))}},{key:"setTimestampRecievedWhileOptimisticCheckIsPending",value:function(e,t){e&&t!==xn.c.INITIAL||(this.timestampRecievedWhileOptimisticCheckIsPending=this.props.lastTransitionStartTime)}},{key:"hasSpaBentoCheckCompleted",value:function(){return this.checkIsBentoCompletedWithPageResetHistoryBlocker()}},{key:"checkIsBentoCompletedWithPageResetHistoryBlocker",value:function(){return this.props.hasBentoEnabledCheck&&this.props.bentoTransitionCheck===xn.c.ALLOW}},{key:"checkIsBentoCompletedWithOutPageResetHistoryBlocker",value:function(){return this.props.hasBentoEnabledCheck&&this.props.bentoTransitionCheck===xn.c.ALLOW&&this.isTimestampFromAfterPending()}},{key:"resetSubmissionStateIfNewView",value:function(e,t,n){(e&&!t.isLoading||n!==t.issueKey)&&(this.hasSubmittedMetrics=!1)}},{key:"isTimestampFromAfterPending",value:function(){return this.timestampRecievedWhileOptimisticCheckIsPending!==this.props.lastTransitionStartTime}},{key:"submitMetrics",value:function(e){this.props.isInitialRender||!e?Object(Rn.k)():Object(Rn.k)(e,this.spaState),this.hasSubmittedMetrics=!0,this.timestampRecievedWhileOptimisticCheckIsPending=null}},{key:"didBentoMoveOutOfLoadingState",value:function(e){var t=this.props,n=t.isPreview,r=t.isComplete;return e.isLoading&&(n||r)}},{key:"isPreviewModeAfterBentoSpaTransition",value:function(e){var t=this.props,n=t.isPreview,r=t.issueKey;return e.issueKey!==r&&n}},{key:"didJustMoveToComplete",value:function(e){return this.props.isComplete&&!e.isComplete}},{key:"render",value:function(){var e=this;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(Dn.h,null,(function(t,n){var r=n.setAppReady;return e.endOfCriticalPath=r,e.spaState=t,null}))))}}]),n}(r.Component);Bn.displayName="BentoMetrics";var Wn=Bn;function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zn=function(e){return null!=e?e-performance.timing.navigationStart:e},Yn=function(e){var t=Gn(Object(Tn.b)(),1)[0].isTransitionCurrentlyAllowed,n=Gn(Object(An.b)(),1)[0],r=n.isInitialRender,i=n.lastTransitionStartTime;return o.a.createElement(_n.a,null,(function(n){var s=n.route;return(o.a.createElement(Wn,Hn({},e,{bentoTransitionCheck:t,isInitialRender:r,lastTransitionStartTime:zn(i),hasBentoEnabledCheck:!!s&&Object(xn.d)(s)})))}))};Yn.displayName="BentoMetricsWithSpaTimingInfo";var Qn=Yn,Jn=n("./src/packages/issue/issue-view/src/common/metrics/context/index.js");function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=or(e);if(t){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir,sr=n("./src/packages/issue/issue-view/src/common/model/error-type.js"),ar=n("./src/packages/issue/issue-view/src/common/model/worklog-type.js"),cr=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js"),ur=n("./src/packages/issue/issue-view/src/feature-flags.js"),lr=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/hierarchy-level-selector.js"),fr=n("./node_modules/reselect/lib/index.js"),dr=n("./node_modules/@atlaskit/adf-utils/dist/esm/traverse/traverse.js"),pr=n("./src/packages/issue/issue-view/src/common/constants/field-renderer-type.js"),mr=n("./src/packages/issue/issue-view/src/common/model/field-config-types.js"),yr=n("./src/packages/issue/issue-view/src/common/state/selectors/field-selector.js"),br=n("./src/packages/issue/issue-view/src/common/state/selectors/get-field-type.js"),gr=n("./src/packages/issue/issue-view/src/configurations.js"),vr=n("./src/packages/issue/issue-view/src/selectors/tab-selector.js"),hr=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/layout-items-selector.js"),Or=Object(yr.q)(gr.o),jr=Object(yr.q)(gr.g),wr=function(e){if(!e)return null;var t=0;return Object(dr.a)(e,{text:function(e){t+=e.text.length}}),t},Er=Object(fr.createSelector)(jr,(function(e){if(!e)return null;var t=e.editingValue||e.adfValue;return wr(t)})),kr=Object(fr.createSelector)(Or,(function(e){if(!e)return null;var t=e.editingValue||e.value;return t?t.length:null})),Sr=Object(fr.createSelector)(yr.t,(function(e){return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return Object(br.a)(e)===mr.tb}))})),Ir=Object(fr.createSelector)(Sr,(function(e){return e.length})),Cr=Object(fr.createSelector)(Sr,(function(e){return e.reduce((function(e,t){switch(t.schema.renderer){case pr.b:var n=t.editingValue||t.adfValue;return e+wr(n);case pr.a:var r=void 0!==t.editingValue?t.editingValue:t.value;return r?e+r.length:e;default:return e}}),0)})),Pr=Object(fr.createSelector)(Er,kr,Ir,Cr,hr.g,hr.a,vr.d,(function(e,t,n,r,o,i,s){return{numCharSummary:t||0,numCharDescription:e||0,numCustomMultilineFields:n,numCharCustomMultilineFields:r,visibleContextItems:o.map((function(e){return e.type})).join(","),numVisibleContextItems:o.length,conditionallyVisibleContextItems:i.map((function(e){return e.type})).join(","),numConditionallyVisibleContextItems:i.length,numFieldTabs:s?Object.keys(s).length:0}})),_r=n("./src/packages/issue/issue-view/src/issue-field/state/selectors/security-level-selector.js"),xr=n("./src/packages/issue/issue-view/src/selectors/analytics-payload-selector.js"),Tr=n("./src/packages/issue/issue-view/src/views/common/experience-tracking/index.js"),Ar=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/index.js"),Dr=n("./src/packages/issue/issue-view/src/views/common/skeleton/skeleton-view.js"),Rr=n("./src/packages/issue/issue-view/src/views/common/with-compact-mode/index.js"),Mr=n("./node_modules/lodash/find.js"),Lr=n.n(Mr),Nr=n("./src/packages/platform/observability/analytics-legacy-gasv2/src/with-analytics.js"),Fr=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/op-triggers/on-mount-and-update/index.js"),Ur=n("./src/packages/platform/ui/flags/src/index.js"),Vr=n("./src/packages/issue/issue-view/src/actions/flag-actions.js"),Kr=n("./src/packages/issue/issue-view/src/actions/issue-delete-actions.js"),Br=n("./src/packages/issue/issue-view/src/actions/upsell-actions.js"),Wr=n("./src/packages/issue/issue-view/src/common/util/safe-component/index.js"),Hr=n("./node_modules/@atlaskit/icon--current/glyph/editor/error.js"),Gr=n.n(Hr),qr=n("./node_modules/@atlaskit/icon--current/glyph/editor/success.js"),zr=n.n(qr),Yr=n("./node_modules/@atlaskit/icon--current/glyph/info.js"),Qr=n.n(Yr);function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r=A.default.span(["color:",";"],(function(e){return e.color})),Zr=o.a.createElement($r,{size:"medium",color:Gt.colors.R300},o.a.createElement(Gr.a,{label:""})),Xr=o.a.createElement($r,{size:"medium",color:Gt.colors.P300},o.a.createElement(Qr.a,{label:""})),eo=o.a.createElement($r,{size:"medium",color:Gt.colors.G300},o.a.createElement(zr.a,{label:""})),to=(Jr(ir={},Pn.j,{messages:Object(m.defineMessages)({title:{id:"issue.generic-server-error-when-adding-comment-title",defaultMessage:"Comment could not be updated"},description:{id:"issue.generic-server-error-when-adding-comment-description",defaultMessage:"There was a connection problem and your comment was not successfully updated. Check your network before trying to update or add another comment."}}),icon:Zr,type:"error"}),Jr(ir,Pn.k,{messages:Object(m.defineMessages)({title:{id:"issue.server-validation-error-when-adding-comment-title",defaultMessage:"We couldn't save your comment"},description:{id:"issue.server-validation-error-when-adding-comment-description",defaultMessage:"It might be empty or have invalid formatting. If you copy-pasted, try removing the formatting and adding it directly in the editor."}}),icon:Zr,type:"error"}),Jr(ir,Pn.l,{messages:Object(m.defineMessages)({title:{id:"issue.content-exceeded-error-when-adding-comment-title",defaultMessage:"We couldn't save your comment"},description:{id:"issue.content-exceeded-error-when-adding-comment-description",defaultMessage:"The comment is too long. Try reducing its length, splitting it, or attaching a file to the issue."}}),icon:Zr,type:"error"}),Jr(ir,Pn.m,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-deleting-comment-title",defaultMessage:"Comment could not be deleted"},description:{id:"issue.server-error-when-deleting-comment-description",defaultMessage:"There was a connection problem and the comment was not successfully deleted. Try checking your network connection."}}),icon:Zr,type:"error"}),Jr(ir,Pn.w,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-retrieving-editor-value-title",defaultMessage:"The text editor failed"},description:{id:"issue.error-when-retrieving-editor-value-description",defaultMessage:"Retry your last action, or refresh the page."}}),icon:Zr,type:"error"}),Jr(ir,Pn.N,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-confirming-rich-text-field-value-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-confirming-rich-text-field-value-description",defaultMessage:"It may contain formatting we don\u2019t recognize. Try removing the formatting before saving."}}),icon:Zr,type:"error"}),Jr(ir,Pn.O,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-confirming-rich-text-field-value-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-confirming-rich-text-field-value-description-maximum-length-exceeded",defaultMessage:"It's too long for the field. Try attaching a file or page to the issue, or adding part of the content as comments."}}),icon:Zr,type:"error"}),Jr(ir,Pn.P,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-saving-empty-required-rich-text-field-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-saving-empty-required-rich-text-field",defaultMessage:"This field is required and cannot be empty."}}),icon:Zr,type:"error"}),Jr(ir,Pn.e,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-adding-attachment-title",defaultMessage:"We couldn't save your attachment"},description:{id:"issue.error-when-adding-attachment-description",defaultMessage:"Reload the issue then try adding it again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.q,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-deleting-issue-link-title",defaultMessage:"We couldn't remove the issue link"},description:{id:"issue.server-error-when-deleting-issue-link-description",defaultMessage:"Try reloading the page and removing the issue link again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.f,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-deleting-attachment-title",defaultMessage:"Attachment could not be deleted"},description:{id:"issue.server-error-when-deleting-attachment-description",defaultMessage:"There was a connection problem and the attachment was not successfully deleted. Try checking your network connection."}}),icon:Zr,type:"error"}),Jr(ir,Pn.W,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-toggle-watch-title",defaultMessage:"We couldn't update your watch status"},description:{id:"issue.server-error-when-toggle-watch-description",defaultMessage:"Check your connection and try clicking watch again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.B,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-fetching-watchers-title",defaultMessage:"We couldn't load the watchers list"},description:{id:"issue.error-when-fetching-watchers-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.S,{messages:Object(m.defineMessages)({title:{id:"issue.start-watching-success-title",defaultMessage:"You're watching this issue"},description:{id:"issue.start-watching-success-description",defaultMessage:"We'll notify you when there's activity on it."}}),icon:eo,type:"success"}),Jr(ir,Pn.T,{messages:Object(m.defineMessages)({title:{id:"issue.stop-watching-success-title",defaultMessage:"You stopped watching this issue"},description:{id:"issue.stop-watching-success-description",defaultMessage:"We won't notify you about activity on it."}}),icon:eo,type:"success"}),Jr(ir,Pn.M,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-removing-watcher-title",defaultMessage:"We couldn't remove that watcher"},description:{id:"issue.error-when-removing-watcher-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.b,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-adding-watcher-title",defaultMessage:"We couldn't add that watcher"},description:{id:"issue.error-when-adding-watcher-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.U,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-reordering-subtask",defaultMessage:"We couldn't reorder those subtasks"},description:{id:"issue.error-when-reordering-subtask-description",defaultMessage:"Wait a few moments, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.C,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-add-flag-title",defaultMessage:"We couldn't flag this issue"},description:{id:"issue.server-error-when-add-flag-description",defaultMessage:"Check your connection and try adding the flag again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.D,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-remove-flag-title",defaultMessage:"We couldn't remove the flag from this issue"},description:{id:"issue.server-error-when-remove-flag-description",defaultMessage:"Check your connection and try removing the flag again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.J,{messages:Object(m.defineMessages)({title:{id:"issue.server-error-when-logging-work-title",defaultMessage:"We couldn't add your time spent"},description:{id:"issue.server-error-when-logging-work-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.H,{messages:Object(m.defineMessages)({title:{id:"issue.upsell-jsd-title-tired-of-pasting-jira-tickets",defaultMessage:"Tired of pasting into Jira tickets?"},description:{id:"issue.upsell-jsd-description-set-up-a-service-desk",defaultMessage:"Set up a service desk today so people can create their own tickets and you can stop wasting time copying and pasting."}}),icon:Xr,type:"info",actions:[{messages:Object(m.defineMessages)({content:{id:"issue.upsell-jsd-action-show-me-how",defaultMessage:"Show me how"}}),onClick:function(e){var t=e.closeFlag,n=e.upsellJsd;(0,e.fireAnalyticsEvent)("issue-paste-upsell-jsd.show-me-how.clicked"),n("jsd-paste-trigger"),t()}},{messages:Object(m.defineMessages)({content:{id:"issue.upsell-jsd-action-skip",defaultMessage:"Skip"}}),onClick:function(e){var t=e.closeFlag;(0,e.fireAnalyticsEvent)("issue-paste-upsell-jsd.skip.clicked"),t()}}],onDismissed:function(e){(0,e.fireAnalyticsEvent)("issue-paste-upsell-jsd.dismissed")}}),Jr(ir,Pn.G,{messages:Object(m.defineMessages)({title:{id:"issue.upsell-jsd-title-better-way-to-run-helpdesk",defaultMessage:"There's a better way to run a help desk"},description:{id:"issue.upsell-jsd-resolve-tickets-faster",defaultMessage:"Create help forms, get key details upfront, and resolve tickets faster."}}),icon:Xr,type:"info",actions:[{messages:Object(m.defineMessages)({content:{id:"issue.upsell-jsd-action-learn-more",defaultMessage:"Learn more"}}),onClick:function(e){var t=e.closeFlag,n=e.upsellJsd;(0,e.fireAnalyticsEvent)("issue-keyword-upsell-jsd.learn-more.clicked"),n("jsd-keyword-trigger"),t()}},{messages:Object(m.defineMessages)({content:{id:"issue.upsell-jsd-action-no-thanks",defaultMessage:"No thanks"}}),onClick:function(e){var t=e.closeFlag;(0,e.fireAnalyticsEvent)("issue-keyword-upsell-jsd.no-thanks.clicked"),t()}}],onDismissed:function(e){(0,e.fireAnalyticsEvent)("issue-keyword-upsell-jsd.dismissed")}}),Jr(ir,Pn.d,{messages:Object(m.defineMessages)({title:{id:"issue.assign-to-me-flag-title",defaultMessage:"Successfully assigned to you"},description:{id:"issue.assign-to-me-flag-description",defaultMessage:"You're now the assignee for {issueKey}."}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.n,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-creating-child-issue-title",defaultMessage:"We couldn't create the child issue"},description:{id:"issue.error-when-creating-child-issue-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.I,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-linking-child-issue-title",defaultMessage:"We couldn't link the child issue"},description:{id:"issue.error-when-linking-child-issue-description",defaultMessage:"The issue was created but the linking failed. Head over to your board and try again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.h,{messages:Object(m.defineMessages)({title:{id:"change.issue.type.success.title",defaultMessage:"Issue type changed to {destType}"},description:{id:"change.issue.type.success.description",defaultMessage:"Issue type changed"}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.g,{messages:Object(m.defineMessages)({title:{id:"change.issue.type.error.title",defaultMessage:"Error changing issue type"},description:{id:"change.issue.type.error.description",defaultMessage:"There was an error changing the issue type. Please try again."}}),icon:Zr,type:"error"}),Jr(ir,Pn.p,{messages:Object(m.defineMessages)({title:{id:"issue.error-when-deleting-issue-title",defaultMessage:"We couldn't delete {issueKey}"},description:{id:"issue.error-when-deleting-issue-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error",actions:[{messages:Object(m.defineMessages)({content:{id:"issue.error-when-deleting-issue-call-to-action",defaultMessage:"Try again"}}),onClick:function(e){var t=e.closeFlag,n=e.retryIssueDelete,r=e.deleteFailureIssueKey;n&&null!=r&&""!==r&&n(r),t()}}]}),Jr(ir,Pn.y,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.edit-success-title",defaultMessage:"Work log entry updated"}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.t,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.delete-success-title",defaultMessage:"Work log entry deleted"}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.i,{messages:Object(m.defineMessages)({title:{id:"issue.clickthrough-banner.flags.dismissed.title",defaultMessage:"Banner be gone!"},description:{id:"issue.clickthrough-banner.flags.dismissed.description",defaultMessage:"You can still open the old view through the \u2022\u2022\u2022 menu on an issue."}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.c,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.add-failure-title",defaultMessage:"We couldn't save your changes"},description:{id:"issue.activity.worklog.flags.add-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.V,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.update-time-remaining-failure-title",defaultMessage:"We couldn't save your edit"},description:{id:"issue.activity.worklog.flags.update-time-remaining-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.x,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.edit-failure-title",defaultMessage:"We couldn't save your edit"},description:{id:"issue.activity.worklog.flags.failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.s,{messages:Object(m.defineMessages)({title:{id:"issue.activity.worklog.flags.delete-failure-title",defaultMessage:"We couldn't delete the work log entry"},description:{id:"issue.activity.worklog.flags.failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.o,{messages:Object(m.defineMessages)({title:{id:"issue.confluence-pages.delete-failure-title",defaultMessage:"We couldn\u2019t remove the page link"},description:{id:"issue.confluence-pages.delete-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Zr,type:"error"}),Jr(ir,Pn.Q,{messages:Object(m.defineMessages)({title:{id:"issue.approval.action.save-error-title",defaultMessage:"We couldn\u2019t save your approval response"},description:{id:"issue.approval.action.save-error-description",defaultMessage:"Give it a few seconds, then try again."}}),icon:Zr,type:"error",shouldAutoDismiss:!0}),Jr(ir,Pn.R,{messages:Object(m.defineMessages)({title:{id:"issue.approval.action.save-success-title",defaultMessage:"We've saved your response."}}),icon:eo,type:"success",shouldAutoDismiss:!0}),Jr(ir,Pn.a,{messages:Object(m.defineMessages)({title:{id:"issue.approval.action.add-approver-error-title",defaultMessage:"We couldn\u2019t add the approver"},description:{id:"issue.approval.action.add-approver-error-description",defaultMessage:"Check your connection, then try again later."}}),icon:Zr,type:"error",shouldAutoDismiss:!0}),Jr(ir,Pn.L,{messages:Object(m.defineMessages)({title:{id:"issue.approval.action.remove-approver-error-title",defaultMessage:"We couldn\u2019t remove the approver"},description:{id:"issue.approval.action.remove-approver-error-description",defaultMessage:"Check your connection, then try again later."}}),icon:Zr,type:"error",shouldAutoDismiss:!0}),ir);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lo(this,n)}}function lo(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}(n,e);var t=uo(n);function n(){var e;so(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onFlagDismissed=function(t){var n=e.props,r=n.flags,o=n.onFlagDismissed,i=n.fireAnalyticsEvent,s=Lr()(r,{id:t});if(s){var a=to[s.type];a.onDismissed&&a.onDismissed({fireAnalyticsEvent:i})}o(t)},e}return function(e,t,n){t&&ao(e.prototype,t),n&&ao(e,n)}(n,[{key:"render",value:function(){var e=this.props,t=e.onFlagDismissed,n=e.flags,r=e.onUpsellJsd,i=e.retryIssueDelete,s=e.fireAnalyticsEvent,a=e.deleteFailureIssueKey,c=e.FlagServiceSubscriber;return(o.a.createElement(c,null,(function(e){var c=e.showFlag;return n.map((function(e){var n=to[e.type],u=e.titleI18nValues?[n.messages.title,e.titleI18nValues]:n.messages.title,l=e.descriptionI18nValues&&n.messages.description?[n.messages.description,e.descriptionI18nValues]:n.messages.description,f=(n.actions||[]).map((function(n){var o=n.messages,c=n.onClick;return{content:o.content,onClick:function(){return c({closeFlag:function(){return t(e.id)},upsellJsd:r,retryIssueDelete:i,deleteFailureIssueKey:a,fireAnalyticsEvent:s})}}})),d=oo(oo({title:u},l&&{description:l}),{},{type:n.type,actions:f,isAutoDismiss:n.shouldAutoDismiss});return o.a.createElement(Fr.a,{key:e.id,args:[d],op:c})}))})))}}]),n}(r.Component);po.displayName="Flags",po.displayName="UnsafeFlags";var mo=Ft()(Object(Nr.a)((function(e){return{fireAnalyticsEvent:function(t,n){return e(t,n)}}})),Object(l.f)("deleteIssueRetry",{retryIssueDelete:"deleteIssueRetry"}),Object(i.connect)((function(e){return{flags:Object(h.i)(e),deleteFailureIssueKey:Object(v.B)(e),FlagServiceSubscriber:Ur.FlagServiceSubscriber}}),(function(e){return{onFlagDismissed:function(t){return e(Object(Vr.b)(t))},onUpsellJsd:function(t){return e(Object(Br.d)(t))},retryIssueDelete:function(t,n){e(Object(Kr.h)(t,n))}}})),Object(Wr.a)())(po),yo=n("./src/packages/issue/issue-view/src/actions/attachment-popup-actions.js"),bo=n("./src/packages/issue/issue-view/src/common/media/user-auth/user-auth-actions.js"),go=n("./src/packages/issue/issue-view/src/selectors/attachment-picker-selector.js"),vo=n("./node_modules/@atlaskit/media-picker/dist/esm/index.js"),ho=n("./src/packages/issue/issue-view/src/actions/attachment-picker-actions.js"),Oo=n("./src/packages/issue/issue-view/src/common/media/upload-context/upload-context-actions.js");function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e){return function(e){if(Array.isArray(e))return _o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Po(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||Po(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){if(e){if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_o(e,t):void 0}}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lo=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(r,t);var n=Do(r);function r(){var e;xo(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).uploadTokensPromisesResolvers=[],e.onUploadsStart=function(t){var n=t.files,r=e.props.onUploadStart;n.forEach((function(e){r({id:"".concat(e.id),createdDate:Date.now()})}))},e.onUploadEnd=function(t){var n=t.file;(0,e.props.onUploadEnd)({id:"".concat(n.id)})},e.onError=function(t){var n=t.error,r=e.props,o=r.onUploadError,i=r.onGeneralError;["upload_fail","object_create_fail"].includes(n.name)?o(n):i(n)},e.resolveAuthPromise=function(t){var n=Co(t,2),r=n[0],o=n[1];if(e.props.uploadContext&&e.isTokenUpToDate()){var i=e.props.uploadContext,s=i.serviceHost;r({clientId:i.clientId,token:i.token,baseUrl:s})}else o()},e}return function(e,t,n){t&&To(e.prototype,t),n&&To(e,n)}(r,[{key:"componentDidUpdate",value:function(e){e.uploadContext!==this.props.uploadContext&&Object(ur.isAttachmentsTokenAutoRefreshEnabled)()&&this.resolveUploadPromises()}},{key:"resolveUploadPromises",value:function(){this.uploadTokensPromisesResolvers.forEach(this.resolveAuthPromise),this.uploadTokensPromisesResolvers=[]}},{key:"isTokenUpToDate",value:function(){if(!this.props.uploadContext)return!1;var e=this.props.uploadContext;return e.tokenIssueTimestamp+e.tokenLifespanInMs>Date.now()}},{key:"render",value:function(){var t=this,n=this.props,r=(n.onUploadStart,n.onUploadEnd,n.onUploadError,n.onGeneralError,n.uploadContext),i=n.eventHandlers,s=n.config,a=Io(n,["onUploadStart","onUploadEnd","onUploadError","onGeneralError","uploadContext","eventHandlers","config"]);if(!r)return null;var c={authProvider:function(){return new Promise((function(e,n){if(Object(ur.isAttachmentsTokenAutoRefreshEnabled)())t.isTokenUpToDate()?t.resolveAuthPromise([e,n]):(t.props.requestUploadToken(),t.uploadTokensPromisesResolvers=[].concat(So(t.uploadTokensPromisesResolvers),[[e,n]]));else{if(!t.props.uploadContext)throw new Error("Attempted to provide upload auth without upload context");var o=r.serviceHost;e({clientId:r.clientId,token:t.props.uploadContext.token,baseUrl:o})}}))}},u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uploadParams:{collection:r.collection}},s),l=i?i["upload-error"]:this.onError,f=i?i["uploads-start"]:this.onUploadsStart,d=i&&i["upload-end"]?i["upload-end"]:this.onUploadEnd,p=i&&i["upload-preview-update"];return o.a.createElement(e,wo({mediaClientConfig:c,config:u,onUploadsStart:f,onError:l,onEnd:d,onPreviewUpdate:p},a))}}]),r}(r.Component)},No=function(e){return Object(cr.a)([Object(i.connect)((function(e){return{uploadContext:Object(O.a)(e).uploadContext}}),(function(e){return{onUploadStart:function(t){return e(Object(ho.k)(t))},onUploadEnd:function(t){return e(Object(ho.l)(t))},onUploadError:function(t){return e(Object(ho.m)(t))},onGeneralError:function(t){return e(Object(ho.n)(t))},requestUploadToken:function(){return e(Object(Oo.e)())}}}))])(Lo(e))};function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qo(e);if(t){var o=qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}function Go(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zo=No(vo.a),Yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(n,e);var t=Ho(n);function n(){var e;Ko(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isOpen:!1,prevOpenRequestCount:0},e.onClose=function(){e.setState({isOpen:!1})},e}return function(e,t,n){t&&Bo(e.prototype,t),n&&Bo(e,n)}(n,[{key:"getBrowserProps",value:function(){return Object(ur.isMediaPickerUseIsOpenEnabled)()?[this.props.isOpen,this.props.onClose]:[this.state.isOpen,this.onClose]}},{key:"render",value:function(){var e=Uo(this.getBrowserProps(),2),t=e[0],n=e[1];return(o.a.createElement(zo,{isOpen:t,onClose:n}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{isOpen:e.openRequestCount>t.prevOpenRequestCount,prevOpenRequestCount:e.openRequestCount}}}]),n}(r.Component);Yo.displayName="BrowserMediaPicker";var Qo=Ft()(Object(Wr.a)(),Object(i.connect)((function(e){return{openRequestCount:Object(go.a)(e),isOpen:Object(go.b)(e)}}),(function(e){return{onClose:function(){return e(Object(yo.c)())}}})),Object(Wr.a)())(Yo),Jo=n("./node_modules/prop-types/index.js"),$o=n.n(Jo),Zo=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js");function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ci(e);if(t){var o=ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ai(this,n)}}function ai(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(n,e);var t=si(n);function n(){var e;ri(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).picker=void 0,e}return function(e,t,n){t&&oi(e.prototype,t),n&&oi(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;Object(vo.d)(ti(ti({},this.props.mediaClientConfig),{},{userAuthProvider:this.props.userAuthProvider}),ti(ti({},this.props.config),{},{proxyReactContext:this.context})).then((function(t){t.on("uploads-start",e.props.onUploadsStart),t.on("upload-end",e.props.onEnd),t.on("upload-error",e.props.onError),e.props.onPickerReady&&e.props.onPickerReady(t),e.picker=t}))}},{key:"componentWillUnmount",value:function(){var e=this.picker;e&&(e.removeAllListeners(),"function"==typeof e.teardown&&e.teardown())}},{key:"render",value:function(){return null}}]),n}(r.Component);function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function di(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){fi(i,r,o,s,a,"next",e)}function a(e){fi(i,r,o,s,a,"throw",e)}s(void 0)}))}}function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ei(e);if(t){var o=Ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ui.displayName="BaseMediaPicker",ui.contextTypes={getAtlaskitAnalyticsEventHandlers:$o.a.func};var ki=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(n,e);var t=ji(n);function n(){var e;vi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onUploadsStart=function(t){t.files.forEach((function(t){e.props.onUploadStart({id:"".concat(t.id),createdDate:Date.now()})}))},e.onUploadEnd=function(t){var n=t.file;e.props.onUploadEnd({id:"".concat(n.id)})},e.onError=function(t){var n=t.error;["upload_fail","object_create_fail"].includes(n.name)?e.props.onUploadError(n):e.props.onGeneralError(n)},e.eventNamesToHandlers=e.props.eventHandlers||{"uploads-start":e.onUploadsStart,"upload-end":e.onUploadEnd,"upload-error":e.onError},e.forEachEventHandler=function(t){Object.entries(e.eventNamesToHandlers).forEach((function(e){var n=bi(e,2),r=n[0],o=n[1];t(r,o)}))},e.createConfig=function(t,n){var r=n.collection;return mi(mi({},t),{},{uploadParams:{collection:r},proxyReactContext:e.context})},e.picker=void 0,e}return function(e,t,n){t&&hi(e.prototype,t),n&&hi(e,n)}(n,[{key:"componentDidMount",value:function(){this.tryInitializePicker()}},{key:"componentDidUpdate",value:function(){this.tryInitializePicker()}},{key:"componentWillUnmount",value:function(){var e=this.picker;e&&(e.removeAllListeners(),"function"==typeof e.teardown&&e.teardown())}},{key:"hasPickerInitialized",value:function(){return!!this.picker}},{key:"tryInitializePicker",value:function(){var e=di(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.config,r=t.userAuthProvider,o=t.uploadContext,!this.hasPickerInitialized()&&o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(vo.d)(this.createMediaClientConfig(o,r),this.createConfig(n,o));case 6:i=e.sent,this.forEachEventHandler((function(e,t){i.on(e,t)})),this.props.onPickerReady(i),this.picker=i,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"createMediaClientConfig",value:function(e,t){var n=this,r=e.serviceHost,o=e.clientId;return{authProvider:function(){var e=di(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.uploadContext){e.next=2;break}throw new Error("Attempted to provide upload auth without upload context");case 2:return e.abrupt("return",{clientId:o,token:n.props.uploadContext.token,baseUrl:r});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),userAuthProvider:t}}},{key:"render",value:function(){return null}}]),n}(r.Component);ki.displayName="BaseMediaPicker",ki.contextTypes={getAtlaskitAnalyticsEventHandlers:$o.a.func};var Si=Object(cr.a)([Object(i.connect)((function(e){return{uploadContext:Object(O.a)(e).uploadContext}}),(function(e){return{onUploadStart:function(t){return e(Object(ho.k)(t))},onUploadEnd:function(t){return e(Object(ho.l)(t))},onUploadError:function(t){return e(Object(ho.m)(t))},onGeneralError:function(t){return e(Object(ho.n)(t))}}}))])(ki),Ii=No(ui);function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e){return function(e){if(Array.isArray(e))return Ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||xi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||xi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){if(e){if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vi(e);if(t){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ui(this,n)}}function Ui(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ki=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(n,e);var t=Fi(n);function n(){var e;Mi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).uploadTokensPromisesResolvers=[],e.onPickerReady=function(t){e.picker=t,e.picker.on("closed",e.props.onClose)},e.onMount=function(t){var n=Object(Zo.v)(t).payload;e.analyticsSource=n.source||"unknown"},e.overrideSourceHandler=function(t){t.update((function(t){return Di(Di({},t),{},{source:e.analyticsSource})}))},e.resolveAuthPromise=function(t){var n=_i(t,2),r=n[0],o=n[1];if(e.isTokenUpToDate()){var i=e.props.userAuth;r({clientId:i.clientId,token:i.token,baseUrl:e.props.serviceHost})}else o()},e.userAuthProvider=function(){return new Promise((function(t,n){if(Object(ur.isAttachmentsTokenAutoRefreshEnabled)())e.isTokenUpToDate()?e.resolveAuthPromise([t,n]):(e.props.requestAuthToken(),e.uploadTokensPromisesResolvers=[].concat(Pi(e.uploadTokensPromisesResolvers),[[t,n]]));else{var r=Di({},e.props.mediaContext.userAuth);t({clientId:r.clientId,token:r.token,baseUrl:Di({},e.props.mediaContext.viewContext).serviceHost})}}))},e.picker=void 0,e.analyticsSource=void 0,e}return function(e,t,n){t&&Li(e.prototype,t),n&&Li(e,n)}(n,[{key:"getChildContext",value:function(){var e=this,t=this.context.getAtlaskitAnalyticsEventHandlers;return{getAtlaskitAnalyticsEventHandlers:function(){return[e.overrideSourceHandler].concat(Pi(t()))}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(Object(ur.isMediaPickerUseIsOpenEnabled)()&&!this.props.isOpen&&e.isOpen||!Object(ur.isMediaPickerUseIsOpenEnabled)()&&this.props.openRequestCount<e.openRequestCount)&&this.showPicker()}},{key:"componentDidUpdate",value:function(e){e.userAuth!==this.props.userAuth&&Object(ur.isAttachmentsTokenAutoRefreshEnabled)()&&this.resolveUploadPromises()}},{key:"showPicker",value:function(){this.picker&&(this.picker.show(),Object(ur.isMediaPickerUseIsOpenEnabled)()||this.props.onOpen())}},{key:"resolveUploadPromises",value:function(){this.uploadTokensPromisesResolvers.forEach(this.resolveAuthPromise),this.uploadTokensPromisesResolvers=[]}},{key:"isTokenUpToDate",value:function(){if(!this.props.userAuth)return!1;var e=this.props.userAuth;return e.tokenIssueTimestamp+e.tokenLifespanInMs>Date.now()}},{key:"render",value:function(){var e=this.props,t=e.eventHandlers,n=e.isOpen,r=Object(ur.isAttachmentsTokenAutoRefreshEnabled)()?Ii:Si;return o.a.createElement(Zo.b,{sourceType:Zo.j,sourceName:"addAttachment"},o.a.createElement(o.a.Fragment,null,o.a.createElement(Zo.k,{onMount:this.onMount}),o.a.createElement(r,{userAuthProvider:this.userAuthProvider,onPickerReady:this.onPickerReady,eventHandlers:t}),n&&o.a.createElement(Zo.f,null)))}}]),n}(r.Component);Ki.childContextTypes={getAtlaskitAnalyticsEventHandlers:$o.a.func},Ki.contextTypes={getAtlaskitAnalyticsEventHandlers:$o.a.func},Ki.displayName="PopupMediaPicker";var Bi=function(e){var t=e.mediaContext,n=e.userAuth,r=e.viewContext,i=e.isMobile,s=e.openRequestCount,a=e.onOpen,c=e.onClose,u=e.isOpen,l=e.eventHandlers,f=e.requestAuthToken;return!i&&t&&t.userAuth&&n&&r&&r.serviceHost?o.a.createElement("div",null,o.a.createElement(Ki,{eventHandlers:l,mediaContext:t,userAuth:n,serviceHost:r.serviceHost,openRequestCount:s,onOpen:a,onClose:c,requestAuthToken:f,isOpen:u})):o.a.createElement(Qo,{eventHandlers:l})};Bi.displayName="PopupMediaPickerWithBrowserFallback";var Wi=Ft()(Object(Wr.a)(),Object(i.connect)((function(e){return{mediaContext:Object(O.a)(e),userAuth:Object(O.a)(e).userAuth,viewContext:Object(O.a)(e).viewContext,openRequestCount:Object(go.a)(e),isMobile:Object(v.t)(e),isOpen:Object(go.b)(e)}}),(function(e){return{onOpen:function(){return e(Object(yo.d)())},onClose:function(){return e(Object(yo.c)())},requestAuthToken:function(){return e(Object(bo.e)())}}})),Object(Wr.a)())(Bi),Hi=n("./src/packages/issue/issue-view/src/actions/attachment-panel-actions.js"),Gi=n("./src/packages/issue/issue-view/src/selectors/comment-selector.js"),qi=Object(fr.createSelector)(yr.E,Gi.y,go.b,Object(yr.A)(gr.E),j.d,(function(e,t,n,r,o){return!(e||t||n||r||o===ar.d)}));function zi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Yi=No(vo.c),Qi=Object(cr.a)([Object(i.connect)((function(e){return{isEnabled:qi(e)}}),{})])((function(e){var t=e.isEnabled,n=zi(e,["isEnabled"]);return t?o.a.createElement(Yi,n):null}));function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t){return(ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=is(e);if(t){var o=is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return os(this,n)}}function os(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ss={headless:!0},as=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}(n,e);var t=rs(n);function n(){var e;es(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onPickerReady=function(t){e.picker=t,t.on("drag-enter",e.onDragEnter),t.on("drag-leave",e.onDragLeave),t.on("drop",e.onDrop)},e.onDragEnter=function(t){var n=t.length;e.numAttachments!==n&&(e.numAttachments=n,e.props.onDragEnter(n))},e.onDragLeave=function(){0!==e.numAttachments&&(e.numAttachments=0,e.props.onDragLeave())},e.onDrop=function(){e.numAttachments=0,e.props.onDrop()},e.numAttachments=0,e.picker=void 0,e}return function(e,t,n){t&&ts(e.prototype,t),n&&ts(e,n)}(n,[{key:"getConfig",value:function(){return Zi(Zi({},ss),{},{container:this.props.container})}},{key:"render",value:function(){return o.a.createElement(Qi,{config:this.getConfig(),onPickerReady:this.onPickerReady})}}]),n}(r.Component);as.displayName="DropzoneMediaPicker";var cs=Object(cr.a)([Object(i.connect)((function(){return{}}),(function(e){return{onDragEnter:function(t){return e(Object(Hi.d)(t))},onDragLeave:function(){return e(Object(Hi.e)())},onDrop:function(){return e(Object(Hi.f)())}}}))])(as),us=n("./src/packages/issue/issue-view/src/aui-modal-stack-index/index.js");function ls(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var fs=No(vo.b),ds=function(e){var t=e.isEnabled,n=ls(e,["isEnabled"]);return(o.a.createElement(us.a,null,(function(e){return t&&0===e?o.a.createElement(fs,n):null})))};ds.displayName="CommonClipboardMediaPicker";var ps=Object(cr.a)([Object(i.connect)((function(e){return{isEnabled:qi(e)}}),{})])(ds),ms=n("./src/packages/issue/issue-view/src/actions/comment-actions.js"),ys=n("./src/packages/issue/issue-view/src/selectors/comment-constants.js"),bs=n("./node_modules/lodash/reduce.js"),gs=n.n(bs),vs=n("./node_modules/lodash/set.js"),hs=n.n(vs),Os=n("./node_modules/lodash/some.js"),js=n.n(Os),ws=n("./node_modules/@atlaskit/adf-utils/dist/esm/builders/nodes/doc.js"),Es=n("./node_modules/@atlaskit/adf-utils/dist/esm/builders/nodes/paragraph.js"),ks=n("./node_modules/@atlaskit/adf-utils/dist/esm/builders/nodes/media-single.js"),Ss=n("./node_modules/@atlaskit/adf-utils/dist/esm/builders/nodes/media-group.js"),Is=n("./node_modules/@atlaskit/adf-utils/dist/esm/builders/nodes/media.js");function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ps(e){return function(e){if(Array.isArray(e))return _s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t){return(As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ms(e);if(t){var o=Ms(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rs(this,n)}}function Rs(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ms(e){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ls="issue.issue-base.content.attachment.picker.servicedesk",Ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}(n,e);var t=Ds(n);function n(){var e;xs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onUploadsStart=function(t){var n=t.files;e.props.setCommentAttachmentInProgress(!0),e.commentAttachments=n.map((function(e){return{file:e,isUploadFinished:!1}})),Object(ur.isAttachmentsTokenAutoRefreshEnabled)()||e.injectAttachmentsToCommentEditor(e.commentAttachments)},e.onUploadFinished=function(t){var n=t.file;Object(ur.isAttachmentsTokenAutoRefreshEnabled)()&&e.injectAttachmentsToCommentEditor(e.commentAttachments),e.markAttachmentAsUploadFinished(n.id)},e.onUploadError=function(t){var n=t.file;d.a.safeError(Ls,"Failed to upload an attachment.",new u.a({eventNameSuffix:Pn.E,type:u.i,app:u.e})),e.markAttachmentAsUploadFinished(n.id)},e.getAttachmentsDocNode=function(t,n){var r=e.separateImageAndNonImageAttachments(t),o=e.getMediaSingleNodes(r.images,n),i=r.nonImages.length>0?e.getMediaGroupNode(r.nonImages,n):null;return i?ws.a.apply(void 0,[i].concat(Ps(o),[Object(Es.a)()])):ws.a.apply(void 0,Ps(o).concat([Object(Es.a)()]))},e.getMediaSingleNodes=function(t,n){return t.map((function(t){return e.getMediaSingleNode(t,n)}))},e.getMediaSingleNode=function(t,n){var r=e.getMediaNode(t,200,200,n);return Object(ks.a)({layout:"center"})(r)},e.getMediaGroupNode=function(t,n){return Ss.a.apply(void 0,Ps(t.map((function(t){return e.getMediaNode(t,null,null,n)}))))},e.getMediaNode=function(e,t,n,r){var o=e.file;return Object(Is.a)({id:o.id,collection:r,type:"file",name:o.name,size:o.size,width:t,height:n,__key:o.id,__fileName:o.name,__fileSize:o.size,__fileMimeType:o.type,__displayType:null})},e.markAttachmentAsUploadFinished=function(t){hs()(Lr()(e.commentAttachments,(function(e){return e.file.id===t})),"isUploadFinished",!0),js()(e.commentAttachments,{isUploadFinished:!1})||(e.props.setCommentAttachmentInProgress(!1),e.commentAttachments=[])},e.commentAttachments=void 0,e.separateImageAndNonImageAttachments=function(t){return gs()(t,(function(t,n){return e.isImageAttachment(n.file.type)?t.images.push(n):t.nonImages.push(n),t}),{images:[],nonImages:[]})},e.injectAttachmentsToCommentEditor=function(t){var n=e.props.uploadContext;if(n){var r=e.getAttachmentsDocNode(t,n.collection);e.props.onEditCommentUpdate(r)}else d.a.safeError(Ls,"Failed to upload attachments. Upload context not available.",new u.a({eventNameSuffix:Pn.E,type:u.i,app:u.e}))},e.isImageAttachment=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},e.eventHandlers={"uploads-start":e.onUploadsStart,"upload-end":e.onUploadFinished,"upload-error":e.onUploadError},e}return function(e,t,n){t&&Ts(e.prototype,t),n&&Ts(e,n)}(n,[{key:"render",value:function(){var e=this.props.render;return e(this.eventHandlers)}}]),n}(r.Component);Ns.displayName="EventHandlersProvider";var Fs=Object(cr.a)([Object(i.connect)((function(e){return{uploadContext:Object(O.a)(e).uploadContext}}),(function(e){return{onEditCommentUpdate:function(t){e(Object(ms.I)(ys.a,!0)),e(Object(ms.Q)(ys.a,t))},setCommentAttachmentInProgress:function(t){return e(Object(ms.ib)(t))}}}))])(Ns),Us=function(){return o.a.createElement(Fs,{render:function(e){return o.a.createElement(Wi,{eventHandlers:e})}})};function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return(Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qs(e);if(t){var o=qs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gs(this,n)}}function Gs(e,t){return!t||"object"!==Vs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qs(e){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(n,e);var t=Hs(n);function n(){return Ks(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Bs(e.prototype,t),n&&Bs(e,n)}(n,[{key:"getConfig",value:function(){return{container:this.props.container}}},{key:"render",value:function(){var e=this;return(o.a.createElement(Fs,{render:function(t){return o.a.createElement(Qi,{config:e.getConfig(),eventHandlers:t})}}))}}]),n}(r.Component);zs.displayName="ServiceDeskDropzonePicker";var Ys=function(){return o.a.createElement(Fs,{render:function(e){return o.a.createElement(ps,{eventHandlers:e})}})},Qs=n("./node_modules/react-async-component/commonjs/index.js"),Js=n.e("async-attachment-viewer-next").then(n.bind(null,"./src/packages/issue/issue-view/src/views/issue-base/content/attachment/viewer/attachment-viewer-view.js")),$s=Object(Qs.asyncComponent)({resolve:function(){return Js}}),Zs=n("./src/packages/issue/issue-view/src/common/ecosystem/ecosystem-analytics.js"),Xs=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-extensions-selector.js");function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sa(e);if(t){var o=sa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ia(this,n)}}function ia(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(n,e);var t=oa(n);function n(){var e;ta(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).fireAnalytics=function(){var t=e.props,n=t.glances,r=t.contentPanels,o=t.activityPanels,i=t.operations,s=t.ecosystemCustomFieldIds;e.props.ecosystemLoadedAnalytics(n,r,o,i,s.length)},e}return function(e,t,n){t&&na(e.prototype,t),n&&na(e,n)}(n,[{key:"componentDidMount",value:function(){this.fireAnalytics()}},{key:"componentDidUpdate",value:function(){this.fireAnalytics()}},{key:"render",value:function(){return null}}]),n}(r.Component);aa.displayName="EcosystemAnalyticsView";var ca=Ft()(Object(Nr.a)((function(e){return{ecosystemLoadedAnalytics:function(t,n,r,o,i){return e("addons-loaded",Object(Zs.f)(t,n,r,o,i))}}})),Object(i.connect)((function(e){return{glances:Object(ur.isForgeInReduxStoreEnabled)()?Object(Xs.i)(e):Object(Xs.m)(e),contentPanels:Object(ur.isForgeQuickAddEnabled)()?Object(Xs.g)(e):Object(Xs.c)(e),activityPanels:Object(Xs.a)(e),operations:Object(ur.isForgeIssueActionEnabled)()?Object(Xs.k)(e):Object(Xs.q)(e),ecosystemCustomFieldIds:Object(hr.b)(e)}}),{}),Object(Wr.a)())(aa),ua=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-connect-host.js"),la=n("./src/packages/issue/issue-view/src/ecosystem/ecosystem-module-view/index.js");function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ga(e);if(t){var o=ga(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var va=A.default.div(["display:none;"]),ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(n,e);var t=ya(n);function n(){var e;da(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={connectHost:null},e}return function(e,t,n){t&&pa(e.prototype,t),n&&pa(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;Object(ua.b)((function(t){return e.setState({connectHost:t})}))}},{key:"render",value:function(){var e=this.state.connectHost,t=this.props.scripts;return e?o.a.createElement(va,null,t.map((function(e){var t=e.appKey,n=e.moduleKey,r=e.options,i=e.shouldReloadOnRefresh?la.b:la.a,s="".concat(t,"-").concat(n);return o.a.createElement(i,{key:s,appKey:t,moduleKey:n,options:r,appName:s})}))):null}}]),n}(r.Component);ha.displayName="EcosystemBackgroundScriptsView";var Oa=Object(cr.a)([Object(i.connect)((function(e){return{scripts:Object(Xs.h)(e)}}),{})])(ha),ja=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/button/index.js"),wa=n("./src/packages/issue/issue-view/src/actions/login-actions.js"),Ea=n("./src/packages/issue/issue-view/src/views/issue-details/error/auth-error.svg"),ka=n.n(Ea),Sa=n("./src/packages/issue/issue-view/src/views/issue-details/error/error-container/error-display.js"),Ia=Object(m.defineMessages)({authErrorHeader:{id:"issue.text-for-header-in-authentication-error",defaultMessage:"Log in to Jira to see this issue"},authBtn:{id:"issue.text-for-login-button-in-authentication-error",defaultMessage:"Log in"}}),Ca=A.default.img(["width:160px;margin-bottom:14px;"]),Pa=Object(m.injectIntl)((function(e){return o.a.createElement(Sa.a,{header:e.intl.formatMessage(Ia.authErrorHeader),image:o.a.createElement(Ca,{src:ka.a,alt:""})},o.a.createElement(ja.a,{externalId:"issue.login",appearance:"primary",onClick:e.login},e.intl.formatMessage(Ia.authBtn)))})),_a=Object(i.connect)(null,(function(e){return{login:function(){return e(Object(wa.c)())}}}))(Pa),xa=n("./src/packages/issue/issue-view/src/views/issue-details/error/permission-error.svg"),Ta=n.n(xa),Aa=Object(m.defineMessages)({permissionErrorHeader:{id:"issue.text-for-header-in-permission-error",defaultMessage:"You don't have access to this issue"},permissionErrorDescription:{id:"issue.text-for-description-in-permission-error",defaultMessage:"Make sure the issue exists in this project. If it does, ask a project admin for permission to see the project's issues."}}),Da=A.default.img(["height:100px;width:145px;"]),Ra=Object(m.injectIntl)((function(e){var t=e.intl;return(o.a.createElement(Sa.a,{header:t.formatMessage(Aa.permissionErrorHeader),description:t.formatMessage(Aa.permissionErrorDescription),image:o.a.createElement(Da,{src:Ta.a,alt:""})}))})),Ma=n("./src/packages/issue/issue-view/src/views/issue-details/error/unknown-error-view.js"),La=n("./src/packages/issue/issue-view/src/views/issue-details/issue-layout/index.js"),Na=n("./src/packages/issue/issue-view/src/views/common/issue-page-grid/styled.js"),Fa=A.default.div(["",""],(function(){return Object(ur.isIndividualScrollingEnabled)()?"\n        flex-grow: 1;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n    ":"\n        padding-bottom: ".concat(Na.c,"px;\n    ")})),Ua=A.default.div(["",""],(function(){return Object(ur.isIndividualScrollingEnabled)()&&"\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n    "})),Va=n("./src/packages/platform/observability/browser-metrics/src/index.js"),Ka=n("./src/packages/common-legacy-do-not-add-anything-new/src/components/keyboard-shortcuts/shortcuts.js"),Ba=n("./src/packages/issue/issue-view/src/actions/external-actions.js"),Wa=n("./src/packages/issue/issue-view/src/actions/issue-navigation-actions.js"),Ha=n("./src/packages/issue/issue-view/src/views/constants.js");function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var za=function(e,t){var n=e.find((function(e){return e.length}));return n&&(n[t]||n[n.length-1])},Ya=function(e,t){var n=e.find((function(e){return e.includes(t)}))||[],r=n.indexOf(t);return[n,r]},Qa=function(e,t){var n=e.findIndex((function(e){return e.includes(t)}));return[n,e[n].indexOf(t)]},Ja=function(e,t){if(!e)return t;var n=Ga(Ya(e,t),2);return n[0][n[1]+1]||t},$a=function(e,t){if(!e)return t;var n=Ga(Ya(e,t),2);return n[0][n[1]-1]||t},Za=function(e,t){if(!e)return t;var n=Ga(Qa(e,t),2),r=n[0],o=n[1],i=e.slice(r+1);return za(i,o)||t},Xa=function(e,t){if(!e)return t;var n=Ga(Qa(e,t),2),r=n[0],o=n[1],i=e.slice(0,r).reverse();return za(i,o)||t};function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uc(e);if(t){var o=uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cc(this,n)}}function cc(e,t){return!t||"object"!==ec(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lc=Object(m.defineMessages)({nextIssue:{id:"issue.shortcuts.navigatingIssues.nextIssue",defaultMessage:"Next issue"},previousIssue:{id:"issue.shortcuts.navigatingIssues.previousIssue",defaultMessage:"Previous issue"},nextActivity:{id:"issue.shortcuts.navigatingIssues.nextActivity",defaultMessage:"Next activity"},previousActivity:{id:"issue.shortcuts.navigatingIssues.previousActivity",defaultMessage:"Previous activity"},editAssignee:{id:"issue.shortcuts.editAssignee",defaultMessage:"Edit assignee"},commentOnIssue:{id:"issue.shortcuts.commentOnIssue",defaultMessage:"Comment on issue"},editLabels:{id:"issue.shortcuts.editLabels",defaultMessage:"Edit labels"},assignToMe:{id:"issue.shorctus.assignToMe",defaultMessage:"Assign to me"}}),fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(n,e);var t=ac(n);function n(){var e,r;oc(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(r=t.call.apply(t,[this].concat(s))).navigateToIssue=function(e){var t=r.props.currentIssueKey;e!==t&&r.props.onNextIssue(t,e)},r.issueActionShortcuts=(rc(e={},"a",{callback:function(){Object(Va.c)().markStartOfInteraction({key:Ha.c.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0,collectors:[function(e){return nc(nc({},e),{},{viaShortcut:1})}]});var e=Object(Ba.f)(Object(Ba.e)(mr.g));r.props.triggerShortcutAction(e,"assignIssue","a")},label:o.a.createElement(m.FormattedMessage,lc.editAssignee)}),rc(e,"i",{callback:function(){Object(Va.c)().markStartOfInteraction({key:Ha.c.ASSIGNEE.TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT,cancelExisting:!0});var e=Object(Ba.f)(Object(Ba.d)());r.props.triggerShortcutAction(e,"assignToMe","i")},label:o.a.createElement(m.FormattedMessage,lc.assignToMe)}),rc(e,"l",{callback:function(){Object(Va.c)().markStartOfInteraction({key:Ha.c.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0});var e=Object(Ba.f)(Object(Ba.e)(mr.N));r.props.triggerShortcutAction(e,"editLabels","l")},label:o.a.createElement(m.FormattedMessage,lc.editLabels)}),rc(e,"m",{callback:function(){Object(Va.c)().markStartOfInteraction({key:Ha.c.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0});var e=Object(Ba.f)(Object(Ba.c)());r.props.triggerShortcutAction(e,"commentIssue","m")},label:o.a.createElement(m.FormattedMessage,lc.commentOnIssue)}),e),r.boardNavigationShortcuts={j:{callback:function(){r.navigateToIssue(Ja(r.props.rapidViewMap,r.props.currentIssueKey))},label:o.a.createElement(m.FormattedMessage,lc.nextIssue)},k:{callback:function(){r.navigateToIssue($a(r.props.rapidViewMap,r.props.currentIssueKey))},label:o.a.createElement(m.FormattedMessage,lc.previousIssue)},n:{callback:function(){r.navigateToIssue(Za(r.props.rapidViewMap,r.props.currentIssueKey))},label:o.a.createElement(m.FormattedMessage,lc.nextActivity)},p:{callback:function(){r.navigateToIssue(Xa(r.props.rapidViewMap,r.props.currentIssueKey))},label:o.a.createElement(m.FormattedMessage,lc.previousActivity)}},r}return function(e,t,n){t&&ic(e.prototype,t),n&&ic(e,n)}(n,[{key:"render",value:function(){var e=nc(nc({},this.props.rapidViewMap?this.boardNavigationShortcuts:{}),this.issueActionShortcuts);return(o.a.createElement(Ka.a,{keyMap:e}))}}]),n}(r.Component);fc.displayName="KeyboardShortcuts",fc.displayName="KeyboardShortcuts";var dc=Object(cr.a)([Object(l.f)("keyboardShortcut",{triggerShortcutAction:"pressed"}),Object(l.r)({triggerShortcutAction:function(e,t,n){return{name:t,key:n}}}),Object(i.connect)((function(e){return{rapidViewMap:Object(v.L)(e),currentIssueKey:Object(v.B)(e)}}),(function(e){return{onNextIssue:function(t,n){return e(Object(Wa.f)({fromIssueKey:t,toIssueKey:n}))},triggerShortcutAction:function(t){return setTimeout((function(){return e(t)}),0)}}}))])(fc),pc=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),mc=n("./src/packages/issue/smart-field-prefetch/src/index.js");function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vc=[gr.j,gr.y,gr.A,mr.sb,mr.V,mr.i,mr.h,mr.l,mr.qb],hc=function(e){return e?vc.map((function(t){var n=Object(yr.q)(t)(e);return n?gc({},t,n.key):{}})).reduce((function(e,t){return bc(bc({},e),t)}),{}):{}},Oc=Object(pc.a)()(Object(i.connect)((function(e,t){return{fields:Object(yr.t)(e),issueId:Object(v.A)(e),baseUrl:Object(v.f)(e),cloudId:Object(v.i)(e),projectId:Object(h.B)(e),accountIdloggedInUser:Object(v.a)(e),issueKey:Object(v.B)(e),customFieldMappings:hc(e),createAnalyticsEvent:t.createAnalyticsEvent}}),{})(mc.a));function jc(e){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){kc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xc(e);if(t){var o=xc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _c(this,n)}}function _c(e,t){return!t||"object"!==jc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(n,e);var t=Pc(n);function n(){var e;Sc(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isIssueContainerReady:!1},e.setIssueBodyContainerRef=function(t){t&&(e.issueBodyContainerRef=t,e.setState({isIssueContainerReady:!0}))},e.hasErrored=!1,e.issueBodyContainerRef=void 0,e.renderError=function(t,n){var r=e.props.isComplete,i=Object(ur.isBentoExpandViewExperienceFailureTrackerPropertiesEnabled)()&&n?Ec({},n):{errorMessage:t};switch(t){case sr.a:return r?o.a.createElement(Tr.c,{location:"auth-error"},o.a.createElement(_a,null)):o.a.createElement(_a,null);case sr.c:return r?o.a.createElement(Tr.c,{location:"not-found-or-no-permission-error"},o.a.createElement(Ra,null)):o.a.createElement(Ra,null);case sr.d:case sr.b:default:return r&&t!==sr.b?o.a.createElement(Tr.b,{location:"unknown-error",failureEventAttributes:i},o.a.createElement(Ma.a,null)):o.a.createElement(Ma.a,null)}},e.renderAttachmentPickers=function(){var t=e.props,n=t.isServiceDesk;return t.isComplete?n?o.a.createElement(o.a.Fragment,null,o.a.createElement(Us,null),o.a.createElement(Ys,null),e.state.isIssueContainerReady&&e.issueBodyContainerRef&&o.a.createElement(zs,{container:e.issueBodyContainerRef})):o.a.createElement("div",null,o.a.createElement(Wi,null),o.a.createElement(ps,null),e.state.isIssueContainerReady&&o.a.createElement(cs,{container:e.issueBodyContainerRef})):null},e}return function(e,t,n){t&&Ic(e.prototype,t),n&&Ic(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onRefresh;(0,e.onMount)(),f.a.addRefreshIssueListener(t)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.error,r=t.isLoading&&e.isLoading;return e.error!==n||!r}},{key:"componentDidUpdate",value:function(e){this.props.error&&(this.hasErrored=!0),this.hasErrored||this.isCompleteStateForFirstTime(e)&&this.props.onLoadedIssueView()}},{key:"componentWillUnmount",value:function(){f.a.removeRefreshIssueListener(this.props.onRefresh)}},{key:"isCompleteStateForFirstTime",value:function(e){return this.props.isComplete&&!e.isComplete}},{key:"renderAttachmentViewer",value:function(){return this.props.isComplete?o.a.createElement($s,null):null}},{key:"renderWorklogModal",value:function(){switch(this.props.worklogModal){case ar.a:return o.a.createElement(Lt,null);case ar.d:return o.a.createElement(Sn,null);case ar.c:return o.a.createElement(pn,null);case ar.j:default:return null}}},{key:"renderMainContent",value:function(){var e=this.props,t=e.error,n=e.errorMessage,r=e.isLoading,i=e.isCompact;return t?o.a.createElement(Ar.a,{isCompact:i},o.a.createElement(c.a,{medium:12},this.renderError(t,n))):r?o.a.createElement(Dr.b,null):o.a.createElement(Ua,{innerRef:this.setIssueBodyContainerRef},o.a.createElement(La.a,{renderFeedback:this.props.renderFeedback,issueDeleteCallbacks:this.props.issueDeleteCallbacks,viewModeOptions:this.props.viewModeOptions,isStickyHeaderOffset:this.props.isStickyHeaderOffset,onClose:this.props.onClose,isCompact:i,shouldShowProjectLevelBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowCloseButton:this.props.shouldShowCloseButton}),this.renderAttachmentViewer(),this.renderWorklogModal(),this.renderAttachmentPickers(),o.a.createElement(ca,{externalId:"issue.ecosystem"}),this.props.isComplete&&o.a.createElement(Oa,null),Object(ur.isBentoSmartPrefetchEnabled)()?o.a.createElement(Oc,null):null)}},{key:"render",value:function(){return o.a.createElement(Fa,null,o.a.createElement(Qn,{isLoading:this.props.isLoading,isPreview:this.props.isPreview,isComplete:this.props.isComplete,error:this.props.error,metrics:this.props.metrics,issueKey:this.props.issueKey}),this.props.isComplete?o.a.createElement(l.i,null):null,o.a.createElement(mo,{externalId:"issue.flags"}),o.a.createElement(dc,null),o.a.createElement(Cn.a,{baseUrl:this.props.baseUrl},this.renderMainContent()))}}]),n}(r.Component);Tc.displayName="Issue",Tc.defaultProps={onLoadedIssueView:a.a,onMount:a.a},Tc.displayName="Issue";t.default=Object(cr.a)([Object(l.q)({onLoadedIssueView:{action:"mounted"}}),Object(i.connect)((function(e){return{baseUrl:Object(v.f)(e),isLoading:Object(h.r)(e),isPreview:Object(h.s)(e),isComplete:Object(h.m)(e),error:Object(h.h)(e),errorMessage:Object(h.g)(e),issueKey:Object(v.B)(e),isServiceDesk:Object(v.v)(e),worklogModal:Object(j.d)(e)}}),(function(e){return{onRefresh:function(){return e(Object(In.o)())},onMount:function(){e(Object(p.b)())},onLoadedIssueView:function(e){try{Object(l.k)(e,{action:"viewed"})}catch(e){d.a.safeError("issue.viewed",e,new u.a({eventNameSuffix:Pn.E,type:u.i,app:u.e,event:e}))}}}})),Rr.a,function(){return function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(r,t);var n=nr(r);function r(){var e;Xn(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).MetricsContext=Object(Jn.c)(),e}return function(e,t,n){t&&er(e.prototype,t),n&&er(e,n)}(r,[{key:"render",value:function(){var t=this,n=this.MetricsContext;return o.a.createElement(n.Consumer,null,(function(n){return o.a.createElement(e,Zn({},t.props,{metrics:n}))}))}}]),r}(r.Component),t.displayName="WithMetricsConsumer(".concat(e.displayName||e.name,")"),n}}(),Object(l.g)((function(e){var t=Object(xr.a)(e),n=Pr(e),r=Object(_r.b)(e);return Ec(Ec({},t),{},{attributes:Ec(Ec(Ec(Ec(Ec({},t.attributes),n),r),Object(h.j)()),Object(ur.isIssueHierarchyLevelAnalyticsBugFixEnabled)()?{issueHierarchyLevel:Object(lr.e)(e)}:{})})}))])(Tc)},"./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/lodash/throttle.js"),s=n.n(i),a=n("./src/packages/navigation-apps/atlassian-navigation/src/constants.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/browser.js"),u=n("./src/packages/platform/services/navigation-v3-rollout/src/index.js"),l=n("./src/packages/issue/issue-view/src/common/util/dom-util/index.js"),f=n("./src/packages/issue/issue-view/src/feature-flags.js"),d=n("./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/styled.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,e);var t=b(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).state={shouldShowKeyline:!1},o.getScrollContainer=function(){return o.scrollContainer||(o.scrollContainer=Object(l.b)(o.innerEl.current)),o.scrollContainer},o.calculateShouldShowKeyline=s()((function(){var e=o.getScrollContainer(),t=o.innerEl.current;if(e&&t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=Math.max(n.top,0),s=e.scrollTop>0&&r.top<=i;s!==o.state.shouldShowKeyline&&o.setState({shouldShowKeyline:s})}}),100),o.scrollContainer=null,o.innerEl=void 0,o.innerEl=Object(r.createRef)(),o}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(n,[{key:"componentDidMount",value:function(){if(!Object(c.d)()){var e=this.getScrollContainer();e&&e.addEventListener("scroll",this.calculateShouldShowKeyline),this.calculateShouldShowKeyline()}}},{key:"componentWillUnmount",value:function(){if(!Object(c.d)()){var e=this.getScrollContainer();e&&e.removeEventListener("scroll",this.calculateShouldShowKeyline)}}},{key:"render",value:function(){var e=this,t=Object(f.isIndividualScrollingEnabled)()?0:a.a;return o.a.createElement(u.a,null,(function(n){var r=n.isNavV3Enabled;return(o.a.createElement(d.a,{topOffset:r&&e.props.isStickyHeaderOffset?t:0,id:e.props.elementId,showKeyline:e.state.shouldShowKeyline,innerRef:e.innerEl,customStyles:e.props.customStyles},e.props.children))}))}}]),n}(r.Component);h.defaultProps={isStickyHeaderOffset:!1},h.displayName="WithShouldShowKeyline"},"./src/packages/issue/issue-view/src/views/issue-details/sticky-header-container/styled.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./src/packages/common-legacy-do-not-add-anything-new/src/styles/index.js"),s=n("./src/packages/issue/issue-view/src/common/constants/index.js"),a=n("./src/packages/issue/issue-view/src/feature-flags.js"),c=i.f,u=r.default.div(["@supports (position:sticky) or (position:-webkit-sticky){position:sticky;background:white;z-index:",";padding-left:","px;margin-left:-","px;padding-top:","px;top:","px;"," ",";",";}"],i.g.card-1,c,c,1,(function(e){return e.topOffset+-1}),(function(){return!Object(a.isIndividualScrollingEnabled)()&&"\n            .issue-container--bento & {\n                top: 42px;\n            }\n        "}),(function(e){return e.showKeyline?"box-shadow: 0 ".concat(s.F,"px ").concat(o.colors.N30):""}),(function(e){return e.customStyles||""}))},"./src/packages/issue/issue-view/src/watchers/model/flag-action-types.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r="TOGGLE_WATCHING_ERROR",o="FETCH_WATCHERS_ERROR",i="START_WATCHING_SUCCESS",s="STOP_WATCHING_SUCCESS",a="REMOVE_WATCHER_ERROR",c="ADD_WATCHER_ERROR"},"./src/packages/issue/smart-field-prefetch/src/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return T}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/lodash/toString.js"),i=n.n(o),s=n("./node_modules/react-sweet-state/lib/esm/index.js"),a=n("./node_modules/uuid/index.js"),c=n.n(a),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/logging/log.js"),l=n("./src/packages/platform/observability/product-analytics-bridge/src/index.js"),f=n("./node_modules/lodash/memoize.js"),d=n.n(f),p=n("./src/packages/platform/utils/fetch/src/index.js"),m=d()((function(e,t,n){return Object(p.c)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(t,"/rest/api/3/user/assignable/search?issueKey=").concat(e,"&recommend=true&query=&sessionId=").concat(n)}(e,t,n))})),y=d()((function(e,t,n,r,o){var i="".concat(e.baseUrl,"/gateway/api/fields/v2/prefetch");return Object(p.c)(i,{body:JSON.stringify({context:{product:"jira",sessionId:r,containerId:e.projectId,objectId:e.issueId,principalId:e.accountIdloggedInUser,tenantId:e.cloudId,additionalContext:{properties:t,type:"issue",customPropertyMappings:n}},prefetchFields:o}),headers:{"Content-Type":"application/json"},method:"POST"})}),(function(e){return+e.issueId})),b=d()((function(e,t,n,r){return Object(p.c)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;return"".concat(t,"/rest/api/1.0/labels/").concat(r,"/suggest?query=&sessionId=").concat(n)}(e,t,n,r))}));function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="smart-field-prefetch.index",E={assignee:m,labels:b},k={assignee:null,labels:null},S={setField:function(e,t,n,r,o){return function(i){(0,i.setState)(j({},e,{prefetchSessionId:t,prefetched:n,fieldValuePromise:o,sessionId:r}))}}},I={},C=function(e){return I[e]||(I[e]=function(e){return Object(s.c)({name:"smart-issue-prefetch-".concat(e),initialState:k,actions:S})}(e)),I[e]},P={},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldId;return e[n]},x={},T=function(e,t){if(void 0!==P[e]&&null!==P[e]){if(void 0!==P[e][t]&&null!==P[e][t])return P[e][t]}else P[e]=O({labels:null,assignee:null},P[e]);return P[e][t]=Object(s.d)(C(e),{selector:_}),P[e][t]},A=function(e){return null!=e},D=function(e){return A(e)&&""!==e},R=function(e){if(D(e.projectId)&&function(e){return A(e)&&0!==e}(e.issueId)&&D(e.cloudId)&&D(e.issueKey)&&A(e.fields))return O(O({},e),{},{issueId:e.issueId,projectId:e.projectId})},M=Object(r.memo)((function(e){var t=R(e);if(void 0===t)return null;var n=g(function(e){return x[e]||(x[e]=Object(s.b)(C(e))),x[e]}(t.issueKey)(),2),o=n[0],i=n[1],a=t.issueId,f=t.cloudId,d=t.projectId,p=t.accountIdloggedInUser,m=t.fields,b=t.baseUrl,v=t.issueKey,h=t.customFieldMappings,O=t.createAnalyticsEvent,j={issueId:a,cloudId:f,projectId:d,accountIdloggedInUser:p,baseUrl:b};return Object(r.useEffect)((function(){if(!(o&&Object.values(o).filter((function(e){return e})).length>0)){var e=Object.keys(E||{}),t=e.filter((function(e){return!!m[e]&&m[e].editable}));if(function(e,t,n){return!(e.length<t.length&&(n&&u.a.safeInfo(w,"Prefetch request skipped for non-editable fields.",n({action:"skipped",actionSubject:"prefetch"}).update({prefetchableFields:t,permissiableFields:e})),0===e.length))}(t,e,O)){var n=c.a.v4();y(j,m,h,n,t).then((function(e){var r=e.prefetchFields,o=void 0===r?[]:r;!function(e,t,n,r){if(null!=e){var o=e({action:"requested",actionSubject:"prefetchFields",actionSubjectId:r}),i={prefetchSessionId:r,requestedFields:t,positiveFields:n};Object(l.r)(o,"".concat("prefetchFields"," ").concat("requested"),r,i)}}(O,t,o,n),t.forEach((function(e){if(o.includes(e)){var t=c.a.v4(),r=E[e](v,b,t,a);i.setField(e,n,!0,t,r),function(e,t,n,r){if(null!=e){var o=e({action:"prefetched",actionSubject:"field"}),i={fieldFetchSessionId:r,prefetchSessionId:n,fieldId:t};Object(l.r)(o,"".concat("field"," ").concat("prefetched"),i)}}(O,e,n,t)}else i.setField(e,n,!1,null,null)}))})).catch((function(e){u.a.safeError(w,"error while calling frs prefetch",e)}))}}}),[b,j,m,v,h,i,O,a,o]),null}),(function(e,t){return i()(e.issueId)===i()(t.issueId)&&i()(e.projectId)===i()(t.projectId)}));t.a=M},"./src/packages/issue/workflow-readonly-modal/src/common/constants.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c}));var r="WORKFLOW_READONLY_MODAL_LOAD_START_MARK_KEY",o="WORKFLOW_READONLY_MODAL_LOAD_END_MARK_KEY",i="DIAGRAM_RENDERING_START_MARK_KEY",s="WORKFLOW_READONLY_MODAL_READY_MARK_KEY",a="jira.fe.spa.transition.workflow-readonly-modal",c={INITIAL:"INITIAL",GLOBAL:"GLOBAL",DIRECTED:"DIRECTED"}}}]);try{window.__jsEvalStop("async-issue-app~issue.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-issue-app~issue.9c867abd6514548a1377.8.js.map