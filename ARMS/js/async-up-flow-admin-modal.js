try{window.performance.mark("async-up-flow-admin-modal.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-up-flow-admin-modal"],{"./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(r),o=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=n.n(o),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),f=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=n.n(f),m=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),v=n.n(m),g=n("./node_modules/@babel/runtime/helpers/inherits.js"),y=n.n(g),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=n.n(b),E=n("./node_modules/react/index.js"),w=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),_()(v()(n),"state",{shouldRenderChildren:!1}),_()(v()(n),"stop",i()(s.a.mark((function e(){var t,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.client,o=t.messageId,e.prev=1,e.next=4,r.stop(o);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Unable to stop flow message ".concat(o,". ").concat(e.t0));case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))),n}return y()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=i()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.client,r=t.messageId,e.prev=1,e.next=4,n.start(r);case 4:e.sent&&this.setState({shouldRenderChildren:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to start flow message ".concat(r,". ").concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"injectStop",value:function(e){return Object(E.cloneElement)(e,{stop:this.stop})}},{key:"render",value:function(){var e=this.props,t=e.fallback,n=e.children;return this.state.shouldRenderChildren?this.injectStop(n):t}}]),t}(E.PureComponent);_()(w,"defaultProps",{fallback:null})},"./node_modules/@atlassiansox/iframe-plugin/dist/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iframePluginParamKey="_c"},"./node_modules/@atlassiansox/iframe-plugin/dist/core.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n("./node_modules/@atlassiansox/iframe-plugin/node_modules/eventemitter3/index.js")),i=n("./node_modules/@atlassiansox/iframe-plugin/dist/transport/MessageTransport.js"),a=n("./node_modules/@atlassiansox/iframe-plugin/dist/messages.js");t.HostEvents=a.HostEvents;var c=n("./node_modules/@atlassiansox/iframe-plugin/dist/elements.js"),u=n("./node_modules/@atlassiansox/iframe-plugin/dist/events.js"),l=n("./node_modules/@atlassiansox/iframe-plugin/dist/constants.js"),d=n("./node_modules/@atlassiansox/iframe-plugin/dist/rpc.js"),p=n("./node_modules/@atlassiansox/iframe-plugin/dist/lib/appendSearchParam.js"),f=function(){function e(e){var t=this;if(this.iframeId="__iframe_plugin_",this.iframeReady=!1,this.pollingInterval=200,this.events=new o.default,this.pollIframe=function(){var e=0,n=window.setInterval((function(){if(t.iframeReady)return clearInterval(n);++e*t.pollingInterval>t.pollingThresholdMilliSeconds&&(clearInterval(n),t.emitMonitoringEvent(u.MonitoredEvents.HandshakeTimeout),t.events.emit(a.HostEvents.Error))}),t.pollingInterval);t.interval=n},this.analyticCallback=function(e){t.events.emit(a.HostEvents.AnalyticEvent,e)},this.messageCallback=function(e){t.events.emit(a.HostEvents.Message,e)},this.readyCallback=function(){t.hideLoader(),t.emitMonitoringEvent(u.MonitoredEvents.Ready)},this.handshakeCallback=function(){t.iframeReady=!0,t.emitMonitoringEvent(u.MonitoredEvents.Handshake),t.events.emit(a.HostEvents.Handshake)},this.emitMonitoringEvent=function(e){t.events.emit(a.HostEvents.AnalyticEvent,t.iframeEvents.getAnalyticsEvent(e))},!e)throw new Error("Please pass through valid options");this.options=e,this.pollingThresholdMilliSeconds=this.options.pollingThresholdMilliSeconds||1e3,this.iframeEvents=new u.IframeEvents(this.options.appName)}return e.prototype.on=function(e,t){return this.events.addListener(e,t),this},e.prototype.off=function(e,t){return this.events.removeListener(e,t),this},e.prototype.cleanup=function(){this.client&&this.client.close(),this.events.removeAllListeners();var e=this.selectorEl;e&&this.modal&&e.removeChild(this.modal),this.interval&&clearInterval(this.interval),delete this.selectorEl,delete this.modal,delete this.iframeEl},e.prototype.registerMessageListener=function(){this.client&&(this.client.on(a.SpaEvents.Message,this.messageCallback),this.client.on(a.SpaEvents.AnalyticEvent,this.analyticCallback),this.client.on(a.SpaEvents.Handshake,this.handshakeCallback),this.client.on(a.SpaEvents.Ready,this.readyCallback))},e.prototype.constructIframe=function(e){if(!e)throw new Error("No dom element found");this.selectorEl=e;var t=c.createModal(r({},this.options,{modalZIndex:this.options.modalZIndex||200})),n=t.modal,s=t.spinner;this.modal=n,this.spinner=s;var o=p.appendSearchParam(this.options.src,l.iframePluginParamKey,"2");this.iframeEl=c.createIframe({src:String(o),zIndex:this.options.iframeZIndex||200,id:this.iframeId,withLoader:Boolean(this.options.withLoader)||Boolean(this.options.loaderElement)}),this.modal.appendChild(this.iframeEl),e.appendChild(this.modal)},e.prototype.hideLoader=function(){this.spinner&&(this.spinner.style.display="none"),this.iframeEl&&this.modal&&(this.iframeEl.style.display="block",this.modal.style.background="transparent")},e.prototype.postMessage=function(e){this.client&&this.client.send(a.SpaEvents.Message,e)},e.prototype.init=function(e){var t=e.containerElement,n=e.rpcMethods;try{this.emitMonitoringEvent(u.MonitoredEvents.Initialisation),this.constructIframe(t),this.initialiseTransport(),this.initialiseRpc(n),this.registerMessageListener(),this.pollIframe()}catch(e){throw this.emitMonitoringEvent(u.MonitoredEvents.InitialisationError),this.events.emit(a.HostEvents.Error),e}},e.prototype.initialiseTransport=function(){if(!this.iframeEl)throw new Error("initialiseTransport should be called after iframe is created");this.client=new i.MessageChannelTransportMaster(this.iframeEl),this.client.connect()},e.prototype.initialiseRpc=function(e){if(void 0===e&&(e=[]),!this.client)throw new Error("initialiseRpc should be called after client is instantiated");this.rpc=new d.RPCServer(this.client,e),this.rpc.start()},e}();t.SpaParentClient=f},"./node_modules/@atlassiansox/iframe-plugin/dist/elements.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){var e=function(){var e=document.createElement("style");return document.head.appendChild(e),e}();e.sheet instanceof CSSStyleSheet&&(e.sheet.insertRule("\n        #__spinner_wrapper {\n            display: flex;\n            height: 96px;\n            width: 96px;\n        }",e.sheet.cssRules.length),e.sheet.insertRule("\n        .__spinner_svg {\n            fill: none;\n            stroke: rgb(66, 82, 110);\n            stroke-dasharray: 270.177px;\n            stroke-dashoffset: 216.142px;\n            stroke-linecap: round;\n            stroke-width: 10px;\n            transform-origin: center center;\n            animation: 0.86s cubic-bezier(0.4, 0.15, 0.6, 0.85) 0s infinite rotation;\n        }",e.sheet.cssRules.length),e.sheet.insertRule("@keyframes velocity {\n            0% {\n                transform: rotate(50deg);\n            }\n            100% {\n                transform: rotate(230deg);\n            }\n        }",e.sheet.cssRules.length),e.sheet.insertRule("@keyframes rotation {\n            100% {\n                transform: rotate(360deg);\n            }\n        }",e.sheet.cssRules.length))}var s={focusable:"false",height:96,size:96,width:96,viewBox:"0 0 96 96"},o={cx:"48",cy:"48",r:"43"},i=function(e){return function(t){e.setAttribute(t[0],String(t[1]))}};function a(){var e=document.createElement("span");e.id="__spinner_wrapper",e.setAttribute("size","96");var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList?t.classList.add("__spinner_svg"):t.setAttribute("class","__spinner_svg"),Object.entries(s).forEach(i(t));var n=document.createElementNS("http://www.w3.org/2000/svg","circle");return Object.entries(o).forEach(i(n)),t.appendChild(n),e.appendChild(t),r(),e}t.createSpinner=a,t.createModal=function(e){var t,n=e.modalElement||function(e){var t=document.createElement("div");return t.style.position=e.withFullscreen?"absolute":"relative",t.style.top="0",t.style.left="0",t.style.padding="0",t.style.margin="0",t.style.height="100%",t.style.width="100%",t.style.background=e.withBlanket?"rgba(7, 71, 166, 0.3)":"transparent",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex=e.modalZIndex.toString(),t}(e);return e.loaderElement?(t=e.loaderElement,n.appendChild(t)):e.withLoader&&(t=a(),n.appendChild(t)),{modal:n,spinner:t}},t.createIframe=function(e){var t=document.createElement("iframe");return t.src=e.src,t.height="100%",t.width="100%",t.id=e.id,t.style.display=e.withLoader?"none":"block",t.style.borderWidth="0",t.style.zIndex=e.zIndex.toString(),t}},"./node_modules/@atlassiansox/iframe-plugin/dist/events.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s,o=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js");!function(e){e.Initialisation="initialised",e.InitialisationError="initialisationFailed",e.Handshake="handshake",e.HandshakeTimeout="handshakeTimeout",e.Ready="ready"}(s=t.MonitoredEvents||(t.MonitoredEvents={}));var i=function(){return function(e){var t=this;if(this.getAnalyticsEvent=function(e){var n={};return t.isInitialisationEvent(e)&&t.startTimer(),t.isTimedEvent(e)&&Object.assign(n,t.getTimestamp(e)),{context:[{source:"growthKitIframePlugin"}],payload:{eventType:o.OPERATIONAL_EVENT_TYPE,action:e,actionSubject:"spaParentClient",actionSubjectId:t.appName+"SpaParentClient",attributes:r({appName:t.appName},n)}}},this.getTimestamp=function(e){var n,r=e===s.Handshake?"timeToHandshake":"timeToReady";if(!t.initTime)throw new Error("No initialisation time (missing initialisation event)");return(n={})[r]=Date.now()-t.initTime,n},this.isInitialisationEvent=function(e){return-1!==[s.Initialisation].indexOf(e)},this.isTimedEvent=function(e){return-1!==[s.Handshake,s.Ready].indexOf(e)},this.startTimer=function(){t.initTime=Date.now()},!e)throw new Error("Please pass through an appName");this.appName=e}}();t.IframeEvents=i},"./node_modules/@atlassiansox/iframe-plugin/dist/helpers/analyticsHelpers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js");t.analyticsWrapper=function(e){return function(t){return Promise.resolve(e).then((function(e){switch(t.eventType){case r.UI_EVENT_TYPE:e.sendUIEvent(t);break;case r.TRACK_EVENT_TYPE:e.sendTrackEvent(t);break;case r.OPERATIONAL_EVENT_TYPE:e.sendOperationalEvent(t);break;case r.SCREEN_EVENT_TYPE:e.sendScreenEvent(t)}}))}}},"./node_modules/@atlassiansox/iframe-plugin/dist/helpers/analyticsTransformers.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),i=function(e){return function(e,t){return t.reduce((function(t,n){return e.forEach((function(e){var r=n?n[e]:null;t.push(r||n[e])})),t}),[]).filter(Boolean)}(["source"],e)},a=function(e){return e[e.length-1]};t.transformEvent=function(e){var t=e.context,n=e.payload;if(!n)return null;var c=i(t),u=a(c)||o.DEFAULT_SOURCE,l=function(e){return e.reduce((function(e,t){var n=t.attributes,o=s(t,["attributes"]),i=r({},e,o);return n?r({},i,n):i}),{})}(t),d=a(function(e){return e.map((function(e){return{packageName:e.packageName,packageVersion:e.packageVersion}})).filter((function(e){return e.packageName}))}(t))||{},p=d.packageName,f=void 0===p?void 0:p,h=d.packageVersion,m=void 0===h?void 0:h,v=n.eventType,g=void 0===v?o.UI_EVENT_TYPE:v,y=n.action,b=n.actionSubject,_=n.actionSubjectId,E=n.attributes,w=n.name,j=r({packageName:f,packageVersion:m},l,E),O=n.tags||[];switch(O.push("growth"),g){case o.UI_EVENT_TYPE:case o.OPERATIONAL_EVENT_TYPE:case o.TRACK_EVENT_TYPE:return{eventType:g,source:u,actionSubject:b,action:y,actionSubjectId:_,attributes:j,tags:O.slice(0)};case o.SCREEN_EVENT_TYPE:return{eventType:g,name:w,attributes:j,source:u,tags:O.slice(0)}}return null}},"./node_modules/@atlassiansox/iframe-plugin/dist/helpers/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@atlassiansox/iframe-plugin/dist/helpers/analyticsTransformers.js")),r(n("./node_modules/@atlassiansox/iframe-plugin/dist/helpers/analyticsHelpers.js"))},"./node_modules/@atlassiansox/iframe-plugin/dist/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/@atlassiansox/iframe-plugin/dist/core.js");t.SpaParentClient=s.SpaParentClient;var o=n("./node_modules/@atlassiansox/iframe-plugin/dist/spa.js");t.withSpaChildClient=o.withSpaChildClient;var i=n("./node_modules/@atlassiansox/iframe-plugin/dist/transport/MessageTransport.js");t.MessageChannelTransportSlave=i.MessageChannelTransportSlave;var a=n("./node_modules/@atlassiansox/iframe-plugin/dist/constants.js");t.iframePluginParamKey=a.iframePluginParamKey;var c=n("./node_modules/@atlassiansox/iframe-plugin/dist/elements.js");t.createSpinner=c.createSpinner,r(n("./node_modules/@atlassiansox/iframe-plugin/dist/types.js")),r(n("./node_modules/@atlassiansox/iframe-plugin/dist/messages.js")),r(n("./node_modules/@atlassiansox/iframe-plugin/dist/helpers/index.js"));var u=n("./node_modules/@atlassiansox/iframe-plugin/dist/rpc.js");t.RPCClient=u.RPCClient},"./node_modules/@atlassiansox/iframe-plugin/dist/lib/appendSearchParam.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendSearchParam=function(e,t,n){var r=e.split("#"),s=r[0],o=r[1],i=-1===s.indexOf("?")?"?":"&";return""+s+i+encodeURIComponent(t)+"="+encodeURIComponent(n)+(o?"#"+o:"")}},"./node_modules/@atlassiansox/iframe-plugin/dist/messages.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Handshake="handshake",e.Ready="ready",e.Message="message",e.AnalyticEvent="analytic-event",e.ErrorBoundary="error-boundary"}(t.SpaEvents||(t.SpaEvents={})),function(e){e.Error="error",e.Message="message",e.AnalyticEvent="analytic-event",e.Handshake="handshake"}(t.HostEvents||(t.HostEvents={})),function(e){e.Child="child",e.Parent="parent"}(t.Source||(t.Source={}))},"./node_modules/@atlassiansox/iframe-plugin/dist/rpc.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.methods=new Map(t),this.client=e}return e.prototype.start=function(){var e=this;this.client.on("__RPC_INVOKE",(function(t){var n=t.data,r=n.uuid,s=n.name,o=n.args;e.onMethodCall(r,s,o)})),this.client.send("__RPC_METHODS",{methods:Array.from(this.methods.keys())})},e.prototype.onMethodCall=function(e,t,n){var r=this,s=this.methods.get(t);if(s)try{s.apply(void 0,n).then((function(t){r.client.send("__RPC_RESULT",{data:{uuid:e,result:t}})})).catch((function(){r.client.send("__RPC_ERROR",{data:{uuid:e,error:"METHOD_PROMISE_REJECTED"}})}))}catch(t){this.client.send("__RPC_ERROR",{data:{uuid:e,error:"METHOD_THREW_ERROR"}})}else this.client.send("__RPC_ERROR",{data:{uuid:e,error:"NOT_IMPLEMENTED"}})},e}();t.RPCServer=s;var o=function(){function e(e,t){this.client=e;var n={timeout:5e3};this.options=r({},n,t)}return e.prototype.generateUuid=function(){return(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/1|0/g,(function(){return(0|16*Math.random()).toString(16)}))},e.prototype.invoke=function(e,t){var n=this.generateUuid();return this.client.send("__RPC_INVOKE",{data:{uuid:n,name:e,args:t}}),this.subscribeToResult(n)},e.prototype.subscribeToResult=function(e){var t=this;return new Promise((function(n,r){var s=function(t){t.data.uuid===e&&(a(),n(t.data.result))},o=function(t){t.data.uuid===e&&(a(),r(new Error(t.data.error)))},i=setTimeout((function(){a(),r(new Error("METHOD_TIMED_OUT"))}),t.options.timeout),a=function(){clearTimeout(i),t.client.off("__RPC_RESULT",s),t.client.off("__RPC_ERROR",o)};t.client.on("__RPC_RESULT",s),t.client.on("__RPC_ERROR",o)}))},e}();t.RPCClient=o},"./node_modules/@atlassiansox/iframe-plugin/dist/spa.js":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("./node_modules/react/index.js")),c=i(n("./node_modules/@atlassiansox/iframe-plugin/node_modules/eventemitter3/index.js")),u=n("./node_modules/@atlassiansox/iframe-plugin/dist/messages.js"),l=n("./node_modules/@atlassiansox/iframe-plugin/dist/transport/FrameWindowTransport.js"),d=n("./node_modules/@atlassiansox/iframe-plugin/dist/rpc.js"),p=!1,f=!1;t.resetEventFlags=function(){p=!1,f=!1},t.withSpaChildClient=function(e,t){void 0===t&&(t={client:new l.FrameWindowTransportSlave});var n=t.client,o=new d.RPCClient(n);return function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.emitter=new c.default,e.onMessage=function(t){e.emitter.emit(u.SpaEvents.Message,t)},e.spaIsReady=function(){p||(n.send(u.SpaEvents.Ready),p=!0)},e.postMessage=function(e){n.send(u.SpaEvents.Message,e)},e.postAnalyticsEvent=function(e){var t=e.context,r=e.payload;n.send(u.SpaEvents.AnalyticEvent,{context:t,payload:r})},e.registerMessageHandler=function(t){e.emitter.on(u.SpaEvents.Message,t)},e.unregisterMessageHandler=function(t){e.emitter.off(u.SpaEvents.Message,t)},e}return r(i,t),i.prototype.componentDidMount=function(){f||(n.connect(),n.on(u.SpaEvents.Message,this.onMessage),f=!0)},i.prototype.componentWillUnmount=function(){n.close()},i.prototype.render=function(){return a.default.createElement(e,s({},this.props,{spaIsReady:this.spaIsReady,postMessage:this.postMessage,postAnalyticsEvent:this.postAnalyticsEvent,registerMessageHandler:this.registerMessageHandler,unregisterMessageHandler:this.unregisterMessageHandler,rpcClient:o}))},i}(a.Component)}},"./node_modules/@atlassiansox/iframe-plugin/dist/transport/FrameWindowTransport.js":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n("./node_modules/@atlassiansox/iframe-plugin/node_modules/eventemitter3/index.js")),o=n("./node_modules/@atlassiansox/iframe-plugin/dist/transport/types.js"),i=function(){function e(e){var t=this;this.emitter=new s.default,this.onMessage=function(e){e.data.source===o.Source.Child&&t.emitter.emit(e.data.type,e.data.payload)},this.frame=e}return e.prototype.connect=function(){this.frame.contentWindow&&this.frame.contentWindow.addEventListener("message",this.onMessage)},e.prototype.close=function(){this.frame.contentWindow&&this.frame.contentWindow.removeEventListener("message",this.onMessage)},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.frame.contentWindow&&this.frame.contentWindow.postMessage({type:e,payload:t[0],source:o.Source.Parent},"*")},e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.off=function(e,t){return this.emitter.off(e,t),this},e}();t.FrameWindowTransportMaster=i;var a=function(){function e(){var e=this;this.emitter=new s.default,this.onMessage=function(t){t.data.source===o.Source.Parent&&e.emitter.emit(t.data.type,t.data.payload)}}return e.prototype.connect=function(){window.postMessage({type:o.TransportEventTypes.Handshake,source:o.Source.Child},"*"),window.addEventListener("message",this.onMessage)},e.prototype.close=function(){this.emitter.removeAllListeners(),window.removeEventListener("message",this.onMessage)},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];window.postMessage({type:e,payload:t[0],source:o.Source.Child},"*")},e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.off=function(e,t){return this.emitter.off(e,t),this},e}();t.FrameWindowTransportSlave=a},"./node_modules/@atlassiansox/iframe-plugin/dist/transport/MessageTransport.js":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n("./node_modules/@atlassiansox/iframe-plugin/node_modules/eventemitter3/index.js")),i=n("./node_modules/@atlassiansox/iframe-plugin/dist/transport/types.js");function a(e,t){return{type:e,payload:t}}function c(e,t){return a(i.TransportEventTypes.Message,{type:e,payload:t})}var u=function(){function e(){this.emitter=new o.default,this.queue=[]}return e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.off=function(e,t){return this.emitter.off(e,t),this},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.port&&this.isReady()?this.port.postMessage(c(e,t[0])):this.queue.push({name:e,payload:t})},e.prototype.dispatchQueuedMessages=function(){for(;this.queue.length>0;){var e=this.queue.shift(),t=e.name,n=e.payload;this.send.apply(this,[t].concat(n))}},e}(),l=function(e){function t(t){var n=e.call(this)||this;return n.handshakeReceived=!1,n.onFrameLoadedEvent=function(){n.handshakeReceived=!1;var e=new MessageChannel;n.port=e.port1,n.port.addEventListener("message",n.onMessage),n.port.start(),n.frame.contentWindow&&n.frame.contentWindow.postMessage(a(i.TransportEventTypes.Handshake),"*",[e.port2])},n.onMessage=function(e){var t=e.data;if(t.type===i.TransportEventTypes.Handshake)return n.handshakeReceived=!0,n.dispatchQueuedMessages(),void n.emitter.emit(i.TransportEventTypes.Handshake);if(t.type!==i.TransportEventTypes.Message);else{var r=t.payload,s=r.type,o=r.payload;n.emitter.emit(s,o)}},n.frame=t,n}return r(t,e),t.prototype.connect=function(){this.setupFrameEventListeners()},t.prototype.isReady=function(){return this.handshakeReceived&&Boolean(this.port)},t.prototype.close=function(){this.port&&this.port.close()},t.prototype.setupFrameEventListeners=function(){this.frame.addEventListener("load",this.onFrameLoadedEvent)},t}(u);t.MessageChannelTransportMaster=l;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPortMessage=function(e){e.ports&&e.ports.length&&t.subscribeToPortMessages(e.ports[0])},t.subscribeToPortMessages=function(e){t.port!==e&&(t.port&&t.port.removeEventListener(i.TransportEventTypes.Message,t.onMessage),t.port=e,t.port.addEventListener("message",t.onMessage),t.port.start(),t.dispatchQueuedMessages(),t.port.postMessage(a(i.TransportEventTypes.Handshake)))},t.onMessage=function(e){if(e.data.type!==i.TransportEventTypes.Message);else{var n=e.data.payload,r=n.type,s=n.payload;t.emitter.emit(r,s)}},t}return r(t,e),t.prototype.connect=function(){window.addEventListener("message",this.onPortMessage)},t.prototype.isReady=function(){return Boolean(this.port)},t.prototype.close=function(){this.port&&this.port.close()},t}(u);t.MessageChannelTransportSlave=d},"./node_modules/@atlassiansox/iframe-plugin/dist/transport/types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Child="child",e.Parent="parent"}(t.Source||(t.Source={})),function(e){e.Handshake="handshake",e.Message="message"}(t.TransportEventTypes||(t.TransportEventTypes={}))},"./node_modules/@atlassiansox/iframe-plugin/dist/types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.string=0]="string",e[e.object=1]="object"}(t.PostMessageDataEnum||(t.PostMessageDataEnum={}))},"./node_modules/@atlassiansox/iframe-plugin/node_modules/eventemitter3/index.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,s="~";function o(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,r||e,o),c=s?s+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(s=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=s?s+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},u.prototype.listenerCount=function(e){var t=s?s+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,o,i){var a=s?s+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,i),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||c(this,o);else{for(var a=0,u=[],l=i.length;a<l;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&u.push(i[a]);u.length?this._events[o]=1===u.length?u[0]:u:c(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&c(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=s,u.EventEmitter=u,e.exports=u},"./src/packages/common-legacy-do-not-add-anything-new/src/growth-experiments/user-in-english-locale.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),s=function(){var e=Object(r.d)("ajs-user-locale");return!!e&&"string"==typeof e&&-1!==e.toLowerCase().indexOf("en",0)}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/editions/get-product-edition/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/packages/platform/utils/types/src/index.js"),s=function(e,t){return e===r.SOFTWARE?t.appEditions.software:e===r.SERVICE_DESK?t.appEditions.serviceDesk:t.appEditions.core}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/get-explicitly-licensed-products/index.js":function(e,t,n){"use strict";var r=n("./src/packages/platform/utils/types/src/index.js");t.a=function(e){var t=e.licensedProducts,n=[];return t[r.CORE]&&n.push(r.CORE),t[r.SERVICE_DESK]&&n.push(r.SERVICE_DESK),t[r.SOFTWARE]&&n.push(r.SOFTWARE),n}},"./src/packages/growth/up-flow/up-flow-admin-modal/src/main.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoordinatedUpflowAdminModal",(function(){return O}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination-client.js"),i=n("./node_modules/@atlassiansox/engagekit/dist/esm/coordination/coordination.js"),a=n("./src/packages/common-legacy-do-not-add-anything-new/src/growth-experiments/user-in-english-locale.js"),c=n("./src/packages/common-legacy-do-not-add-anything-new/src/storage/storage-provider.js"),u=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/editions/get-product-edition/index.js"),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-explicitly-licensed-products/index.js"),d=n("./src/packages/platform/utils/types/src/index.js"),p=n("./src/packages/platform/controllers/tenant-context/src/index.js"),f=n("./src/packages/growth/up-flow/up-flow-admin-modal/src/constants.js"),h=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js"),m=function(e){return Object(h.a)().getVariantValue("confluence.frontend.growth.experiments.engaged.upgrade",{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:e})},v=n("./src/packages/growth/up-flow/up-flow-common/src/index.js"),g=n("./src/packages/growth/up-flow/up-flow-iframe/src/index.js");function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.touchpointId,n=e.onClose,o=e.onOpen,i=y(Object(r.useState)(!1),2),a=i[0],c=i[1],u=y(Object(p.p)(),1)[0].tenantContext,h=Object(l.a)(u);return Object(r.useEffect)((function(){var e="experiment"===m(!1);!function(){m(!0)}(),e&&c(!0)}),[]),a&&s.a.createElement(g.a,{targetEdition:d.STANDARD_EDITION,product:h[h.length-1],flow:v.f,touchpointId:t,onClose:n,onOpen:o,subRoute:f.h})};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=w(Object(r.useState)(!0),2),n=t[0],m=t[1],v=w(Object(r.useState)(!1),2),g=v[0],y=v[1],b=w(Object(p.p)(),1)[0].tenantContext,j=b.cloudId,O=b.isSiteAdmin,x=Object(a.a)(),k=j?new o.a(j,f.l):null,T="".concat(f.d,"_").concat(j),P=Object(c.b)(T),M=Object(l.a)(b),S=1===M.length&&M[0]===d.SOFTWARE,C=Object(u.a)(M[0],b)===d.FREE_EDITION,R=Object(r.useCallback)((function(){var e=P.get(f.j);return e?parseInt(e,10):0}),[P]),I=Object(r.useCallback)((function(){var e=R();P.set(f.j,e+1)}),[R,P]),A=Object(r.useCallback)((function(){var e=P.get(f.i);return e?parseInt(e,10):0}),[P]),N=Object(r.useCallback)((function(){P.set(f.i,Date.now())}),[P]),L=R(),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Date.now();return!(e>=f.k)&&(0===e||(1===e?n-t>f.m:2===e&&n-t>f.n))}(R(),A()),H=Object(r.useCallback)((function(){m(!1)}),[]),U=Object(r.useCallback)((function(){I(),N()}),[I,N]);Object(r.useEffect)((function(){var e=function(){return Object(h.a)().getBooleanValue("growth.experiments.engaged.upgrade.rollout.status",{default:!1,shouldTrackExposureEvent:!0})}();y(e)}),[]);var F=g&&C&&O&&x&&S&&D&&k&&n&&L<f.k;return(s.a.createElement(s.a.Fragment,null,F?s.a.createElement(i.a,{client:k,messageId:f.c},s.a.createElement(_,E({},e,{onClose:H,onOpen:U}))):null))};t.default=O},"./src/packages/growth/up-flow/up-flow-common/src/index.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return h}));var r,s=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-explicitly-licensed-products/index.js"),o=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js"),i=n("./src/packages/platform/utils/types/src/index.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="experiment",u="confluence.frontend.growth.experiments.request.upgrade",l="learn-more",d="upgrade",p="request-learn-more",f="request-upgrade",h=(a(r={},l,"freeLearnMore"),a(r,d,"freeTryNow"),a(r,p,"freeLearnMore"),a(r,f,"requestTrial"),r),m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return Object(o.a)().getVariantValue(t,{default:"not-enrolled",oneOf:["not-enrolled","control",c],shouldTrackExposureEvent:e})},v=function(e){m(!0,e)},g=function(e){var t=Object(s.a)(e),n=1===t.length&&t[0]===i.SOFTWARE,r=!e.isSiteAdmin,o=0===e.locale.indexOf("en");return n&&r&&o}},"./src/packages/growth/up-flow/up-flow-iframe/src/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n("./src/packages/platform/utils/fetch/src/index.js"),s=n("./src/packages/platform/utils/types/src/index.js"),o=function(){return Date.now()};function i(e,t,n,r,s,o,i){try{var a=e[o](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,c,"next",e)}function c(e){i(o,r,s,a,c,"throw",e)}a(void 0)}))}}var c=function(){var e=a(regeneratorRuntime.mark((function e(t,n,i){var c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date(o()+6e5).getTime(),u=function(){var e=a(regeneratorRuntime.mark((function e(a,l){var d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o()>c&&l(new Error("TIMEOUT")),e.prev=1,e.next=4,Object(r.g)("".concat(n).concat("/rest/internal/latest/meta/edition"));case 4:if(d=e.sent,(p=Object(s.editionKeyToEdition)(d[i]))===t){e.next=9;break}return a(p),e.abrupt("return");case 9:setTimeout((function(){u(a,l)}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),setTimeout((function(){u(a,l)}),3e3);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),e.abrupt("return",new Promise((function(e,t){u(e,t)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),u=n("./node_modules/react/index.js"),l=n("./node_modules/@atlassiansox/iframe-plugin/dist/index.js"),d=n("./node_modules/query-string/index.js"),p=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/editions/get-product-edition/index.js"),f=n("./src/packages/platform/controllers/tenant-context/src/index.js"),h=n("./node_modules/react-dom/index.js"),m=n.n(h),v=n("./node_modules/lodash/pick.js"),g=n.n(v),y=n("./src/packages/platform/observability/product-analytics-web-client/src/index.js"),b=n("./src/packages/common-legacy-do-not-add-anything-new/src/util/jira-feature-flag-client.js"),_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(b.a)().getVariantValue("confluence.frontend.growth.experiments.incontext.modal.upgrade.with.price",{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:e})},E=n("./src/packages/growth/up-flow/up-flow-iframe/src/types.js");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){return new l.SpaParentClient(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({appName:"upFlowSpa",withFullscreen:!0,modalZIndex:3200,pollingThresholdMilliSeconds:5e3},e))};function x(e,t,n,r,s,o,i){try{var a=e[o](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){x(o,r,s,i,a,"next",e)}function a(e){x(o,r,s,i,a,"throw",e)}i(void 0)}))}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){var t=e.src,n=e.subRoute,r=void 0===n?"":n,s=e.onClose,o=e.onOpen,i=e.currentEdition,a=e.baseUrl,u=e.product,d=e.doc,p=void 0===d?document:d,f=e.win,h=void 0===f?window:f,v=function(e,t){return"engaged-upgrade"===e?{withBlanket:!1,withLoader:!1,modalElement:function(e){var t=e.createElement("div");return t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.padding="0",t.style.margin="0",t.style.height="100%",t.style.width="100%",t.style.background="transparent",t.style.display="none",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="".concat(3200),t}(t)}:{withBlanket:!0,withLoader:!0}}(r,p),b=O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({src:"".concat(t,"#/").concat(r)},v)),w=p.createElement("div");return p.body&&p.body.appendChild(w),b.init({containerElement:w}),b.on(l.HostEvents.Message,function(){var e=k(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==E.c){e.next=9;break}if(!t.editionChanged&&!t.reloadWindow){e.next=4;break}return h.location.reload(),e.abrupt("return");case 4:return b.cleanup(),m.a.unmountComponentAtNode(w),p.body&&p.body.removeChild(w),s(t.flagType?g()(t,["flagType"]):void 0),e.abrupt("return");case 9:if(t.type===E.h&&_(!0),t.type!==E.g){e.next=13;break}return e.next=13,c(i,a,u).then((function(e){b.postMessage({type:E.a,edition:e})})).catch((function(e){b.postMessage({type:E.a,error:e})}));case 13:t.type===E.e&&(v.modalElement&&(v.modalElement.style.display="flex"),o&&o());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b.on(l.HostEvents.AnalyticEvent,function(){var e=k(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.transformEvent)(t),e.next=3,Object(y.getAnalyticsWebClientPromise)();case 3:r=e.sent,Object(l.analyticsWrapper)(r.getInstance())(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b},S=n("./src/packages/growth/up-flow/up-flow-iframe/src/utils.js");function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t=C(Object(f.p)(),1)[0].tenantContext,n=C(Object(u.useState)(document.body?document.body.style.overflow:""),2),r=n[0],s=n[1],o=e.targetEdition,i=e.product,a=e.flow,c=e.touchpointId,l=e.onClose,h=e.onOpen,m=e.subRoute,v=Object(p.a)(i,t),g="experiment"===_(!1),y=Object(d.stringify)({currentEdition:Object(S.a)(v),targetEdition:Object(S.a)(o),showPricing:g,cloudId:t.cloudId,locale:t.locale,product:i,flow:a,touchpointId:c,canChangeEdition:t.isSiteAdmin}),b=Object(u.useRef)(null);return Object(u.useEffect)((function(){b.current||(b.current=M({src:"/gpa-up-flow/?".concat(y),subRoute:m,onClose:l,onOpen:h,currentEdition:v,baseUrl:t.baseUrl,product:i}))}),[l,h,v,t.baseUrl,i,y,m]),Object(u.useEffect)((function(){var e=document.body;return null!==e&&(s(e.style.overflow),e.style.overflow="hidden"),function(){document.body&&(document.body.style.overflow=r)}}),[r]),null};I.displayName="UpFlowIFrame";var A=I},"./src/packages/growth/up-flow/up-flow-iframe/src/types.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return l}));var r="INITIATE_SPA_CLOSE",s="START_EDITION_POLLING",o="FINISH_EDITION_POLLING",i="VIEWED_UPFLOW_ADMIN_SCREEN",a="SPA_READY",c="free",u="standard",l="premium"},"./src/packages/growth/up-flow/up-flow-iframe/src/utils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/packages/platform/utils/types/src/index.js"),s=n("./src/packages/growth/up-flow/up-flow-iframe/src/types.js"),o=function(e){return e===r.FREE_EDITION?s.b:e===r.STANDARD_EDITION?s.f:s.d}}}]);try{window.__jsEvalStop("async-up-flow-admin-modal.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-up-flow-admin-modal.4ede6a17a35625538c16.8.js.map